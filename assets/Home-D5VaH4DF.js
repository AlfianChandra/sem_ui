var Tq=Object.defineProperty;var cF=r=>{throw TypeError(r)};var Aq=(r,e,t)=>e in r?Tq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ce=(r,e,t)=>Aq(r,typeof e!="symbol"?e+"":e,t),G2=(r,e,t)=>e.has(r)||cF("Cannot "+t);var b=(r,e,t)=>(G2(r,e,"read from private field"),t?t.call(r):e.get(r)),R=(r,e,t)=>e.has(r)?cF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),M=(r,e,t,n)=>(G2(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),B=(r,e,t)=>(G2(r,e,"access private method"),t);var Ii=(r,e,t,n)=>({set _(i){M(r,e,i,t)},get _(){return b(r,e,n)}});import{I as CA,j as xe,i as me,g as ot,t as ct,h as Ze,S as $n,a as ei,o as pe,_ as iz,B as ia,m as le,W as Cq,X as kq,Y as Eq,Z as Dq,$ as zE,a0 as tf,s as va,a1 as Jg,u as oo,a2 as CL,a3 as xy,a4 as kL,O as EL,a5 as az,D as yb,b as Ir,k as it,P as Mq,n as $a,l as zn,F as zr,f as Bt,T as kA,E as xs,G as Ts,H as HE,a6 as kr,V as GE,v as Nf,a7 as VS,a8 as Ac,a9 as _v,aa as Iq,N as hF,q as DL,p as Gl,ab as Lq,ac as Pq,ad as Rq,A as Oq,ae as qp,Q as Fq,e as Nq,U as fF,af as Bq,ag as $E,ah as Vq,ai as zq,r as _t,aj as Pi,ak as ML,al as IL,am as Iw,J as Hq,M as Yt,an as Gq,ao as $q,ap as Uq,aq as s_}from"./index-DRCGoHbm.js";import{b as Dl,c as xb,R as bb,e as LL,s as zS,Z as Ou,g as EA,h as sz,d as Wq,a as oz}from"./index-BqUpj6Q0.js";import{s as lz,a as uz,b as o_}from"./index-o9YvjVB_.js";import{s as cz,a as hz,b as PL,c as Yq}from"./index-z0PWTACv.js";import{a as dF}from"./index-t--hEgTQ.js";const Xq={class:"c-wrapper"},Kq={class:"c-inner"},jq={class:"c-header"},qq={style:{margin:"0"}},Zq={style:{margin:"0","margin-top":"0.5rem","font-size":"16px"}},Jq=CA({__name:"ContentWrapper",props:{contentTitle:{type:String,default:"Content Title"},contentHint:{type:String,default:"Content Hint"},hintIcon:{type:String,default:"info-circle"}},setup(r){const e=r;return(t,n)=>{const i=ei("fasicon");return pe(),xe("div",Xq,[me("div",Kq,[me("div",jq,[me("h1",qq,[me("b",null,ct(r.contentTitle),1)]),me("p",Zq,[Ze(i,{icon:e.hintIcon},null,8,["icon"]),$n(" Â  "+ct(e.contentHint),1)])]),ot(t.$slots,"default",{},void 0,!0)])])}}}),Qq=iz(Jq,[["__scopeId","data-v-d3547a79"]]);var eZ=({dt:r})=>`
.p-floatlabel {
    display: block;
    position: relative;
}

.p-floatlabel label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    transform: translateY(-50%);
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
    font-weight: ${r("floatlabel.font.weight")};
    inset-inline-start: ${r("floatlabel.position.x")};
    color: ${r("floatlabel.color")};
    transition-duration: ${r("floatlabel.transition.duration")};
}

.p-floatlabel:has(.p-textarea) label {
    top: ${r("floatlabel.position.y")};
    transform: translateY(0);
}

.p-floatlabel:has(.p-inputicon:first-child) label {
    inset-inline-start: calc((${r("form.field.padding.x")} * 2) + ${r("icon.size")});
}

.p-floatlabel:has(.p-invalid) label {
    color: ${r("floatlabel.invalid.color")};
}

.p-floatlabel:has(input:focus) label,
.p-floatlabel:has(input.p-filled) label,
.p-floatlabel:has(input:-webkit-autofill) label,
.p-floatlabel:has(textarea:focus) label,
.p-floatlabel:has(textarea.p-filled) label,
.p-floatlabel:has(.p-inputwrapper-focus) label,
.p-floatlabel:has(.p-inputwrapper-filled) label {
    top: ${r("floatlabel.over.active.top")};
    transform: translateY(0);
    font-size: ${r("floatlabel.active.font.size")};
    font-weight: ${r("floatlabel.active.font.weight")};
}

.p-floatlabel:has(input.p-filled) label,
.p-floatlabel:has(textarea.p-filled) label,
.p-floatlabel:has(.p-inputwrapper-filled) label {
    color: ${r("floatlabel.active.color")};
}

.p-floatlabel:has(input:focus) label,
.p-floatlabel:has(input:-webkit-autofill) label,
.p-floatlabel:has(textarea:focus) label,
.p-floatlabel:has(.p-inputwrapper-focus) label {
    color: ${r("floatlabel.focus.color")};
}

.p-floatlabel-in .p-inputtext,
.p-floatlabel-in .p-textarea,
.p-floatlabel-in .p-select-label,
.p-floatlabel-in .p-multiselect-label,
.p-floatlabel-in .p-autocomplete-input-multiple,
.p-floatlabel-in .p-cascadeselect-label,
.p-floatlabel-in .p-treeselect-label {
    padding-block-start: ${r("floatlabel.in.input.padding.top")};
    padding-block-end: ${r("floatlabel.in.input.padding.bottom")};
}

.p-floatlabel-in:has(input:focus) label,
.p-floatlabel-in:has(input.p-filled) label,
.p-floatlabel-in:has(input:-webkit-autofill) label,
.p-floatlabel-in:has(textarea:focus) label,
.p-floatlabel-in:has(textarea.p-filled) label,
.p-floatlabel-in:has(.p-inputwrapper-focus) label,
.p-floatlabel-in:has(.p-inputwrapper-filled) label {
    top: ${r("floatlabel.in.active.top")};
}

.p-floatlabel-on:has(input:focus) label,
.p-floatlabel-on:has(input.p-filled) label,
.p-floatlabel-on:has(input:-webkit-autofill) label,
.p-floatlabel-on:has(textarea:focus) label,
.p-floatlabel-on:has(textarea.p-filled) label,
.p-floatlabel-on:has(.p-inputwrapper-focus) label,
.p-floatlabel-on:has(.p-inputwrapper-filled) label {
    top: 0;
    transform: translateY(-50%);
    border-radius: ${r("floatlabel.on.border.radius")};
    background: ${r("floatlabel.on.active.background")};
    padding: ${r("floatlabel.on.active.padding")};
}
`,tZ={root:function(e){var t=e.props;return["p-floatlabel",{"p-floatlabel-over":t.variant==="over","p-floatlabel-on":t.variant==="on","p-floatlabel-in":t.variant==="in"}]}},rZ=ia.extend({name:"floatlabel",style:eZ,classes:tZ}),nZ={name:"BaseFloatLabel",extends:Dl,props:{variant:{type:String,default:"over"}},style:rZ,provide:function(){return{$pcFloatLabel:this,$parentInstance:this}}},fz={name:"FloatLabel",extends:nZ,inheritAttrs:!1};function iZ(r,e,t,n,i,a){return pe(),xe("span",le({class:r.cx("root")},r.ptmi("root")),[ot(r.$slots,"default")],16)}fz.render=iZ;function Yy(r){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(r)}function aZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function sZ(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,lZ(n.key),n)}}function oZ(r,e,t){return e&&sZ(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function lZ(r){var e=uZ(r,"string");return Yy(e)=="symbol"?e:e+""}function uZ(r,e){if(Yy(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var RL=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};aZ(this,r),this.element=e,this.listener=t}return oZ(r,[{key:"bindScrollListener",value:function(){this.scrollableParents=Cq(this.element);for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}])}(),dz={name:"CalendarIcon",extends:xb};function cZ(r,e,t,n,i,a){return pe(),xe("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[me("path",{d:"M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z",fill:"currentColor"},null,-1)]),16)}dz.render=cZ;var OL={name:"ChevronLeftIcon",extends:xb};function hZ(r,e,t,n,i,a){return pe(),xe("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[me("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1)]),16)}OL.render=hZ;var pz={name:"ChevronUpIcon",extends:xb};function fZ(r,e,t,n,i,a){return pe(),xe("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[me("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"},null,-1)]),16)}pz.render=fZ;var FL=kq(),dZ=({dt:r})=>`
.p-datepicker {
    display: inline-flex;
    max-width: 100%;
}

.p-datepicker-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-input {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-datepicker-dropdown {
    cursor: pointer;
    display: inline-flex;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: ${r("datepicker.dropdown.width")};
    border-start-end-radius: ${r("datepicker.dropdown.border.radius")};
    border-end-end-radius: ${r("datepicker.dropdown.border.radius")};
    background: ${r("datepicker.dropdown.background")};
    border: 1px solid ${r("datepicker.dropdown.border.color")};
    border-inline-start: 0 none;
    color: ${r("datepicker.dropdown.color")};
    transition: background ${r("datepicker.transition.duration")}, color ${r("datepicker.transition.duration")}, border-color ${r("datepicker.transition.duration")}, outline-color ${r("datepicker.transition.duration")};
    outline-color: transparent;
}

.p-datepicker-dropdown:not(:disabled):hover {
    background: ${r("datepicker.dropdown.hover.background")};
    border-color: ${r("datepicker.dropdown.hover.border.color")};
    color: ${r("datepicker.dropdown.hover.color")};
}

.p-datepicker-dropdown:not(:disabled):active {
    background: ${r("datepicker.dropdown.active.background")};
    border-color: ${r("datepicker.dropdown.active.border.color")};
    color: ${r("datepicker.dropdown.active.color")};
}

.p-datepicker-dropdown:focus-visible {
    box-shadow: ${r("datepicker.dropdown.focus.ring.shadow")};
    outline: ${r("datepicker.dropdown.focus.ring.width")} ${r("datepicker.dropdown.focus.ring.style")} ${r("datepicker.dropdown.focus.ring.color")};
    outline-offset: ${r("datepicker.dropdown.focus.ring.offset")};
}

.p-datepicker:has(.p-datepicker-input-icon-container) {
    position: relative;
}

.p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-input {
    padding-inline-end: calc((${r("form.field.padding.x")} * 2) + ${r("icon.size")});
}

.p-datepicker-input-icon-container {
    cursor: pointer;
    position: absolute;
    top: 50%;
    inset-inline-end: ${r("form.field.padding.x")};
    margin-block-start: calc(-1 * (${r("icon.size")} / 2));
    color: ${r("datepicker.input.icon.color")};
    line-height: 1;
}

.p-datepicker-fluid {
    display: flex;
}

.p-datepicker-fluid .p-datepicker-input {
    width: 1%;
}

.p-datepicker .p-datepicker-panel {
    min-width: 100%;
}

.p-datepicker-panel {
    width: auto;
    padding: ${r("datepicker.panel.padding")};
    background: ${r("datepicker.panel.background")};
    color: ${r("datepicker.panel.color")};
    border: 1px solid ${r("datepicker.panel.border.color")};
    border-radius: ${r("datepicker.panel.border.radius")};
    box-shadow: ${r("datepicker.panel.shadow")};
}

.p-datepicker-panel-inline {
    display: inline-block;
    overflow-x: auto;
    box-shadow: none;
}

.p-datepicker-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${r("datepicker.header.padding")};
    background: ${r("datepicker.header.background")};
    color: ${r("datepicker.header.color")};
    border-block-end: 1px solid ${r("datepicker.header.border.color")};
}

.p-datepicker-next-button:dir(rtl) {
    order: -1;
}

.p-datepicker-prev-button:dir(rtl) {
    order: 1;
}

.p-datepicker-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${r("datepicker.title.gap")};
    font-weight: ${r("datepicker.title.font.weight")};
}

.p-datepicker-select-year,
.p-datepicker-select-month {
    border: none;
    background: transparent;
    margin: 0;
    cursor: pointer;
    font-weight: inherit;
    transition: background ${r("datepicker.transition.duration")}, color ${r("datepicker.transition.duration")}, border-color ${r("datepicker.transition.duration")}, outline-color ${r("datepicker.transition.duration")}, box-shadow ${r("datepicker.transition.duration")};
}

.p-datepicker-select-month {
    padding: ${r("datepicker.select.month.padding")};
    color: ${r("datepicker.select.month.color")};
    border-radius: ${r("datepicker.select.month.border.radius")};
}

.p-datepicker-select-year {
    padding: ${r("datepicker.select.year.padding")};
    color: ${r("datepicker.select.year.color")};
    border-radius: ${r("datepicker.select.year.border.radius")};
}

.p-datepicker-select-month:enabled:hover {
    background: ${r("datepicker.select.month.hover.background")};
    color: ${r("datepicker.select.month.hover.color")};
}

.p-datepicker-select-year:enabled:hover {
    background: ${r("datepicker.select.year.hover.background")};
    color: ${r("datepicker.select.year.hover.color")};
}

.p-datepicker-select-month:focus-visible,
.p-datepicker-select-year:focus-visible {
    box-shadow: ${r("datepicker.date.focus.ring.shadow")};
    outline: ${r("datepicker.date.focus.ring.width")} ${r("datepicker.date.focus.ring.style")} ${r("datepicker.date.focus.ring.color")};
    outline-offset: ${r("datepicker.date.focus.ring.offset")};
}

.p-datepicker-calendar-container {
    display: flex;
}

.p-datepicker-calendar-container .p-datepicker-calendar {
    flex: 1 1 auto;
    border-inline-start: 1px solid ${r("datepicker.group.border.color")};
    padding-inline-end: ${r("datepicker.group.gap")};
    padding-inline-start: ${r("datepicker.group.gap")};
}

.p-datepicker-calendar-container .p-datepicker-calendar:first-child {
    padding-inline-start: 0;
    border-inline-start: 0 none;
}

.p-datepicker-calendar-container .p-datepicker-calendar:last-child {
    padding-inline-end: 0;
}

.p-datepicker-day-view {
    width: 100%;
    border-collapse: collapse;
    font-size: 1rem;
    margin: ${r("datepicker.day.view.margin")};
}

.p-datepicker-weekday-cell {
    padding: ${r("datepicker.week.day.padding")};
}

.p-datepicker-weekday {
    font-weight: ${r("datepicker.week.day.font.weight")};
    color: ${r("datepicker.week.day.color")};
}

.p-datepicker-day-cell {
    padding: ${r("datepicker.date.padding")};
}

.p-datepicker-day {
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
    width: ${r("datepicker.date.width")};
    height: ${r("datepicker.date.height")};
    border-radius: ${r("datepicker.date.border.radius")};
    transition: background ${r("datepicker.transition.duration")}, color ${r("datepicker.transition.duration")}, border-color ${r("datepicker.transition.duration")}, box-shadow ${r("datepicker.transition.duration")}, outline-color ${r("datepicker.transition.duration")};
    border: 1px solid transparent;
    outline-color: transparent;
    color: ${r("datepicker.date.color")};
}

.p-datepicker-day:not(.p-datepicker-day-selected):not(.p-disabled):hover {
    background: ${r("datepicker.date.hover.background")};
    color: ${r("datepicker.date.hover.color")};
}

.p-datepicker-day:focus-visible {
    box-shadow: ${r("datepicker.date.focus.ring.shadow")};
    outline: ${r("datepicker.date.focus.ring.width")} ${r("datepicker.date.focus.ring.style")} ${r("datepicker.date.focus.ring.color")};
    outline-offset: ${r("datepicker.date.focus.ring.offset")};
}

.p-datepicker-day-selected {
    background: ${r("datepicker.date.selected.background")};
    color: ${r("datepicker.date.selected.color")};
}

.p-datepicker-day-selected-range {
    background: ${r("datepicker.date.range.selected.background")};
    color: ${r("datepicker.date.range.selected.color")};
}

.p-datepicker-today > .p-datepicker-day {
    background: ${r("datepicker.today.background")};
    color: ${r("datepicker.today.color")};
}

.p-datepicker-today > .p-datepicker-day-selected {
    background: ${r("datepicker.date.selected.background")};
    color: ${r("datepicker.date.selected.color")};
}

.p-datepicker-today > .p-datepicker-day-selected-range {
    background: ${r("datepicker.date.range.selected.background")};
    color: ${r("datepicker.date.range.selected.color")};
}

.p-datepicker-weeknumber {
    text-align: center;
}

.p-datepicker-month-view {
    margin: ${r("datepicker.month.view.margin")};
}

.p-datepicker-month {
    width: 33.3%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: ${r("datepicker.month.padding")};
    transition: background ${r("datepicker.transition.duration")}, color ${r("datepicker.transition.duration")}, border-color ${r("datepicker.transition.duration")}, box-shadow ${r("datepicker.transition.duration")}, outline-color ${r("datepicker.transition.duration")};
    border-radius: ${r("datepicker.month.border.radius")};
    outline-color: transparent;
    color: ${r("datepicker.date.color")};
}

.p-datepicker-month:not(.p-disabled):not(.p-datepicker-month-selected):hover {
    color: ${r("datepicker.date.hover.color")};
    background: ${r("datepicker.date.hover.background")};
}

.p-datepicker-month-selected {
    color: ${r("datepicker.date.selected.color")};
    background: ${r("datepicker.date.selected.background")};
}

.p-datepicker-month:not(.p-disabled):focus-visible {
    box-shadow: ${r("datepicker.date.focus.ring.shadow")};
    outline: ${r("datepicker.date.focus.ring.width")} ${r("datepicker.date.focus.ring.style")} ${r("datepicker.date.focus.ring.color")};
    outline-offset: ${r("datepicker.date.focus.ring.offset")};
}

.p-datepicker-year-view {
    margin: ${r("datepicker.year.view.margin")};
}

.p-datepicker-year {
    width: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    overflow: hidden;
    position: relative;
    padding: ${r("datepicker.year.padding")};
    transition: background ${r("datepicker.transition.duration")}, color ${r("datepicker.transition.duration")}, border-color ${r("datepicker.transition.duration")}, box-shadow ${r("datepicker.transition.duration")}, outline-color ${r("datepicker.transition.duration")};
    border-radius: ${r("datepicker.year.border.radius")};
    outline-color: transparent;
    color: ${r("datepicker.date.color")};
}

.p-datepicker-year:not(.p-disabled):not(.p-datepicker-year-selected):hover {
    color: ${r("datepicker.date.hover.color")};
    background: ${r("datepicker.date.hover.background")};
}

.p-datepicker-year-selected {
    color: ${r("datepicker.date.selected.color")};
    background: ${r("datepicker.date.selected.background")};
}

.p-datepicker-year:not(.p-disabled):focus-visible {
    box-shadow: ${r("datepicker.date.focus.ring.shadow")};
    outline: ${r("datepicker.date.focus.ring.width")} ${r("datepicker.date.focus.ring.style")} ${r("datepicker.date.focus.ring.color")};
    outline-offset: ${r("datepicker.date.focus.ring.offset")};
}

.p-datepicker-buttonbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: ${r("datepicker.buttonbar.padding")};
    border-block-start: 1px solid ${r("datepicker.buttonbar.border.color")};
}

.p-datepicker-buttonbar .p-button {
    width: auto;
}

.p-datepicker-time-picker {
    display: flex;
    justify-content: center;
    align-items: center;
    border-block-start: 1px solid ${r("datepicker.time.picker.border.color")};
    padding: 0;
    gap: ${r("datepicker.time.picker.gap")};
}

.p-datepicker-calendar-container + .p-datepicker-time-picker {
    padding: ${r("datepicker.time.picker.padding")};
}

.p-datepicker-time-picker > div {
    display: flex;
    align-items: center;
    flex-direction: column;
    gap: ${r("datepicker.time.picker.button.gap")};
}

.p-datepicker-time-picker span {
    font-size: 1rem;
}

.p-datepicker-timeonly .p-datepicker-time-picker {
    border-block-start: 0 none;
}

.p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown {
    width: ${r("datepicker.dropdown.sm.width")};
}

.p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown .p-icon,
.p-datepicker:has(.p-inputtext-sm) .p-datepicker-input-icon {
    font-size: ${r("form.field.sm.font.size")};
    width: ${r("form.field.sm.font.size")};
    height: ${r("form.field.sm.font.size")};
}

.p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown {
    width: ${r("datepicker.dropdown.lg.width")};
}

.p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown .p-icon,
.p-datepicker:has(.p-inputtext-lg) .p-datepicker-input-icon {
    font-size: ${r("form.field.lg.font.size")};
    width: ${r("form.field.lg.font.size")};
    height: ${r("form.field.lg.font.size")};
}
`,pZ={root:function(e){var t=e.props;return{position:t.appendTo==="self"?"relative":void 0}}},vZ={root:function(e){var t=e.instance,n=e.state;return["p-datepicker p-component p-inputwrapper",{"p-invalid":t.$invalid,"p-inputwrapper-filled":t.$filled,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-focus":n.focused||n.overlayVisible,"p-datepicker-fluid":t.$fluid}]},pcInputText:"p-datepicker-input",dropdown:"p-datepicker-dropdown",inputIconContainer:"p-datepicker-input-icon-container",inputIcon:"p-datepicker-input-icon",panel:function(e){var t=e.props;return["p-datepicker-panel p-component",{"p-datepicker-panel-inline":t.inline,"p-disabled":t.disabled,"p-datepicker-timeonly":t.timeOnly}]},calendarContainer:"p-datepicker-calendar-container",calendar:"p-datepicker-calendar",header:"p-datepicker-header",pcPrevButton:"p-datepicker-prev-button",title:"p-datepicker-title",selectMonth:"p-datepicker-select-month",selectYear:"p-datepicker-select-year",decade:"p-datepicker-decade",pcNextButton:"p-datepicker-next-button",dayView:"p-datepicker-day-view",weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-datepicker-weeklabel-container p-disabled",weekDayCell:"p-datepicker-weekday-cell",weekDay:"p-datepicker-weekday",dayCell:function(e){var t=e.date;return["p-datepicker-day-cell",{"p-datepicker-other-month":t.otherMonth,"p-datepicker-today":t.today}]},day:function(e){var t=e.instance,n=e.props,i=e.state,a=e.date,s="";return t.isRangeSelection()&&t.isSelected(a)&&a.selectable&&(s=t.isDateEquals(i.d_value[0],a)||t.isDateEquals(i.d_value[1],a)?"p-datepicker-day-selected":"p-datepicker-day-selected-range"),["p-datepicker-day",{"p-datepicker-day-selected":!t.isRangeSelection()&&t.isSelected(a)&&a.selectable,"p-disabled":n.disabled||!a.selectable},s]},monthView:"p-datepicker-month-view",month:function(e){var t=e.instance,n=e.props,i=e.month,a=e.index;return["p-datepicker-month",{"p-datepicker-month-selected":t.isMonthSelected(a),"p-disabled":n.disabled||!i.selectable}]},yearView:"p-datepicker-year-view",year:function(e){var t=e.instance,n=e.props,i=e.year;return["p-datepicker-year",{"p-datepicker-year-selected":t.isYearSelected(i.value),"p-disabled":n.disabled||!i.selectable}]},timePicker:"p-datepicker-time-picker",hourPicker:"p-datepicker-hour-picker",pcIncrementButton:"p-datepicker-increment-button",pcDecrementButton:"p-datepicker-decrement-button",separator:"p-datepicker-separator",minutePicker:"p-datepicker-minute-picker",secondPicker:"p-datepicker-second-picker",ampmPicker:"p-datepicker-ampm-picker",buttonbar:"p-datepicker-buttonbar",pcTodayButton:"p-datepicker-today-button",pcClearButton:"p-datepicker-clear-button"},gZ=ia.extend({name:"datepicker",style:dZ,classes:vZ,inlineStyles:pZ}),mZ={name:"BaseDatePicker",extends:hz,props:{selectionMode:{type:String,default:"single"},dateFormat:{type:String,default:null},inline:{type:Boolean,default:!1},showOtherMonths:{type:Boolean,default:!0},selectOtherMonths:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},iconDisplay:{type:String,default:"button"},icon:{type:String,default:void 0},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0},incrementIcon:{type:String,default:void 0},decrementIcon:{type:String,default:void 0},numberOfMonths:{type:Number,default:1},responsiveOptions:Array,breakpoint:{type:String,default:"769px"},view:{type:String,default:"date"},minDate:{type:Date,value:null},maxDate:{type:Date,value:null},disabledDates:{type:Array,value:null},disabledDays:{type:Array,value:null},maxDateCount:{type:Number,value:null},showOnFocus:{type:Boolean,default:!0},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},showButtonBar:{type:Boolean,default:!1},shortYearCutoff:{type:String,default:"+10"},showTime:{type:Boolean,default:!1},timeOnly:{type:Boolean,default:!1},hourFormat:{type:String,default:"24"},stepHour:{type:Number,default:1},stepMinute:{type:Number,default:1},stepSecond:{type:Number,default:1},showSeconds:{type:Boolean,default:!1},hideOnDateTimeSelect:{type:Boolean,default:!1},hideOnRangeSelection:{type:Boolean,default:!1},timeSeparator:{type:String,default:":"},showWeek:{type:Boolean,default:!1},manualInput:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},todayButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},clearButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,size:"small"}}},navigatorButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},timepickerButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:gZ,provide:function(){return{$pcDatePicker:this,$parentInstance:this}}};function UE(r){"@babel/helpers - typeof";return UE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UE(r)}function $2(r){return bZ(r)||xZ(r)||vz(r)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function bZ(r){if(Array.isArray(r))return WE(r)}function U2(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=vz(r))||e){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){t=t.call(r)},n:function(){var u=t.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{s||t.return==null||t.return()}finally{if(o)throw a}}}}function vz(r,e){if(r){if(typeof r=="string")return WE(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?WE(r,e):void 0}}function WE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var gz={name:"DatePicker",extends:mZ,inheritAttrs:!1,emits:["show","hide","input","month-change","year-change","date-select","today-click","clear-click","focus","blur","keydown"],inject:{$pcFluid:{default:null}},navigationState:null,timePickerChange:!1,scrollHandler:null,outsideClickListener:null,resizeListener:null,matchMediaListener:null,matchMediaOrientationListener:null,overlay:null,input:null,previousButton:null,nextButton:null,timePickerTimer:null,preventFocus:!1,typeUpdate:!1,data:function(){return{currentMonth:null,currentYear:null,currentHour:null,currentMinute:null,currentSecond:null,pm:null,focused:!1,overlayVisible:!1,currentView:this.view,query:null,queryMatches:!1,queryOrientation:null}},watch:{modelValue:function(e){this.updateCurrentMetaData(),!this.typeUpdate&&!this.inline&&this.input&&(this.input.value=this.inputFieldValue),this.typeUpdate=!1},showTime:function(){this.updateCurrentMetaData()},minDate:function(){this.updateCurrentMetaData()},maxDate:function(){this.updateCurrentMetaData()},months:function(){this.overlay&&(this.focused||(this.inline&&(this.preventFocus=!0),setTimeout(this.updateFocus,0)))},numberOfMonths:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},responsiveOptions:function(){this.destroyResponsiveStyleElement(),this.createResponsiveStyle()},currentView:function(){var e=this;Promise.resolve(null).then(function(){return e.alignOverlay()})},view:function(e){this.currentView=e}},created:function(){this.updateCurrentMetaData()},mounted:function(){this.createResponsiveStyle(),this.bindMatchMediaListener(),this.bindMatchMediaOrientationListener(),this.inline?this.disabled||(this.preventFocus=!0,this.initFocusableCell()):this.input.value=this.inputFieldValue},updated:function(){this.overlay&&(this.preventFocus=!0,setTimeout(this.updateFocus,0)),this.input&&this.selectionStart!=null&&this.selectionEnd!=null&&(this.input.selectionStart=this.selectionStart,this.input.selectionEnd=this.selectionEnd,this.selectionStart=null,this.selectionEnd=null)},beforeUnmount:function(){this.timePickerTimer&&clearTimeout(this.timePickerTimer),this.destroyResponsiveStyleElement(),this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindMatchMediaListener(),this.unbindMatchMediaOrientationListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&Ou.clear(this.overlay),this.overlay=null},methods:{isComparable:function(){return this.d_value!=null&&typeof this.d_value!="string"},isSelected:function(e){if(!this.isComparable())return!1;if(this.d_value){if(this.isSingleSelection())return this.isDateEquals(this.d_value,e);if(this.isMultipleSelection()){var t=!1,n=U2(this.d_value),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;if(t=this.isDateEquals(a,e),t)break}}catch(s){n.e(s)}finally{n.f()}return t}else if(this.isRangeSelection())return this.d_value[1]?this.isDateEquals(this.d_value[0],e)||this.isDateEquals(this.d_value[1],e)||this.isDateBetween(this.d_value[0],this.d_value[1],e):this.isDateEquals(this.d_value[0],e)}return!1},isMonthSelected:function(e){var t=this;if(!this.isComparable())return!1;if(this.isMultipleSelection())return this.d_value.some(function(l){return l.getMonth()===e&&l.getFullYear()===t.currentYear});if(this.isRangeSelection())if(this.d_value[1]){var a=new Date(this.currentYear,e,1),s=new Date(this.d_value[0].getFullYear(),this.d_value[0].getMonth(),1),o=new Date(this.d_value[1].getFullYear(),this.d_value[1].getMonth(),1);return a>=s&&a<=o}else{var n,i;return((n=this.d_value[0])===null||n===void 0?void 0:n.getFullYear())===this.currentYear&&((i=this.d_value[0])===null||i===void 0?void 0:i.getMonth())===e}else return this.d_value.getMonth()===e&&this.d_value.getFullYear()===this.currentYear},isYearSelected:function(e){if(!this.isComparable())return!1;if(this.isMultipleSelection())return this.d_value.some(function(i){return i.getFullYear()===e});if(this.isRangeSelection()){var t=this.d_value[0]?this.d_value[0].getFullYear():null,n=this.d_value[1]?this.d_value[1].getFullYear():null;return t===e||n===e||t<e&&n>e}else return this.d_value.getFullYear()===e},isDateEquals:function(e,t){return e?e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year:!1},isDateBetween:function(e,t,n){var i=!1;if(e&&t){var a=new Date(n.year,n.month,n.day);return e.getTime()<=a.getTime()&&t.getTime()>=a.getTime()}return i},getFirstDayOfMonthIndex:function(e,t){var n=new Date;n.setDate(1),n.setMonth(e),n.setFullYear(t);var i=n.getDay()+this.sundayIndex;return i>=7?i-7:i},getDaysCountInMonth:function(e,t){return 32-this.daylightSavingAdjust(new Date(t,e,32)).getDate()},getDaysCountInPrevMonth:function(e,t){var n=this.getPreviousMonthAndYear(e,t);return this.getDaysCountInMonth(n.month,n.year)},getPreviousMonthAndYear:function(e,t){var n,i;return e===0?(n=11,i=t-1):(n=e-1,i=t),{month:n,year:i}},getNextMonthAndYear:function(e,t){var n,i;return e===11?(n=0,i=t+1):(n=e+1,i=t),{month:n,year:i}},daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},isToday:function(e,t,n,i){return e.getDate()===t&&e.getMonth()===n&&e.getFullYear()===i},isSelectable:function(e,t,n,i){var a=!0,s=!0,o=!0,l=!0;return i&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>n||this.minDate.getFullYear()===n&&(this.minDate.getMonth()>t||this.minDate.getMonth()===t&&this.minDate.getDate()>e))&&(a=!1),this.maxDate&&(this.maxDate.getFullYear()<n||this.maxDate.getFullYear()===n&&(this.maxDate.getMonth()<t||this.maxDate.getMonth()===t&&this.maxDate.getDate()<e))&&(s=!1),this.disabledDates&&(o=!this.isDateDisabled(e,t,n)),this.disabledDays&&(l=!this.isDayDisabled(e,t,n)),a&&s&&o&&l)},onOverlayEnter:function(e){var t=this.inline?void 0:{position:"absolute",top:"0",left:"0"};az(e,t),this.autoZIndex&&Ou.set("overlay",e,this.baseZIndex||this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.$emit("show")},onOverlayEnterComplete:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener()},onOverlayAfterLeave:function(e){this.autoZIndex&&Ou.clear(e)},onOverlayLeave:function(){this.currentView=this.view,this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onPrevButtonClick:function(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)},onNextButtonClick:function(e){this.navigationState={backward:!1,button:!0},this.navForward(e)},navBackward:function(e){e.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.decrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.decrementDecade():e.shiftKey?this.decrementYear():(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},navForward:function(e){e.preventDefault(),this.isEnabled()&&(this.currentView==="month"?(this.incrementYear(),this.$emit("year-change",{month:this.currentMonth,year:this.currentYear})):this.currentView==="year"?this.incrementDecade():e.shiftKey?this.incrementYear():(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})))},decrementYear:function(){this.currentYear--},decrementDecade:function(){this.currentYear=this.currentYear-10},incrementYear:function(){this.currentYear++},incrementDecade:function(){this.currentYear=this.currentYear+10},switchToMonthView:function(e){this.currentView="month",setTimeout(this.updateFocus,0),e.preventDefault()},switchToYearView:function(e){this.currentView="year",setTimeout(this.updateFocus,0),e.preventDefault()},isEnabled:function(){return!this.disabled&&!this.readonly},updateCurrentTimeMeta:function(e){var t=e.getHours();this.hourFormat==="12"&&(this.pm=t>11,t>=12&&(t=t==12?12:t-12)),this.currentHour=Math.floor(t/this.stepHour)*this.stepHour,this.currentMinute=Math.floor(e.getMinutes()/this.stepMinute)*this.stepMinute,this.currentSecond=Math.floor(e.getSeconds()/this.stepSecond)*this.stepSecond},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&e.isOutsideClicked(t)&&(e.overlayVisible=!1)},document.addEventListener("mousedown",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("mousedown",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new RL(this.$refs.container,function(){e.overlayVisible&&(e.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!EL()&&(e.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindMatchMediaListener:function(){var e=this;if(!this.matchMediaListener){var t=matchMedia("(max-width: ".concat(this.breakpoint,")"));this.query=t,this.queryMatches=t.matches,this.matchMediaListener=function(){e.queryMatches=t.matches,e.mobileActive=!1},this.query.addEventListener("change",this.matchMediaListener)}},unbindMatchMediaListener:function(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)},bindMatchMediaOrientationListener:function(){var e=this;if(!this.matchMediaOrientationListener){var t=matchMedia("(orientation: portrait)");this.queryOrientation=t,this.matchMediaOrientationListener=function(){e.alignOverlay()},this.queryOrientation.addEventListener("change",this.matchMediaOrientationListener)}},unbindMatchMediaOrientationListener:function(){this.matchMediaOrientationListener&&(this.queryOrientation.removeEventListener("change",this.matchMediaOrientationListener),this.queryOrientation=null,this.matchMediaOrientationListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.isNavIconClicked(e)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},isNavIconClicked:function(e){return this.previousButton&&(this.previousButton.isSameNode(e.target)||this.previousButton.contains(e.target))||this.nextButton&&(this.nextButton.isSameNode(e.target)||this.nextButton.contains(e.target))},alignOverlay:function(){this.overlay&&(this.appendTo==="self"||this.inline?CL(this.overlay,this.$el):(this.view==="date"?(this.overlay.style.width=xy(this.overlay)+"px",this.overlay.style.minWidth=xy(this.$el)+"px"):this.overlay.style.width=xy(this.$el)+"px",kL(this.overlay,this.$el)))},onButtonClick:function(){this.isEnabled()&&(this.overlayVisible?this.overlayVisible=!1:(this.input.focus(),this.overlayVisible=!0))},isDateDisabled:function(e,t,n){if(this.disabledDates){var i=U2(this.disabledDates),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.getFullYear()===n&&s.getMonth()===t&&s.getDate()===e)return!0}}catch(o){i.e(o)}finally{i.f()}}return!1},isDayDisabled:function(e,t,n){if(this.disabledDays){var i=new Date(n,t,e),a=i.getDay();return this.disabledDays.indexOf(a)!==-1}return!1},onMonthDropdownChange:function(e){this.currentMonth=parseInt(e),this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})},onYearDropdownChange:function(e){this.currentYear=parseInt(e),this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})},onDateSelect:function(e,t){var n=this;if(!(this.disabled||!t.selectable)){if(tf(this.overlay,'table td span:not([data-p-disabled="true"])').forEach(function(a){return a.tabIndex=-1}),e&&e.currentTarget.focus(),this.isMultipleSelection()&&this.isSelected(t)){var i=this.d_value.filter(function(a){return!n.isDateEquals(a,t)});this.updateModel(i)}else this.shouldSelectDate(t)&&(t.otherMonth?(this.currentMonth=t.month,this.currentYear=t.year,this.selectDate(t)):this.selectDate(t));this.isSingleSelection()&&(!this.showTime||this.hideOnDateTimeSelect)&&(this.input&&this.input.focus(),setTimeout(function(){n.overlayVisible=!1},150))}},selectDate:function(e){var t=this,n=new Date(e.year,e.month,e.day);this.showTime&&(this.hourFormat==="12"&&this.currentHour!==12&&this.pm?n.setHours(this.currentHour+12):n.setHours(this.currentHour),n.setMinutes(this.currentMinute),n.setSeconds(this.currentSecond)),this.minDate&&this.minDate>n&&(n=this.minDate,this.currentHour=n.getHours(),this.currentMinute=n.getMinutes(),this.currentSecond=n.getSeconds()),this.maxDate&&this.maxDate<n&&(n=this.maxDate,this.currentHour=n.getHours(),this.currentMinute=n.getMinutes(),this.currentSecond=n.getSeconds());var i=null;if(this.isSingleSelection())i=n;else if(this.isMultipleSelection())i=this.d_value?[].concat($2(this.d_value),[n]):[n];else if(this.isRangeSelection())if(this.d_value&&this.d_value.length){var a=this.d_value[0],s=this.d_value[1];!s&&n.getTime()>=a.getTime()?s=n:(a=n,s=null),i=[a,s]}else i=[n,null];i!==null&&this.updateModel(i),this.isRangeSelection()&&this.hideOnRangeSelection&&i[1]!==null&&setTimeout(function(){t.overlayVisible=!1},150),this.$emit("date-select",n)},updateModel:function(e){this.writeValue(e)},shouldSelectDate:function(){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.d_value?this.d_value.length:0):!0},isSingleSelection:function(){return this.selectionMode==="single"},isRangeSelection:function(){return this.selectionMode==="range"},isMultipleSelection:function(){return this.selectionMode==="multiple"},formatValue:function(e){if(typeof e=="string")return this.dateFormat?isNaN(new Date(e))?e:this.formatDate(new Date(e),this.dateFormat):e;var t="";if(e)try{if(this.isSingleSelection())t=this.formatDateTime(e);else if(this.isMultipleSelection())for(var n=0;n<e.length;n++){var i=this.formatDateTime(e[n]);t+=i,n!==e.length-1&&(t+=", ")}else if(this.isRangeSelection()&&e&&e.length){var a=e[0],s=e[1];t=this.formatDateTime(a),s&&(t+=" - "+this.formatDateTime(s))}}catch{t=e}return t},formatDateTime:function(e){var t=null;return e&&(this.timeOnly?t=this.formatTime(e):(t=this.formatDate(e,this.datePattern),this.showTime&&(t+=" "+this.formatTime(e)))),t},formatDate:function(e,t){if(!e)return"";var n,i=function(c){var h=n+1<t.length&&t.charAt(n+1)===c;return h&&n++,h},a=function(c,h,f){var d=""+h;if(i(c))for(;d.length<f;)d="0"+d;return d},s=function(c,h,f,d){return i(c)?d[h]:f[h]},o="",l=!1;if(e)for(n=0;n<t.length;n++)if(l)t.charAt(n)==="'"&&!i("'")?l=!1:o+=t.charAt(n);else switch(t.charAt(n)){case"d":o+=a("d",e.getDate(),2);break;case"D":o+=s("D",e.getDay(),this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":o+=a("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":o+=a("m",e.getMonth()+1,2);break;case"M":o+=s("M",e.getMonth(),this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":o+=i("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":o+=e.getTime();break;case"!":o+=e.getTime()*1e4+this.ticksTo1970;break;case"'":i("'")?o+="'":l=!0;break;default:o+=t.charAt(n)}return o},formatTime:function(e){if(!e)return"";var t="",n=e.getHours(),i=e.getMinutes(),a=e.getSeconds();return this.hourFormat==="12"&&n>11&&n!==12&&(n-=12),this.hourFormat==="12"?t+=n===0?12:n<10?"0"+n:n:t+=n<10?"0"+n:n,t+=":",t+=i<10?"0"+i:i,this.showSeconds&&(t+=":",t+=a<10?"0"+a:a),this.hourFormat==="12"&&(t+=e.getHours()>11?" ".concat(this.$primevue.config.locale.pm):" ".concat(this.$primevue.config.locale.am)),t},onTodayButtonClick:function(e){var t=new Date,n={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),otherMonth:t.getMonth()!==this.currentMonth||t.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(null,n),this.$emit("today-click",t),e.preventDefault()},onClearButtonClick:function(e){this.updateModel(null),this.overlayVisible=!1,this.$emit("clear-click",e),e.preventDefault()},onTimePickerElementMouseDown:function(e,t,n){this.isEnabled()&&(this.repeat(e,null,t,n),e.preventDefault())},onTimePickerElementMouseUp:function(e){this.isEnabled()&&(this.clearTimePickerTimer(),this.updateModelTime(),e.preventDefault())},onTimePickerElementMouseLeave:function(){this.clearTimePickerTimer()},repeat:function(e,t,n,i){var a=this,s=t||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(function(){a.repeat(e,100,n,i)},s),n){case 0:i===1?this.incrementHour(e):this.decrementHour(e);break;case 1:i===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:i===1?this.incrementSecond(e):this.decrementSecond(e);break}},convertTo24Hour:function(e,t){return this.hourFormat=="12"?e===12?t?12:0:t?e+12:e:e},validateTime:function(e,t,n,i){var a=this.isComparable()?this.d_value:this.viewDate,s=this.convertTo24Hour(e,i);this.isRangeSelection()&&(a=this.d_value[1]||this.d_value[0]),this.isMultipleSelection()&&(a=this.d_value[this.d_value.length-1]);var o=a?a.toDateString():null;return!(this.minDate&&o&&this.minDate.toDateString()===o&&(this.minDate.getHours()>s||this.minDate.getHours()===s&&(this.minDate.getMinutes()>t||this.minDate.getMinutes()===t&&this.minDate.getSeconds()>n))||this.maxDate&&o&&this.maxDate.toDateString()===o&&(this.maxDate.getHours()<s||this.maxDate.getHours()===s&&(this.maxDate.getMinutes()<t||this.maxDate.getMinutes()===t&&this.maxDate.getSeconds()<n)))},incrementHour:function(e){var t=this.currentHour,n=this.currentHour+Number(this.stepHour),i=this.pm;this.hourFormat=="24"?n=n>=24?n-24:n:this.hourFormat=="12"&&(t<12&&n>11&&(i=!this.pm),n=n>=13?n-12:n),this.validateTime(n,this.currentMinute,this.currentSecond,i)&&(this.currentHour=n,this.pm=i),e.preventDefault()},decrementHour:function(e){var t=this.currentHour-this.stepHour,n=this.pm;this.hourFormat=="24"?t=t<0?24+t:t:this.hourFormat=="12"&&(this.currentHour===12&&(n=!this.pm),t=t<=0?12+t:t),this.validateTime(t,this.currentMinute,this.currentSecond,n)&&(this.currentHour=t,this.pm=n),e.preventDefault()},incrementMinute:function(e){var t=this.currentMinute+Number(this.stepMinute);this.validateTime(this.currentHour,t,this.currentSecond,this.pm)&&(this.currentMinute=t>59?t-60:t),e.preventDefault()},decrementMinute:function(e){var t=this.currentMinute-this.stepMinute;t=t<0?60+t:t,this.validateTime(this.currentHour,t,this.currentSecond,this.pm)&&(this.currentMinute=t),e.preventDefault()},incrementSecond:function(e){var t=this.currentSecond+Number(this.stepSecond);this.validateTime(this.currentHour,this.currentMinute,t,this.pm)&&(this.currentSecond=t>59?t-60:t),e.preventDefault()},decrementSecond:function(e){var t=this.currentSecond-this.stepSecond;t=t<0?60+t:t,this.validateTime(this.currentHour,this.currentMinute,t,this.pm)&&(this.currentSecond=t),e.preventDefault()},updateModelTime:function(){var e=this;this.timePickerChange=!0;var t=this.isComparable()?this.d_value:this.viewDate;this.isRangeSelection()&&(t=this.d_value[1]||this.d_value[0]),this.isMultipleSelection()&&(t=this.d_value[this.d_value.length-1]),t=t?new Date(t.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.d_value[1]?t=[this.d_value[0],t]:t=[t,null]),this.isMultipleSelection()&&(t=[].concat($2(this.d_value.slice(0,-1)),[t])),this.updateModel(t),this.$emit("date-select",t),setTimeout(function(){return e.timePickerChange=!1},0)},toggleAMPM:function(e){var t=this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,!this.pm);!t&&(this.maxDate||this.minDate)||(this.pm=!this.pm,this.updateModelTime(),e.preventDefault())},clearTimePickerTimer:function(){this.timePickerTimer&&clearInterval(this.timePickerTimer)},onMonthSelect:function(e,t){t.month;var n=t.index;this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:n,day:1,selectable:!0}):(this.currentMonth=n,this.currentView="date",this.$emit("month-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},onYearSelect:function(e,t){this.view==="year"?this.onDateSelect(e,{year:t.value,month:0,day:1,selectable:!0}):(this.currentYear=t.value,this.currentView="month",this.$emit("year-change",{month:this.currentMonth+1,year:this.currentYear})),setTimeout(this.updateFocus,0)},updateCurrentMetaData:function(){var e=this.viewDate;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),(this.showTime||this.timeOnly)&&this.updateCurrentTimeMeta(e)},isValidSelection:function(e){var t=this;if(e==null)return!0;var n=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(n=!1):e.every(function(i){return t.isSelectable(i.getDate(),i.getMonth(),i.getFullYear(),!1)})&&this.isRangeSelection()&&(n=e.length>1&&e[1]>=e[0]),n},parseValue:function(e){if(!e||e.trim().length===0)return null;var t;if(this.isSingleSelection())t=this.parseDateTime(e);else if(this.isMultipleSelection()){var n=e.split(",");t=[];var i=U2(n),a;try{for(i.s();!(a=i.n()).done;){var s=a.value;t.push(this.parseDateTime(s.trim()))}}catch(u){i.e(u)}finally{i.f()}}else if(this.isRangeSelection()){var o=e.split(" - ");t=[];for(var l=0;l<o.length;l++)t[l]=this.parseDateTime(o[l].trim())}return t},parseDateTime:function(e){var t,n=e.split(" ");if(this.timeOnly)t=new Date,this.populateTime(t,n[0],n[1]);else{var i=this.datePattern;this.showTime?(t=this.parseDate(n[0],i),this.populateTime(t,n[1],n[2])):t=this.parseDate(e,i)}return t},populateTime:function(e,t,n){if(this.hourFormat=="12"&&!n)throw"Invalid Time";this.pm=n===this.$primevue.config.locale.pm||n===this.$primevue.config.locale.pm.toLowerCase();var i=this.parseTime(t);e.setHours(i.hour),e.setMinutes(i.minute),e.setSeconds(i.second)},parseTime:function(e){var t=e.split(":"),n=this.showSeconds?3:2,i=/^[0-9][0-9]$/;if(t.length!==n||!t[0].match(i)||!t[1].match(i)||this.showSeconds&&!t[2].match(i))throw"Invalid time";var a=parseInt(t[0]),s=parseInt(t[1]),o=this.showSeconds?parseInt(t[2]):null;if(isNaN(a)||isNaN(s)||a>23||s>59||this.hourFormat=="12"&&a>12||this.showSeconds&&(isNaN(o)||o>59))throw"Invalid time";return this.hourFormat=="12"&&a!==12&&this.pm?a+=12:this.hourFormat=="12"&&a==12&&!this.pm&&(a=0),{hour:a,minute:s,second:o}},parseDate:function(e,t){if(t==null||e==null)throw"Invalid arguments";if(e=UE(e)==="object"?e.toString():e+"",e==="")return null;var n,i,a,s=0,o=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),l=-1,u=-1,c=-1,h=-1,f=!1,d,p=function(y){var _=n+1<t.length&&t.charAt(n+1)===y;return _&&n++,_},v=function(y){var _=p(y),S=y==="@"?14:y==="!"?20:y==="y"&&_?4:y==="o"?3:2,w=y==="y"?S:1,T=new RegExp("^\\d{"+w+","+S+"}"),A=e.substring(s).match(T);if(!A)throw"Missing number at position "+s;return s+=A[0].length,parseInt(A[0],10)},g=function(y,_,S){for(var w=-1,T=p(y)?S:_,A=[],C=0;C<T.length;C++)A.push([C,T[C]]);A.sort(function(D,I){return-(D[1].length-I[1].length)});for(var k=0;k<A.length;k++){var E=A[k][1];if(e.substr(s,E.length).toLowerCase()===E.toLowerCase()){w=A[k][0],s+=E.length;break}}if(w!==-1)return w+1;throw"Unknown name at position "+s},m=function(){if(e.charAt(s)!==t.charAt(n))throw"Unexpected literal at position "+s;s++};for(this.currentView==="month"&&(c=1),this.currentView==="year"&&(c=1,u=1),n=0;n<t.length;n++)if(f)t.charAt(n)==="'"&&!p("'")?f=!1:m();else switch(t.charAt(n)){case"d":c=v("d");break;case"D":g("D",this.$primevue.config.locale.dayNamesShort,this.$primevue.config.locale.dayNames);break;case"o":h=v("o");break;case"m":u=v("m");break;case"M":u=g("M",this.$primevue.config.locale.monthNamesShort,this.$primevue.config.locale.monthNames);break;case"y":l=v("y");break;case"@":d=new Date(v("@")),l=d.getFullYear(),u=d.getMonth()+1,c=d.getDate();break;case"!":d=new Date((v("!")-this.ticksTo1970)/1e4),l=d.getFullYear(),u=d.getMonth()+1,c=d.getDate();break;case"'":p("'")?m():f=!0;break;default:m()}if(s<e.length&&(a=e.substr(s),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(l===-1?l=new Date().getFullYear():l<100&&(l+=new Date().getFullYear()-new Date().getFullYear()%100+(l<=o?0:-100)),h>-1){u=1,c=h;do{if(i=this.getDaysCountInMonth(l,u-1),c<=i)break;u++,c-=i}while(!0)}if(d=this.daylightSavingAdjust(new Date(l,u-1,c)),d.getFullYear()!==l||d.getMonth()+1!==u||d.getDate()!==c)throw"Invalid date";return d},getWeekNumber:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1},onDateCellKeydown:function(e,t,n){var i=e.currentTarget,a=i.parentElement,s=Jg(a);switch(e.code){case"ArrowDown":{i.tabIndex="-1";var o=a.parentElement.nextElementSibling;if(o){var l=Jg(a.parentElement),u=Array.from(a.parentElement.parentElement.children),c=u.slice(l+1),h=c.find(function(z){var G=z.children[s].children[0];return!oo(G,"data-p-disabled")});if(h){var f=h.children[s].children[0];f.tabIndex="0",f.focus()}else this.navigationState={backward:!1},this.navForward(e)}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case"ArrowUp":{if(i.tabIndex="-1",e.altKey)this.overlayVisible=!1,this.focused=!0;else{var d=a.parentElement.previousElementSibling;if(d){var p=Jg(a.parentElement),v=Array.from(a.parentElement.parentElement.children),g=v.slice(0,p).reverse(),m=g.find(function(z){var G=z.children[s].children[0];return!oo(G,"data-p-disabled")});if(m){var x=m.children[s].children[0];x.tabIndex="0",x.focus()}else this.navigationState={backward:!0},this.navBackward(e)}else this.navigationState={backward:!0},this.navBackward(e)}e.preventDefault();break}case"ArrowLeft":{i.tabIndex="-1";var y=a.previousElementSibling;if(y){var _=Array.from(a.parentElement.children),S=_.slice(0,s).reverse(),w=S.find(function(z){var G=z.children[0];return!oo(G,"data-p-disabled")});if(w){var T=w.children[0];T.tabIndex="0",T.focus()}else this.navigateToMonth(e,!0,n)}else this.navigateToMonth(e,!0,n);e.preventDefault();break}case"ArrowRight":{i.tabIndex="-1";var A=a.nextElementSibling;if(A){var C=Array.from(a.parentElement.children),k=C.slice(s+1),E=k.find(function(z){var G=z.children[0];return!oo(G,"data-p-disabled")});if(E){var D=E.children[0];D.tabIndex="0",D.focus()}else this.navigateToMonth(e,!1,n)}else this.navigateToMonth(e,!1,n);e.preventDefault();break}case"Enter":case"NumpadEnter":case"Space":{this.onDateSelect(e,t),e.preventDefault();break}case"Escape":{this.overlayVisible=!1,e.preventDefault();break}case"Tab":{this.inline||this.trapFocus(e);break}case"Home":{i.tabIndex="-1";var I=a.parentElement,P=I.children[0].children[0];oo(P,"data-p-disabled")?this.navigateToMonth(e,!0,n):(P.tabIndex="0",P.focus()),e.preventDefault();break}case"End":{i.tabIndex="-1";var F=a.parentElement,V=F.children[F.children.length-1].children[0];oo(V,"data-p-disabled")?this.navigateToMonth(e,!1,n):(V.tabIndex="0",V.focus()),e.preventDefault();break}case"PageUp":{i.tabIndex="-1",e.shiftKey?(this.navigationState={backward:!0},this.navBackward(e)):this.navigateToMonth(e,!0,n),e.preventDefault();break}case"PageDown":{i.tabIndex="-1",e.shiftKey?(this.navigationState={backward:!1},this.navForward(e)):this.navigateToMonth(e,!1,n),e.preventDefault();break}}},navigateToMonth:function(e,t,n){if(t)if(this.numberOfMonths===1||n===0)this.navigationState={backward:!0},this.navBackward(e);else{var i=this.overlay.children[n-1],a=tf(i,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),s=a[a.length-1];s.tabIndex="0",s.focus()}else if(this.numberOfMonths===1||n===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(e);else{var o=this.overlay.children[n+1],l=va(o,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');l.tabIndex="0",l.focus()}},onMonthCellKeydown:function(e,t){var n=e.currentTarget;switch(e.code){case"ArrowUp":case"ArrowDown":{n.tabIndex="-1";var i=n.parentElement.children,a=Jg(n),s=i[e.code==="ArrowDown"?a+3:a-3];s&&(s.tabIndex="0",s.focus()),e.preventDefault();break}case"ArrowLeft":{n.tabIndex="-1";var o=n.previousElementSibling;o?(o.tabIndex="0",o.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case"ArrowRight":{n.tabIndex="-1";var l=n.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case"PageUp":{if(e.shiftKey)return;this.navigationState={backward:!0},this.navBackward(e);break}case"PageDown":{if(e.shiftKey)return;this.navigationState={backward:!1},this.navForward(e);break}case"Enter":case"NumpadEnter":case"Space":{this.onMonthSelect(e,t),e.preventDefault();break}case"Escape":{this.overlayVisible=!1,e.preventDefault();break}case"Tab":{this.trapFocus(e);break}}},onYearCellKeydown:function(e,t){var n=e.currentTarget;switch(e.code){case"ArrowUp":case"ArrowDown":{n.tabIndex="-1";var i=n.parentElement.children,a=Jg(n),s=i[e.code==="ArrowDown"?a+2:a-2];s&&(s.tabIndex="0",s.focus()),e.preventDefault();break}case"ArrowLeft":{n.tabIndex="-1";var o=n.previousElementSibling;o?(o.tabIndex="0",o.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case"ArrowRight":{n.tabIndex="-1";var l=n.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case"PageUp":{if(e.shiftKey)return;this.navigationState={backward:!0},this.navBackward(e);break}case"PageDown":{if(e.shiftKey)return;this.navigationState={backward:!1},this.navForward(e);break}case"Enter":case"NumpadEnter":case"Space":{this.onYearSelect(e,t),e.preventDefault();break}case"Escape":{this.overlayVisible=!1,e.preventDefault();break}case"Tab":{this.trapFocus(e);break}}},updateFocus:function(){var e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?this.previousButton.focus():this.nextButton.focus();else{if(this.navigationState.backward){var t;this.currentView==="month"?t=tf(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?t=tf(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):t=tf(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])'),t&&t.length>0&&(e=t[t.length-1])}else this.currentView==="month"?e=va(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]:not([data-p-disabled="true"])'):this.currentView==="year"?e=va(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]:not([data-p-disabled="true"])'):e=va(this.overlay,'table td span:not([data-p-disabled="true"]):not([data-p-ink="true"])');e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()},initFocusableCell:function(){var e;if(this.currentView==="month"){var t=tf(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"]'),n=va(this.overlay,'[data-pc-section="monthview"] [data-pc-section="month"][data-p-selected="true"]');t.forEach(function(o){return o.tabIndex=-1}),e=n||t[0]}else if(this.currentView==="year"){var i=tf(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"]'),a=va(this.overlay,'[data-pc-section="yearview"] [data-pc-section="year"][data-p-selected="true"]');i.forEach(function(o){return o.tabIndex=-1}),e=a||i[0]}else if(e=va(this.overlay,'span[data-p-selected="true"]'),!e){var s=va(this.overlay,'td[data-p-today="true"] span:not([data-p-disabled="true"]):not([data-p-ink="true"])');s?e=s:e=va(this.overlay,'.p-datepicker-calendar td span:not([data-p-disabled="true"]):not([data-p-ink="true"])')}e&&(e.tabIndex="0",this.preventFocus=!1)},trapFocus:function(e){e.preventDefault();var t=zE(this.overlay);if(t&&t.length>0)if(!document.activeElement)t[0].focus();else{var n=t.indexOf(document.activeElement);if(e.shiftKey)n===-1||n===0?t[t.length-1].focus():t[n-1].focus();else if(n===-1)if(this.timeOnly)t[0].focus();else{var i=t.findIndex(function(a){return a.tagName==="SPAN"});i===-1&&(i=t.findIndex(function(a){return a.tagName==="BUTTON"})),i!==-1?t[i].focus():t[0].focus()}else n===t.length-1?t[0].focus():t[n+1].focus()}},onContainerButtonKeydown:function(e){switch(e.code){case"Tab":this.trapFocus(e);break;case"Escape":this.overlayVisible=!1,e.preventDefault();break}this.$emit("keydown",e)},onInput:function(e){try{this.selectionStart=this.input.selectionStart,this.selectionEnd=this.input.selectionEnd;var t=this.parseValue(e.target.value);this.isValidSelection(t)&&(this.typeUpdate=!0,this.updateModel(t),this.updateCurrentMetaData())}catch{}this.$emit("input",e)},onInputClick:function(){this.showOnFocus&&this.isEnabled()&&!this.overlayVisible&&(this.overlayVisible=!0)},onFocus:function(e){this.showOnFocus&&this.isEnabled()&&(this.overlayVisible=!0),this.focused=!0,this.$emit("focus",e)},onBlur:function(e){var t,n;this.$emit("blur",{originalEvent:e,value:e.target.value}),(t=(n=this.formField).onBlur)===null||t===void 0||t.call(n),this.focused=!1,e.target.value=this.formatValue(this.d_value)},onKeyDown:function(e){if(e.code==="ArrowDown"&&this.overlay)this.trapFocus(e);else if(e.code==="ArrowDown"&&!this.overlay)this.overlayVisible=!0;else if(e.code==="Escape")this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault());else if(e.code==="Tab")this.overlay&&zE(this.overlay).forEach(function(i){return i.tabIndex="-1"}),this.overlayVisible&&(this.overlayVisible=!1);else if(e.code==="Enter"){var t;if(this.manualInput&&e.target.value!==null&&((t=e.target.value)===null||t===void 0?void 0:t.trim())!=="")try{var n=this.parseValue(e.target.value);this.isValidSelection(n)&&(this.overlayVisible=!1)}catch{}this.$emit("keydown",e)}},overlayRef:function(e){this.overlay=e},inputRef:function(e){this.input=e?e.$el:void 0},previousButtonRef:function(e){this.previousButton=e?e.$el:void 0},nextButtonRef:function(e){this.nextButton=e?e.$el:void 0},getMonthName:function(e){return this.$primevue.config.locale.monthNames[e]},getYear:function(e){return this.currentView==="month"?this.currentYear:e.year},onOverlayClick:function(e){e.stopPropagation(),this.inline||FL.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.inline||(this.input.focus(),this.overlayVisible=!1);break}},onOverlayMouseUp:function(e){this.onOverlayClick(e)},createResponsiveStyle:function(){if(this.numberOfMonths>1&&this.responsiveOptions&&!this.isUnstyled){if(!this.responsiveStyleElement){var e;this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",Eq(this.responsiveStyleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.body.appendChild(this.responsiveStyleElement)}var t="";if(this.responsiveOptions)for(var n=Dq(),i=$2(this.responsiveOptions).filter(function(h){return!!(h.breakpoint&&h.numMonths)}).sort(function(h,f){return-1*n(h.breakpoint,f.breakpoint)}),a=0;a<i.length;a++){for(var s=i[a],o=s.breakpoint,l=s.numMonths,u=`
                            .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(l,`) .p-datepicker-next-button {
                                display: inline-flex;
                            }
                        `),c=l;c<this.numberOfMonths;c++)u+=`
                                .p-datepicker-panel[`.concat(this.$attrSelector,"] .p-datepicker-calendar:nth-child(").concat(c+1,`) {
                                    display: none;
                                }
                            `);t+=`
                            @media screen and (max-width: `.concat(o,`) {
                                `).concat(u,`
                            }
                        `)}this.responsiveStyleElement.innerHTML=t}},destroyResponsiveStyleElement:function(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}},computed:{viewDate:function(){var e=this.d_value;if(e&&Array.isArray(e)&&(this.isRangeSelection()?e=e[1]||e[0]:this.isMultipleSelection()&&(e=e[e.length-1])),e&&typeof e!="string")return e;var t=new Date;return this.maxDate&&this.maxDate<t?this.maxDate:this.minDate&&this.minDate>t?this.minDate:t},inputFieldValue:function(){return this.formatValue(this.d_value)},months:function(){for(var e=[],t=0;t<this.numberOfMonths;t++){var n=this.currentMonth+t,i=this.currentYear;n>11&&(n=n%11-1,i=i+1);for(var a=[],s=this.getFirstDayOfMonthIndex(n,i),o=this.getDaysCountInMonth(n,i),l=this.getDaysCountInPrevMonth(n,i),u=1,c=new Date,h=[],f=Math.ceil((o+s)/7),d=0;d<f;d++){var p=[];if(d==0){for(var v=l-s+1;v<=l;v++){var g=this.getPreviousMonthAndYear(n,i);p.push({day:v,month:g.month,year:g.year,otherMonth:!0,today:this.isToday(c,v,g.month,g.year),selectable:this.isSelectable(v,g.month,g.year,!0)})}for(var m=7-p.length,x=0;x<m;x++)p.push({day:u,month:n,year:i,today:this.isToday(c,u,n,i),selectable:this.isSelectable(u,n,i,!1)}),u++}else for(var y=0;y<7;y++){if(u>o){var _=this.getNextMonthAndYear(n,i);p.push({day:u-o,month:_.month,year:_.year,otherMonth:!0,today:this.isToday(c,u-o,_.month,_.year),selectable:this.isSelectable(u-o,_.month,_.year,!0)})}else p.push({day:u,month:n,year:i,today:this.isToday(c,u,n,i),selectable:this.isSelectable(u,n,i,!1)});u++}this.showWeek&&h.push(this.getWeekNumber(new Date(p[0].year,p[0].month,p[0].day))),a.push(p)}e.push({month:n,year:i,dates:a,weekNumbers:h})}return e},weekDays:function(){for(var e=[],t=this.$primevue.config.locale.firstDayOfWeek,n=0;n<7;n++)e.push(this.$primevue.config.locale.dayNamesMin[t]),t=t==6?0:++t;return e},ticksTo1970:function(){return(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7},sundayIndex:function(){return this.$primevue.config.locale.firstDayOfWeek>0?7-this.$primevue.config.locale.firstDayOfWeek:0},datePattern:function(){return this.dateFormat||this.$primevue.config.locale.dateFormat},monthPickerValues:function(){for(var e=this,t=[],n=function(s){if(e.minDate){var o=e.minDate.getMonth(),l=e.minDate.getFullYear();if(e.currentYear<l||e.currentYear===l&&s<o)return!1}if(e.maxDate){var u=e.maxDate.getMonth(),c=e.maxDate.getFullYear();if(e.currentYear>c||e.currentYear===c&&s>u)return!1}return!0},i=0;i<=11;i++)t.push({value:this.$primevue.config.locale.monthNamesShort[i],selectable:n(i)});return t},yearPickerValues:function(){for(var e=this,t=[],n=this.currentYear-this.currentYear%10,i=function(o){return!(e.minDate&&e.minDate.getFullYear()>o||e.maxDate&&e.maxDate.getFullYear()<o)},a=0;a<10;a++)t.push({value:n+a,selectable:i(n+a)});return t},formattedCurrentHour:function(){return this.currentHour==0&&this.hourFormat=="12"?this.currentHour+12:this.currentHour<10?"0"+this.currentHour:this.currentHour},formattedCurrentMinute:function(){return this.currentMinute<10?"0"+this.currentMinute:this.currentMinute},formattedCurrentSecond:function(){return this.currentSecond<10?"0"+this.currentSecond:this.currentSecond},todayLabel:function(){return this.$primevue.config.locale.today},clearLabel:function(){return this.$primevue.config.locale.clear},weekHeaderLabel:function(){return this.$primevue.config.locale.weekHeader},monthNames:function(){return this.$primevue.config.locale.monthNames},switchViewButtonDisabled:function(){return this.numberOfMonths>1||this.disabled},panelId:function(){return this.$id+"_panel"}},components:{InputText:cz,Button:zS,Portal:LL,CalendarIcon:dz,ChevronLeftIcon:OL,ChevronRightIcon:uz,ChevronUpIcon:pz,ChevronDownIcon:lz},directives:{ripple:bb}},_Z=["id"],wZ=["disabled","aria-label","aria-expanded","aria-controls"],SZ=["id","role","aria-modal","aria-label"],TZ=["disabled","aria-label"],AZ=["disabled","aria-label"],CZ=["disabled","aria-label"],kZ=["disabled","aria-label"],EZ=["data-p-disabled"],DZ=["abbr"],MZ=["data-p-disabled"],IZ=["aria-label","data-p-today","data-p-other-month"],LZ=["onClick","onKeydown","aria-selected","aria-disabled","data-p-disabled","data-p-selected"],PZ=["onClick","onKeydown","data-p-disabled","data-p-selected"],RZ=["onClick","onKeydown","data-p-disabled","data-p-selected"];function OZ(r,e,t,n,i,a){var s=ei("InputText"),o=ei("Button"),l=ei("Portal"),u=yb("ripple");return pe(),xe("span",le({ref:"container",id:r.$id,class:r.cx("root"),style:r.sx("root")},r.ptmi("root")),[r.inline?it("",!0):(pe(),Ir(s,{key:0,ref:a.inputRef,id:r.inputId,role:"combobox",class:$a([r.inputClass,r.cx("pcInputText")]),style:Mq(r.inputStyle),defaultValue:a.inputFieldValue,placeholder:r.placeholder,name:r.name,size:r.size,invalid:r.invalid,variant:r.variant,fluid:r.fluid,unstyled:r.unstyled,autocomplete:"off","aria-autocomplete":"none","aria-haspopup":"dialog","aria-expanded":i.overlayVisible,"aria-controls":a.panelId,"aria-labelledby":r.ariaLabelledby,"aria-label":r.ariaLabel,inputmode:"none",disabled:r.disabled,readonly:!r.manualInput||r.readonly,tabindex:0,onInput:a.onInput,onClick:a.onInputClick,onFocus:a.onFocus,onBlur:a.onBlur,onKeydown:a.onKeyDown,pt:r.ptm("pcInputText")},null,8,["id","class","style","defaultValue","placeholder","name","size","invalid","variant","fluid","unstyled","aria-expanded","aria-controls","aria-labelledby","aria-label","disabled","readonly","onInput","onClick","onFocus","onBlur","onKeydown","pt"])),r.showIcon&&r.iconDisplay==="button"&&!r.inline?ot(r.$slots,"dropdownbutton",{key:1,toggleCallback:a.onButtonClick},function(){return[me("button",le({class:r.cx("dropdown"),disabled:r.disabled,onClick:e[0]||(e[0]=function(){return a.onButtonClick&&a.onButtonClick.apply(a,arguments)}),type:"button","aria-label":r.$primevue.config.locale.chooseDate,"aria-haspopup":"dialog","aria-expanded":i.overlayVisible,"aria-controls":a.panelId},r.ptm("dropdown")),[ot(r.$slots,"dropdownicon",{class:$a(r.icon)},function(){return[(pe(),Ir(zn(r.icon?"span":"CalendarIcon"),le({class:r.icon},r.ptm("dropdownIcon")),null,16,["class"]))]})],16,wZ)]}):r.showIcon&&r.iconDisplay==="input"&&!r.inline?(pe(),xe(zr,{key:2},[r.$slots.inputicon||r.showIcon?(pe(),xe("span",le({key:0,class:r.cx("inputIconContainer")},r.ptm("inputIconContainer")),[ot(r.$slots,"inputicon",{class:$a(r.cx("inputIcon")),clickCallback:a.onButtonClick},function(){return[(pe(),Ir(zn(r.icon?"i":"CalendarIcon"),le({class:[r.icon,r.cx("inputIcon")],onClick:a.onButtonClick},r.ptm("inputicon")),null,16,["class","onClick"]))]})],16)):it("",!0)],64)):it("",!0),Ze(l,{appendTo:r.appendTo,disabled:r.inline},{default:Bt(function(){return[Ze(kA,le({name:"p-connected-overlay",onEnter:e[58]||(e[58]=function(c){return a.onOverlayEnter(c)}),onAfterEnter:a.onOverlayEnterComplete,onAfterLeave:a.onOverlayAfterLeave,onLeave:a.onOverlayLeave},r.ptm("transition")),{default:Bt(function(){return[r.inline||i.overlayVisible?(pe(),xe("div",le({key:0,ref:a.overlayRef,id:a.panelId,class:[r.cx("panel"),r.panelClass],style:r.panelStyle,role:r.inline?null:"dialog","aria-modal":r.inline?null:"true","aria-label":r.$primevue.config.locale.chooseDate,onClick:e[55]||(e[55]=function(){return a.onOverlayClick&&a.onOverlayClick.apply(a,arguments)}),onKeydown:e[56]||(e[56]=function(){return a.onOverlayKeyDown&&a.onOverlayKeyDown.apply(a,arguments)}),onMouseup:e[57]||(e[57]=function(){return a.onOverlayMouseUp&&a.onOverlayMouseUp.apply(a,arguments)})},r.ptm("panel")),[r.timeOnly?it("",!0):(pe(),xe(zr,{key:0},[me("div",le({class:r.cx("calendarContainer")},r.ptm("calendarContainer")),[(pe(!0),xe(zr,null,xs(a.months,function(c,h){return pe(),xe("div",le({key:c.month+c.year,class:r.cx("calendar"),ref_for:!0},r.ptm("calendar")),[me("div",le({class:r.cx("header"),ref_for:!0},r.ptm("header")),[ot(r.$slots,"header"),Ts(Ze(o,le({ref_for:!0,ref:a.previousButtonRef,class:r.cx("pcPrevButton"),disabled:r.disabled,"aria-label":i.currentView==="year"?r.$primevue.config.locale.prevDecade:i.currentView==="month"?r.$primevue.config.locale.prevYear:r.$primevue.config.locale.prevMonth,unstyled:r.unstyled,onClick:a.onPrevButtonClick,onKeydown:a.onContainerButtonKeydown},r.navigatorButtonProps,{pt:r.ptm("pcPrevButton"),"data-pc-group-section":"navigator"}),{icon:Bt(function(f){return[ot(r.$slots,"previcon",{},function(){return[(pe(),Ir(zn(r.prevIcon?"span":"ChevronLeftIcon"),le({class:[r.prevIcon,f.class],ref_for:!0},r.ptm("pcPrevButton").icon),null,16,["class"]))]})]}),_:2},1040,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[HE,h===0]]),me("div",le({class:r.cx("title"),ref_for:!0},r.ptm("title")),[r.$primevue.config.locale.showMonthAfterYear?(pe(),xe(zr,{key:0},[i.currentView!=="year"?(pe(),xe("button",le({key:0,type:"button",onClick:e[1]||(e[1]=function(){return a.switchToYearView&&a.switchToYearView.apply(a,arguments)}),onKeydown:e[2]||(e[2]=function(){return a.onContainerButtonKeydown&&a.onContainerButtonKeydown.apply(a,arguments)}),class:r.cx("selectYear"),disabled:a.switchViewButtonDisabled,"aria-label":r.$primevue.config.locale.chooseYear,ref_for:!0},r.ptm("selectYear"),{"data-pc-group-section":"view"}),ct(a.getYear(c)),17,TZ)):it("",!0),i.currentView==="date"?(pe(),xe("button",le({key:1,type:"button",onClick:e[3]||(e[3]=function(){return a.switchToMonthView&&a.switchToMonthView.apply(a,arguments)}),onKeydown:e[4]||(e[4]=function(){return a.onContainerButtonKeydown&&a.onContainerButtonKeydown.apply(a,arguments)}),class:r.cx("selectMonth"),disabled:a.switchViewButtonDisabled,"aria-label":r.$primevue.config.locale.chooseMonth,ref_for:!0},r.ptm("selectMonth"),{"data-pc-group-section":"view"}),ct(a.getMonthName(c.month)),17,AZ)):it("",!0)],64)):(pe(),xe(zr,{key:1},[i.currentView==="date"?(pe(),xe("button",le({key:0,type:"button",onClick:e[5]||(e[5]=function(){return a.switchToMonthView&&a.switchToMonthView.apply(a,arguments)}),onKeydown:e[6]||(e[6]=function(){return a.onContainerButtonKeydown&&a.onContainerButtonKeydown.apply(a,arguments)}),class:r.cx("selectMonth"),disabled:a.switchViewButtonDisabled,"aria-label":r.$primevue.config.locale.chooseMonth,ref_for:!0},r.ptm("selectMonth"),{"data-pc-group-section":"view"}),ct(a.getMonthName(c.month)),17,CZ)):it("",!0),i.currentView!=="year"?(pe(),xe("button",le({key:1,type:"button",onClick:e[7]||(e[7]=function(){return a.switchToYearView&&a.switchToYearView.apply(a,arguments)}),onKeydown:e[8]||(e[8]=function(){return a.onContainerButtonKeydown&&a.onContainerButtonKeydown.apply(a,arguments)}),class:r.cx("selectYear"),disabled:a.switchViewButtonDisabled,"aria-label":r.$primevue.config.locale.chooseYear,ref_for:!0},r.ptm("selectYear"),{"data-pc-group-section":"view"}),ct(a.getYear(c)),17,kZ)):it("",!0)],64)),i.currentView==="year"?(pe(),xe("span",le({key:2,class:r.cx("decade"),ref_for:!0},r.ptm("decade")),[ot(r.$slots,"decade",{years:a.yearPickerValues},function(){return[$n(ct(a.yearPickerValues[0].value)+" - "+ct(a.yearPickerValues[a.yearPickerValues.length-1].value),1)]})],16)):it("",!0)],16),Ts(Ze(o,le({ref_for:!0,ref:a.nextButtonRef,class:r.cx("pcNextButton"),disabled:r.disabled,"aria-label":i.currentView==="year"?r.$primevue.config.locale.nextDecade:i.currentView==="month"?r.$primevue.config.locale.nextYear:r.$primevue.config.locale.nextMonth,unstyled:r.unstyled,onClick:a.onNextButtonClick,onKeydown:a.onContainerButtonKeydown},r.navigatorButtonProps,{pt:r.ptm("pcNextButton"),"data-pc-group-section":"navigator"}),{icon:Bt(function(f){return[ot(r.$slots,"nexticon",{},function(){return[(pe(),Ir(zn(r.nextIcon?"span":"ChevronRightIcon"),le({class:[r.nextIcon,f.class],ref_for:!0},r.ptm("pcNextButton").icon),null,16,["class"]))]})]}),_:2},1040,["class","disabled","aria-label","unstyled","onClick","onKeydown","pt"]),[[HE,r.numberOfMonths===1?!0:h===r.numberOfMonths-1]])],16),i.currentView==="date"?(pe(),xe("table",le({key:0,class:r.cx("dayView"),role:"grid",ref_for:!0},r.ptm("dayView")),[me("thead",le({ref_for:!0},r.ptm("tableHeader")),[me("tr",le({ref_for:!0},r.ptm("tableHeaderRow")),[r.showWeek?(pe(),xe("th",le({key:0,scope:"col",class:r.cx("weekHeader"),ref_for:!0},r.ptm("weekHeader",{context:{disabled:r.showWeek}}),{"data-p-disabled":r.showWeek,"data-pc-group-section":"tableheadercell"}),[ot(r.$slots,"weekheaderlabel",{},function(){return[me("span",le({ref_for:!0},r.ptm("weekHeaderLabel",{context:{disabled:r.showWeek}}),{"data-pc-group-section":"tableheadercelllabel"}),ct(a.weekHeaderLabel),17)]})],16,EZ)):it("",!0),(pe(!0),xe(zr,null,xs(a.weekDays,function(f){return pe(),xe("th",le({key:f,scope:"col",abbr:f,ref_for:!0},r.ptm("tableHeaderCell"),{"data-pc-group-section":"tableheadercell",class:r.cx("weekDayCell")}),[me("span",le({class:r.cx("weekDay"),ref_for:!0},r.ptm("weekDay"),{"data-pc-group-section":"tableheadercelllabel"}),ct(f),17)],16,DZ)}),128))],16)],16),me("tbody",le({ref_for:!0},r.ptm("tableBody")),[(pe(!0),xe(zr,null,xs(c.dates,function(f,d){return pe(),xe("tr",le({key:f[0].day+""+f[0].month,ref_for:!0},r.ptm("tableBodyRow")),[r.showWeek?(pe(),xe("td",le({key:0,class:r.cx("weekNumber"),ref_for:!0},r.ptm("weekNumber"),{"data-pc-group-section":"tablebodycell"}),[me("span",le({class:r.cx("weekLabelContainer"),ref_for:!0},r.ptm("weekLabelContainer",{context:{disabled:r.showWeek}}),{"data-p-disabled":r.showWeek,"data-pc-group-section":"tablebodycelllabel"}),[ot(r.$slots,"weeklabel",{weekNumber:c.weekNumbers[d]},function(){return[c.weekNumbers[d]<10?(pe(),xe("span",le({key:0,style:{visibility:"hidden"},ref_for:!0},r.ptm("weekLabel")),"0",16)):it("",!0),$n(" "+ct(c.weekNumbers[d]),1)]})],16,MZ)],16)):it("",!0),(pe(!0),xe(zr,null,xs(f,function(p){return pe(),xe("td",le({key:p.day+""+p.month,"aria-label":p.day,class:r.cx("dayCell",{date:p}),ref_for:!0},r.ptm("dayCell",{context:{date:p,today:p.today,otherMonth:p.otherMonth,selected:a.isSelected(p),disabled:!p.selectable}}),{"data-p-today":p.today,"data-p-other-month":p.otherMonth,"data-pc-group-section":"tablebodycell"}),[r.showOtherMonths||!p.otherMonth?Ts((pe(),xe("span",le({key:0,class:r.cx("day",{date:p}),onClick:function(g){return a.onDateSelect(g,p)},draggable:"false",onKeydown:function(g){return a.onDateCellKeydown(g,p,h)},"aria-selected":a.isSelected(p),"aria-disabled":!p.selectable,ref_for:!0},r.ptm("day",{context:{date:p,today:p.today,otherMonth:p.otherMonth,selected:a.isSelected(p),disabled:!p.selectable}}),{"data-p-disabled":!p.selectable,"data-p-selected":a.isSelected(p),"data-pc-group-section":"tablebodycelllabel"}),[ot(r.$slots,"date",{date:p},function(){return[$n(ct(p.day),1)]})],16,LZ)),[[u]]):it("",!0),a.isSelected(p)?(pe(),xe("div",le({key:1,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},r.ptm("hiddenSelectedDay"),{"data-p-hidden-accessible":!0}),ct(p.day),17)):it("",!0)],16,IZ)}),128))],16)}),128))],16)],16)):it("",!0)],16)}),128))],16),i.currentView==="month"?(pe(),xe("div",le({key:0,class:r.cx("monthView")},r.ptm("monthView")),[(pe(!0),xe(zr,null,xs(a.monthPickerValues,function(c,h){return Ts((pe(),xe("span",le({key:c,onClick:function(d){return a.onMonthSelect(d,{month:c,index:h})},onKeydown:function(d){return a.onMonthCellKeydown(d,{month:c,index:h})},class:r.cx("month",{month:c,index:h}),ref_for:!0},r.ptm("month",{context:{month:c,monthIndex:h,selected:a.isMonthSelected(h),disabled:!c.selectable}}),{"data-p-disabled":!c.selectable,"data-p-selected":a.isMonthSelected(h)}),[$n(ct(c.value)+" ",1),a.isMonthSelected(h)?(pe(),xe("div",le({key:0,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},r.ptm("hiddenMonth"),{"data-p-hidden-accessible":!0}),ct(c.value),17)):it("",!0)],16,PZ)),[[u]])}),128))],16)):it("",!0),i.currentView==="year"?(pe(),xe("div",le({key:1,class:r.cx("yearView")},r.ptm("yearView")),[(pe(!0),xe(zr,null,xs(a.yearPickerValues,function(c){return Ts((pe(),xe("span",le({key:c.value,onClick:function(f){return a.onYearSelect(f,c)},onKeydown:function(f){return a.onYearCellKeydown(f,c)},class:r.cx("year",{year:c}),ref_for:!0},r.ptm("year",{context:{year:c,selected:a.isYearSelected(c.value),disabled:!c.selectable}}),{"data-p-disabled":!c.selectable,"data-p-selected":a.isYearSelected(c.value)}),[$n(ct(c.value)+" ",1),a.isYearSelected(c.value)?(pe(),xe("div",le({key:0,class:"p-hidden-accessible","aria-live":"polite",ref_for:!0},r.ptm("hiddenYear"),{"data-p-hidden-accessible":!0}),ct(c.value),17)):it("",!0)],16,RZ)),[[u]])}),128))],16)):it("",!0)],64)),(r.showTime||r.timeOnly)&&i.currentView==="date"?(pe(),xe("div",le({key:1,class:r.cx("timePicker")},r.ptm("timePicker")),[me("div",le({class:r.cx("hourPicker")},r.ptm("hourPicker"),{"data-pc-group-section":"timepickerContainer"}),[Ze(o,le({class:r.cx("pcIncrementButton"),"aria-label":r.$primevue.config.locale.nextHour,unstyled:r.unstyled,onMousedown:e[9]||(e[9]=function(c){return a.onTimePickerElementMouseDown(c,0,1)}),onMouseup:e[10]||(e[10]=function(c){return a.onTimePickerElementMouseUp(c)}),onKeydown:[a.onContainerButtonKeydown,e[12]||(e[12]=kr(function(c){return a.onTimePickerElementMouseDown(c,0,1)},["enter"])),e[13]||(e[13]=kr(function(c){return a.onTimePickerElementMouseDown(c,0,1)},["space"]))],onMouseleave:e[11]||(e[11]=function(c){return a.onTimePickerElementMouseLeave()}),onKeyup:[e[14]||(e[14]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["enter"])),e[15]||(e[15]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["space"]))]},r.timepickerButtonProps,{pt:r.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"incrementicon",{},function(){return[(pe(),Ir(zn(r.incrementIcon?"span":"ChevronUpIcon"),le({class:[r.incrementIcon,c.class]},r.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"]),me("span",le(r.ptm("hour"),{"data-pc-group-section":"timepickerlabel"}),ct(a.formattedCurrentHour),17),Ze(o,le({class:r.cx("pcDecrementButton"),"aria-label":r.$primevue.config.locale.prevHour,unstyled:r.unstyled,onMousedown:e[16]||(e[16]=function(c){return a.onTimePickerElementMouseDown(c,0,-1)}),onMouseup:e[17]||(e[17]=function(c){return a.onTimePickerElementMouseUp(c)}),onKeydown:[a.onContainerButtonKeydown,e[19]||(e[19]=kr(function(c){return a.onTimePickerElementMouseDown(c,0,-1)},["enter"])),e[20]||(e[20]=kr(function(c){return a.onTimePickerElementMouseDown(c,0,-1)},["space"]))],onMouseleave:e[18]||(e[18]=function(c){return a.onTimePickerElementMouseLeave()}),onKeyup:[e[21]||(e[21]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["enter"])),e[22]||(e[22]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["space"]))]},r.timepickerButtonProps,{pt:r.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"decrementicon",{},function(){return[(pe(),Ir(zn(r.decrementIcon?"span":"ChevronDownIcon"),le({class:[r.decrementIcon,c.class]},r.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","unstyled","onKeydown","pt"])],16),me("div",le(r.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[me("span",le(r.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),ct(r.timeSeparator),17)],16),me("div",le({class:r.cx("minutePicker")},r.ptm("minutePicker"),{"data-pc-group-section":"timepickerContainer"}),[Ze(o,le({class:r.cx("pcIncrementButton"),"aria-label":r.$primevue.config.locale.nextMinute,disabled:r.disabled,unstyled:r.unstyled,onMousedown:e[23]||(e[23]=function(c){return a.onTimePickerElementMouseDown(c,1,1)}),onMouseup:e[24]||(e[24]=function(c){return a.onTimePickerElementMouseUp(c)}),onKeydown:[a.onContainerButtonKeydown,e[26]||(e[26]=kr(function(c){return a.onTimePickerElementMouseDown(c,1,1)},["enter"])),e[27]||(e[27]=kr(function(c){return a.onTimePickerElementMouseDown(c,1,1)},["space"]))],onMouseleave:e[25]||(e[25]=function(c){return a.onTimePickerElementMouseLeave()}),onKeyup:[e[28]||(e[28]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["enter"])),e[29]||(e[29]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["space"]))]},r.timepickerButtonProps,{pt:r.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"incrementicon",{},function(){return[(pe(),Ir(zn(r.incrementIcon?"span":"ChevronUpIcon"),le({class:[r.incrementIcon,c.class]},r.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),me("span",le(r.ptm("minute"),{"data-pc-group-section":"timepickerlabel"}),ct(a.formattedCurrentMinute),17),Ze(o,le({class:r.cx("pcDecrementButton"),"aria-label":r.$primevue.config.locale.prevMinute,disabled:r.disabled,unstyled:r.unstyled,onMousedown:e[30]||(e[30]=function(c){return a.onTimePickerElementMouseDown(c,1,-1)}),onMouseup:e[31]||(e[31]=function(c){return a.onTimePickerElementMouseUp(c)}),onKeydown:[a.onContainerButtonKeydown,e[33]||(e[33]=kr(function(c){return a.onTimePickerElementMouseDown(c,1,-1)},["enter"])),e[34]||(e[34]=kr(function(c){return a.onTimePickerElementMouseDown(c,1,-1)},["space"]))],onMouseleave:e[32]||(e[32]=function(c){return a.onTimePickerElementMouseLeave()}),onKeyup:[e[35]||(e[35]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["enter"])),e[36]||(e[36]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["space"]))]},r.timepickerButtonProps,{pt:r.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"decrementicon",{},function(){return[(pe(),Ir(zn(r.decrementIcon?"span":"ChevronDownIcon"),le({class:[r.decrementIcon,c.class]},r.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])],16),r.showSeconds?(pe(),xe("div",le({key:0,class:r.cx("separatorContainer")},r.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[me("span",le(r.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),ct(r.timeSeparator),17)],16)):it("",!0),r.showSeconds?(pe(),xe("div",le({key:1,class:r.cx("secondPicker")},r.ptm("secondPicker"),{"data-pc-group-section":"timepickerContainer"}),[Ze(o,le({class:r.cx("pcIncrementButton"),"aria-label":r.$primevue.config.locale.nextSecond,disabled:r.disabled,unstyled:r.unstyled,onMousedown:e[37]||(e[37]=function(c){return a.onTimePickerElementMouseDown(c,2,1)}),onMouseup:e[38]||(e[38]=function(c){return a.onTimePickerElementMouseUp(c)}),onKeydown:[a.onContainerButtonKeydown,e[40]||(e[40]=kr(function(c){return a.onTimePickerElementMouseDown(c,2,1)},["enter"])),e[41]||(e[41]=kr(function(c){return a.onTimePickerElementMouseDown(c,2,1)},["space"]))],onMouseleave:e[39]||(e[39]=function(c){return a.onTimePickerElementMouseLeave()}),onKeyup:[e[42]||(e[42]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["enter"])),e[43]||(e[43]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["space"]))]},r.timepickerButtonProps,{pt:r.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"incrementicon",{},function(){return[(pe(),Ir(zn(r.incrementIcon?"span":"ChevronUpIcon"),le({class:[r.incrementIcon,c.class]},r.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),me("span",le(r.ptm("second"),{"data-pc-group-section":"timepickerlabel"}),ct(a.formattedCurrentSecond),17),Ze(o,le({class:r.cx("pcDecrementButton"),"aria-label":r.$primevue.config.locale.prevSecond,disabled:r.disabled,unstyled:r.unstyled,onMousedown:e[44]||(e[44]=function(c){return a.onTimePickerElementMouseDown(c,2,-1)}),onMouseup:e[45]||(e[45]=function(c){return a.onTimePickerElementMouseUp(c)}),onKeydown:[a.onContainerButtonKeydown,e[47]||(e[47]=kr(function(c){return a.onTimePickerElementMouseDown(c,2,-1)},["enter"])),e[48]||(e[48]=kr(function(c){return a.onTimePickerElementMouseDown(c,2,-1)},["space"]))],onMouseleave:e[46]||(e[46]=function(c){return a.onTimePickerElementMouseLeave()}),onKeyup:[e[49]||(e[49]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["enter"])),e[50]||(e[50]=kr(function(c){return a.onTimePickerElementMouseUp(c)},["space"]))]},r.timepickerButtonProps,{pt:r.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"decrementicon",{},function(){return[(pe(),Ir(zn(r.decrementIcon?"span":"ChevronDownIcon"),le({class:[r.decrementIcon,c.class]},r.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"])],16)):it("",!0),r.hourFormat=="12"?(pe(),xe("div",le({key:2,class:r.cx("separatorContainer")},r.ptm("separatorContainer"),{"data-pc-group-section":"timepickerContainer"}),[me("span",le(r.ptm("separator"),{"data-pc-group-section":"timepickerlabel"}),ct(r.timeSeparator),17)],16)):it("",!0),r.hourFormat=="12"?(pe(),xe("div",le({key:3,class:r.cx("ampmPicker")},r.ptm("ampmPicker")),[Ze(o,le({class:r.cx("pcIncrementButton"),"aria-label":r.$primevue.config.locale.am,disabled:r.disabled,unstyled:r.unstyled,onClick:e[51]||(e[51]=function(c){return a.toggleAMPM(c)}),onKeydown:a.onContainerButtonKeydown},r.timepickerButtonProps,{pt:r.ptm("pcIncrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"incrementicon",{class:$a(r.cx("incrementIcon"))},function(){return[(pe(),Ir(zn(r.incrementIcon?"span":"ChevronUpIcon"),le({class:[r.cx("incrementIcon"),c.class]},r.ptm("pcIncrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","unstyled","onKeydown","pt"]),me("span",le(r.ptm("ampm"),{"data-pc-group-section":"timepickerlabel"}),ct(i.pm?r.$primevue.config.locale.pm:r.$primevue.config.locale.am),17),Ze(o,le({class:r.cx("pcDecrementButton"),"aria-label":r.$primevue.config.locale.pm,disabled:r.disabled,onClick:e[52]||(e[52]=function(c){return a.toggleAMPM(c)}),onKeydown:a.onContainerButtonKeydown},r.timepickerButtonProps,{pt:r.ptm("pcDecrementButton"),"data-pc-group-section":"timepickerbutton"}),{icon:Bt(function(c){return[ot(r.$slots,"decrementicon",{class:$a(r.cx("decrementIcon"))},function(){return[(pe(),Ir(zn(r.decrementIcon?"span":"ChevronDownIcon"),le({class:[r.cx("decrementIcon"),c.class]},r.ptm("pcDecrementButton").icon,{"data-pc-group-section":"timepickerlabel"}),null,16,["class"]))]})]}),_:3},16,["class","aria-label","disabled","onKeydown","pt"])],16)):it("",!0)],16)):it("",!0),r.showButtonBar?(pe(),xe("div",le({key:2,class:r.cx("buttonbar")},r.ptm("buttonbar")),[Ze(o,le({label:a.todayLabel,onClick:e[53]||(e[53]=function(c){return a.onTodayButtonClick(c)}),class:r.cx("pcTodayButton"),unstyled:r.unstyled,onKeydown:a.onContainerButtonKeydown},r.todayButtonProps,{pt:r.ptm("pcTodayButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"]),Ze(o,le({label:a.clearLabel,onClick:e[54]||(e[54]=function(c){return a.onClearButtonClick(c)}),class:r.cx("pcClearButton"),unstyled:r.unstyled,onKeydown:a.onContainerButtonKeydown},r.clearButtonProps,{pt:r.ptm("pcClearButton"),"data-pc-group-section":"button"}),null,16,["label","class","unstyled","onKeydown","pt"])],16)):it("",!0),ot(r.$slots,"footer")],16,SZ)):it("",!0)]}),_:3},16,["onAfterEnter","onAfterLeave","onLeave"])]}),_:3},8,["appendTo","disabled"])],16,_Z)}gz.render=OZ;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YE=function(r,e){return YE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},YE(r,e)};function te(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");YE(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var FZ=function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r}(),NZ=function(){function r(){this.browser=new FZ,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r}(),pt=new NZ;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(pt.wxa=!0,pt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?pt.worker=!0:!pt.hasGlobalWindow||"Deno"in window?(pt.node=!0,pt.svgSupported=!0):BZ(navigator.userAgent,pt);function BZ(r,e){var t=e.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);n&&(t.firefox=!0,t.version=n[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in o||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}var NL=12,mz="sans-serif",Fh=NL+"px "+mz,VZ=20,zZ=100,HZ="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function GZ(r){var e={};if(typeof JSON>"u")return e;for(var t=0;t<r.length;t++){var n=String.fromCharCode(t+32),i=(r.charCodeAt(t)-VZ)/zZ;e[n]=i}return e}var $Z=GZ(HZ),Nh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var r,e;return function(t,n){if(!r){var i=Nh.createCanvas();r=i&&i.getContext("2d")}if(r)return e!==n&&(e=r.font=n||Fh),r.measureText(t);t=t||"",n=n||Fh;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||NL,o=0;if(n.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var u=$Z[t[l]];o+=u==null?s:u*s}return{width:o}}}(),loadImage:function(r,e,t){var n=new Image;return n.onload=e,n.onerror=t,n.src=r,n}},yz=xl(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,e){return r["[object "+e+"]"]=!0,r},{}),xz=xl(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,e){return r["[object "+e+"Array]"]=!0,r},{}),Cg=Object.prototype.toString,DA=Array.prototype,UZ=DA.forEach,WZ=DA.filter,BL=DA.slice,YZ=DA.map,pF=(function(){}).constructor,l_=pF?pF.prototype:null,VL="__proto__",XZ=2311;function bz(){return XZ++}function zL(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];typeof console<"u"&&console.error.apply(console,r)}function Ye(r){if(r==null||typeof r!="object")return r;var e=r,t=Cg.call(r);if(t==="[object Array]"){if(!by(r)){e=[];for(var n=0,i=r.length;n<i;n++)e[n]=Ye(r[n])}}else if(xz[t]){if(!by(r)){var a=r.constructor;if(a.from)e=a.from(r);else{e=new a(r.length);for(var n=0,i=r.length;n<i;n++)e[n]=r[n]}}}else if(!yz[t]&&!by(r)&&!dg(r)){e={};for(var s in r)r.hasOwnProperty(s)&&s!==VL&&(e[s]=Ye(r[s]))}return e}function tt(r,e,t){if(!Ue(e)||!Ue(r))return t?Ye(e):r;for(var n in e)if(e.hasOwnProperty(n)&&n!==VL){var i=r[n],a=e[n];Ue(a)&&Ue(i)&&!ve(a)&&!ve(i)&&!dg(a)&&!dg(i)&&!vF(a)&&!vF(i)&&!by(a)&&!by(i)?tt(i,a,t):(t||!(n in r))&&(r[n]=Ye(e[n]))}return r}function HL(r,e){for(var t=r[0],n=1,i=r.length;n<i;n++)t=tt(t,r[n],e);return t}function he(r,e){if(Object.assign)Object.assign(r,e);else for(var t in e)e.hasOwnProperty(t)&&t!==VL&&(r[t]=e[t]);return r}function ze(r,e,t){for(var n=gt(e),i=0,a=n.length;i<a;i++){var s=n[i];(t?e[s]!=null:r[s]==null)&&(r[s]=e[s])}return r}function lt(r,e){if(r){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t}return-1}function KZ(r,e){var t=r.prototype;function n(){}n.prototype=e.prototype,r.prototype=new n;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);r.prototype.constructor=r,r.superClass=e}function tn(r,e,t){if(r="prototype"in r?r.prototype:r,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(t?e[a]!=null:r[a]==null)&&(r[a]=e[a])}else ze(r,e,t)}function ki(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function L(r,e,t){if(r&&e)if(r.forEach&&r.forEach===UZ)r.forEach(e,t);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)e.call(t,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&e.call(t,r[a],a,r)}function ge(r,e,t){if(!r)return[];if(!e)return GL(r);if(r.map&&r.map===YZ)return r.map(e,t);for(var n=[],i=0,a=r.length;i<a;i++)n.push(e.call(t,r[i],i,r));return n}function xl(r,e,t,n){if(r&&e){for(var i=0,a=r.length;i<a;i++)t=e.call(n,t,r[i],i,r);return t}}function Ot(r,e,t){if(!r)return[];if(!e)return GL(r);if(r.filter&&r.filter===WZ)return r.filter(e,t);for(var n=[],i=0,a=r.length;i<a;i++)e.call(t,r[i],i,r)&&n.push(r[i]);return n}function jZ(r,e,t){if(r&&e){for(var n=0,i=r.length;n<i;n++)if(e.call(t,r[n],n,r))return r[n]}}function gt(r){if(!r)return[];if(Object.keys)return Object.keys(r);var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}function qZ(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return function(){return r.apply(e,t.concat(BL.call(arguments)))}}var Ee=l_&&Ve(l_.bind)?l_.call.bind(l_.bind):qZ;function Qe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return r.apply(this,e.concat(BL.call(arguments)))}}function ve(r){return Array.isArray?Array.isArray(r):Cg.call(r)==="[object Array]"}function Ve(r){return typeof r=="function"}function Ae(r){return typeof r=="string"}function XE(r){return Cg.call(r)==="[object String]"}function Mt(r){return typeof r=="number"}function Ue(r){var e=typeof r;return e==="function"||!!r&&e==="object"}function vF(r){return!!yz[Cg.call(r)]}function _a(r){return!!xz[Cg.call(r)]}function dg(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function MA(r){return r.colorStops!=null}function ZZ(r){return r.image!=null}function JZ(r){return Cg.call(r)==="[object RegExp]"}function Xy(r){return r!==r}function Un(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0,n=r.length;t<n;t++)if(r[t]!=null)return r[t]}function Je(r,e){return r??e}function vl(r,e,t){return r??e??t}function GL(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return BL.apply(r,e)}function $L(r){if(typeof r=="number")return[r,r,r,r];var e=r.length;return e===2?[r[0],r[1],r[0],r[1]]:e===3?[r[0],r[1],r[2],r[1]]:r}function Qi(r,e){if(!r)throw new Error(e)}function uo(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var _z="__ec_primitive__";function HS(r){r[_z]=!0}function by(r){return r[_z]}var QZ=function(){function r(){this.data={}}return r.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},r.prototype.has=function(e){return this.data.hasOwnProperty(e)},r.prototype.get=function(e){return this.data[e]},r.prototype.set=function(e,t){return this.data[e]=t,this},r.prototype.keys=function(){return gt(this.data)},r.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},r}(),wz=typeof Map=="function";function eJ(){return wz?new Map:new QZ}var tJ=function(){function r(e){var t=ve(e);this.data=eJ();var n=this;e instanceof r?e.each(i):e&&L(e,i);function i(a,s){t?n.set(a,s):n.set(s,a)}}return r.prototype.hasKey=function(e){return this.data.has(e)},r.prototype.get=function(e){return this.data.get(e)},r.prototype.set=function(e,t){return this.data.set(e,t),t},r.prototype.each=function(e,t){this.data.forEach(function(n,i){e.call(t,n,i)})},r.prototype.keys=function(){var e=this.data.keys();return wz?Array.from(e):e},r.prototype.removeKey=function(e){this.data.delete(e)},r}();function Le(r){return new tJ(r)}function Ky(r,e){for(var t=new r.constructor(r.length+e.length),n=0;n<r.length;n++)t[n]=r[n];for(var i=r.length,n=0;n<e.length;n++)t[n+i]=e[n];return t}function IA(r,e){var t;if(Object.create)t=Object.create(r);else{var n=function(){};n.prototype=r,t=new n}return e&&he(t,e),t}function Sz(r){var e=r.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Me(r,e){return r.hasOwnProperty(e)}function Wr(){}var Lw=180/Math.PI;function Lp(r,e){return r==null&&(r=0),e==null&&(e=0),[r,e]}function Vi(r,e){return r[0]=e[0],r[1]=e[1],r}function Fu(r){return[r[0],r[1]]}function rJ(r,e,t){return r[0]=e,r[1]=t,r}function gF(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function KE(r,e,t,n){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function Yf(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function jE(r){return Math.sqrt(nJ(r))}function nJ(r){return r[0]*r[0]+r[1]*r[1]}function Pw(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function kg(r,e){var t=jE(e);return t===0?(r[0]=0,r[1]=0):(r[0]=e[0]/t,r[1]=e[1]/t),r}function qE(r,e){return Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1]))}var gh=qE;function iJ(r,e){return(r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1])}var op=iJ;function Rw(r,e,t,n){return r[0]=e[0]+n*(t[0]-e[0]),r[1]=e[1]+n*(t[1]-e[1]),r}function ai(r,e,t){var n=e[0],i=e[1];return r[0]=t[0]*n+t[2]*i+t[4],r[1]=t[1]*n+t[3]*i+t[5],r}function mh(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function yh(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}var Zp=function(){function r(e,t){this.target=e,this.topTarget=t&&t.topTarget}return r}(),aJ=function(){function r(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Zp(t,e),"dragstart",e.event))},r.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,a=n-this._x,s=i-this._y;this._x=n,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new Zp(t,e),"drag",e.event);var o=this.handler.findHover(n,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new Zp(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new Zp(o,e),"dragenter",e.event))}},r.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Zp(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Zp(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},r}(),Rs=function(){function r(e){e&&(this._$eventProcessor=e)}return r.prototype.on=function(e,t,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=n,n=t,t=null),!n||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===n)return this;var l={h:n,query:t,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},r.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},r.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],a=0,s=n[e].length;a<s;a++)n[e][a].h!==t&&i.push(n[e][a]);n[e]=i}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,t[0]);break;case 2:c.h.call(o,t[0],t[1]);break;default:c.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},r}(),sJ=Math.log(2);function ZE(r,e,t,n,i,a){var s=n+"-"+i,o=r.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/sJ);return r[t][l]}for(var u=n|1<<t,c=t+1;n&1<<c;)c++;for(var h=0,f=0,d=0;f<o;f++){var p=1<<f;p&i||(h+=(d%2?-1:1)*r[t][f]*ZE(r,e-1,c,u,i|p,a),d++)}return a[s]=h,h}function mF(r,e){var t=[[r[0],r[1],1,0,0,0,-e[0]*r[0],-e[0]*r[1]],[0,0,0,r[0],r[1],1,-e[1]*r[0],-e[1]*r[1]],[r[2],r[3],1,0,0,0,-e[2]*r[2],-e[2]*r[3]],[0,0,0,r[2],r[3],1,-e[3]*r[2],-e[3]*r[3]],[r[4],r[5],1,0,0,0,-e[4]*r[4],-e[4]*r[5]],[0,0,0,r[4],r[5],1,-e[5]*r[4],-e[5]*r[5]],[r[6],r[7],1,0,0,0,-e[6]*r[6],-e[6]*r[7]],[0,0,0,r[6],r[7],1,-e[7]*r[6],-e[7]*r[7]]],n={},i=ZE(t,8,0,0,0,n);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*ZE(t,7,s===0?1:0,1<<s,1<<o,n)/i*e[s];return function(l,u,c){var h=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/h,l[1]=(u*a[3]+c*a[4]+a[5])/h}}}var yF="___zrEVENTSAVED",W2=[];function oJ(r,e,t,n,i){return JE(W2,e,n,i,!0)&&JE(r,t,W2[0],W2[1])}function JE(r,e,t,n,i){if(e.getBoundingClientRect&&pt.domSupported&&!Tz(e)){var a=e[yF]||(e[yF]={}),s=lJ(e,a),o=uJ(s,a,i);if(o)return o(r,t,n),!0}return!1}function lJ(r,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),r.appendChild(s),t.push(s)}return t}function uJ(r,e,t){for(var n=t?"invTrans":"trans",i=e[n],a=e.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var c=r[u].getBoundingClientRect(),h=2*u,f=c.left,d=c.top;s.push(f,d),l=l&&a&&f===a[h]&&d===a[h+1],o.push(r[u].offsetLeft,r[u].offsetTop)}return l&&i?i:(e.srcCoords=s,e[n]=t?mF(o,s):mF(s,o))}function Tz(r){return r.nodeName.toUpperCase()==="CANVAS"}var cJ=/([&<>"'])/g,hJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Wi(r){return r==null?"":(r+"").replace(cJ,function(e,t){return hJ[t]})}var fJ=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Y2=[],dJ=pt.browser.firefox&&+pt.browser.version.split(".")[0]<39;function QE(r,e,t,n){return t=t||{},n?xF(r,e,t):dJ&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):xF(r,e,t),t}function xF(r,e,t){if(pt.domSupported&&r.getBoundingClientRect){var n=e.clientX,i=e.clientY;if(Tz(r)){var a=r.getBoundingClientRect();t.zrX=n-a.left,t.zrY=i-a.top;return}else if(JE(Y2,r,n,i)){t.zrX=Y2[0],t.zrY=Y2[1];return}}t.zrX=t.zrY=0}function UL(r){return r||window.event}function ss(r,e,t){if(e=UL(e),e.zrX!=null)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&QE(r,s,e,t)}else{QE(r,e,e,t);var a=pJ(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&fJ.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function pJ(r){var e=r.wheelDelta;if(e)return e;var t=r.deltaX,n=r.deltaY;if(t==null||n==null)return e;var i=Math.abs(n!==0?n:t),a=n>0?-1:n<0?1:t>0?-1:1;return 3*i*a}function eD(r,e,t,n){r.addEventListener(e,t,n)}function vJ(r,e,t,n){r.removeEventListener(e,t,n)}var Xu=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function bF(r){return r.which===2||r.which===3}var gJ=function(){function r(){this._track=[]}return r.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(e,t,n){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],u=QE(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},r.prototype._recognize=function(e){for(var t in X2)if(X2.hasOwnProperty(t)){var n=X2[t](this._track,e);if(n)return n}},r}();function _F(r){var e=r[1][0]-r[0][0],t=r[1][1]-r[0][1];return Math.sqrt(e*e+t*t)}function mJ(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var X2={pinch:function(r,e){var t=r.length;if(t){var n=(r[t-1]||{}).points,i=(r[t-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=_F(n)/_F(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=mJ(n);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:r[0].target,event:e}}}}};function Ya(){return[1,0,0,1,0,0]}function LA(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function WL(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Nu(r,e,t){var n=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=s,r[4]=o,r[5]=l,r}function bl(r,e,t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4]+t[0],r[5]=e[5]+t[1],r}function Pp(r,e,t,n){n===void 0&&(n=[0,0]);var i=e[0],a=e[2],s=e[4],o=e[1],l=e[3],u=e[5],c=Math.sin(t),h=Math.cos(t);return r[0]=i*h+o*c,r[1]=-i*c+o*h,r[2]=a*h+l*c,r[3]=-a*c+h*l,r[4]=h*(s-n[0])+c*(u-n[1])+n[0],r[5]=h*(u-n[1])-c*(s-n[0])+n[1],r}function YL(r,e,t){var n=t[0],i=t[1];return r[0]=e[0]*n,r[1]=e[1]*i,r[2]=e[2]*n,r[3]=e[3]*i,r[4]=e[4]*n,r[5]=e[5]*i,r}function Eg(r,e){var t=e[0],n=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*n;return l?(l=1/l,r[0]=s*l,r[1]=-a*l,r[2]=-n*l,r[3]=t*l,r[4]=(n*o-s*i)*l,r[5]=(a*i-t*o)*l,r):null}function yJ(r){var e=Ya();return WL(e,r),e}var nt=function(){function r(e,t){this.x=e||0,this.y=t||0}return r.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(e,t){return this.x=e,this.y=t,this},r.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},r.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},r.prototype.scale=function(e){this.x*=e,this.y*=e},r.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},r.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},r.prototype.dot=function(e){return this.x*e.x+this.y*e.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},r.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},r.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},r.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},r.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},r.set=function(e,t,n){e.x=t,e.y=n},r.copy=function(e,t){e.x=t.x,e.y=t.y},r.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.lenSquare=function(e){return e.x*e.x+e.y*e.y},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},r.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},r.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},r.scaleAndAdd=function(e,t,n,i){e.x=t.x+n.x*i,e.y=t.y+n.y*i},r.lerp=function(e,t,n,i){var a=1-i;e.x=a*t.x+i*n.x,e.y=a*t.y+i*n.y},r}(),u_=Math.min,c_=Math.max,rf=new nt,nf=new nt,af=new nt,sf=new nt,Qg=new nt,em=new nt,at=function(){function r(e,t,n,i){n<0&&(e=e+n,n=-n),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=n,this.height=i}return r.prototype.union=function(e){var t=u_(e.x,this.x),n=u_(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=c_(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=c_(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},r.prototype.applyTransform=function(e){r.applyTransform(this,this,e)},r.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,i=e.height/t.height,a=Ya();return bl(a,a,[-t.x,-t.y]),YL(a,a,[n,i]),bl(a,a,[e.x,e.y]),a},r.prototype.intersect=function(e,t){if(!e)return!1;e instanceof r||(e=r.create(e));var n=this,i=n.x,a=n.x+n.width,s=n.y,o=n.y+n.height,l=e.x,u=e.x+e.width,c=e.y,h=e.y+e.height,f=!(a<l||u<i||o<c||h<s);if(t){var d=1/0,p=0,v=Math.abs(a-l),g=Math.abs(u-i),m=Math.abs(o-c),x=Math.abs(h-s),y=Math.min(v,g),_=Math.min(m,x);a<l||u<i?y>p&&(p=y,v<g?nt.set(em,-v,0):nt.set(em,g,0)):y<d&&(d=y,v<g?nt.set(Qg,v,0):nt.set(Qg,-g,0)),o<c||h<s?_>p&&(p=_,m<x?nt.set(em,0,-m):nt.set(em,0,x)):y<d&&(d=y,m<x?nt.set(Qg,0,m):nt.set(Qg,0,-x))}return t&&nt.copy(t,f?Qg:em),f},r.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(e){r.copy(this,e)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(e){return new r(e.x,e.y,e.width,e.height)},r.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},r.applyTransform=function(e,t,n){if(!n){e!==t&&r.copy(e,t);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],s=n[4],o=n[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}rf.x=af.x=t.x,rf.y=sf.y=t.y,nf.x=sf.x=t.x+t.width,nf.y=af.y=t.y+t.height,rf.transform(n),sf.transform(n),nf.transform(n),af.transform(n),e.x=u_(rf.x,nf.x,af.x,sf.x),e.y=u_(rf.y,nf.y,af.y,sf.y);var l=c_(rf.x,nf.x,af.x,sf.x),u=c_(rf.y,nf.y,af.y,sf.y);e.width=l-e.x,e.height=u-e.y},r}(),Az="silent";function xJ(r,e,t){return{type:r,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:bJ}}function bJ(){Xu(this.event)}var _J=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Rs),tm=function(){function r(e,t){this.x=e,this.y=t}return r}(),wJ=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],K2=new at(0,0,0,0),Cz=function(r){te(e,r);function e(t,n,i,a,s){var o=r.call(this)||this;return o._hovered=new tm(0,0),o.storage=t,o.painter=n,o.painterRoot=a,o._pointerSize=s,i=i||new _J,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new aJ(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(L(wJ,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var n=t.zrX,i=t.zrY,a=kz(this,n,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new tm(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var n=t.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new tm(0,0)},e.prototype.dispatch=function(t,n){var i=this[t];i&&i.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},e.prototype.dispatchToElement=function(t,n,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+n,o=xJ(n,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},e.prototype.findHover=function(t,n,i){var a=this.storage.getDisplayList(),s=new tm(t,n);if(wF(a,s,t,n,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,c=new at(t-u,n-u,l,l),h=a.length-1;h>=0;h--){var f=a[h];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(K2.copy(f.getBoundingRect()),f.transform&&K2.applyTransform(f.transform),K2.intersect(c)&&o.push(f))}if(o.length)for(var d=4,p=Math.PI/12,v=Math.PI*2,g=0;g<u;g+=d)for(var m=0;m<v;m+=p){var x=t+g*Math.cos(m),y=n+g*Math.sin(m);if(wF(o,s,x,y,i),s.target)return s}}return s},e.prototype.processGesture=function(t,n){this._gestureMgr||(this._gestureMgr=new gJ);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new tm;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(Rs);L(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Cz.prototype[r]=function(e){var t=e.zrX,n=e.zrY,i=kz(this,t,n),a,s;if((r!=="mouseup"||!i)&&(a=this.findHover(t,n),s=a.target),r==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||gh(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,e)}});function SJ(r,e,t){if(r[r.rectHover?"rectContain":"contain"](e,t)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(e,t))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?Az:!0}return!1}function wF(r,e,t,n,i){for(var a=r.length-1;a>=0;a--){var s=r[a],o=void 0;if(s!==i&&!s.ignore&&(o=SJ(s,t,n))&&(!e.topTarget&&(e.topTarget=s),o!==Az)){e.target=s;break}}}function kz(r,e,t){var n=r.painter;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var Ez=32,rm=7;function TJ(r){for(var e=0;r>=Ez;)e|=r&1,r>>=1;return r+e}function SF(r,e,t,n){var i=e+1;if(i===t)return 1;if(n(r[i++],r[e])<0){for(;i<t&&n(r[i],r[i-1])<0;)i++;AJ(r,e,i)}else for(;i<t&&n(r[i],r[i-1])>=0;)i++;return i-e}function AJ(r,e,t){for(t--;e<t;){var n=r[e];r[e++]=r[t],r[t--]=n}}function TF(r,e,t,n,i){for(n===e&&n++;n<t;n++){for(var a=r[n],s=e,o=n,l;s<o;)l=s+o>>>1,i(a,r[l])<0?o=l:s=l+1;var u=n-s;switch(u){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;u>0;)r[s+u]=r[s+u-1],u--}r[s]=a}}function j2(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])>0){for(o=n-i;l<o&&a(r,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(r,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}for(s++;s<l;){var c=s+(l-s>>>1);a(r,e[t+c])>0?s=c+1:l=c}return l}function q2(r,e,t,n,i,a){var s=0,o=0,l=1;if(a(r,e[t+i])<0){for(o=i+1;l<o&&a(r,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}else{for(o=n-i;l<o&&a(r,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var c=s+(l-s>>>1);a(r,e[t+c])<0?l=c:s=c+1}return l}function CJ(r,e){var t=rm,n,i,a=0,s=[];n=[],i=[];function o(d,p){n[a]=d,i[a]=p,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;c(d)}}function u(){for(;a>1;){var d=a-2;d>0&&i[d-1]<i[d+1]&&d--,c(d)}}function c(d){var p=n[d],v=i[d],g=n[d+1],m=i[d+1];i[d]=v+m,d===a-3&&(n[d+1]=n[d+2],i[d+1]=i[d+2]),a--;var x=q2(r[g],r,p,v,0,e);p+=x,v-=x,v!==0&&(m=j2(r[p+v-1],r,g,m,m-1,e),m!==0&&(v<=m?h(p,v,g,m):f(p,v,g,m)))}function h(d,p,v,g){var m=0;for(m=0;m<p;m++)s[m]=r[d+m];var x=0,y=v,_=d;if(r[_++]=r[y++],--g===0){for(m=0;m<p;m++)r[_+m]=s[x+m];return}if(p===1){for(m=0;m<g;m++)r[_+m]=r[y+m];r[_+g]=s[x];return}for(var S=t,w,T,A;;){w=0,T=0,A=!1;do if(e(r[y],s[x])<0){if(r[_++]=r[y++],T++,w=0,--g===0){A=!0;break}}else if(r[_++]=s[x++],w++,T=0,--p===1){A=!0;break}while((w|T)<S);if(A)break;do{if(w=q2(r[y],s,x,p,0,e),w!==0){for(m=0;m<w;m++)r[_+m]=s[x+m];if(_+=w,x+=w,p-=w,p<=1){A=!0;break}}if(r[_++]=r[y++],--g===0){A=!0;break}if(T=j2(s[x],r,y,g,0,e),T!==0){for(m=0;m<T;m++)r[_+m]=r[y+m];if(_+=T,y+=T,g-=T,g===0){A=!0;break}}if(r[_++]=s[x++],--p===1){A=!0;break}S--}while(w>=rm||T>=rm);if(A)break;S<0&&(S=0),S+=2}if(t=S,t<1&&(t=1),p===1){for(m=0;m<g;m++)r[_+m]=r[y+m];r[_+g]=s[x]}else{if(p===0)throw new Error;for(m=0;m<p;m++)r[_+m]=s[x+m]}}function f(d,p,v,g){var m=0;for(m=0;m<g;m++)s[m]=r[v+m];var x=d+p-1,y=g-1,_=v+g-1,S=0,w=0;if(r[_--]=r[x--],--p===0){for(S=_-(g-1),m=0;m<g;m++)r[S+m]=s[m];return}if(g===1){for(_-=p,x-=p,w=_+1,S=x+1,m=p-1;m>=0;m--)r[w+m]=r[S+m];r[_]=s[y];return}for(var T=t;;){var A=0,C=0,k=!1;do if(e(s[y],r[x])<0){if(r[_--]=r[x--],A++,C=0,--p===0){k=!0;break}}else if(r[_--]=s[y--],C++,A=0,--g===1){k=!0;break}while((A|C)<T);if(k)break;do{if(A=p-q2(s[y],r,d,p,p-1,e),A!==0){for(_-=A,x-=A,p-=A,w=_+1,S=x+1,m=A-1;m>=0;m--)r[w+m]=r[S+m];if(p===0){k=!0;break}}if(r[_--]=s[y--],--g===1){k=!0;break}if(C=g-j2(r[x],s,0,g,g-1,e),C!==0){for(_-=C,y-=C,g-=C,w=_+1,S=y+1,m=0;m<C;m++)r[w+m]=s[S+m];if(g<=1){k=!0;break}}if(r[_--]=r[x--],--p===0){k=!0;break}T--}while(A>=rm||C>=rm);if(k)break;T<0&&(T=0),T+=2}if(t=T,t<1&&(t=1),g===1){for(_-=p,x-=p,w=_+1,S=x+1,m=p-1;m>=0;m--)r[w+m]=r[S+m];r[_]=s[y]}else{if(g===0)throw new Error;for(S=_-(g-1),m=0;m<g;m++)r[S+m]=s[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function Ow(r,e,t,n){t||(t=0),n||(n=r.length);var i=n-t;if(!(i<2)){var a=0;if(i<Ez){a=SF(r,t,n,e),TF(r,t,n,t+a,e);return}var s=CJ(r,e),o=TJ(i);do{if(a=SF(r,t,n,e),a<o){var l=i;l>o&&(l=o),TF(r,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var gl=1,Fw=2,Fm=4,AF=!1;function Z2(){AF||(AF=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function CF(r,e){return r.zlevel===e.zlevel?r.z===e.z?r.z2-e.z2:r.z-e.z:r.zlevel-e.zlevel}var kJ=function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=CF}return r.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},r.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(t),n},r.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);n.length=this._displayListLen,Ow(n,CF)},r.prototype._updateAndAddDisplayable=function(e,t,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var a=i,s=e;a;)a.parent=s,a.updateTransform(),t.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var u=o[l];e.__dirty&&(u.__dirty|=gl),this._updateAndAddDisplayable(u,t,n)}e.__dirty=0}else{var c=e;t&&t.length?c.__clipPaths=t:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(Z2(),c.z=0),isNaN(c.z2)&&(Z2(),c.z2=0),isNaN(c.zlevel)&&(Z2(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var h=e.getDecalElement&&e.getDecalElement();h&&this._updateAndAddDisplayable(h,t,n);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,n);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,t,n)}},r.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},r.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);return}var i=lt(this._roots,e);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r}(),GS;GS=pt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var _y={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)))},elasticOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*r)*Math.sin((r-e)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),(r*=2)<1?-.5*(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)):t*Math.pow(2,-10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var e=1.70158;return r*r*((e+1)*r-e)},backOut:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},backInOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)},bounceIn:function(r){return 1-_y.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?_y.bounceIn(r*2)*.5:_y.bounceOut(r*2-1)*.5+.5}},h_=Math.pow,Dh=Math.sqrt,Dz=1e-8,Mz=1e-4,kF=Dh(3),f_=1/3,ol=Lp(),bs=Lp(),Wv=Lp();function xh(r){return r>-1e-8&&r<Dz}function Iz(r){return r>Dz||r<-1e-8}function wn(r,e,t,n,i){var a=1-i;return a*a*(a*r+3*i*e)+i*i*(i*n+3*a*t)}function EF(r,e,t,n,i){var a=1-i;return 3*(((e-r)*a+2*(t-e)*i)*a+(n-t)*i*i)}function $S(r,e,t,n,i,a){var s=n+3*(e-t)-r,o=3*(t-e*2+r),l=3*(e-r),u=r-i,c=o*o-3*s*l,h=o*l-9*s*u,f=l*l-3*o*u,d=0;if(xh(c)&&xh(h))if(xh(o))a[0]=0;else{var p=-l/o;p>=0&&p<=1&&(a[d++]=p)}else{var v=h*h-4*c*f;if(xh(v)){var g=h/c,p=-o/s+g,m=-g/2;p>=0&&p<=1&&(a[d++]=p),m>=0&&m<=1&&(a[d++]=m)}else if(v>0){var x=Dh(v),y=c*o+1.5*s*(-h+x),_=c*o+1.5*s*(-h-x);y<0?y=-h_(-y,f_):y=h_(y,f_),_<0?_=-h_(-_,f_):_=h_(_,f_);var p=(-o-(y+_))/(3*s);p>=0&&p<=1&&(a[d++]=p)}else{var S=(2*c*o-3*s*h)/(2*Dh(c*c*c)),w=Math.acos(S)/3,T=Dh(c),A=Math.cos(w),p=(-o-2*T*A)/(3*s),m=(-o+T*(A+kF*Math.sin(w)))/(3*s),C=(-o+T*(A-kF*Math.sin(w)))/(3*s);p>=0&&p<=1&&(a[d++]=p),m>=0&&m<=1&&(a[d++]=m),C>=0&&C<=1&&(a[d++]=C)}}return d}function Lz(r,e,t,n,i){var a=6*t-12*e+6*r,s=9*e+3*n-3*r-9*t,o=3*e-3*r,l=0;if(xh(s)){if(Iz(a)){var u=-o/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*s*o;if(xh(c))i[0]=-a/(2*s);else if(c>0){var h=Dh(c),u=(-a+h)/(2*s),f=(-a-h)/(2*s);u>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}function Bh(r,e,t,n,i,a){var s=(e-r)*i+r,o=(t-e)*i+e,l=(n-t)*i+t,u=(o-s)*i+s,c=(l-o)*i+o,h=(c-u)*i+u;a[0]=r,a[1]=s,a[2]=u,a[3]=h,a[4]=h,a[5]=c,a[6]=l,a[7]=n}function Pz(r,e,t,n,i,a,s,o,l,u,c){var h,f=.005,d=1/0,p,v,g,m;ol[0]=l,ol[1]=u;for(var x=0;x<1;x+=.05)bs[0]=wn(r,t,i,s,x),bs[1]=wn(e,n,a,o,x),g=op(ol,bs),g<d&&(h=x,d=g);d=1/0;for(var y=0;y<32&&!(f<Mz);y++)p=h-f,v=h+f,bs[0]=wn(r,t,i,s,p),bs[1]=wn(e,n,a,o,p),g=op(bs,ol),p>=0&&g<d?(h=p,d=g):(Wv[0]=wn(r,t,i,s,v),Wv[1]=wn(e,n,a,o,v),m=op(Wv,ol),v<=1&&m<d?(h=v,d=m):f*=.5);return c&&(c[0]=wn(r,t,i,s,h),c[1]=wn(e,n,a,o,h)),Dh(d)}function EJ(r,e,t,n,i,a,s,o,l){for(var u=r,c=e,h=0,f=1/l,d=1;d<=l;d++){var p=d*f,v=wn(r,t,i,s,p),g=wn(e,n,a,o,p),m=v-u,x=g-c;h+=Math.sqrt(m*m+x*x),u=v,c=g}return h}function Gn(r,e,t,n){var i=1-n;return i*(i*r+2*n*e)+n*n*t}function tD(r,e,t,n){return 2*((1-n)*(e-r)+n*(t-e))}function DJ(r,e,t,n,i){var a=r-2*e+t,s=2*(e-r),o=r-n,l=0;if(xh(a)){if(Iz(s)){var u=-o/s;u>=0&&u<=1&&(i[l++]=u)}}else{var c=s*s-4*a*o;if(xh(c)){var u=-s/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var h=Dh(c),u=(-s+h)/(2*a),f=(-s-h)/(2*a);u>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}function Rz(r,e,t){var n=r+t-2*e;return n===0?.5:(r-e)/n}function jy(r,e,t,n,i){var a=(e-r)*n+r,s=(t-e)*n+e,o=(s-a)*n+a;i[0]=r,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function Oz(r,e,t,n,i,a,s,o,l){var u,c=.005,h=1/0;ol[0]=s,ol[1]=o;for(var f=0;f<1;f+=.05){bs[0]=Gn(r,t,i,f),bs[1]=Gn(e,n,a,f);var d=op(ol,bs);d<h&&(u=f,h=d)}h=1/0;for(var p=0;p<32&&!(c<Mz);p++){var v=u-c,g=u+c;bs[0]=Gn(r,t,i,v),bs[1]=Gn(e,n,a,v);var d=op(bs,ol);if(v>=0&&d<h)u=v,h=d;else{Wv[0]=Gn(r,t,i,g),Wv[1]=Gn(e,n,a,g);var m=op(Wv,ol);g<=1&&m<h?(u=g,h=m):c*=.5}}return l&&(l[0]=Gn(r,t,i,u),l[1]=Gn(e,n,a,u)),Dh(h)}function MJ(r,e,t,n,i,a,s){for(var o=r,l=e,u=0,c=1/s,h=1;h<=s;h++){var f=h*c,d=Gn(r,t,i,f),p=Gn(e,n,a,f),v=d-o,g=p-l;u+=Math.sqrt(v*v+g*g),o=d,l=p}return u}var IJ=/cubic-bezier\(([0-9,\.e ]+)\)/;function XL(r){var e=r&&IJ.exec(r);if(e){var t=e[1].split(","),n=+uo(t[0]),i=+uo(t[1]),a=+uo(t[2]),s=+uo(t[3]);if(isNaN(n+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:$S(0,n,a,1,l,o)&&wn(0,i,s,1,o[0])}}}var LJ=function(){function r(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Wr,this.ondestroy=e.ondestroy||Wr,this.onrestart=e.onrestart||Wr,e.easing&&this.setEasing(e.easing)}return r.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var n=this._life,i=e-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ve(e)?e:_y[e]||XL(e)},r}(),Fz=function(){function r(e){this.value=e}return r}(),PJ=function(){function r(){this._len=0}return r.prototype.insert=function(e){var t=new Fz(e);return this.insertEntry(t),t},r.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r}(),_b=function(){function r(e){this._list=new PJ,this._maxSize=10,this._map={},this._maxSize=e}return r.prototype.put=function(e,t){var n=this._list,i=this._map,a=null;if(i[e]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new Fz(t),o.key=e,n.insertEntry(o),i[e]=o}return a},r.prototype.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r}(),DF={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function go(r){return r=Math.round(r),r<0?0:r>255?255:r}function RJ(r){return r=Math.round(r),r<0?0:r>360?360:r}function qy(r){return r<0?0:r>1?1:r}function J2(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?go(parseFloat(e)/100*255):go(parseInt(e,10))}function lp(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?qy(parseFloat(e)/100):qy(parseFloat(e))}function Q2(r,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?r+(e-r)*t*6:t*2<1?e:t*3<2?r+(e-r)*(2/3-t)*6:r}function bh(r,e,t){return r+(e-r)*t}function is(r,e,t,n,i){return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function rD(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}var Nz=new _b(20),d_=null;function Jp(r,e){d_&&rD(d_,e),d_=Nz.put(r,d_||e.slice())}function Xa(r,e){if(r){e=e||[];var t=Nz.get(r);if(t)return rD(e,t);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in DF)return rD(e,DF[n]),Jp(r,e),e;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){is(e,0,0,0,1);return}return is(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Jp(r,e),e}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){is(e,0,0,0,1);return}return is(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Jp(r,e),e}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===i){var l=n.substr(0,s),u=n.substr(s+1,o-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?is(e,+u[0],+u[1],+u[2],1):is(e,0,0,0,1);c=lp(u.pop());case"rgb":if(u.length>=3)return is(e,J2(u[0]),J2(u[1]),J2(u[2]),u.length===3?c:lp(u[3])),Jp(r,e),e;is(e,0,0,0,1);return;case"hsla":if(u.length!==4){is(e,0,0,0,1);return}return u[3]=lp(u[3]),nD(u,e),Jp(r,e),e;case"hsl":if(u.length!==3){is(e,0,0,0,1);return}return nD(u,e),Jp(r,e),e;default:return}}is(e,0,0,0,1)}}function nD(r,e){var t=(parseFloat(r[0])%360+360)%360/360,n=lp(r[1]),i=lp(r[2]),a=i<=.5?i*(n+1):i+n-i*n,s=i*2-a;return e=e||[],is(e,go(Q2(s,a,t+1/3)*255),go(Q2(s,a,t)*255),go(Q2(s,a,t-1/3)*255),1),r.length===4&&(e[3]=r[3]),e}function OJ(r){if(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(e,t,n),a=Math.max(e,t,n),s=a-i,o=(a+i)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+i):u=s/(2-a-i);var c=((a-e)/6+s/2)/s,h=((a-t)/6+s/2)/s,f=((a-n)/6+s/2)/s;e===a?l=f-h:t===a?l=1/3+c-f:n===a&&(l=2/3+h-c),l<0&&(l+=1),l>1&&(l-=1)}var d=[l*360,u,o];return r[3]!=null&&d.push(r[3]),d}}function iD(r,e){var t=Xa(r);if(t){for(var n=0;n<3;n++)e<0?t[n]=t[n]*(1-e)|0:t[n]=(255-t[n])*e+t[n]|0,t[n]>255?t[n]=255:t[n]<0&&(t[n]=0);return Bu(t,t.length===4?"rgba":"rgb")}}function eC(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){t=t||[];var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=e[i],o=e[a],l=n-i;return t[0]=go(bh(s[0],o[0],l)),t[1]=go(bh(s[1],o[1],l)),t[2]=go(bh(s[2],o[2],l)),t[3]=qy(bh(s[3],o[3],l)),t}}function FJ(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){var n=r*(e.length-1),i=Math.floor(n),a=Math.ceil(n),s=Xa(e[i]),o=Xa(e[a]),l=n-i,u=Bu([go(bh(s[0],o[0],l)),go(bh(s[1],o[1],l)),go(bh(s[2],o[2],l)),qy(bh(s[3],o[3],l))],"rgba");return t?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}function wy(r,e,t,n){var i=Xa(r);if(r)return i=OJ(i),e!=null&&(i[0]=RJ(e)),t!=null&&(i[1]=lp(t)),n!=null&&(i[2]=lp(n)),Bu(nD(i),"rgba")}function US(r,e){var t=Xa(r);if(t&&e!=null)return t[3]=qy(e),Bu(t,"rgba")}function Bu(r,e){if(!(!r||!r.length)){var t=r[0]+","+r[1]+","+r[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+r[3]),e+"("+t+")"}}function WS(r,e){var t=Xa(r);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var MF=new _b(100);function aD(r){if(Ae(r)){var e=MF.get(r);return e||(e=iD(r,-.1),MF.put(r,e)),e}else if(MA(r)){var t=he({},r);return t.colorStops=ge(r.colorStops,function(n){return{offset:n.offset,color:iD(n.color,-.1)}}),t}return r}var YS=Math.round;function Zy(r){var e;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var t=Xa(r);t&&(r="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:r,opacity:e??1}}var NJ=1e-4;function _h(r){return r<NJ&&r>-1e-4}function p_(r){return YS(r*1e3)/1e3}function sD(r){return YS(r*1e4)/1e4}function BJ(r){return"matrix("+p_(r[0])+","+p_(r[1])+","+p_(r[2])+","+p_(r[3])+","+sD(r[4])+","+sD(r[5])+")"}var VJ={left:"start",right:"end",center:"middle",middle:"middle"};function zJ(r,e,t){return t==="top"?r+=e/2:t==="bottom"&&(r-=e/2),r}function HJ(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function GJ(r){var e=r.style,t=r.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function Bz(r){return r&&!!r.image}function $J(r){return r&&!!r.svgElement}function KL(r){return Bz(r)||$J(r)}function Vz(r){return r.type==="linear"}function zz(r){return r.type==="radial"}function Hz(r){return r&&(r.type==="linear"||r.type==="radial")}function PA(r){return"url(#"+r+")"}function Gz(r){var e=r.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function $z(r){var e=r.x||0,t=r.y||0,n=(r.rotation||0)*Lw,i=Je(r.scaleX,1),a=Je(r.scaleY,1),s=r.skewX||0,o=r.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+YS(s*Lw)+"deg, "+YS(o*Lw)+"deg)"),l.join(" ")}var UJ=function(){return pt.hasGlobalWindow&&Ve(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}}(),oD=Array.prototype.slice;function Yl(r,e,t){return(e-r)*t+r}function tC(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=Yl(e[a],t[a],n);return r}function WJ(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=Yl(e[s][o],t[s][o],n)}return r}function v_(r,e,t,n){for(var i=e.length,a=0;a<i;a++)r[a]=e[a]+t[a]*n;return r}function IF(r,e,t,n){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){r[s]||(r[s]=[]);for(var o=0;o<a;o++)r[s][o]=e[s][o]+t[s][o]*n}return r}function YJ(r,e){for(var t=r.length,n=e.length,i=t>n?e:r,a=Math.min(t,n),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,n);o++)i.push({offset:s.offset,color:s.color.slice()})}function XJ(r,e,t){var n=r,i=e;if(!(!n.push||!i.push)){var a=n.length,s=i.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(t===1?i[l]:oD.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(t===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function Sy(r){if(ki(r)){var e=r.length;if(ki(r[0])){for(var t=[],n=0;n<e;n++)t.push(oD.call(r[n]));return t}return oD.call(r)}return r}function Nw(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function KJ(r){return ki(r&&r[0])?2:1}var g_=0,Bw=1,Uz=2,Nm=3,lD=4,uD=5,LF=6;function PF(r){return r===lD||r===uD}function m_(r){return r===Bw||r===Uz}var nm=[0,0,0,0],jJ=function(){function r(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=LF,l=t;if(ki(t)){var u=KJ(t);o=u,(u===1&&!Mt(t[0])||u===2&&!Mt(t[0][0]))&&(s=!0)}else if(Mt(t)&&!Xy(t))o=g_;else if(Ae(t))if(!isNaN(+t))o=g_;else{var c=Xa(t);c&&(l=c,o=Nm)}else if(MA(t)){var h=he({},l);h.colorStops=ge(t.colorStops,function(d){return{offset:d.offset,color:Xa(d.color)}}),Vz(t)?o=lD:zz(t)&&(o=uD),l=h}a===0?this.valType=o:(o!==this.valType||o===LF)&&(s=!0),this.discrete=this.discrete||s;var f={time:e,value:l,rawValue:t,percent:0};return n&&(f.easing=n,f.easingFunc=Ve(n)?n:_y[n]||XL(n)),i.push(f),f},r.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort(function(v,g){return v.time-g.time});for(var i=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=m_(i),u=PF(i),c=0;c<a;c++){var h=n[c],f=h.value,d=s.value;h.percent=h.time/e,o||(l&&c!==a-1?XJ(f,d,i):u&&YJ(f.colorStops,d.colorStops))}if(!o&&i!==uD&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var p=n[0].value,c=0;c<a;c++)i===g_?n[c].additiveValue=n[c].value-p:i===Nm?n[c].additiveValue=v_([],n[c].value,p,-1):m_(i)&&(n[c].additiveValue=i===Bw?v_([],n[c].value,p,-1):IF([],n[c].value,p,-1))}},r.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===Nm,c,h=this._lastFr,f=Math.min,d,p;if(o===1)d=p=s[0];else{if(t<0)c=0;else if(t<this._lastFrP){var v=f(h+1,o-1);for(c=v;c>=0&&!(s[c].percent<=t);c--);c=f(c,o-2)}else{for(c=h;c<o&&!(s[c].percent>t);c++);c=f(c-1,o-2)}p=s[c+1],d=s[c]}if(d&&p){this._lastFr=c,this._lastFrP=t;var g=p.percent-d.percent,m=g===0?1:f((t-d.percent)/g,1);p.easingFunc&&(m=p.easingFunc(m));var x=n?this._additiveValue:u?nm:e[l];if((m_(a)||u)&&!x&&(x=this._additiveValue=[]),this.discrete)e[l]=m<1?d.rawValue:p.rawValue;else if(m_(a))a===Bw?tC(x,d[i],p[i],m):WJ(x,d[i],p[i],m);else if(PF(a)){var y=d[i],_=p[i],S=a===lD;e[l]={type:S?"linear":"radial",x:Yl(y.x,_.x,m),y:Yl(y.y,_.y,m),colorStops:ge(y.colorStops,function(T,A){var C=_.colorStops[A];return{offset:Yl(T.offset,C.offset,m),color:Nw(tC([],T.color,C.color,m))}}),global:_.global},S?(e[l].x2=Yl(y.x2,_.x2,m),e[l].y2=Yl(y.y2,_.y2,m)):e[l].r=Yl(y.r,_.r,m)}else if(u)tC(x,d[i],p[i],m),n||(e[l]=Nw(x));else{var w=Yl(d[i],p[i],m);n?this._additiveValue=w:e[l]=w}n&&this._addToTarget(e)}}},r.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,i=this._additiveValue;t===g_?e[n]=e[n]+i:t===Nm?(Xa(e[n],nm),v_(nm,nm,i,1),e[n]=Nw(nm)):t===Bw?v_(e[n],e[n],i,1):t===Uz&&IF(e[n],e[n],i,1)},r}(),jL=function(){function r(e,t,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){zL("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(e){this._target=e},r.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,gt(t),n)},r.prototype.whenWithKeys=function(e,t,n,i){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new jJ(o);var u=void 0,c=this._getAdditiveTrack(o);if(c){var h=c.keyframes,f=h[h.length-1];u=f&&f.value,c.valType===Nm&&u&&(u=Nw(u))}else u=this._target[o];if(u==null)continue;e>0&&l.addKeyframe(0,Sy(u),i),this._trackKeys.push(o)}l.addKeyframe(e,Sy(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},r.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},r.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(e);a&&(t=a)}return t},r.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,c=u.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var h=u[c-1];h&&(t._target[o.propName]=h.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var f=new LJ({life:i,loop:this._loop,delay:this._delay||0,onframe:function(d){t._started=2;var p=t._additiveAnimators;if(p){for(var v=!1,g=0;g<p.length;g++)if(p[g]._clip){v=!0;break}v||(t._additiveAnimators=null)}for(var g=0;g<n.length;g++)n[g].step(t._target,d);var m=t._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](t._target,d)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},r.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},r.prototype.delay=function(e){return this._delay=e,this},r.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},r.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},r.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(e){return this._tracks[e]},r.prototype.getTracks=function(){var e=this;return ge(this._trackKeys,function(t){return e._tracks[t]})},r.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=n[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},r.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(e[a]=Sy(l.rawValue))}}}},r.prototype.__changeFinalValue=function(e,t){t=t||gt(e);for(var n=0;n<t.length;n++){var i=t[n],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r}();function Fv(){return new Date().getTime()}var qJ=function(r){te(e,r);function e(t){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(t){if(t.animation){var n=t.prev,i=t.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},e.prototype.update=function(t){for(var n=Fv()-this._pausedTime,i=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function n(){t._running&&(GS(n),!t._paused&&t.update())}GS(n)},e.prototype.start=function(){this._running||(this._time=Fv(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Fv(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Fv()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,n){n=n||{},this.start();var i=new jL(t,n.loop);return this.addAnimator(i),i},e}(Rs),ZJ=300,rC=pt.domSupported,nC=function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=ge(r,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:r,touch:e,pointer:n}}(),RF={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},OF=!1;function cD(r){var e=r.pointerType;return e==="pen"||e==="touch"}function JJ(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function iC(r){r&&(r.zrByTouch=!0)}function QJ(r,e){return ss(r.dom,new eQ(r,e),!0)}function Wz(r,e){for(var t=e,n=!1;t&&t.nodeType!==9&&!(n=t.domBelongToZr||t!==e&&t===r.painterRoot);)t=t.parentNode;return n}var eQ=function(){function r(e,t){this.stopPropagation=Wr,this.stopImmediatePropagation=Wr,this.preventDefault=Wr,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return r}(),Ws={mousedown:function(r){r=ss(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=ss(this.dom,r);var e=this.__mayPointerCapture;e&&(r.zrX!==e[0]||r.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=ss(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=ss(this.dom,r);var e=r.toElement||r.relatedTarget;Wz(this,e)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){OF=!0,r=ss(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){OF||(r=ss(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=ss(this.dom,r),iC(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),Ws.mousemove.call(this,r),Ws.mousedown.call(this,r)},touchmove:function(r){r=ss(this.dom,r),iC(r),this.handler.processGesture(r,"change"),Ws.mousemove.call(this,r)},touchend:function(r){r=ss(this.dom,r),iC(r),this.handler.processGesture(r,"end"),Ws.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<ZJ&&Ws.click.call(this,r)},pointerdown:function(r){Ws.mousedown.call(this,r)},pointermove:function(r){cD(r)||Ws.mousemove.call(this,r)},pointerup:function(r){Ws.mouseup.call(this,r)},pointerout:function(r){cD(r)||Ws.mouseout.call(this,r)}};L(["click","dblclick","contextmenu"],function(r){Ws[r]=function(e){e=ss(this.dom,e),this.trigger(r,e)}});var hD={pointermove:function(r){cD(r)||hD.mousemove.call(this,r)},pointerup:function(r){hD.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),e&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function tQ(r,e){var t=e.domHandlers;pt.pointerEventsSupported?L(nC.pointer,function(n){Vw(e,n,function(i){t[n].call(r,i)})}):(pt.touchEventsSupported&&L(nC.touch,function(n){Vw(e,n,function(i){t[n].call(r,i),JJ(e)})}),L(nC.mouse,function(n){Vw(e,n,function(i){i=UL(i),e.touching||t[n].call(r,i)})}))}function rQ(r,e){pt.pointerEventsSupported?L(RF.pointer,t):pt.touchEventsSupported||L(RF.mouse,t);function t(n){function i(a){a=UL(a),Wz(r,a.target)||(a=QJ(r,a),e.domHandlers[n].call(r,a))}Vw(e,n,i,{capture:!0})}}function Vw(r,e,t,n){r.mounted[e]=t,r.listenerOpts[e]=n,eD(r.domTarget,e,t,n)}function aC(r){var e=r.mounted;for(var t in e)e.hasOwnProperty(t)&&vJ(r.domTarget,t,e[t],r.listenerOpts[t]);r.mounted={}}var FF=function(){function r(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return r}(),nQ=function(r){te(e,r);function e(t,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=n,i._localHandlerScope=new FF(t,Ws),rC&&(i._globalHandlerScope=new FF(document,hD)),tQ(i,i._localHandlerScope),i}return e.prototype.dispose=function(){aC(this._localHandlerScope),rC&&aC(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,rC&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?rQ(this,n):aC(n)}},e}(Rs),Yz=1;pt.hasGlobalWindow&&(Yz=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var XS=Yz,fD=.4,dD="#333",pD="#ccc",iQ="#eee",NF=LA,aQ=5e-5;function of(r){return r>aQ||r<-5e-5}var lf=[],Qp=[],sC=Ya(),oC=Math.abs,Mu=function(){function r(){}return r.prototype.getLocalTransform=function(e){return r.getLocalTransform(this,e)},r.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},r.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},r.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},r.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},r.prototype.needLocalTransform=function(){return of(this.rotation)||of(this.x)||of(this.y)||of(this.scaleX-1)||of(this.scaleY-1)||of(this.skewX)||of(this.skewY)},r.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;if(!(t||e)){n&&(NF(n),this.invTransform=null);return}n=n||Ya(),t?this.getLocalTransform(n):NF(n),e&&(t?Nu(n,e,n):WL(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(lf);var n=lf[0]<0?-1:1,i=lf[1]<0?-1:1,a=((lf[0]-n)*t+n)/lf[0]||0,s=((lf[1]-i)*t+i)/lf[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||Ya(),Eg(this.invTransform,e)},r.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},r.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Ya(),Nu(Qp,e.invTransform,t),t=Qp);var n=this.originX,i=this.originY;(n||i)&&(sC[4]=n,sC[5]=i,Nu(Qp,t,sC),Qp[4]-=n,Qp[5]-=i,t=Qp),this.setLocalTransform(t)}},r.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},r.prototype.transformCoordToLocal=function(e,t){var n=[e,t],i=this.invTransform;return i&&ai(n,n,i),n},r.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],i=this.transform;return i&&ai(n,n,i),n},r.prototype.getLineScale=function(){var e=this.transform;return e&&oC(e[0]-1)>1e-10&&oC(e[3]-1)>1e-10?Math.sqrt(oC(e[0]*e[3]-e[2]*e[1])):1},r.prototype.copyTransform=function(e){Xz(this,e)},r.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,h=e.y,f=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(n||i||o||l){var p=n+o,v=i+l;t[4]=-p*a-f*v*s,t[5]=-v*s-d*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=d*a,t[2]=f*s,u&&Pp(t,t,u),t[4]+=n+c,t[5]+=i+h,t},r.initDefaultProps=function(){var e=r.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),r}(),_l=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Xz(r,e){for(var t=0;t<_l.length;t++){var n=_l[t];r[n]=e[n]}}var BF={};function Ka(r,e){e=e||Fh;var t=BF[e];t||(t=BF[e]=new _b(500));var n=t.get(r);return n==null&&(n=Nh.measureText(r,e).width,t.put(r,n)),n}function VF(r,e,t,n){var i=Ka(r,e),a=RA(e),s=Bm(0,i,t),o=wv(0,a,n),l=new at(s,o,i,a);return l}function wb(r,e,t,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return VF(i[0],e,t,n);for(var s=new at(0,0,0,0),o=0;o<i.length;o++){var l=VF(i[o],e,t,n);o===0?s.copy(l):s.union(l)}return s}function Bm(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function wv(r,e,t){return t==="middle"?r-=e/2:t==="bottom"&&(r-=e),r}function RA(r){return Ka("å½",r)}function xo(r,e){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*e:parseFloat(r):r}function KS(r,e,t){var n=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,u=t.y,c="left",h="top";if(n instanceof Array)l+=xo(n[0],t.width),u+=xo(n[1],t.height),c=null,h=null;else switch(n){case"left":l-=i,u+=o,c="right",h="middle";break;case"right":l+=i+s,u+=o,h="middle";break;case"top":l+=s/2,u-=i,c="center",h="bottom";break;case"bottom":l+=s/2,u+=a+i,c="center";break;case"inside":l+=s/2,u+=o,c="center",h="middle";break;case"insideLeft":l+=i,u+=o,h="middle";break;case"insideRight":l+=s-i,u+=o,c="right",h="middle";break;case"insideTop":l+=s/2,u+=i,c="center";break;case"insideBottom":l+=s/2,u+=a-i,c="center",h="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=s-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,h="bottom";break;case"insideBottomRight":l+=s-i,u+=a-i,c="right",h="bottom";break}return r=r||{},r.x=l,r.y=u,r.align=c,r.verticalAlign=h,r}var lC="__zr_normal__",uC=_l.concat(["ignore"]),sQ=xl(_l,function(r,e){return r[e]=!0,r},{ignore:!1}),ev={},oQ=new at(0,0,0,0),OA=function(){function r(e){this.id=bz(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return r.prototype._init=function(e){this.attr(e)},r.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(t),n.position!=null){var c=oQ;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ev,n,c):KS(ev,n,c),a.x=ev.x,a.y=ev.y,s=ev.align,o=ev.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var f=void 0,d=void 0;h==="center"?(f=c.width*.5,d=c.height*.5):(f=xo(h[0],c.width),d=xo(h[1],c.height)),u=!0,a.originX=-a.x+f+(i?0:c.x),a.originY=-a.y+d+(i?0:c.y)}}n.rotation!=null&&(a.rotation=n.rotation);var p=n.offset;p&&(a.x+=p[0],a.y+=p[1],u||(a.originX=-p[0],a.originY=-p[1]));var v=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,x=void 0,y=void 0;v&&this.canBeInsideText()?(m=n.insideFill,x=n.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(x==null||x==="auto")&&(x=this.getInsideTextStroke(m),y=!0)):(m=n.outsideFill,x=n.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(x==null||x==="auto")&&(x=this.getOutsideStroke(m),y=!0)),m=m||"#000",(m!==g.fill||x!==g.stroke||y!==g.autoStroke||s!==g.align||o!==g.verticalAlign)&&(l=!0,g.fill=m,g.stroke=x,g.autoStroke=y,g.align=s,g.verticalAlign=o,t.setDefaultTextStyle(g)),t.__dirty|=gl,l&&t.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(e){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?pD:dD},r.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n=typeof t=="string"&&Xa(t);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(a?0:255)*(1-i);return n[3]=1,Bu(n,"rgba")},r.prototype.traverse=function(e,t){},r.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},he(this.extra,t)):this[e]=t},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Ue(e))for(var n=e,i=gt(n),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==lC)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},r.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,uC)},r.prototype._savePrimaryToNormal=function(e,t,n){for(var i=0;i<n.length;i++){var a=n[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(e){return this.states[e]},r.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},r.prototype.clearStates=function(e){this.useState(lC,!1,e)},r.prototype.useState=function(e,t,n,i){var a=e===lC,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(lt(o,e)>=0&&(t||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){zL("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!n&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,f=this._textGuide;return h&&h.useState(e,t,n,c),f&&f.useState(e,t,n,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),u}}},r.prototype.useStates=function(e,t,n){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&i.push(c)}var h=i[s-1],f=!!(h&&h.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var v=this._textContent,g=this._textGuide;v&&v.useStates(e,t,f),g&&g.useStates(e,t,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},r.prototype.isSilent=function(){for(var e=this.silent,t=this.parent;!e&&t;){if(t.silent){e=!0;break}t=t.parent}return e},r.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},r.prototype.removeState=function(e){var t=lt(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},r.prototype.replaceState=function(e,t,n){var i=this.currentStates.slice(),a=lt(i,e),s=lt(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:n&&!s&&i.push(t),this.useStates(i)},r.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},r.prototype._mergeStates=function(e){for(var t={},n,i=0;i<e.length;i++){var a=e[i];he(t,a),a.textConfig&&(n=n||{},he(n,a.textConfig))}return n&&(t.textConfig=n),t},r.prototype._applyStateObj=function(e,t,n,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=he({},i?this.textConfig:n.textConfig),he(this.textConfig,t.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<uC.length;c++){var h=uC[c],f=a&&sQ[h];t&&t[h]!=null?f?(u=!0,l[h]=t[h]):this[h]=t[h]:o&&n[h]!=null&&(f?(u=!0,l[h]=n[h]):this[h]=n[h])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(t||n)[p]:t||n)}u&&this._transitionState(e,l,s)},r.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},r.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},r.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Mu,this._attachComponent(e),this._textContent=e,this.markRedraw())},r.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),he(this.textConfig,e),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=gl;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},r.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},r.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},r.prototype.animate=function(e,t,n){var i=e?this[e]:this,a=new jL(i,t,n);return e&&(a.targetName=e),this.addAnimator(a,e),a},r.prototype.addAnimator=function(e,t){var n=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=lt(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(e){this.markRedraw()},r.prototype.stopAnimation=function(e,t){for(var n=this.animators,i=n.length,a=[],s=0;s<i;s++){var o=n[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},r.prototype.animateTo=function(e,t,n){cC(this,e,t,n)},r.prototype.animateFrom=function(e,t,n){cC(this,e,t,n,!0)},r.prototype._transitionState=function(e,t,n,i){for(var a=cC(this,t,n,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=function(){var e=r.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=gl;function t(n,i,a,s){Object.defineProperty(e,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),r}();tn(OA,Rs);tn(OA,Mu);function cC(r,e,t,n,i){t=t||{};var a=[];Kz(r,"",r,e,t,n,a,i);var s=a.length,o=!1,l=t.done,u=t.aborted,c=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},h=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(p,v){t.during(v)});for(var f=0;f<a.length;f++){var d=a[f];c&&d.done(c),h&&d.aborted(h),t.force&&d.duration(t.duration),d.start(t.easing)}return a}function hC(r,e,t){for(var n=0;n<t;n++)r[n]=e[n]}function lQ(r){return ki(r[0])}function uQ(r,e,t){if(ki(e[t]))if(ki(r[t])||(r[t]=[]),_a(e[t])){var n=e[t].length;r[t].length!==n&&(r[t]=new e[t].constructor(n),hC(r[t],e[t],n))}else{var i=e[t],a=r[t],s=i.length;if(lQ(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?hC(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else hC(a,i,s);a.length=i.length}else r[t]=e[t]}function cQ(r,e){return r===e||ki(r)&&ki(e)&&hQ(r,e)}function hQ(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function Kz(r,e,t,n,i,a,s,o){for(var l=gt(n),u=i.duration,c=i.delay,h=i.additive,f=i.setToFinal,d=!Ue(a),p=r.animators,v=[],g=0;g<l.length;g++){var m=l[g],x=n[m];if(x!=null&&t[m]!=null&&(d||a[m]))if(Ue(x)&&!ki(x)&&!MA(x)){if(e){o||(t[m]=x,r.updateDuringAnimation(e));continue}Kz(r,m,t[m],x,i,a&&a[m],s,o)}else v.push(m);else o||(t[m]=x,r.updateDuringAnimation(e),v.push(m))}var y=v.length;if(!h&&y)for(var _=0;_<p.length;_++){var S=p[_];if(S.targetName===e){var w=S.stopTracks(v);if(w){var T=lt(p,S);p.splice(T,1)}}}if(i.force||(v=Ot(v,function(E){return!cQ(n[E],t[E])}),y=v.length),y>0||i.force&&!s.length){var A=void 0,C=void 0,k=void 0;if(o){C={},f&&(A={});for(var _=0;_<y;_++){var m=v[_];C[m]=t[m],f?A[m]=n[m]:t[m]=n[m]}}else if(f){k={};for(var _=0;_<y;_++){var m=v[_];k[m]=Sy(t[m]),uQ(t,n,m)}}var S=new jL(t,!1,!1,h?Ot(p,function(D){return D.targetName===e}):null);S.targetName=e,i.scope&&(S.scope=i.scope),f&&A&&S.whenWithKeys(0,A,v),k&&S.whenWithKeys(0,k,v),S.whenWithKeys(u??500,o?C:n,v).delay(c||0),r.addAnimator(S,e),s.push(S)}}var Ke=function(r){te(e,r);function e(t){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===t)return n[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,n){var i=lt(this._children,t);return i>=0&&this.replaceAt(n,i),this},e.prototype.replaceAt=function(t,n){var i=this._children,a=i[n];if(t&&t!==this&&t.parent!==this&&t!==a){i[n]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(t){var n=this.__zr,i=this._children,a=lt(i,t);return a<0?this:(i.splice(a,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,i=0;i<t.length;i++){var a=t[i];n&&a.removeSelfFromZr(n),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,n){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(n,s,a)}return this},e.prototype.traverse=function(t,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(n,a);a.isGroup&&!s&&a.traverse(t,n)}return this},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var n=new at(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(at.applyTransform(n,u,c),s=s||n.clone(),s.union(n)):(s=s||u.clone(),s.union(u))}}return s||n},e}(OA);Ke.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var zw={},jz={};function fQ(r){delete jz[r]}function dQ(r){if(!r)return!1;if(typeof r=="string")return WS(r,1)<fD;if(r.colorStops){for(var e=r.colorStops,t=0,n=e.length,i=0;i<n;i++)t+=WS(e[i].color,1);return t/=n,t<fD}return!1}var pQ=function(){function r(e,t,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var a=new kJ,s=n.renderer||"canvas";zw[s]||(s=gt(zw)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new zw[s](t,a,n,e),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!pt.node&&!pt.worker&&!l?new nQ(o.getViewportRoot(),o.root):null,c=n.useCoarsePointer,h=c==null||c==="auto"?pt.touchEventsSupported:!!c,f=44,d;h&&(d=Je(n.pointerSize,f)),this.handler=new Cz(a,o,u,o.root,d),this.animation=new qJ({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return r.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},r.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},r.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=dQ(e))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(e){this._darkMode=e},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(e){var t,n=Fv();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=Fv();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},r.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},r.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},r.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},r.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},r.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof Ke&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,fQ(this.id))},r}();function zF(r,e){var t=new pQ(bz(),r,e);return jz[t.id]=t,t}function vQ(r,e){zw[r]=e}var vD;function gQ(r){if(typeof vD=="function")return vD(r)}function mQ(r){vD=r}var yQ=1e-4,qz=20;function xQ(r){return r.replace(/^\s+|\s+$/g,"")}function zt(r,e,t,n){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(n)if(l>0){if(r<=i)return s;if(r>=a)return o}else{if(r>=i)return s;if(r<=a)return o}else{if(r===i)return s;if(r===a)return o}return(r-i)/l*u+s}function _e(r,e){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return Ae(r)?xQ(r).match(/%$/)?parseFloat(r)/100*e:parseFloat(r):r==null?NaN:+r}function Hr(r,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),qz),r=(+r).toFixed(e),t?r:+r}function Es(r){return r.sort(function(e,t){return e-t}),r}function hl(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(r*e)/e===r)return t}return bQ(r)}function bQ(r){var e=r.toString().toLowerCase(),t=e.indexOf("e"),n=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-n)}function Zz(r,e){var t=Math.log,n=Math.LN10,i=Math.floor(t(r[1]-r[0])/n),a=Math.round(t(Math.abs(e[1]-e[0]))/n),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function _Q(r,e){var t=xl(r,function(d,p){return d+(isNaN(p)?0:p)},0);if(t===0)return[];for(var n=Math.pow(10,e),i=ge(r,function(d){return(isNaN(d)?0:d)/t*n*100}),a=n*100,s=ge(i,function(d){return Math.floor(d)}),o=xl(s,function(d,p){return d+p},0),l=ge(i,function(d,p){return d-s[p]});o<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,h=0,f=l.length;h<f;++h)l[h]>u&&(u=l[h],c=h);++s[c],l[c]=0,++o}return ge(s,function(d){return d/n})}function wQ(r,e){var t=Math.max(hl(r),hl(e)),n=r+e;return t>qz?n:Hr(n,t)}var HF=9007199254740991;function Jz(r){var e=Math.PI*2;return(r%e+e)%e}function Jy(r){return r>-1e-4&&r<yQ}var SQ=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function wl(r){if(r instanceof Date)return r;if(Ae(r)){var e=SQ.exec(r);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function TQ(r){return Math.pow(10,qL(r))}function qL(r){if(r===0)return 0;var e=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,e)>=10&&e++,e}function Qz(r,e){var t=qL(r),n=Math.pow(10,t),i=r/n,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,r=a*n,t>=-20?+r.toFixed(t<0?-t:0):r}function fC(r,e){var t=(r.length-1)*e+1,n=Math.floor(t),i=+r[n-1],a=t-n;return a?i+a*(r[n]-i):i}function GF(r){r.sort(function(l,u){return o(l,u,0)?-1:1});for(var e=-1/0,t=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,s=0;s<2;s++)i[s]<=e&&(i[s]=e,a[s]=s?1:1-t),e=i[s],t=a[s];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function o(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&o(l,u,1))}}function Ku(r){var e=parseFloat(r);return e==r&&(e!==0||!Ae(r)||r.indexOf("x")<=0)?e:NaN}function eH(r){return!isNaN(Ku(r))}function tH(){return Math.round(Math.random()*9)}function rH(r,e){return e===0?r:rH(e,r%e)}function $F(r,e){return r==null?e:e==null?r:r*e/rH(r,e)}function Rt(r){throw new Error(r)}function UF(r,e,t){return(e-r)*t+r}var nH="series\0",iH="\0_ec_\0";function qt(r){return r instanceof Array?r:r==null?[]:[r]}function xp(r,e,t){if(r){r[e]=r[e]||{},r.emphasis=r.emphasis||{},r.emphasis[e]=r.emphasis[e]||{};for(var n=0,i=t.length;n<i;n++){var a=t[n];!r.emphasis[e].hasOwnProperty(a)&&r[e].hasOwnProperty(a)&&(r.emphasis[e][a]=r[e][a])}}}var WF=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Dg(r){return Ue(r)&&!ve(r)&&!(r instanceof Date)?r.value:r}function AQ(r){return Ue(r)&&!(r instanceof Array)}function aH(r,e,t){var n=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";r=r||[],e=(e||[]).slice();var s=Le();L(e,function(l,u){if(!Ue(l)){e[u]=null;return}});var o=CQ(r,s,t);return(n||i)&&kQ(o,r,s,e),n&&EQ(o,e),n||i?DQ(o,e,i):a&&MQ(o,e),IQ(o),o}function CQ(r,e,t){var n=[];if(t==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&e.set(a.id,i),n.push({existing:t==="replaceMerge"||Qy(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function kQ(r,e,t,n){L(n,function(i,a){if(!(!i||i.id==null)){var s=Ty(i.id),o=t.get(s);if(o!=null){var l=r[o];Qi(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],n[a]=null}}})}function EQ(r,e){L(e,function(t,n){if(!(!t||t.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||t.id==null)&&!Qy(t)&&!Qy(a)&&sH("name",a,t)){r[i].newOption=t,e[n]=null;return}}})}function DQ(r,e,t){L(e,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||Qy(i.existing)||i.existing&&n.id!=null&&!sH("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=t):r.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),a++}})}function MQ(r,e){L(e,function(t){r.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function IQ(r){var e=Le();L(r,function(t){var n=t.existing;n&&e.set(n.id,t)}),L(r,function(t){var n=t.newOption;Qi(!n||n.id==null||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),L(r,function(t,n){var i=t.existing,a=t.newOption,s=t.keyInfo;if(Ue(a)){if(s.name=a.name!=null?Ty(a.name):i?i.name:nH+n,i)s.id=Ty(i.id);else if(a.id!=null)s.id=Ty(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function sH(r,e,t){var n=fn(e[r],null),i=fn(t[r],null);return n!=null&&i!=null&&n===i}function Ty(r){return fn(r,"")}function fn(r,e){return r==null?e:Ae(r)?r:Mt(r)||XE(r)?r+"":e}function ZL(r){var e=r.name;return!!(e&&e.indexOf(nH))}function Qy(r){return r&&r.id!=null&&Ty(r.id).indexOf(iH)===0}function LQ(r){return iH+r}function PQ(r,e,t){L(r,function(n){var i=n.newOption;Ue(i)&&(n.keyInfo.mainType=e,n.keyInfo.subType=RQ(e,i,n.existing,t))})}function RQ(r,e,t,n){var i=e.type?e.type:t?t.subType:n.determineSubType(r,e);return i}function OQ(r,e){var t={},n={};return i(r||[],t),i(e||[],n,t),[a(t),a(n)];function i(s,o,l){for(var u=0,c=s.length;u<c;u++){var h=fn(s[u].seriesId,null);if(h==null)return;for(var f=qt(s[u].dataIndex),d=l&&l[h],p=0,v=f.length;p<v;p++){var g=f[p];d&&d[g]?d[g]=null:(o[h]||(o[h]={}))[g]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var c=a(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function bp(r,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ve(e.dataIndex)?ge(e.dataIndex,function(t){return r.indexOfRawIndex(t)}):r.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ve(e.name)?ge(e.name,function(t){return r.indexOfName(t)}):r.indexOfName(e.name)}function At(){var r="__ec_inner_"+FQ++;return function(e){return e[r]||(e[r]={})}}var FQ=tH();function Ay(r,e,t){var n=JL(e,t),i=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var h=Sb(r,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[c+"Models"]=h.models,o[c+"Model"]=h.models[0]}),o}function JL(r,e){var t;if(Ae(r)){var n={};n[r+"Index"]=0,t=n}else t=r;var i=Le(),a={},s=!1;return L(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],h=(u[2]||"").toLowerCase();if(!(!c||!h||e&&e.includeMainTypes&&lt(e.includeMainTypes,c)<0)){s=s||!!c;var f=i.get(c)||i.set(c,{});f[h]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var Jr={useDefault:!0,enableAll:!1,enableNone:!1},NQ={useDefault:!1,enableAll:!0,enableNone:!0};function Sb(r,e,t,n){n=n||Jr;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=r.getComponent(e))?[l]:[],o}return i==="none"||i===!1?(Qi(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(Qi(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=r.queryComponents({mainType:e,index:i,id:a,name:s}),o)}function oH(r,e,t){r.setAttribute?r.setAttribute(e,t):r[e]=t}function BQ(r,e){return r.getAttribute?r.getAttribute(e):r[e]}function VQ(r){return r==="auto"?pt.domSupported?"html":"richText":r||"html"}function gD(r,e){var t=Le(),n=[];return L(r,function(i){var a=e(i);(t.get(a)||(n.push(a),t.set(a,[]))).push(i)}),{keys:n,buckets:t}}function lH(r,e,t,n,i){var a=e==null||e==="auto";if(n==null)return n;if(Mt(n)){var s=UF(t||0,n,i);return Hr(s,a?Math.max(hl(t||0),hl(n)):e)}else{if(Ae(n))return i<1?t:n;for(var o=[],l=t,u=n,c=Math.max(l?l.length:0,u.length),h=0;h<c;++h){var f=r.getDimensionInfo(h);if(f&&f.type==="ordinal")o[h]=(i<1&&l?l:u)[h];else{var d=l&&l[h]?l[h]:0,p=u[h],s=UF(d,p,i);o[h]=Hr(s,a?Math.max(hl(d),hl(p)):e)}}return o}}var zQ=".",uf="___EC__COMPONENT__CONTAINER___",uH="___EC__EXTENDED_CLASS___";function fl(r){var e={main:"",sub:""};if(r){var t=r.split(zQ);e.main=t[0]||"",e.sub=t[1]||""}return e}function HQ(r){Qi(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function GQ(r){return!!(r&&r[uH])}function QL(r,e){r.$constructor=r,r.extend=function(t){var n=this,i;return $Q(n)?i=function(a){te(s,a);function s(){return a.apply(this,arguments)||this}return s}(n):(i=function(){(t.$constructor||n).apply(this,arguments)},KZ(i,this)),he(i.prototype,t),i[uH]=!0,i.extend=this.extend,i.superCall=YQ,i.superApply=XQ,i.superClass=n,i}}function $Q(r){return Ve(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function cH(r,e){r.extend=e.extend}var UQ=Math.round(Math.random()*10);function WQ(r){var e=["__\0is_clz",UQ++].join("_");r.prototype[e]=!0,r.isInstance=function(t){return!!(t&&t[e])}}function YQ(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[e].apply(r,t)}function XQ(r,e,t){return this.superClass.prototype[e].apply(r,t)}function FA(r){var e={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){HQ(i),n.prototype.type=i;var a=fl(i);if(!a.sub)e[a.main]=n;else if(a.sub!==uf){var s=t(a);s[a.sub]=n}}return n},r.getClass=function(n,i,a){var s=e[n];if(s&&s[uf]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},r.getClassesByMainType=function(n){var i=fl(n),a=[],s=e[i.main];return s&&s[uf]?L(s,function(o,l){l!==uf&&a.push(o)}):a.push(s),a},r.hasClass=function(n){var i=fl(n);return!!e[i.main]},r.getAllClassMainTypes=function(){var n=[];return L(e,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=fl(n),a=e[i.main];return a&&a[uf]};function t(n){var i=e[n.main];return(!i||!i[uf])&&(i=e[n.main]={},i[uf]=!0),i}}function _p(r,e){for(var t=0;t<r.length;t++)r[t][1]||(r[t][1]=r[t][0]);return e=e||!1,function(n,i,a){for(var s={},o=0;o<r.length;o++){var l=r[o][1];if(!(i&&lt(i,l)>=0||a&&lt(a,l)<0)){var u=n.getShallow(l,e);u!=null&&(s[r[o][0]]=u)}}return s}}var KQ=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],jQ=_p(KQ),qQ=function(){function r(){}return r.prototype.getAreaStyle=function(e,t){return jQ(this,e,t)},r}(),mD=new _b(50);function ZQ(r){if(typeof r=="string"){var e=mD.get(r);return e&&e.image}else return r}function eP(r,e,t,n,i){if(r)if(typeof r=="string"){if(e&&e.__zrImageSrc===r||!t)return e;var a=mD.get(r),s={hostEl:t,cb:n,cbPayload:i};return a?(e=a.image,!NA(e)&&a.pending.push(s)):(e=Nh.loadImage(r,YF,YF),e.__zrImageSrc=r,mD.put(r,e.__cachedImgObj={image:e,pending:[s]})),e}else return r;else return e}function YF(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<r.pending.length;e++){var t=r.pending[e],n=t.cb;n&&n(this,t.cbPayload),t.hostEl.dirty()}r.pending.length=0}function NA(r){return r&&r.width&&r.height}var dC=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function JQ(r,e,t,n,i,a){if(!t){r.text="",r.isTruncated=!1;return}var s=(e+"").split(`
`);a=hH(t,n,i,a);for(var o=!1,l={},u=0,c=s.length;u<c;u++)fH(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;r.text=s.join(`
`),r.isTruncated=o}function hH(r,e,t,n){n=n||{};var i=he({},n);i.font=e,t=Je(t,"..."),i.maxIterations=Je(n.maxIterations,2);var a=i.minChar=Je(n.minChar,0);i.cnCharWidth=Ka("å½",e);var s=i.ascCharWidth=Ka("a",e);i.placeholder=Je(n.placeholder,"");for(var o=r=Math.max(0,r-1),l=0;l<a&&o>=s;l++)o-=s;var u=Ka(t,e);return u>o&&(t="",u=0),o=r-u,i.ellipsis=t,i.ellipsisWidth=u,i.contentWidth=o,i.containerWidth=r,i}function fH(r,e,t){var n=t.containerWidth,i=t.font,a=t.contentWidth;if(!n){r.textLine="",r.isTruncated=!1;return}var s=Ka(e,i);if(s<=n){r.textLine=e,r.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?QQ(e,a,t.ascCharWidth,t.cnCharWidth):s>0?Math.floor(e.length*a/s):0;e=e.substr(0,l),s=Ka(e,i)}e===""&&(e=t.placeholder),r.textLine=e,r.isTruncated=!0}function QQ(r,e,t,n){for(var i=0,a=0,s=r.length;a<s&&i<e;a++){var o=r.charCodeAt(a);i+=0<=o&&o<=127?t:n}return a}function eee(r,e){r!=null&&(r+="");var t=e.overflow,n=e.padding,i=e.font,a=t==="truncate",s=RA(i),o=Je(e.lineHeight,s),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=!1,h=e.width,f;h!=null&&(t==="break"||t==="breakAll")?f=r?dH(r,e.font,h,t==="breakAll",0).lines:[]:f=r?r.split(`
`):[];var d=f.length*o,p=Je(e.height,d);if(d>p&&u){var v=Math.floor(p/o);c=c||f.length>v,f=f.slice(0,v)}if(r&&a&&h!=null)for(var g=hH(h,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m={},x=0;x<f.length;x++)fH(m,f[x],g),f[x]=m.textLine,c=c||m.isTruncated;for(var y=p,_=0,x=0;x<f.length;x++)_=Math.max(Ka(f[x],i),_);h==null&&(h=_);var S=_;return n&&(y+=n[0]+n[2],S+=n[1]+n[3],h+=n[1]+n[3]),l&&(S=h),{lines:f,height:p,outerWidth:S,outerHeight:y,lineHeight:o,calculatedLineHeight:s,contentWidth:_,contentHeight:d,width:h,isTruncated:c}}var tee=function(){function r(){}return r}(),XF=function(){function r(e){this.tokens=[],e&&(this.tokens=e)}return r}(),ree=function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r}();function nee(r,e){var t=new ree;if(r!=null&&(r+=""),!r)return t;for(var n=e.width,i=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,o=dC.lastIndex=0,l;(l=dC.exec(r))!=null;){var u=l.index;u>o&&pC(t,r.substring(o,u),e,s),pC(t,l[2],e,s,l[1]),o=dC.lastIndex}o<r.length&&pC(t,r.substring(o,r.length),e,s);var c=[],h=0,f=0,d=e.padding,p=a==="truncate",v=e.lineOverflow==="truncate",g={};function m(ee,Q,N){ee.width=Q,ee.lineHeight=N,h+=N,f=Math.max(f,Q)}e:for(var x=0;x<t.lines.length;x++){for(var y=t.lines[x],_=0,S=0,w=0;w<y.tokens.length;w++){var T=y.tokens[w],A=T.styleName&&e.rich[T.styleName]||{},C=T.textPadding=A.padding,k=C?C[1]+C[3]:0,E=T.font=A.font||e.font;T.contentHeight=RA(E);var D=Je(A.height,T.contentHeight);if(T.innerHeight=D,C&&(D+=C[0]+C[2]),T.height=D,T.lineHeight=vl(A.lineHeight,e.lineHeight,D),T.align=A&&A.align||e.align,T.verticalAlign=A&&A.verticalAlign||"middle",v&&i!=null&&h+T.lineHeight>i){var I=t.lines.length;w>0?(y.tokens=y.tokens.slice(0,w),m(y,S,_),t.lines=t.lines.slice(0,x+1)):t.lines=t.lines.slice(0,x),t.isTruncated=t.isTruncated||t.lines.length<I;break e}var P=A.width,F=P==null||P==="auto";if(typeof P=="string"&&P.charAt(P.length-1)==="%")T.percentWidth=P,c.push(T),T.contentWidth=Ka(T.text,E);else{if(F){var V=A.backgroundColor,z=V&&V.image;z&&(z=ZQ(z),NA(z)&&(T.width=Math.max(T.width,z.width*D/z.height)))}var G=p&&n!=null?n-S:null;G!=null&&G<T.width?!F||G<k?(T.text="",T.width=T.contentWidth=0):(JQ(g,T.text,G-k,E,e.ellipsis,{minChar:e.truncateMinChar}),T.text=g.text,t.isTruncated=t.isTruncated||g.isTruncated,T.width=T.contentWidth=Ka(T.text,E)):T.contentWidth=Ka(T.text,E)}T.width+=k,S+=T.width,A&&(_=Math.max(_,T.lineHeight))}m(y,S,_)}t.outerWidth=t.width=Je(n,f),t.outerHeight=t.height=Je(i,h),t.contentHeight=h,t.contentWidth=f,d&&(t.outerWidth+=d[1]+d[3],t.outerHeight+=d[0]+d[2]);for(var x=0;x<c.length;x++){var T=c[x],O=T.percentWidth;T.width=parseInt(O,10)/100*t.width}return t}function pC(r,e,t,n,i){var a=e==="",s=i&&t.rich[i]||{},o=r.lines,l=s.font||t.font,u=!1,c,h;if(n){var f=s.padding,d=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var p=xo(s.width,n.width)+d;o.length>0&&p+n.accumWidth>n.width&&(c=e.split(`
`),u=!0),n.accumWidth=p}else{var v=dH(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=v.accumWidth+d,h=v.linesWidths,c=v.lines}}else c=e.split(`
`);for(var g=0;g<c.length;g++){var m=c[g],x=new tee;if(x.styleName=i,x.text=m,x.isLineHolder=!m&&!a,typeof s.width=="number"?x.width=s.width:x.width=h?h[g]:Ka(m,l),!g&&!u){var y=(o[o.length-1]||(o[0]=new XF)).tokens,_=y.length;_===1&&y[0].isLineHolder?y[0]=x:(m||!_||a)&&y.push(x)}else o.push(new XF([x]))}}function iee(r){var e=r.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var aee=xl(",&?/;] ".split(""),function(r,e){return r[e]=!0,r},{});function see(r){return iee(r)?!!aee[r]:!0}function dH(r,e,t,n,i){for(var a=[],s=[],o="",l="",u=0,c=0,h=0;h<r.length;h++){var f=r.charAt(h);if(f===`
`){l&&(o+=l,c+=u),a.push(o),s.push(c),o="",l="",u=0,c=0;continue}var d=Ka(f,e),p=n?!1:!see(f);if(a.length?c+d>t:i+c+d>t){c?(o||l)&&(p?(o||(o=l,l="",u=0,c=u),a.push(o),s.push(c-u),l+=f,u+=d,o="",c=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(c),o=f,c=d)):p?(a.push(l),s.push(u),l=f,u=d):(a.push(f),s.push(d));continue}c+=d,p?(l+=f,u+=d):(l&&(o+=l,l="",u=0),o+=f)}return!a.length&&!o&&(o=r,l="",u=0),l&&(o+=l),o&&(a.push(o),s.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:s}}var yD="__zr_style_"+Math.round(Math.random()*10),up={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},BA={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};up[yD]=!0;var KF=["z","z2","invisible"],oee=["invisible"],Is=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype._init=function(t){for(var n=gt(t),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(t[a]):r.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,n,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&lee(this,t,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,n){return this.rectContain(t,n)},e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.rectContain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new at(0,0,0,0)),n?at.applyTransform(t,i,n):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new at(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,n){t!=="style"?r.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,n){return typeof t=="string"?this.style[t]=n:he(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=Fw,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&Fw)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(t){return IA(up,t)},e.prototype.useStyle=function(t){t[yD]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[yD]},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,KF)},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.style?s?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var h=gt(c),f=0;f<h.length;f++){var d=h[f];d in u&&(u[d]=u[d],this.style[d]=c[d])}for(var p=gt(u),f=0;f<p.length;f++){var d=p[f];this.style[d]=this.style[d]}this._transitionState(t,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var v=this.__inHover?oee:KF,f=0;f<v.length;f++){var d=v[f];n&&n[d]!=null?this[d]=n[d]:l&&i[d]!=null&&(this[d]=i[d])}},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,n){return he(t,n),t},e.prototype.getAnimationStyleProps=function(){return BA},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=gl|Fw}(),e}(OA),vC=new at(0,0,0,0),gC=new at(0,0,0,0);function lee(r,e,t){return vC.copy(r.getBoundingRect()),r.transform&&vC.applyTransform(r.transform),gC.width=e,gC.height=t,!vC.intersect(gC)}var ya=Math.min,xa=Math.max,mC=Math.sin,yC=Math.cos,cf=Math.PI*2,y_=Lp(),x_=Lp(),b_=Lp();function VA(r,e,t){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],s=n[1],o=n[1],l=1;l<r.length;l++)n=r[l],i=ya(i,n[0]),a=xa(a,n[0]),s=ya(s,n[1]),o=xa(o,n[1]);e[0]=i,e[1]=s,t[0]=a,t[1]=o}}function jF(r,e,t,n,i,a){i[0]=ya(r,t),i[1]=ya(e,n),a[0]=xa(r,t),a[1]=xa(e,n)}var qF=[],ZF=[];function uee(r,e,t,n,i,a,s,o,l,u){var c=Lz,h=wn,f=c(r,t,i,s,qF);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<f;d++){var p=h(r,t,i,s,qF[d]);l[0]=ya(p,l[0]),u[0]=xa(p,u[0])}f=c(e,n,a,o,ZF);for(var d=0;d<f;d++){var v=h(e,n,a,o,ZF[d]);l[1]=ya(v,l[1]),u[1]=xa(v,u[1])}l[0]=ya(r,l[0]),u[0]=xa(r,u[0]),l[0]=ya(s,l[0]),u[0]=xa(s,u[0]),l[1]=ya(e,l[1]),u[1]=xa(e,u[1]),l[1]=ya(o,l[1]),u[1]=xa(o,u[1])}function cee(r,e,t,n,i,a,s,o){var l=Rz,u=Gn,c=xa(ya(l(r,t,i),1),0),h=xa(ya(l(e,n,a),1),0),f=u(r,t,i,c),d=u(e,n,a,h);s[0]=ya(r,i,f),s[1]=ya(e,a,d),o[0]=xa(r,i,f),o[1]=xa(e,a,d)}function hee(r,e,t,n,i,a,s,o,l){var u=mh,c=yh,h=Math.abs(i-a);if(h%cf<1e-4&&h>1e-4){o[0]=r-t,o[1]=e-n,l[0]=r+t,l[1]=e+n;return}if(y_[0]=yC(i)*t+r,y_[1]=mC(i)*n+e,x_[0]=yC(a)*t+r,x_[1]=mC(a)*n+e,u(o,y_,x_),c(l,y_,x_),i=i%cf,i<0&&(i=i+cf),a=a%cf,a<0&&(a=a+cf),i>a&&!s?a+=cf:i<a&&s&&(i+=cf),s){var f=a;a=i,i=f}for(var d=0;d<a;d+=Math.PI/2)d>i&&(b_[0]=yC(d)*t+r,b_[1]=mC(d)*n+e,u(o,b_,o),c(l,b_,l))}var nr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},hf=[],ff=[],Eo=[],cc=[],Do=[],Mo=[],xC=Math.min,bC=Math.max,df=Math.cos,pf=Math.sin,Bl=Math.abs,xD=Math.PI,bc=xD*2,_C=typeof Float32Array<"u",im=[];function wC(r){var e=Math.round(r/xD*1e8)/1e8;return e%2*xD}function tP(r,e){var t=wC(r[0]);t<0&&(t+=bc);var n=t-r[0],i=r[1];i+=n,!e&&i-t>=bc?i=t+bc:e&&t-i>=bc?i=t-bc:!e&&t>i?i=t+(bc-wC(t-i)):e&&t<i&&(i=t-(bc-wC(i-t))),r[0]=t,r[1]=i}var Sl=function(){function r(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=Bl(n/XS/e)||0,this._uy=Bl(n/XS/t)||0)},r.prototype.setDPR=function(e){this.dpr=e},r.prototype.setContext=function(e){this._ctx=e},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(nr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},r.prototype.lineTo=function(e,t){var n=Bl(e-this._xi),i=Bl(t-this._yi),a=n>this._ux||i>this._uy;if(this.addData(nr.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){return this._drawPendingPt(),this.addData(nr.C,e,t,n,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,n,i,a,s),this._xi=a,this._yi=s,this},r.prototype.quadraticCurveTo=function(e,t,n,i){return this._drawPendingPt(),this.addData(nr.Q,e,t,n,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(e,t,n,i,a,s){this._drawPendingPt(),im[0]=i,im[1]=a,tP(im,s),i=im[0],a=im[1];var o=a-i;return this.addData(nr.A,e,t,n,n,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,i,a,s),this._xi=df(a)*n+e,this._yi=pf(a)*n+t,this},r.prototype.arcTo=function(e,t,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,i,a),this},r.prototype.rect=function(e,t,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,i),this.addData(nr.R,e,t,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(nr.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},r.prototype.fill=function(e){e&&e.fill(),this.toStatic()},r.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&_C&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},r.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,a=0;a<t;a++)n+=e[a].len();_C&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<t;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},r.prototype.addData=function(e,t,n,i,a,s,o,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var h=0;h<arguments.length;h++)c[this._len++]=arguments[h]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,_C&&this._len>11&&(this.data=new Float32Array(e)))}},r.prototype.getBoundingRect=function(){Eo[0]=Eo[1]=Do[0]=Do[1]=Number.MAX_VALUE,cc[0]=cc[1]=Mo[0]=Mo[1]=-Number.MAX_VALUE;var e=this.data,t=0,n=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],n=e[s+1],i=t,a=n),o){case nr.M:t=i=e[s++],n=a=e[s++],Do[0]=i,Do[1]=a,Mo[0]=i,Mo[1]=a;break;case nr.L:jF(t,n,e[s],e[s+1],Do,Mo),t=e[s++],n=e[s++];break;case nr.C:uee(t,n,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Do,Mo),t=e[s++],n=e[s++];break;case nr.Q:cee(t,n,e[s++],e[s++],e[s],e[s+1],Do,Mo),t=e[s++],n=e[s++];break;case nr.A:var u=e[s++],c=e[s++],h=e[s++],f=e[s++],d=e[s++],p=e[s++]+d;s+=1;var v=!e[s++];l&&(i=df(d)*h+u,a=pf(d)*f+c),hee(u,c,h,f,d,p,v,Do,Mo),t=df(p)*h+u,n=pf(p)*f+c;break;case nr.R:i=t=e[s++],a=n=e[s++];var g=e[s++],m=e[s++];jF(i,a,i+g,a+m,Do,Mo);break;case nr.Z:t=i,n=a;break}mh(Eo,Eo,Do),yh(cc,cc,Mo)}return s===0&&(Eo[0]=Eo[1]=cc[0]=cc[1]=0),new at(Eo[0],Eo[1],cc[0]-Eo[0],cc[1]-Eo[1])},r.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,h=0,f=0;f<t;){var d=e[f++],p=f===1;p&&(a=e[f],s=e[f+1],o=a,l=s);var v=-1;switch(d){case nr.M:a=o=e[f++],s=l=e[f++];break;case nr.L:{var g=e[f++],m=e[f++],x=g-a,y=m-s;(Bl(x)>n||Bl(y)>i||f===t-1)&&(v=Math.sqrt(x*x+y*y),a=g,s=m);break}case nr.C:{var _=e[f++],S=e[f++],g=e[f++],m=e[f++],w=e[f++],T=e[f++];v=EJ(a,s,_,S,g,m,w,T,10),a=w,s=T;break}case nr.Q:{var _=e[f++],S=e[f++],g=e[f++],m=e[f++];v=MJ(a,s,_,S,g,m,10),a=g,s=m;break}case nr.A:var A=e[f++],C=e[f++],k=e[f++],E=e[f++],D=e[f++],I=e[f++],P=I+D;f+=1,p&&(o=df(D)*k+A,l=pf(D)*E+C),v=bC(k,E)*xC(bc,Math.abs(I)),a=df(P)*k+A,s=pf(P)*E+C;break;case nr.R:{o=a=e[f++],l=s=e[f++];var F=e[f++],V=e[f++];v=F*2+V*2;break}case nr.Z:{var x=o-a,y=l-s;v=Math.sqrt(x*x+y*y),a=o,s=l;break}}v>=0&&(u[h++]=v,c+=v)}return this._pathLen=c,c},r.prototype.rebuildPath=function(e,t){var n=this.data,i=this._ux,a=this._uy,s=this._len,o,l,u,c,h,f,d=t<1,p,v,g=0,m=0,x,y=0,_,S;if(!(d&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,v=this._pathLen,x=t*v,!x)))e:for(var w=0;w<s;){var T=n[w++],A=w===1;switch(A&&(u=n[w],c=n[w+1],o=u,l=c),T!==nr.L&&y>0&&(e.lineTo(_,S),y=0),T){case nr.M:o=u=n[w++],l=c=n[w++],e.moveTo(u,c);break;case nr.L:{h=n[w++],f=n[w++];var C=Bl(h-u),k=Bl(f-c);if(C>i||k>a){if(d){var E=p[m++];if(g+E>x){var D=(x-g)/E;e.lineTo(u*(1-D)+h*D,c*(1-D)+f*D);break e}g+=E}e.lineTo(h,f),u=h,c=f,y=0}else{var I=C*C+k*k;I>y&&(_=h,S=f,y=I)}break}case nr.C:{var P=n[w++],F=n[w++],V=n[w++],z=n[w++],G=n[w++],O=n[w++];if(d){var E=p[m++];if(g+E>x){var D=(x-g)/E;Bh(u,P,V,G,D,hf),Bh(c,F,z,O,D,ff),e.bezierCurveTo(hf[1],ff[1],hf[2],ff[2],hf[3],ff[3]);break e}g+=E}e.bezierCurveTo(P,F,V,z,G,O),u=G,c=O;break}case nr.Q:{var P=n[w++],F=n[w++],V=n[w++],z=n[w++];if(d){var E=p[m++];if(g+E>x){var D=(x-g)/E;jy(u,P,V,D,hf),jy(c,F,z,D,ff),e.quadraticCurveTo(hf[1],ff[1],hf[2],ff[2]);break e}g+=E}e.quadraticCurveTo(P,F,V,z),u=V,c=z;break}case nr.A:var ee=n[w++],Q=n[w++],N=n[w++],Y=n[w++],W=n[w++],K=n[w++],ne=n[w++],fe=!n[w++],ae=N>Y?N:Y,re=Bl(N-Y)>.001,ie=W+K,se=!1;if(d){var E=p[m++];g+E>x&&(ie=W+K*(x-g)/E,se=!0),g+=E}if(re&&e.ellipse?e.ellipse(ee,Q,N,Y,ne,W,ie,fe):e.arc(ee,Q,ae,W,ie,fe),se)break e;A&&(o=df(W)*N+ee,l=pf(W)*Y+Q),u=df(ie)*N+ee,c=pf(ie)*Y+Q;break;case nr.R:o=u=n[w],l=c=n[w+1],h=n[w++],f=n[w++];var U=n[w++],Oe=n[w++];if(d){var E=p[m++];if(g+E>x){var Se=x-g;e.moveTo(h,f),e.lineTo(h+xC(Se,U),f),Se-=U,Se>0&&e.lineTo(h+U,f+xC(Se,Oe)),Se-=Oe,Se>0&&e.lineTo(h+bC(U-Se,0),f+Oe),Se-=U,Se>0&&e.lineTo(h,f+bC(Oe-Se,0));break e}g+=E}e.rect(h,f,U,Oe);break;case nr.Z:if(d){var E=p[m++];if(g+E>x){var D=(x-g)/E;e.lineTo(u*(1-D)+o*D,c*(1-D)+l*D);break e}g+=E}e.closePath(),u=o,c=l}}},r.prototype.clone=function(){var e=new r,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},r.CMD=nr,r.initDefaultProps=function(){var e=r.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),r}();function Sc(r,e,t,n,i,a,s){if(i===0)return!1;var o=i,l=0,u=r;if(s>e+o&&s>n+o||s<e-o&&s<n-o||a>r+o&&a>t+o||a<r-o&&a<t-o)return!1;if(r!==t)l=(e-n)/(r-t),u=(r*n-t*e)/(r-t);else return Math.abs(a-r)<=o/2;var c=l*a-s+u,h=c*c/(l*l+1);return h<=o/2*o/2}function fee(r,e,t,n,i,a,s,o,l,u,c){if(l===0)return!1;var h=l;if(c>e+h&&c>n+h&&c>a+h&&c>o+h||c<e-h&&c<n-h&&c<a-h&&c<o-h||u>r+h&&u>t+h&&u>i+h&&u>s+h||u<r-h&&u<t-h&&u<i-h&&u<s-h)return!1;var f=Pz(r,e,t,n,i,a,s,o,u,c,null);return f<=h/2}function pH(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var u=s;if(l>e+u&&l>n+u&&l>a+u||l<e-u&&l<n-u&&l<a-u||o>r+u&&o>t+u&&o>i+u||o<r-u&&o<t-u&&o<i-u)return!1;var c=Oz(r,e,t,n,i,a,o,l,null);return c<=u/2}var JF=Math.PI*2;function Wa(r){return r%=JF,r<0&&(r+=JF),r}var am=Math.PI*2;function dee(r,e,t,n,i,a,s,o,l){if(s===0)return!1;var u=s;o-=r,l-=e;var c=Math.sqrt(o*o+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(n-i)%am<1e-4)return!0;if(a){var h=n;n=Wa(i),i=Wa(h)}else n=Wa(n),i=Wa(i);n>i&&(i+=am);var f=Math.atan2(l,o);return f<0&&(f+=am),f>=n&&f<=i||f+am>=n&&f+am<=i}function Xl(r,e,t,n,i,a){if(a>e&&a>n||a<e&&a<n||n===e)return 0;var s=(a-e)/(n-e),o=n<e?1:-1;(s===1||s===0)&&(o=n<e?.5:-.5);var l=s*(t-r)+r;return l===i?1/0:l>i?o:0}var hc=Sl.CMD,vf=Math.PI*2,pee=1e-4;function vee(r,e){return Math.abs(r-e)<pee}var Gi=[-1,-1,-1],ms=[-1,-1];function gee(){var r=ms[0];ms[0]=ms[1],ms[1]=r}function mee(r,e,t,n,i,a,s,o,l,u){if(u>e&&u>n&&u>a&&u>o||u<e&&u<n&&u<a&&u<o)return 0;var c=$S(e,n,a,o,u,Gi);if(c===0)return 0;for(var h=0,f=-1,d=void 0,p=void 0,v=0;v<c;v++){var g=Gi[v],m=g===0||g===1?.5:1,x=wn(r,t,i,s,g);x<l||(f<0&&(f=Lz(e,n,a,o,ms),ms[1]<ms[0]&&f>1&&gee(),d=wn(e,n,a,o,ms[0]),f>1&&(p=wn(e,n,a,o,ms[1]))),f===2?g<ms[0]?h+=d<e?m:-m:g<ms[1]?h+=p<d?m:-m:h+=o<p?m:-m:g<ms[0]?h+=d<e?m:-m:h+=o<d?m:-m)}return h}function yee(r,e,t,n,i,a,s,o){if(o>e&&o>n&&o>a||o<e&&o<n&&o<a)return 0;var l=DJ(e,n,a,o,Gi);if(l===0)return 0;var u=Rz(e,n,a);if(u>=0&&u<=1){for(var c=0,h=Gn(e,n,a,u),f=0;f<l;f++){var d=Gi[f]===0||Gi[f]===1?.5:1,p=Gn(r,t,i,Gi[f]);p<s||(Gi[f]<u?c+=h<e?d:-d:c+=a<h?d:-d)}return c}else{var d=Gi[0]===0||Gi[0]===1?.5:1,p=Gn(r,t,i,Gi[0]);return p<s?0:a<e?d:-d}}function xee(r,e,t,n,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);Gi[0]=-l,Gi[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=vf-1e-4){n=0,i=vf;var c=a?1:-1;return s>=Gi[0]+r&&s<=Gi[1]+r?c:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=vf,i+=vf);for(var f=0,d=0;d<2;d++){var p=Gi[d];if(p+r>s){var v=Math.atan2(o,p),c=a?1:-1;v<0&&(v=vf+v),(v>=n&&v<=i||v+vf>=n&&v+vf<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(c=-c),f+=c)}}return f}function vH(r,e,t,n,i){for(var a=r.data,s=r.len(),o=0,l=0,u=0,c=0,h=0,f,d,p=0;p<s;){var v=a[p++],g=p===1;switch(v===hc.M&&p>1&&(t||(o+=Xl(l,u,c,h,n,i))),g&&(l=a[p],u=a[p+1],c=l,h=u),v){case hc.M:c=a[p++],h=a[p++],l=c,u=h;break;case hc.L:if(t){if(Sc(l,u,a[p],a[p+1],e,n,i))return!0}else o+=Xl(l,u,a[p],a[p+1],n,i)||0;l=a[p++],u=a[p++];break;case hc.C:if(t){if(fee(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else o+=mee(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],n,i)||0;l=a[p++],u=a[p++];break;case hc.Q:if(t){if(pH(l,u,a[p++],a[p++],a[p],a[p+1],e,n,i))return!0}else o+=yee(l,u,a[p++],a[p++],a[p],a[p+1],n,i)||0;l=a[p++],u=a[p++];break;case hc.A:var m=a[p++],x=a[p++],y=a[p++],_=a[p++],S=a[p++],w=a[p++];p+=1;var T=!!(1-a[p++]);f=Math.cos(S)*y+m,d=Math.sin(S)*_+x,g?(c=f,h=d):o+=Xl(l,u,f,d,n,i);var A=(n-m)*_/y+m;if(t){if(dee(m,x,_,S,S+w,T,e,A,i))return!0}else o+=xee(m,x,_,S,S+w,T,A,i);l=Math.cos(S+w)*y+m,u=Math.sin(S+w)*_+x;break;case hc.R:c=l=a[p++],h=u=a[p++];var C=a[p++],k=a[p++];if(f=c+C,d=h+k,t){if(Sc(c,h,f,h,e,n,i)||Sc(f,h,f,d,e,n,i)||Sc(f,d,c,d,e,n,i)||Sc(c,d,c,h,e,n,i))return!0}else o+=Xl(f,h,f,d,n,i),o+=Xl(c,d,c,h,n,i);break;case hc.Z:if(t){if(Sc(l,u,c,h,e,n,i))return!0}else o+=Xl(l,u,c,h,n,i);l=c,u=h;break}}return!t&&!vee(u,h)&&(o+=Xl(l,u,c,h,n,i)||0),o!==0}function bee(r,e,t){return vH(r,0,!1,e,t)}function _ee(r,e,t,n){return vH(r,e,!0,t,n)}var jS=ze({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},up),wee={style:ze({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},BA.style)},SC=_l.concat(["invisible","culling","z","z2","zlevel","parent"]),dt=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.update=function(){var t=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<SC.length;++o)i[SC[o]]=this[SC[o]];i.__dirty|=gl}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var n=gt(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var s=n[a],o=t[s];s==="style"?this.style?he(this.style,o):this.useStyle(o):s==="shape"?he(this.shape,o):r.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Ae(t)){var n=WS(t,0);return n>.5?dD:n>.2?iQ:pD}else if(t)return pD}return dD},e.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if(Ae(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=WS(t,0)<fD;if(a===s)return n}},e.prototype.buildPath=function(t,n,i){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Sl(!1)},e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(n==null||n==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&Fm)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return t},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect(),s=this.style;if(t=i[0],n=i[1],a.contain(t,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),_ee(o,l/u,t,n)))return!0}if(this.hasFill())return bee(o,t,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Fm,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,n){t==="shape"?this.setShape(n):r.prototype.attrKV.call(this,t,n)},e.prototype.setShape=function(t,n){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=n:he(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Fm)},e.prototype.createStyle=function(t){return IA(jS,t)},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=he({},this.shape))},e.prototype._applyStateObj=function(t,n,i,a,s,o){r.prototype._applyStateObj.call(this,t,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.shape?s?a?u=n.shape:(u=he({},i.shape),he(u,n.shape)):(u=he({},a?this.shape:i.shape),he(u,n.shape)):l&&(u=i.shape),u)if(s){this.shape=he({},this.shape);for(var c={},h=gt(u),f=0;f<h.length;f++){var d=h[f];typeof u[d]=="object"?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(t,{shape:c},o)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return wee},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(a){te(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return Ye(t.style)},s.prototype.getDefaultShape=function(){return Ye(t.shape)},s}(e);for(var i in t)typeof t[i]=="function"&&(n.prototype[i]=t[i]);return n},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=gl|Fw|Fm}(),e}(Is),See=ze({strokeFirst:!0,font:Fh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},jS),pg=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return n!=null&&n!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(t){return IA(See,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var n=t.text;n!=null?n+="":n="";var i=wb(n,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(Is);pg.prototype.type="tspan";var Tee=ze({x:0,y:0},up),Aee={style:ze({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},BA.style)};function Cee(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var Yn=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return IA(Tee,t)},e.prototype._getSize=function(t){var n=this.style,i=n[t];if(i!=null)return i;var a=Cee(n.image)?n.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=n[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Aee},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new at(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Is);Yn.prototype.type="image";function kee(r,e){var t=e.x,n=e.y,i=e.width,a=e.height,s=e.r,o,l,u,c;i<0&&(t=t+i,i=-i),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=u=c=s:s instanceof Array?s.length===1?o=l=u=c=s[0]:s.length===2?(o=u=s[0],l=c=s[1]):s.length===3?(o=s[0],l=c=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],c=s[3]):o=l=u=c=0;var h;o+l>i&&(h=o+l,o*=i/h,l*=i/h),u+c>i&&(h=u+c,u*=i/h,c*=i/h),l+u>a&&(h=l+u,l*=a/h,u*=a/h),o+c>a&&(h=o+c,o*=a/h,c*=a/h),r.moveTo(t+o,n),r.lineTo(t+i-l,n),l!==0&&r.arc(t+i-l,n+l,l,-Math.PI/2,0),r.lineTo(t+i,n+a-u),u!==0&&r.arc(t+i-u,n+a-u,u,0,Math.PI/2),r.lineTo(t+c,n+a),c!==0&&r.arc(t+c,n+a-c,c,Math.PI/2,Math.PI),r.lineTo(t,n+o),o!==0&&r.arc(t+o,n+o,o,Math.PI,Math.PI*1.5)}var Nv=Math.round;function gH(r,e,t){if(e){var n=e.x1,i=e.x2,a=e.y1,s=e.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=s;var o=t&&t.lineWidth;return o&&(Nv(n*2)===Nv(i*2)&&(r.x1=r.x2=Xf(n,o,!0)),Nv(a*2)===Nv(s*2)&&(r.y1=r.y2=Xf(a,o,!0))),r}}function mH(r,e,t){if(e){var n=e.x,i=e.y,a=e.width,s=e.height;r.x=n,r.y=i,r.width=a,r.height=s;var o=t&&t.lineWidth;return o&&(r.x=Xf(n,o,!0),r.y=Xf(i,o,!0),r.width=Math.max(Xf(n+a,o,!1)-r.x,a===0?0:1),r.height=Math.max(Xf(i+s,o,!1)-r.y,s===0?0:1)),r}}function Xf(r,e,t){if(!e)return r;var n=Nv(r*2);return(n+Nv(e))%2===0?n/2:(n+(t?1:-1))/2}var Eee=function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r}(),Dee={},Tt=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Eee},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=mH(Dee,n,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,s=n.width,o=n.height;n.r?kee(t,n):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(dt);Tt.prototype.type="rect";var QF={fill:"#000"},eN=2,Mee={style:ze({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},BA.style)},Et=function(r){te(e,r);function e(t){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=QF,n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):r.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):r.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,Pee(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new at(0,0,0,0),n=this._children,i=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),u=o.getLocalTransform(i);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||QF},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,n){if(!n)return t;var i=n.rich,a=t.rich||i&&{};return he(t,n),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,n){for(var i=gt(n),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},he(t[s],n[s])}},e.prototype.getAnimationStyleProps=function(){return Mee},e.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||Fh,i=t.padding,a=oN(t),s=eee(a,t),o=TC(t),l=!!t.backgroundColor,u=s.outerHeight,c=s.outerWidth,h=s.contentWidth,f=s.lines,d=s.lineHeight,p=this._defaultStyle;this.isTruncated=!!s.isTruncated;var v=t.x||0,g=t.y||0,m=t.align||p.align||"left",x=t.verticalAlign||p.verticalAlign||"top",y=v,_=wv(g,s.contentHeight,x);if(o||i){var S=Bm(v,c,m),w=wv(g,u,x);o&&this._renderBackground(t,t,S,w,c,u)}_+=d/2,i&&(y=sN(v,m,i),x==="top"?_+=i[0]:x==="bottom"&&(_-=i[2]));for(var T=0,A=!1,C=aN("fill"in t?t.fill:(A=!0,p.fill)),k=iN("stroke"in t?t.stroke:!l&&(!p.autoStroke||A)?(T=eN,p.stroke):null),E=t.textShadowBlur>0,D=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),I=s.calculatedLineHeight,P=0;P<f.length;P++){var F=this._getOrCreateChild(pg),V=F.createStyle();F.useStyle(V),V.text=f[P],V.x=y,V.y=_,V.textAlign=m,V.textBaseline="middle",V.opacity=t.opacity,V.strokeFirst=!0,E&&(V.shadowBlur=t.textShadowBlur||0,V.shadowColor=t.textShadowColor||"transparent",V.shadowOffsetX=t.textShadowOffsetX||0,V.shadowOffsetY=t.textShadowOffsetY||0),V.stroke=k,V.fill=C,k&&(V.lineWidth=t.lineWidth||T,V.lineDash=t.lineDash,V.lineDashOffset=t.lineDashOffset||0),V.font=n,rN(V,t),_+=d,D&&F.setBoundingRect(new at(Bm(V.x,h,V.textAlign),wv(V.y,I,V.textBaseline),h,I))}},e.prototype._updateRichTexts=function(){var t=this.style,n=oN(t),i=nee(n,t),a=i.width,s=i.outerWidth,o=i.outerHeight,l=t.padding,u=t.x||0,c=t.y||0,h=this._defaultStyle,f=t.align||h.align,d=t.verticalAlign||h.verticalAlign;this.isTruncated=!!i.isTruncated;var p=Bm(u,s,f),v=wv(c,o,d),g=p,m=v;l&&(g+=l[3],m+=l[0]);var x=g+a;TC(t)&&this._renderBackground(t,t,p,v,s,o);for(var y=!!t.backgroundColor,_=0;_<i.lines.length;_++){for(var S=i.lines[_],w=S.tokens,T=w.length,A=S.lineHeight,C=S.width,k=0,E=g,D=x,I=T-1,P=void 0;k<T&&(P=w[k],!P.align||P.align==="left");)this._placeToken(P,t,A,m,E,"left",y),C-=P.width,E+=P.width,k++;for(;I>=0&&(P=w[I],P.align==="right");)this._placeToken(P,t,A,m,D,"right",y),C-=P.width,D-=P.width,I--;for(E+=(a-(E-g)-(x-D)-C)/2;k<=I;)P=w[k],this._placeToken(P,t,A,m,E+P.width/2,"center",y),E+=P.width,k++;m+=A}},e.prototype._placeToken=function(t,n,i,a,s,o,l){var u=n.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,h=a+i/2;c==="top"?h=a+t.height/2:c==="bottom"&&(h=a+i-t.height/2);var f=!t.isLineHolder&&TC(u);f&&this._renderBackground(u,n,o==="right"?s-t.width:o==="center"?s-t.width/2:s,h-t.height/2,t.width,t.height);var d=!!u.backgroundColor,p=t.textPadding;p&&(s=sN(s,o,p),h-=t.height/2-p[0]-t.innerHeight/2);var v=this._getOrCreateChild(pg),g=v.createStyle();v.useStyle(g);var m=this._defaultStyle,x=!1,y=0,_=aN("fill"in u?u.fill:"fill"in n?n.fill:(x=!0,m.fill)),S=iN("stroke"in u?u.stroke:"stroke"in n?n.stroke:!d&&!l&&(!m.autoStroke||x)?(y=eN,m.stroke):null),w=u.textShadowBlur>0||n.textShadowBlur>0;g.text=t.text,g.x=s,g.y=h,w&&(g.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,g.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),g.textAlign=o,g.textBaseline="middle",g.font=t.font||Fh,g.opacity=vl(u.opacity,n.opacity,1),rN(g,u),S&&(g.lineWidth=vl(u.lineWidth,n.lineWidth,y),g.lineDash=Je(u.lineDash,n.lineDash),g.lineDashOffset=n.lineDashOffset||0,g.stroke=S),_&&(g.fill=_);var T=t.contentWidth,A=t.contentHeight;v.setBoundingRect(new at(Bm(g.x,T,g.textAlign),wv(g.y,A,g.textBaseline),T,A))},e.prototype._renderBackground=function(t,n,i,a,s,o){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,h=l&&l.image,f=l&&!h,d=t.borderRadius,p=this,v,g;if(f||t.lineHeight||u&&c){v=this._getOrCreateChild(Tt),v.useStyle(v.createStyle()),v.style.fill=null;var m=v.shape;m.x=i,m.y=a,m.width=s,m.height=o,m.r=d,v.dirtyShape()}if(f){var x=v.style;x.fill=l||null,x.fillOpacity=Je(t.fillOpacity,1)}else if(h){g=this._getOrCreateChild(Yn),g.onload=function(){p.dirtyStyle()};var y=g.style;y.image=l.image,y.x=i,y.y=a,y.width=s,y.height=o}if(u&&c){var x=v.style;x.lineWidth=u,x.stroke=c,x.strokeOpacity=Je(t.strokeOpacity,1),x.lineDash=t.borderDash,x.lineDashOffset=t.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(x.strokeFirst=!0,x.lineWidth*=2)}var _=(v||g).style;_.shadowBlur=t.shadowBlur||0,_.shadowColor=t.shadowColor||"transparent",_.shadowOffsetX=t.shadowOffsetX||0,_.shadowOffsetY=t.shadowOffsetY||0,_.opacity=vl(t.opacity,n.opacity,1)},e.makeFont=function(t){var n="";return xH(t)&&(n=[t.fontStyle,t.fontWeight,yH(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&uo(n)||t.textFont||t.font},e}(Is),Iee={left:!0,right:1,center:1},Lee={top:1,bottom:1,middle:1},tN=["fontStyle","fontWeight","fontSize","fontFamily"];function yH(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?NL+"px":r+"px"}function rN(r,e){for(var t=0;t<tN.length;t++){var n=tN[t],i=e[n];i!=null&&(r[n]=i)}}function xH(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function Pee(r){return nN(r),L(r.rich,nN),r}function nN(r){if(r){r.font=Et.makeFont(r);var e=r.align;e==="middle"&&(e="center"),r.align=e==null||Iee[e]?e:"left";var t=r.verticalAlign;t==="center"&&(t="middle"),r.verticalAlign=t==null||Lee[t]?t:"top";var n=r.padding;n&&(r.padding=$L(r.padding))}}function iN(r,e){return r==null||e<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function aN(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function sN(r,e,t){return e==="right"?r-t[1]:e==="center"?r+t[3]/2-t[1]/2:r+t[3]}function oN(r){var e=r.text;return e!=null&&(e+=""),e}function TC(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var je=At(),bD=function(r,e,t,n){if(n){var i=je(n);i.dataIndex=t,i.dataType=e,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=je(a);s.seriesIndex=r,s.dataIndex=t,s.dataType=e,s.ssrType="chart"})}},lN=1,uN={},bH=At(),rP=At(),nP=0,Tb=1,zA=2,ea=["emphasis","blur","select"],e1=["normal","emphasis","blur","select"],Mg=10,Ree=9,cp="highlight",Hw="downplay",Cy="select",Gw="unselect",ky="toggleSelect";function tv(r){return r!=null&&r!=="none"}function HA(r,e,t){r.onHoverStateChange&&(r.hoverState||0)!==t&&r.onHoverStateChange(e),r.hoverState=t}function _H(r){HA(r,"emphasis",zA)}function wH(r){r.hoverState===zA&&HA(r,"normal",nP)}function iP(r){HA(r,"blur",Tb)}function SH(r){r.hoverState===Tb&&HA(r,"normal",nP)}function Oee(r){r.selected=!0}function Fee(r){r.selected=!1}function cN(r,e,t){e(r,t)}function ic(r,e,t){cN(r,e,t),r.isGroup&&r.traverse(function(n){cN(n,e,t)})}function qS(r,e){switch(e){case"emphasis":r.hoverState=zA;break;case"normal":r.hoverState=nP;break;case"blur":r.hoverState=Tb;break;case"select":r.selected=!0}}function Nee(r,e,t,n){for(var i=r.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(n&&n[o])}for(var s=0;s<r.animators.length;s++){var u=r.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function Bee(r,e,t,n){var i=t&&lt(t,"select")>=0,a=!1;if(r instanceof dt){var s=bH(r),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(tv(o)||tv(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=he({},n),u=he({},u),u.fill=o):!tv(u.fill)&&tv(o)?(a=!0,n=he({},n),u=he({},u),u.fill=aD(o)):!tv(u.stroke)&&tv(l)&&(a||(n=he({},n),u=he({},u)),u.stroke=aD(l)),n.style=u}}if(n&&n.z2==null){a||(n=he({},n));var c=r.z2EmphasisLift;n.z2=r.z2+(c??Mg)}return n}function Vee(r,e,t){if(t&&t.z2==null){t=he({},t);var n=r.z2SelectLift;t.z2=r.z2+(n??Ree)}return t}function zee(r,e,t){var n=lt(r.currentStates,e)>=0,i=r.style.opacity,a=n?null:Nee(r,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=he({},t),s=he({opacity:n?i:a.opacity*.1},s),t.style=s),t}function AC(r,e){var t=this.states[r];if(this.style){if(r==="emphasis")return Bee(this,r,e,t);if(r==="blur")return zee(this,r,t);if(r==="select")return Vee(this,r,t)}return t}function wp(r){r.stateProxy=AC;var e=r.getTextContent(),t=r.getTextGuideLine();e&&(e.stateProxy=AC),t&&(t.stateProxy=AC)}function hN(r,e){!kH(r,e)&&!r.__highByOuter&&ic(r,_H)}function fN(r,e){!kH(r,e)&&!r.__highByOuter&&ic(r,wH)}function ju(r,e){r.__highByOuter|=1<<(e||0),ic(r,_H)}function qu(r,e){!(r.__highByOuter&=~(1<<(e||0)))&&ic(r,wH)}function TH(r){ic(r,iP)}function aP(r){ic(r,SH)}function AH(r){ic(r,Oee)}function CH(r){ic(r,Fee)}function kH(r,e){return r.__highDownSilentOnTouch&&e.zrByTouch}function EH(r){var e=r.getModel(),t=[],n=[];e.eachComponent(function(i,a){var s=rP(a),o=i==="series",l=o?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(u){SH(u)}),o&&t.push(a)),s.isBlured=!1}),L(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function _D(r,e,t,n){var i=n.getModel();t=t||"coordinateSystem";function a(u,c){for(var h=0;h<c.length;h++){var f=u.getItemGraphicEl(c[h]);f&&aP(f)}}if(r!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(r),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(u){var c=s===u,h=u.coordinateSystem;h&&h.master&&(h=h.master);var f=h&&o?h===o:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!f||e==="series"&&c)){var d=n.getViewOfSeriesModel(u);if(d.group.traverse(function(g){g.__highByOuter&&c&&e==="self"||iP(g)}),ki(e))a(u.getData(),e);else if(Ue(e))for(var p=gt(e),v=0;v<p.length;v++)a(u.getData(p[v]),e[p[v]]);l.push(u),rP(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var h=n.getViewOfComponentModel(c);h&&h.toggleBlurSeries&&h.toggleBlurSeries(l,!0,i)}})}}function wD(r,e,t){if(!(r==null||e==null)){var n=t.getModel().getComponent(r,e);if(n){rP(n).isBlured=!0;var i=t.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){iP(a)})}}}function Hee(r,e,t){var n=r.seriesIndex,i=r.getData(e.dataType);if(i){var a=bp(i,e);a=(ve(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var u=je(s);_D(n,u.focus,u.blurScope,t)}else{var c=r.get(["emphasis","focus"]),h=r.get(["emphasis","blurScope"]);c!=null&&_D(n,c,h,t)}}}function sP(r,e,t,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||e==null||t==null)return i;var a=n.getModel().getComponent(r,e);if(!a)return i;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,u=0;u<o.length;u++)if(je(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function Gee(r,e,t){var n=je(r),i=sP(n.componentMainType,n.componentIndex,n.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&wD(n.componentMainType,n.componentIndex,t),L(a,function(o){return hN(o,e)})):(_D(n.seriesIndex,n.focus,n.blurScope,t),n.focus==="self"&&wD(n.componentMainType,n.componentIndex,t),hN(r,e))}function $ee(r,e,t){EH(t);var n=je(r),i=sP(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;i?L(i,function(a){return fN(a,e)}):fN(r,e)}function Uee(r,e,t){if(TD(e)){var n=e.dataType,i=r.getData(n),a=bp(i,e);ve(a)||(a=[a]),r[e.type===ky?"toggleSelect":e.type===Cy?"select":"unselect"](a,n)}}function dN(r){var e=r.getAllData();L(e,function(t){var n=t.data,i=t.type;n.eachItemGraphicEl(function(a,s){r.isSelected(s,i)?AH(a):CH(a)})})}function Wee(r){var e=[];return r.eachSeries(function(t){var n=t.getAllData();L(n,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function hp(r,e,t){Kf(r,!0),ic(r,wp),SD(r,e,t)}function Yee(r){Kf(r,!1)}function Tr(r,e,t,n){n?Yee(r):hp(r,e,t)}function SD(r,e,t){var n=je(r);e!=null?(n.focus=e,n.blurScope=t):n.focus&&(n.focus=null)}var pN=["emphasis","blur","select"],Xee={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ui(r,e,t,n){t=t||"itemStyle";for(var i=0;i<pN.length;i++){var a=pN[i],s=e.getModel([a,t]),o=r.ensureState(a);o.style=n?n(s):s[Xee[t]]()}}function Kf(r,e){var t=e===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!t||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function t1(r){return!!(r&&r.__highDownDispatcher)}function Kee(r,e,t){var n=je(r);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=t}function jee(r){var e=uN[r];return e==null&&lN<=32&&(e=uN[r]=lN++),e}function TD(r){var e=r.type;return e===Cy||e===Gw||e===ky}function vN(r){var e=r.type;return e===cp||e===Hw}function qee(r){var e=bH(r);e.normalFill=r.style.fill,e.normalStroke=r.style.stroke;var t=r.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var rv=Sl.CMD,Zee=[[],[],[]],gN=Math.sqrt,Jee=Math.atan2;function DH(r,e){if(e){var t=r.data,n=r.len(),i,a,s,o,l,u,c=rv.M,h=rv.C,f=rv.L,d=rv.R,p=rv.A,v=rv.Q;for(s=0,o=0;s<n;){switch(i=t[s++],o=s,a=0,i){case c:a=1;break;case f:a=1;break;case h:a=3;break;case v:a=2;break;case p:var g=e[4],m=e[5],x=gN(e[0]*e[0]+e[1]*e[1]),y=gN(e[2]*e[2]+e[3]*e[3]),_=Jee(-e[1]/y,e[0]/x);t[s]*=x,t[s++]+=g,t[s]*=y,t[s++]+=m,t[s++]*=x,t[s++]*=y,t[s++]+=_,t[s++]+=_,s+=2,o=s;break;case d:u[0]=t[s++],u[1]=t[s++],ai(u,u,e),t[o++]=u[0],t[o++]=u[1],u[0]+=t[s++],u[1]+=t[s++],ai(u,u,e),t[o++]=u[0],t[o++]=u[1]}for(l=0;l<a;l++){var S=Zee[l];S[0]=t[s++],S[1]=t[s++],ai(S,S,e),t[o++]=S[0],t[o++]=S[1]}}r.increaseVersion()}}var CC=Math.sqrt,__=Math.sin,w_=Math.cos,sm=Math.PI;function mN(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function AD(r,e){return(r[0]*e[0]+r[1]*e[1])/(mN(r)*mN(e))}function yN(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(AD(r,e))}function xN(r,e,t,n,i,a,s,o,l,u,c){var h=l*(sm/180),f=w_(h)*(r-t)/2+__(h)*(e-n)/2,d=-1*__(h)*(r-t)/2+w_(h)*(e-n)/2,p=f*f/(s*s)+d*d/(o*o);p>1&&(s*=CC(p),o*=CC(p));var v=(i===a?-1:1)*CC((s*s*(o*o)-s*s*(d*d)-o*o*(f*f))/(s*s*(d*d)+o*o*(f*f)))||0,g=v*s*d/o,m=v*-o*f/s,x=(r+t)/2+w_(h)*g-__(h)*m,y=(e+n)/2+__(h)*g+w_(h)*m,_=yN([1,0],[(f-g)/s,(d-m)/o]),S=[(f-g)/s,(d-m)/o],w=[(-1*f-g)/s,(-1*d-m)/o],T=yN(S,w);if(AD(S,w)<=-1&&(T=sm),AD(S,w)>=1&&(T=0),T<0){var A=Math.round(T/sm*1e6)/1e6;T=sm*2+A%2*sm}c.addData(u,x,y,s,o,_,T,h,a)}var Qee=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,ete=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function tte(r){var e=new Sl;if(!r)return e;var t=0,n=0,i=t,a=n,s,o=Sl.CMD,l=r.match(Qee);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],h=c.charAt(0),f=void 0,d=c.match(ete)||[],p=d.length,v=0;v<p;v++)d[v]=parseFloat(d[v]);for(var g=0;g<p;){var m=void 0,x=void 0,y=void 0,_=void 0,S=void 0,w=void 0,T=void 0,A=t,C=n,k=void 0,E=void 0;switch(h){case"l":t+=d[g++],n+=d[g++],f=o.L,e.addData(f,t,n);break;case"L":t=d[g++],n=d[g++],f=o.L,e.addData(f,t,n);break;case"m":t+=d[g++],n+=d[g++],f=o.M,e.addData(f,t,n),i=t,a=n,h="l";break;case"M":t=d[g++],n=d[g++],f=o.M,e.addData(f,t,n),i=t,a=n,h="L";break;case"h":t+=d[g++],f=o.L,e.addData(f,t,n);break;case"H":t=d[g++],f=o.L,e.addData(f,t,n);break;case"v":n+=d[g++],f=o.L,e.addData(f,t,n);break;case"V":n=d[g++],f=o.L,e.addData(f,t,n);break;case"C":f=o.C,e.addData(f,d[g++],d[g++],d[g++],d[g++],d[g++],d[g++]),t=d[g-2],n=d[g-1];break;case"c":f=o.C,e.addData(f,d[g++]+t,d[g++]+n,d[g++]+t,d[g++]+n,d[g++]+t,d[g++]+n),t+=d[g-2],n+=d[g-1];break;case"S":m=t,x=n,k=e.len(),E=e.data,s===o.C&&(m+=t-E[k-4],x+=n-E[k-3]),f=o.C,A=d[g++],C=d[g++],t=d[g++],n=d[g++],e.addData(f,m,x,A,C,t,n);break;case"s":m=t,x=n,k=e.len(),E=e.data,s===o.C&&(m+=t-E[k-4],x+=n-E[k-3]),f=o.C,A=t+d[g++],C=n+d[g++],t+=d[g++],n+=d[g++],e.addData(f,m,x,A,C,t,n);break;case"Q":A=d[g++],C=d[g++],t=d[g++],n=d[g++],f=o.Q,e.addData(f,A,C,t,n);break;case"q":A=d[g++]+t,C=d[g++]+n,t+=d[g++],n+=d[g++],f=o.Q,e.addData(f,A,C,t,n);break;case"T":m=t,x=n,k=e.len(),E=e.data,s===o.Q&&(m+=t-E[k-4],x+=n-E[k-3]),t=d[g++],n=d[g++],f=o.Q,e.addData(f,m,x,t,n);break;case"t":m=t,x=n,k=e.len(),E=e.data,s===o.Q&&(m+=t-E[k-4],x+=n-E[k-3]),t+=d[g++],n+=d[g++],f=o.Q,e.addData(f,m,x,t,n);break;case"A":y=d[g++],_=d[g++],S=d[g++],w=d[g++],T=d[g++],A=t,C=n,t=d[g++],n=d[g++],f=o.A,xN(A,C,t,n,w,T,y,_,S,f,e);break;case"a":y=d[g++],_=d[g++],S=d[g++],w=d[g++],T=d[g++],A=t,C=n,t+=d[g++],n+=d[g++],f=o.A,xN(A,C,t,n,w,T,y,_,S,f,e);break}}(h==="z"||h==="Z")&&(f=o.Z,e.addData(f),t=i,n=a),s=f}return e.toStatic(),e}var MH=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(dt);function IH(r){return r.setData!=null}function LH(r,e){var t=tte(r),n=he({},e);return n.buildPath=function(i){if(IH(i)){i.setData(t.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;t.rebuildPath(a,1)}},n.applyTransform=function(i){DH(t,i),this.dirtyShape()},n}function PH(r,e){return new MH(LH(r,e))}function rte(r,e){var t=LH(r,e),n=function(i){te(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a}(MH);return n}function nte(r,e){for(var t=[],n=r.length,i=0;i<n;i++){var a=r[i];t.push(a.getUpdatedPathProxy(!0))}var s=new dt(e);return s.createPathProxy(),s.buildPath=function(o){if(IH(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function oP(r,e){e=e||{};var t=new dt;return r.shape&&t.setShape(r.shape),t.setStyle(r.style),e.bakeTransform?DH(t.path,r.getComputedTransform()):e.toLocal?t.setLocalTransform(r.getComputedTransform()):t.copyTransform(r),t.buildPath=r.buildPath,t.applyTransform=t.applyTransform,t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t}var ite=function(){function r(){this.cx=0,this.cy=0,this.r=0}return r}(),ac=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ite},e.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e}(dt);ac.prototype.type="circle";var ate=function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r}(),GA=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ate},e.prototype.buildPath=function(t,n){var i=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,u=o*i,c=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-c,a-u,s-l,a,s-l),t.bezierCurveTo(a+u,s-l,a+o,s-c,a+o,s),t.bezierCurveTo(a+o,s+c,a+u,s+l,a,s+l),t.bezierCurveTo(a-u,s+l,a-o,s+c,a-o,s),t.closePath()},e}(dt);GA.prototype.type="ellipse";var RH=Math.PI,kC=RH*2,gf=Math.sin,nv=Math.cos,ste=Math.acos,fi=Math.atan2,bN=Math.abs,Ey=Math.sqrt,Vm=Math.max,Io=Math.min,Us=1e-4;function ote(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,h=o-a,f=h*l-c*u;if(!(f*f<Us))return f=(c*(e-a)-h*(r-i))/f,[r+f*l,e+f*u]}function S_(r,e,t,n,i,a,s){var o=r-t,l=e-n,u=(s?a:-a)/Ey(o*o+l*l),c=u*l,h=-u*o,f=r+c,d=e+h,p=t+c,v=n+h,g=(f+p)/2,m=(d+v)/2,x=p-f,y=v-d,_=x*x+y*y,S=i-a,w=f*v-p*d,T=(y<0?-1:1)*Ey(Vm(0,S*S*_-w*w)),A=(w*y-x*T)/_,C=(-w*x-y*T)/_,k=(w*y+x*T)/_,E=(-w*x+y*T)/_,D=A-g,I=C-m,P=k-g,F=E-m;return D*D+I*I>P*P+F*F&&(A=k,C=E),{cx:A,cy:C,x0:-c,y0:-h,x1:A*(i/S-1),y1:C*(i/S-1)}}function lte(r){var e;if(ve(r)){var t=r.length;if(!t)return r;t===1?e=[r[0],r[0],0,0]:t===2?e=[r[0],r[0],r[1],r[1]]:t===3?e=r.concat(r[2]):e=r}else e=[r,r,r,r];return e}function ute(r,e){var t,n=Vm(e.r,0),i=Vm(e.r0||0,0),a=n>0,s=i>0;if(!(!a&&!s)){if(a||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,h=e.cy,f=!!e.clockwise,d=bN(u-l),p=d>kC&&d%kC;if(p>Us&&(d=p),!(n>Us))r.moveTo(c,h);else if(d>kC-Us)r.moveTo(c+n*nv(l),h+n*gf(l)),r.arc(c,h,n,l,u,!f),i>Us&&(r.moveTo(c+i*nv(u),h+i*gf(u)),r.arc(c,h,i,u,l,f));else{var v=void 0,g=void 0,m=void 0,x=void 0,y=void 0,_=void 0,S=void 0,w=void 0,T=void 0,A=void 0,C=void 0,k=void 0,E=void 0,D=void 0,I=void 0,P=void 0,F=n*nv(l),V=n*gf(l),z=i*nv(u),G=i*gf(u),O=d>Us;if(O){var ee=e.cornerRadius;ee&&(t=lte(ee),v=t[0],g=t[1],m=t[2],x=t[3]);var Q=bN(n-i)/2;if(y=Io(Q,m),_=Io(Q,x),S=Io(Q,v),w=Io(Q,g),C=T=Vm(y,_),k=A=Vm(S,w),(T>Us||A>Us)&&(E=n*nv(u),D=n*gf(u),I=i*nv(l),P=i*gf(l),d<RH)){var N=ote(F,V,I,P,E,D,z,G);if(N){var Y=F-N[0],W=V-N[1],K=E-N[0],ne=D-N[1],fe=1/gf(ste((Y*K+W*ne)/(Ey(Y*Y+W*W)*Ey(K*K+ne*ne)))/2),ae=Ey(N[0]*N[0]+N[1]*N[1]);C=Io(T,(n-ae)/(fe+1)),k=Io(A,(i-ae)/(fe-1))}}}if(!O)r.moveTo(c+F,h+V);else if(C>Us){var re=Io(m,C),ie=Io(x,C),se=S_(I,P,F,V,n,re,f),U=S_(E,D,z,G,n,ie,f);r.moveTo(c+se.cx+se.x0,h+se.cy+se.y0),C<T&&re===ie?r.arc(c+se.cx,h+se.cy,C,fi(se.y0,se.x0),fi(U.y0,U.x0),!f):(re>0&&r.arc(c+se.cx,h+se.cy,re,fi(se.y0,se.x0),fi(se.y1,se.x1),!f),r.arc(c,h,n,fi(se.cy+se.y1,se.cx+se.x1),fi(U.cy+U.y1,U.cx+U.x1),!f),ie>0&&r.arc(c+U.cx,h+U.cy,ie,fi(U.y1,U.x1),fi(U.y0,U.x0),!f))}else r.moveTo(c+F,h+V),r.arc(c,h,n,l,u,!f);if(!(i>Us)||!O)r.lineTo(c+z,h+G);else if(k>Us){var re=Io(v,k),ie=Io(g,k),se=S_(z,G,E,D,i,-ie,f),U=S_(F,V,I,P,i,-re,f);r.lineTo(c+se.cx+se.x0,h+se.cy+se.y0),k<A&&re===ie?r.arc(c+se.cx,h+se.cy,k,fi(se.y0,se.x0),fi(U.y0,U.x0),!f):(ie>0&&r.arc(c+se.cx,h+se.cy,ie,fi(se.y0,se.x0),fi(se.y1,se.x1),!f),r.arc(c,h,i,fi(se.cy+se.y1,se.cx+se.x1),fi(U.cy+U.y1,U.cx+U.x1),f),re>0&&r.arc(c+U.cx,h+U.cy,re,fi(U.y1,U.x1),fi(U.y0,U.x0),!f))}else r.lineTo(c+z,h+G),r.arc(c,h,i,u,l,f)}r.closePath()}}}var cte=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r}(),ta=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new cte},e.prototype.buildPath=function(t,n){ute(t,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(dt);ta.prototype.type="sector";var hte=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r}(),Ab=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new hte},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.PI*2;t.moveTo(i+n.r,a),t.arc(i,a,n.r,0,s,!1),t.moveTo(i+n.r0,a),t.arc(i,a,n.r0,0,s,!0)},e}(dt);Ab.prototype.type="ring";function fte(r,e,t,n){var i=[],a=[],s=[],o=[],l,u,c,h;if(n){c=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,d=r.length;f<d;f++)mh(c,c,r[f]),yh(h,h,r[f]);mh(c,c,n[0]),yh(h,h,n[1])}for(var f=0,d=r.length;f<d;f++){var p=r[f];if(t)l=r[f?f-1:d-1],u=r[(f+1)%d];else if(f===0||f===d-1){i.push(Fu(r[f]));continue}else l=r[f-1],u=r[f+1];Yf(a,u,l),Pw(a,a,e);var v=qE(p,l),g=qE(p,u),m=v+g;m!==0&&(v/=m,g/=m),Pw(s,a,-v),Pw(o,a,g);var x=gF([],p,s),y=gF([],p,o);n&&(yh(x,x,c),mh(x,x,h),yh(y,y,c),mh(y,y,h)),i.push(x),i.push(y)}return t&&i.push(i.shift()),i}function OH(r,e,t){var n=e.smooth,i=e.points;if(i&&i.length>=2){if(n){var a=fte(i,n,t,e.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],u=a[o*2+1],c=i[(o+1)%s];r.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var o=1,h=i.length;o<h;o++)r.lineTo(i[o][0],i[o][1])}t&&r.closePath()}}var dte=function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r}(),ra=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new dte},e.prototype.buildPath=function(t,n){OH(t,n,!0)},e}(dt);ra.prototype.type="polygon";var pte=function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r}(),aa=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new pte},e.prototype.buildPath=function(t,n){OH(t,n,!1)},e}(dt);aa.prototype.type="polyline";var vte={},gte=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}(),Sn=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gte},e.prototype.buildPath=function(t,n){var i,a,s,o;if(this.subPixelOptimize){var l=gH(vte,n,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=n.x1,a=n.y1,s=n.x2,o=n.y2;var u=n.percent;u!==0&&(t.moveTo(i,a),u<1&&(s=i*(1-u)+s*u,o=a*(1-u)+o*u),t.lineTo(s,o))},e.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},e}(dt);Sn.prototype.type="line";var oa=[],mte=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r}();function _N(r,e,t){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(t?EF:wn)(r.x1,r.cpx1,r.cpx2,r.x2,e),(t?EF:wn)(r.y1,r.cpy1,r.cpy2,r.y2,e)]:[(t?tD:Gn)(r.x1,r.cpx1,r.x2,e),(t?tD:Gn)(r.y1,r.cpy1,r.y2,e)]}var Cb=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new mte},e.prototype.buildPath=function(t,n){var i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,h=n.cpy2,f=n.percent;f!==0&&(t.moveTo(i,a),c==null||h==null?(f<1&&(jy(i,l,s,f,oa),l=oa[1],s=oa[2],jy(a,u,o,f,oa),u=oa[1],o=oa[2]),t.quadraticCurveTo(l,u,s,o)):(f<1&&(Bh(i,l,c,s,f,oa),l=oa[1],c=oa[2],s=oa[3],Bh(a,u,h,o,f,oa),u=oa[1],h=oa[2],o=oa[3]),t.bezierCurveTo(l,u,c,h,s,o)))},e.prototype.pointAt=function(t){return _N(this.shape,t,!1)},e.prototype.tangentAt=function(t){var n=_N(this.shape,t,!0);return kg(n,n)},e}(dt);Cb.prototype.type="bezier-curve";var yte=function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),$A=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new yte},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(o),h=Math.sin(o);t.moveTo(c*s+i,h*s+a),t.arc(i,a,s,o,l,!u)},e}(dt);$A.prototype.type="arc";var lP=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),i=0;i<t.length;i++)n=n||t[i].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(n[0],n[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),dt.prototype.getBoundingRect.call(this)},e}(dt),FH=function(){function r(e){this.colorStops=e||[]}return r.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},r}(),kb=function(r){te(e,r);function e(t,n,i,a,s,o){var l=r.call(this,s)||this;return l.x=t??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e}(FH),NH=function(r){te(e,r);function e(t,n,i,a,s){var o=r.call(this,a)||this;return o.x=t??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e}(FH),mf=[0,0],yf=[0,0],T_=new nt,A_=new nt,ZS=function(){function r(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new nt;for(var n=0;n<2;n++)this._axes[n]=new nt;e&&this.fromBoundingRect(e,t)}return r.prototype.fromBoundingRect=function(e,t){var n=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),t)for(var u=0;u<4;u++)n[u].transform(t);nt.sub(i[0],n[1],n[0]),nt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},r.prototype.intersect=function(e,t){var n=!0,i=!t;return T_.set(1/0,1/0),A_.set(0,0),!this._intersectCheckOneSide(this,e,T_,A_,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(e,this,T_,A_,i,-1)&&(n=!1,i)||i||nt.copy(t,n?T_:A_),n},r.prototype._intersectCheckOneSide=function(e,t,n,i,a,s){for(var o=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,mf),this._getProjMinMaxOnAxis(l,t._corners,yf),mf[1]<yf[0]||mf[0]>yf[1]){if(o=!1,a)return o;var c=Math.abs(yf[0]-mf[1]),h=Math.abs(mf[0]-yf[1]);Math.min(c,h)>i.len()&&(c<h?nt.scale(i,u,-c*s):nt.scale(i,u,h*s))}else if(n){var c=Math.abs(yf[0]-mf[1]),h=Math.abs(mf[0]-yf[1]);Math.min(c,h)<n.len()&&(c<h?nt.scale(n,u,c*s):nt.scale(n,u,-h*s))}}return o},r.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,u=1;u<t.length;u++){var c=t[u].dot(i)+a[e];o=Math.min(c,o),l=Math.max(c,l)}n[0]=o,n[1]=l},r}(),xte=[],bte=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,n){n=n||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.parent=this,n.update(),n.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new at(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(xte)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,n))return!0}return!1},e}(Is),BH=At();function Ig(r,e,t,n,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=r==="update";if(o){var u=void 0,c=void 0,h=void 0;n?(u=Je(n.duration,200),c=Je(n.easing,"cubicOut"),h=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),h=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(h=a.delay)),Ve(h)&&(h=h(t,i)),Ve(u)&&(u=u(t));var f={duration:u||0,delay:h,easing:c};return f}else return null}function uP(r,e,t,n,i,a,s){var o=!1,l;Ve(i)?(s=a,a=i,i=null):Ue(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=r==="leave";u||e.stopAnimation("leave");var c=Ig(r,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var h=c.duration,f=c.delay,d=c.easing,p={duration:h,delay:f||0,easing:d,done:a,force:!!a||!!s,setToFinal:!u,scope:r,during:s};o?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function It(r,e,t,n,i,a){uP("update",r,e,t,n,i,a)}function gr(r,e,t,n,i,a){uP("enter",r,e,t,n,i,a)}function Yv(r){if(!r.__zr)return!0;for(var e=0;e<r.animators.length;e++){var t=r.animators[e];if(t.scope==="leave")return!0}return!1}function Vh(r,e,t,n,i,a){Yv(r)||uP("leave",r,e,t,n,i,a)}function wN(r,e,t,n){r.removeTextContent(),r.removeTextGuideLine(),Vh(r,{style:{opacity:0}},e,t,n)}function r1(r,e,t){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||wN(i,e,t,n)}):wN(r,e,t,n)}function bo(r){BH(r).oldStyle=r.style}function _te(r){return BH(r).oldStyle}var JS=Math.max,QS=Math.min,CD={};function wte(r){return dt.extend(r)}var Ste=rte;function Tte(r,e){return Ste(r,e)}function To(r,e){CD[r]=e}function cP(r){if(CD.hasOwnProperty(r))return CD[r]}function UA(r,e,t,n){var i=PH(r,e);return t&&(n==="center"&&(t=zH(t,i.getBoundingRect())),HH(i,t)),i}function VH(r,e,t){var n=new Yn({style:{image:r,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};n.setStyle(zH(e,a))}}});return n}function zH(r,e){var t=e.width/e.height,n=r.height*t,i;n<=r.width?i=r.height:(n=r.width,i=n/t);var a=r.x+r.width/2,s=r.y+r.height/2;return{x:a-n/2,y:s-i/2,width:n,height:i}}var As=nte;function HH(r,e){if(r.applyTransform){var t=r.getBoundingRect(),n=t.calculateTransform(e);r.applyTransform(n)}}function vg(r,e){return gH(r,r,{lineWidth:e}),r}function Ate(r){return mH(r.shape,r.shape,r.style),r}var $w=Xf;function fp(r,e){for(var t=LA([]);r&&r!==e;)Nu(t,r.getLocalTransform(),t),r=r.parent;return t}function mo(r,e,t){return e&&!ki(e)&&(e=Mu.getLocalTransform(e)),t&&(e=Eg([],e)),ai([],r,e)}function WA(r,e,t){var n=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=mo(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function SN(r){return!r.isGroup}function Cte(r){return r.shape!=null}function Eb(r,e,t){if(!r||!e)return;function n(s){var o={};return s.traverse(function(l){SN(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return Cte(s)&&(o.shape=he({},s.shape)),o}var a=n(r);e.traverse(function(s){if(SN(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),It(s,l,t,je(s).dataIndex)}}})}function GH(r,e){return ge(r,function(t){var n=t[0];n=JS(n,e.x),n=QS(n,e.x+e.width);var i=t[1];return i=JS(i,e.y),i=QS(i,e.y+e.height),[n,i]})}function kte(r,e){var t=JS(r.x,e.x),n=QS(r.x+r.width,e.x+e.width),i=JS(r.y,e.y),a=QS(r.y+r.height,e.y+e.height);if(n>=t&&a>=i)return{x:t,y:i,width:n-t,height:a-i}}function Db(r,e,t){var n=he({rectHover:!0},e),i=n.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),ze(i,t),new Yn(n)):UA(r.replace("path://",""),n,t,"center")}function zm(r,e,t,n,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if($H(r,e,t,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function $H(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,h=o-a,f=EC(c,h,l,u);if(Ete(f))return!1;var d=r-i,p=e-a,v=EC(d,p,l,u)/f;if(v<0||v>1)return!1;var g=EC(d,p,c,h)/f;return!(g<0||g>1)}function EC(r,e,t,n){return r*n-t*e}function Ete(r){return r<=1e-6&&r>=-1e-6}function Rp(r){var e=r.itemTooltipOption,t=r.componentModel,n=r.itemName,i=Ae(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=r.formatterParamsExtra;l&&L(gt(l),function(c){Me(o,c)||(o[c]=l[c],o.$vars.push(c))});var u=je(r.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:n,option:ze({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function TN(r,e){var t;r.isGroup&&(t=e(r)),t||r.traverse(e)}function Zh(r,e){if(r)if(ve(r))for(var t=0;t<r.length;t++)TN(r[t],e);else TN(r,e)}To("circle",ac);To("ellipse",GA);To("sector",ta);To("ring",Ab);To("polygon",ra);To("polyline",aa);To("rect",Tt);To("line",Sn);To("bezierCurve",Cb);To("arc",$A);const Op=Object.freeze(Object.defineProperty({__proto__:null,Arc:$A,BezierCurve:Cb,BoundingRect:at,Circle:ac,CompoundPath:lP,Ellipse:GA,Group:Ke,Image:Yn,IncrementalDisplayable:bte,Line:Sn,LinearGradient:kb,OrientedBoundingRect:ZS,Path:dt,Point:nt,Polygon:ra,Polyline:aa,RadialGradient:NH,Rect:Tt,Ring:Ab,Sector:ta,Text:Et,applyTransform:mo,clipPointsByRect:GH,clipRectByRect:kte,createIcon:Db,extendPath:Tte,extendShape:wte,getShapeClass:cP,getTransform:fp,groupTransition:Eb,initProps:gr,isElementRemoved:Yv,lineLineIntersect:$H,linePolygonIntersect:zm,makeImage:VH,makePath:UA,mergePath:As,registerShape:To,removeElement:Vh,removeElementWithFadeOut:r1,resizePath:HH,setTooltipConfig:Rp,subPixelOptimize:$w,subPixelOptimizeLine:vg,subPixelOptimizeRect:Ate,transformDirection:WA,traverseElements:Zh,updateProps:It},Symbol.toStringTag,{value:"Module"}));var YA={};function UH(r,e){for(var t=0;t<ea.length;t++){var n=ea[t],i=e[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:e.normal}),r.useStates(s,!0)}function kD(r,e,t){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,s=e.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=Ve(r.defaultText)?r.defaultText(i,r,t):r.defaultText);for(var l={normal:o},u=0;u<ea.length;u++){var c=ea[u],h=e[c];l[c]=Je(n?n.getFormattedLabel(i,c,null,a,h&&h.get("formatter")):null,o)}return l}function ci(r,e,t,n){t=t||YA;for(var i=r instanceof Et,a=!1,s=0;s<e1.length;s++){var o=e[e1[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?r:r.getTextContent();if(a){i||(l||(l=new Et,r.setTextContent(l)),r.stateProxy&&(l.stateProxy=r.stateProxy));var u=kD(t,e),c=e.normal,h=!!c.getShallow("show"),f=or(c,n&&n.normal,t,!1,!i);f.text=u.normal,i||r.setTextConfig(eT(c,t,!1));for(var s=0;s<ea.length;s++){var d=ea[s],o=e[d];if(o){var p=l.ensureState(d),v=!!Je(o.getShallow("show"),h);if(v!==h&&(p.ignore=!v),p.style=or(o,n&&n[d],t,!0,!i),p.style.text=u[d],!i){var g=r.ensureState(d);g.textConfig=eT(o,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!h,l.useStyle(f),l.dirty(),t.enableTextSetter&&(Lg(l).setLabelText=function(m){var x=kD(t,e,m);UH(l,x)})}else l&&(l.ignore=!0);r.dirty()}function Mn(r,e){e=e||"label";for(var t={normal:r.getModel(e)},n=0;n<ea.length;n++){var i=ea[n];t[i]=r.getModel([i,e])}return t}function or(r,e,t,n,i){var a={};return Dte(a,r,t,n,i),e&&he(a,e),a}function eT(r,e,t){e=e||{};var n={},i,a=r.getShallow("rotate"),s=Je(r.getShallow("distance"),t?null:5),o=r.getShallow("offset");return i=r.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=r.get("color")==="inherit"?e.inheritColor||null:"auto",n}function Dte(r,e,t,n,i){t=t||YA;var a=e.ecModel,s=a&&a.option.textStyle,o=Mte(e),l;if(o){l={};for(var u in o)if(o.hasOwnProperty(u)){var c=e.getModel(["rich",u]);EN(l[u]={},c,s,t,n,i,!1,!0)}}l&&(r.rich=l);var h=e.get("overflow");h&&(r.overflow=h);var f=e.get("minMargin");f!=null&&(r.margin=f),EN(r,e,s,t,n,i,!0,!1)}function Mte(r){for(var e;r&&r!==r.ecModel;){var t=(r.option||YA).rich;if(t){e=e||{};for(var n=gt(t),i=0;i<n.length;i++){var a=n[i];e[a]=1}}r=r.parentModel}return e}var AN=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],CN=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],kN=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function EN(r,e,t,n,i,a,s,o){t=!i&&t||YA;var l=n&&n.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),h=Je(e.getShallow("opacity"),t.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),a||(u=u||t.color,c=c||t.textBorderColor),u!=null&&(r.fill=u),c!=null&&(r.stroke=c);var f=Je(e.getShallow("textBorderWidth"),t.textBorderWidth);f!=null&&(r.lineWidth=f);var d=Je(e.getShallow("textBorderType"),t.textBorderType);d!=null&&(r.lineDash=d);var p=Je(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);p!=null&&(r.lineDashOffset=p),!i&&h==null&&!o&&(h=n&&n.defaultOpacity),h!=null&&(r.opacity=h),!i&&!a&&r.fill==null&&n.inheritColor&&(r.fill=n.inheritColor);for(var v=0;v<AN.length;v++){var g=AN[v],m=Je(e.getShallow(g),t[g]);m!=null&&(r[g]=m)}for(var v=0;v<CN.length;v++){var g=CN[v],m=e.getShallow(g);m!=null&&(r[g]=m)}if(r.verticalAlign==null){var x=e.getShallow("baseline");x!=null&&(r.verticalAlign=x)}if(!s||!n.disableBox){for(var v=0;v<kN.length;v++){var g=kN[v],m=e.getShallow(g);m!=null&&(r[g]=m)}var y=e.getShallow("borderType");y!=null&&(r.borderDash=y),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&l&&(r.backgroundColor=l),(r.borderColor==="auto"||r.borderColor==="inherit")&&l&&(r.borderColor=l)}}function hP(r,e){var t=e&&e.getModel("textStyle");return uo([r.fontStyle||t&&t.getShallow("fontStyle")||"",r.fontWeight||t&&t.getShallow("fontWeight")||"",(r.fontSize||t&&t.getShallow("fontSize")||12)+"px",r.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Lg=At();function WH(r,e,t,n){if(r){var i=Lg(r);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=e)}}function YH(r,e,t,n,i){var a=Lg(r);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=Je(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var h=lH(t,a.precision,o,l,c);a.interpolatedValue=c===1?null:h;var f=kD({labelDataIndex:e,labelFetcher:i,defaultText:s?s(h):h+""},a.statesModels,h);UH(r,f)}r.percent=0,(a.prevValue==null?gr:It)(r,{percent:1},n,e,null,u)}var Ite=["textStyle","color"],DC=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],MC=new Et,Lte=function(){function r(){}return r.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Ite):null)},r.prototype.getFont=function(){return hP({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<DC.length;n++)t[DC[n]]=this.getShallow(DC[n]);return MC.useStyle(t),MC.update(),MC.getBoundingRect()},r}(),XH=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Pte=_p(XH),Rte=function(){function r(){}return r.prototype.getLineStyle=function(e){return Pte(this,e)},r}(),KH=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Ote=_p(KH),Fte=function(){function r(){}return r.prototype.getItemStyle=function(e,t){return Ote(this,e,t)},r}(),Gt=function(){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return r.prototype.init=function(e,t,n){},r.prototype.mergeOption=function(e,t){tt(this.option,e,!0)},r.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},r.prototype.getShallow=function(e,t){var n=this.option,i=n==null?n:n[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},r.prototype.getModel=function(e,t){var n=e!=null,i=n?this.parsePath(e):null,a=n?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,t,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var e=this.constructor;return new e(Ye(this.option))},r.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},r.prototype.resolveParentPath=function(e){return e},r.prototype.isAnimationEnabled=function(){if(!pt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var i=0;i<e.length&&!(e[i]&&(n=n&&typeof n=="object"?n[e[i]]:null,n==null));i++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},r}();QL(Gt);WQ(Gt);tn(Gt,Rte);tn(Gt,Fte);tn(Gt,qQ);tn(Gt,Lte);var Nte=Math.round(Math.random()*10);function Pg(r){return[r||"",Nte++].join("_")}function Bte(r){var e={};r.registerSubTypeDefaulter=function(t,n){var i=fl(t);e[i.main]=n},r.determineSubType=function(t,n){var i=n.type;if(!i){var a=fl(t).main;r.hasSubTypes(t)&&e[a]&&(i=e[a](n))}return i}}function Vte(r,e){r.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=t(s),c=u.graph,h=u.noEntryList,f={};for(L(a,function(x){f[x]=!0});h.length;){var d=h.pop(),p=c[d],v=!!f[d];v&&(o.call(l,d,p.originalDeps.slice()),delete f[d]),L(p.successor,v?m:g)}L(f,function(){var x="";throw new Error(x)});function g(x){c[x].entryCount--,c[x].entryCount===0&&h.push(x)}function m(x){f[x]=!0,g(x)}};function t(a){var s={},o=[];return L(a,function(l){var u=n(s,l),c=u.originalDeps=e(l),h=i(c,a);u.entryCount=h.length,u.entryCount===0&&o.push(l),L(h,function(f){lt(u.predecessor,f)<0&&u.predecessor.push(f);var d=n(s,f);lt(d.successor,f)<0&&d.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return L(a,function(l){lt(s,l)>=0&&o.push(l)}),o}}function Jh(r,e){return tt(tt({},r,!0),e,!0)}const zte={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Hte={time:{month:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],monthAbbr:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"],dayOfWeekAbbr:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},legend:{selector:{all:"å¨é",inverse:"åé"}},toolbox:{brush:{title:{rect:"ç©å½¢éæ©",polygon:"åé",lineX:"æ¨ªåéæ©",lineY:"çºµåéæ©",keep:"ä¿æéæ©",clear:"æ¸é¤éæ©"}},dataView:{title:"æ°æ®è§å¾",lang:["æ°æ®è§å¾","å³é­","å·æ°"]},dataZoom:{title:{zoom:"åºåç¼©æ¾",back:"åºåç¼©æ¾è¿å"}},magicType:{title:{line:"åæ¢ä¸ºæçº¿å¾",bar:"åæ¢ä¸ºæ±ç¶å¾",stack:"åæ¢ä¸ºå å ",tiled:"åæ¢ä¸ºå¹³éº"}},restore:{title:"è¿å"},saveAsImage:{title:"ä¿å­ä¸ºå¾ç",lang:["å³é®å¦å­ä¸ºå¾ç"]}},series:{typeNames:{pie:"é¥¼å¾",bar:"æ±ç¶å¾",line:"æçº¿å¾",scatter:"æ£ç¹å¾",effectScatter:"æ¶æ¼ªæ£ç¹å¾",radar:"é·è¾¾å¾",tree:"æ å¾",treemap:"ç©å½¢æ å¾",boxplot:"ç®±åå¾",candlestick:"Kçº¿å¾",k:"Kçº¿å¾",heatmap:"ç­åå¾",map:"å°å¾",parallel:"å¹³è¡åæ å¾",lines:"çº¿å¾",graph:"å³ç³»å¾",sankey:"æ¡åºå¾",funnel:"æ¼æå¾",gauge:"ä»ªè¡¨çå¾",pictorialBar:"è±¡å½¢æ±å¾",themeRiver:"ä¸»é¢æ²³æµå¾",sunburst:"æ­æ¥å¾",custom:"èªå®ä¹å¾è¡¨",chart:"å¾è¡¨"}},aria:{general:{withTitle:"è¿æ¯ä¸ä¸ªå³äºâ{title}âçå¾è¡¨ã",withoutTitle:"è¿æ¯ä¸ä¸ªå¾è¡¨ï¼"},series:{single:{prefix:"",withName:"å¾è¡¨ç±»åæ¯{seriesType}ï¼è¡¨ç¤º{seriesName}ã",withoutName:"å¾è¡¨ç±»åæ¯{seriesType}ã"},multiple:{prefix:"å®ç±{seriesCount}ä¸ªå¾è¡¨ç³»åç»æã",withName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ªè¡¨ç¤º{seriesName}ç{seriesType}ï¼",withoutName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ª{seriesType}ï¼",separator:{middle:"ï¼",end:"ã"}}},data:{allData:"å¶æ°æ®æ¯ââ",partialData:"å¶ä¸­ï¼å{displayCnt}é¡¹æ¯ââ",withName:"{name}çæ°æ®æ¯{value}",withoutName:"{value}",separator:{middle:"ï¼",end:""}}}};var tT="ZH",fP="EN",Xv=fP,Uw={},dP={},jH=pt.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Xv).toUpperCase();return r.indexOf(tT)>-1?tT:Xv}():Xv;function qH(r,e){r=r.toUpperCase(),dP[r]=new Gt(e),Uw[r]=e}function Gte(r){if(Ae(r)){var e=Uw[r.toUpperCase()]||{};return r===tT||r===fP?Ye(e):tt(Ye(e),Ye(Uw[Xv]),!1)}else return tt(Ye(r),Ye(Uw[Xv]),!1)}function ED(r){return dP[r]}function $te(){return dP[Xv]}qH(fP,zte);qH(tT,Hte);var pP=1e3,vP=pP*60,Dy=vP*60,Cs=Dy*24,DN=Cs*365,Hm={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},C_="{yyyy}-{MM}-{dd}",MN={year:"{yyyy}",month:"{yyyy}-{MM}",day:C_,hour:C_+" "+Hm.hour,minute:C_+" "+Hm.minute,second:C_+" "+Hm.second,millisecond:Hm.none},IC=["year","month","day","hour","minute","second","millisecond"],ZH=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function fc(r,e){return r+="","0000".substr(0,e-r.length)+r}function Kv(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function Ute(r){return r===Kv(r)}function Wte(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function XA(r,e,t,n){var i=wl(r),a=i[gP(t)](),s=i[jv(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[KA(t)](),u=i["get"+(t?"UTC":"")+"Day"](),c=i[n1(t)](),h=(c-1)%12+1,f=i[jA(t)](),d=i[qA(t)](),p=i[ZA(t)](),v=c>=12?"pm":"am",g=v.toUpperCase(),m=n instanceof Gt?n:ED(n||jH)||$te(),x=m.getModel("time"),y=x.get("month"),_=x.get("monthAbbr"),S=x.get("dayOfWeek"),w=x.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,v+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,fc(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,y[s-1]).replace(/{MMM}/g,_[s-1]).replace(/{MM}/g,fc(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,fc(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,S[u]).replace(/{ee}/g,w[u]).replace(/{e}/g,u+"").replace(/{HH}/g,fc(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,fc(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,fc(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,fc(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,fc(p,3)).replace(/{S}/g,p+"")}function Yte(r,e,t,n,i){var a=null;if(Ae(t))a=t;else if(Ve(t))a=t(r.value,e,{level:r.level});else{var s=he({},Hm);if(r.level>0)for(var o=0;o<IC.length;++o)s[IC[o]]="{primary|"+s[IC[o]]+"}";var l=t?t.inherit===!1?t:ze(t,s):s,u=JH(r.value,i);if(l[u])a=l[u];else if(l.inherit){for(var c=ZH.indexOf(u),o=c-1;o>=0;--o)if(l[u]){a=l[u];break}a=a||s.none}if(ve(a)){var h=r.level==null?0:r.level>=0?r.level:a.length+r.level;h=Math.min(h,a.length-1),a=a[h]}}return XA(new Date(r.value),a,i,n)}function JH(r,e){var t=wl(r),n=t[jv(e)]()+1,i=t[KA(e)](),a=t[n1(e)](),s=t[jA(e)](),o=t[qA(e)](),l=t[ZA(e)](),u=l===0,c=u&&o===0,h=c&&s===0,f=h&&a===0,d=f&&i===1,p=d&&n===1;return p?"year":d?"month":f?"day":h?"hour":c?"minute":u?"second":"millisecond"}function IN(r,e,t){var n=Mt(r)?wl(r):r;switch(e=e||JH(r,t),e){case"year":return n[gP(t)]();case"half-year":return n[jv(t)]()>=6?1:0;case"quarter":return Math.floor((n[jv(t)]()+1)/4);case"month":return n[jv(t)]();case"day":return n[KA(t)]();case"half-day":return n[n1(t)]()/24;case"hour":return n[n1(t)]();case"minute":return n[jA(t)]();case"second":return n[qA(t)]();case"millisecond":return n[ZA(t)]()}}function gP(r){return r?"getUTCFullYear":"getFullYear"}function jv(r){return r?"getUTCMonth":"getMonth"}function KA(r){return r?"getUTCDate":"getDate"}function n1(r){return r?"getUTCHours":"getHours"}function jA(r){return r?"getUTCMinutes":"getMinutes"}function qA(r){return r?"getUTCSeconds":"getSeconds"}function ZA(r){return r?"getUTCMilliseconds":"getMilliseconds"}function Xte(r){return r?"setUTCFullYear":"setFullYear"}function QH(r){return r?"setUTCMonth":"setMonth"}function e7(r){return r?"setUTCDate":"setDate"}function t7(r){return r?"setUTCHours":"setHours"}function r7(r){return r?"setUTCMinutes":"setMinutes"}function n7(r){return r?"setUTCSeconds":"setSeconds"}function i7(r){return r?"setUTCMilliseconds":"setMilliseconds"}function a7(r){if(!eH(r))return Ae(r)?r:"-";var e=(r+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function s7(r,e){return r=(r||"").toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),e&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var Rg=$L;function DD(r,e,t){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&uo(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=e==="time",o=r instanceof Date;if(s||o){var l=s?wl(r):r;if(isNaN(+l)){if(o)return"-"}else return XA(l,n,t)}if(e==="ordinal")return XE(r)?i(r):Mt(r)&&a(r)?r+"":"-";var u=Ku(r);return a(u)?a7(u):XE(r)?i(r):typeof r=="boolean"?r+"":"-"}var LN=["a","b","c","d","e","f","g"],LC=function(r,e){return"{"+r+(e??"")+"}"};function o7(r,e,t){ve(e)||(e=[e]);var n=e.length;if(!n)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=LN[a];r=r.replace(LC(s),LC(s,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var u=e[o][i[l]];r=r.replace(LC(LN[l],o),t?Wi(u):u)}return r}function Kte(r,e,t){return L(e,function(n,i){r=r.replace("{"+i+"}",n)}),r}function jte(r,e){var t=Ae(r)?{color:r,extraCssText:e}:r||{},n=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Wi(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Wi(n)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Sp(r,e){return e=e||"transparent",Ae(r)?r:Ue(r)&&r.colorStops&&(r.colorStops[0]||{}).color||e}function rT(r,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=r}else window.open(r,e)}var Ww=L,l7=["left","right","top","bottom","width","height"],jf=[["width","left","right"],["height","top","bottom"]];function mP(r,e,t,n,i){var a=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),h=e.childAt(u+1),f=h&&h.getBoundingRect(),d,p;if(r==="horizontal"){var v=c.width+(f?-f.x+c.x:0);d=a+v,d>n||l.newline?(a=0,d=v,s+=o+t,o=c.height):o=Math.max(o,c.height)}else{var g=c.height+(f?-f.y+c.y:0);p=s+g,p>i||l.newline?(a+=o+t,s=0,p=g,o=c.width):o=Math.max(o,c.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),r==="horizontal"?a=d+t:s=p+t)})}var dp=mP;Qe(mP,"vertical");Qe(mP,"horizontal");function qte(r,e,t){var n=e.width,i=e.height,a=_e(r.left,n),s=_e(r.top,i),o=_e(r.right,n),l=_e(r.bottom,i);return(isNaN(a)||isNaN(parseFloat(r.left)))&&(a=0),(isNaN(o)||isNaN(parseFloat(r.right)))&&(o=n),(isNaN(s)||isNaN(parseFloat(r.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(r.bottom)))&&(l=i),t=Rg(t||0),{width:Math.max(o-a-t[1]-t[3],0),height:Math.max(l-s-t[0]-t[2],0)}}function vn(r,e,t){t=Rg(t||0);var n=e.width,i=e.height,a=_e(r.left,n),s=_e(r.top,i),o=_e(r.right,n),l=_e(r.bottom,i),u=_e(r.width,n),c=_e(r.height,i),h=t[2]+t[0],f=t[1]+t[3],d=r.aspect;switch(isNaN(u)&&(u=n-o-f-a),isNaN(c)&&(c=i-l-h-s),d!=null&&(isNaN(u)&&isNaN(c)&&(d>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=d*c),isNaN(c)&&(c=u/d)),isNaN(a)&&(a=n-o-u-f),isNaN(s)&&(s=i-l-c-h),r.left||r.right){case"center":a=n/2-u/2-t[3];break;case"right":a=n-u-f;break}switch(r.top||r.bottom){case"middle":case"center":s=i/2-c/2-t[0];break;case"bottom":s=i-c-h;break}a=a||0,s=s||0,isNaN(u)&&(u=n-f-a-(o||0)),isNaN(c)&&(c=i-h-s-(l||0));var p=new at(a+t[3],s+t[0],u,c);return p.margin=t,p}function JA(r,e,t,n,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!s&&!o)return!1;var u;if(l==="raw")u=r.type==="group"?new at(0,0,+e.width||0,+e.height||0):r.getBoundingRect();else if(u=r.getBoundingRect(),r.needLocalTransform()){var c=r.getLocalTransform();u=u.clone(),u.applyTransform(c)}var h=vn(ze({width:u.width,height:u.height},e),t,n),f=s?h.x-u.x:0,d=o?h.y-u.y:0;return l==="raw"?(a.x=f,a.y=d):(a.x+=f,a.y+=d),a===r&&r.markRedraw(),!0}function Zte(r,e){return r[jf[e][0]]!=null||r[jf[e][1]]!=null&&r[jf[e][2]]!=null}function i1(r){var e=r.layoutMode||r.constructor.layoutMode;return Ue(e)?e:e?{type:e}:null}function zh(r,e,t){var n=t&&t.ignoreSize;!ve(n)&&(n=[n,n]);var i=s(jf[0],0),a=s(jf[1],1);u(jf[0],r,i),u(jf[1],r,a);function s(c,h){var f={},d=0,p={},v=0,g=2;if(Ww(c,function(y){p[y]=r[y]}),Ww(c,function(y){o(e,y)&&(f[y]=p[y]=e[y]),l(f,y)&&d++,l(p,y)&&v++}),n[h])return l(e,c[1])?p[c[2]]=null:l(e,c[2])&&(p[c[1]]=null),p;if(v===g||!d)return p;if(d>=g)return f;for(var m=0;m<c.length;m++){var x=c[m];if(!o(f,x)&&o(r,x)){f[x]=r[x];break}}return f}function o(c,h){return c.hasOwnProperty(h)}function l(c,h){return c[h]!=null&&c[h]!=="auto"}function u(c,h,f){Ww(c,function(d){h[d]=f[d]})}}function Og(r){return u7({},r)}function u7(r,e){return e&&r&&Ww(l7,function(t){e.hasOwnProperty(t)&&(r[t]=e[t])}),r}var Jte=At(),vt=function(r){te(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.uid=Pg("ec_cpt_model"),a}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=i1(this),a=i?Og(t):{},s=n.getTheme();tt(t,s.get(this.mainType)),tt(t,this.getDefaultOption()),i&&zh(t,a,i)},e.prototype.mergeOption=function(t,n){tt(this.option,t,!0);var i=i1(this);i&&zh(this.option,t,i)},e.prototype.optionUpdated=function(t,n){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!GQ(t))return t.defaultOption;var n=Jte(this);if(!n.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=tt(o,i[l],!0);n.defaultOption=o}return n.defaultOption},e.prototype.getReferringComponents=function(t,n){var i=t+"Index",a=t+"Id";return Sb(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},n)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Gt);cH(vt,Gt);FA(vt);Bte(vt);Vte(vt,Qte);function Qte(r){var e=[];return L(vt.getClassesByMainType(r),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=ge(e,function(t){return fl(t).main}),r!=="dataset"&&lt(e,"dataset")<=0&&e.unshift("dataset"),e}var c7="";typeof navigator<"u"&&(c7=navigator.platform||"");var iv="rgba(0, 0, 0, 0.2)";const ere={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:iv,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:iv,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:iv,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:iv,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:iv,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:iv,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:c7.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var h7=Le(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Os="original",Ei="arrayRows",Fs="objectRows",Ml="keyedColumns",Mh="typedArray",f7="unknown",ml="column",Fg="row",Qn={Must:1,Might:2,Not:3},d7=At();function tre(r){d7(r).datasetMap=Le()}function p7(r,e,t){var n={},i=xP(e);if(!i||!r)return n;var a=[],s=[],o=e.ecModel,l=d7(o).datasetMap,u=i.uid+"_"+t.seriesLayoutBy,c,h;r=r.slice(),L(r,function(v,g){var m=Ue(v)?v:r[g]={name:v};m.type==="ordinal"&&c==null&&(c=g,h=p(m)),n[m.name]=[]});var f=l.get(u)||l.set(u,{categoryWayDim:h,valueWayDim:0});L(r,function(v,g){var m=v.name,x=p(v);if(c==null){var y=f.valueWayDim;d(n[m],y,x),d(s,y,x),f.valueWayDim+=x}else if(c===g)d(n[m],0,x),d(a,0,x);else{var y=f.categoryWayDim;d(n[m],y,x),d(s,y,x),f.categoryWayDim+=x}});function d(v,g,m){for(var x=0;x<m;x++)v.push(g+x)}function p(v){var g=v.dimsDef;return g?g.length:1}return a.length&&(n.itemName=a),s.length&&(n.seriesName=s),n}function yP(r,e,t){var n={},i=xP(r);if(!i)return n;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Fs||a===Ml)&&L(s,function(c,h){(Ue(c)?c.name:c)==="name"&&(o=h)});var l=function(){for(var c={},h={},f=[],d=0,p=Math.min(5,t);d<p;d++){var v=g7(e.data,a,e.seriesLayoutBy,s,e.startIndex,d);f.push(v);var g=v===Qn.Not;if(g&&c.v==null&&d!==o&&(c.v=d),(c.n==null||c.n===c.v||!g&&f[c.n]===Qn.Not)&&(c.n=d),m(c)&&f[c.n]!==Qn.Not)return c;g||(v===Qn.Might&&h.v==null&&d!==o&&(h.v=d),(h.n==null||h.n===h.v)&&(h.n=d))}function m(x){return x.v!=null&&x.n!=null}return m(c)?c:m(h)?h:null}();if(l){n.value=[l.v];var u=o??l.n;n.itemName=[u],n.seriesName=[u]}return n}function xP(r){var e=r.get("data",!0);if(!e)return Sb(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Jr).models[0]}function rre(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:Sb(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Jr).models}function v7(r,e){return g7(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,e)}function g7(r,e,t,n,i,a){var s,o=5;if(_a(r))return Qn.Not;var l,u;if(n){var c=n[a];Ue(c)?(l=c.name,u=c.type):Ae(c)&&(l=c)}if(u!=null)return u==="ordinal"?Qn.Must:Qn.Not;if(e===Ei){var h=r;if(t===Fg){for(var f=h[a],d=0;d<(f||[]).length&&d<o;d++)if((s=_(f[i+d]))!=null)return s}else for(var d=0;d<h.length&&d<o;d++){var p=h[i+d];if(p&&(s=_(p[a]))!=null)return s}}else if(e===Fs){var v=r;if(!l)return Qn.Not;for(var d=0;d<v.length&&d<o;d++){var g=v[d];if(g&&(s=_(g[l]))!=null)return s}}else if(e===Ml){var m=r;if(!l)return Qn.Not;var f=m[l];if(!f||_a(f))return Qn.Not;for(var d=0;d<f.length&&d<o;d++)if((s=_(f[d]))!=null)return s}else if(e===Os)for(var x=r,d=0;d<x.length&&d<o;d++){var g=x[d],y=Dg(g);if(!ve(y))return Qn.Not;if((s=_(y[a]))!=null)return s}function _(S){var w=Ae(S);if(S!=null&&Number.isFinite(Number(S))&&S!=="")return w?Qn.Might:Qn.Not;if(w&&S!=="-")return Qn.Must}return Qn.Not}var MD=Le();function nre(r,e){Qi(MD.get(r)==null&&e),MD.set(r,e)}function ire(r,e,t){var n=MD.get(e);if(!n)return t;var i=n(r);return i?t.concat(i):t}var PN=At(),are=At(),bP=function(){function r(){}return r.prototype.getColorFromPalette=function(e,t,n){var i=qt(this.get("color",!0)),a=this.get("colorLayer",!0);return m7(this,PN,i,a,e,t,n)},r.prototype.clearColorPalette=function(){ore(this,PN)},r}();function ID(r,e,t,n){var i=qt(r.get(["aria","decal","decals"]));return m7(r,are,i,null,e,t,n)}function sre(r,e){for(var t=r.length,n=0;n<t;n++)if(r[n].length>e)return r[n];return r[t-1]}function m7(r,e,t,n,i,a,s){a=a||r;var o=e(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=s==null||!n?t:sre(n,s);if(c=c||t,!(!c||!c.length)){var h=c[l];return i&&(u[i]=h),o.paletteIdx=(l+1)%c.length,h}}function ore(r,e){e(r).paletteIdx=0,e(r).paletteNameMap={}}var k_,om,RN,ON="\0_ec_inner",lre=1,_P=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i,a,s,o){a=a||{},this.option=null,this._theme=new Gt(a),this._locale=new Gt(s),this._optionManager=o},e.prototype.setOption=function(t,n,i){var a=BN(n);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,n){return this._resetOption(t,BN(n))},e.prototype._resetOption=function(t,n){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?RN(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&L(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,n){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=Le(),u=n&&n.replaceMergeMainTypeMap;tre(this),L(t,function(h,f){h!=null&&(vt.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?Ye(h):tt(i[f],h,!0))}),u&&u.each(function(h,f){vt.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),vt.topologicalTravel(o,vt.getAllClassMainTypes(),c,this);function c(h){var f=ire(this,h,qt(t[h])),d=a.get(h),p=d?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll",v=aH(d,f,p);PQ(v,h,vt),i[h]=null,a.set(h,null),s.set(h,0);var g=[],m=[],x=0,y;L(v,function(_,S){var w=_.existing,T=_.newOption;if(!T)w&&(w.mergeOption({},this),w.optionUpdated({},!1));else{var A=h==="series",C=vt.getClass(h,_.keyInfo.subType,!A);if(!C)return;if(h==="tooltip"){if(y)return;y=!0}if(w&&w.constructor===C)w.name=_.keyInfo.name,w.mergeOption(T,this),w.optionUpdated(T,!1);else{var k=he({componentIndex:S},_.keyInfo);w=new C(T,this,this,k),he(w,k),_.brandNew&&(w.__requireNewView=!0),w.init(T,this,this),w.optionUpdated(null,!0)}}w?(g.push(w.option),m.push(w),x++):(g.push(void 0),m.push(void 0))},this),i[h]=g,a.set(h,m),s.set(h,x),h==="series"&&k_(this)}this._seriesIndices||k_(this)},e.prototype.getOption=function(){var t=Ye(this.option);return L(t,function(n,i){if(vt.hasClass(i)){for(var a=qt(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!Qy(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[ON],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,n){var i=this._componentsMap.get(t);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],L(qt(i),function(u){o[u]&&l.push(o[u])})):a!=null?l=FN("id",a,o):s!=null?l=FN("name",s,o):l=Ot(o,function(u){return!!u}),NN(l,t)},e.prototype.findComponents=function(t){var n=t.query,i=t.mainType,a=o(n),s=a?this.queryComponents(a):Ot(this._componentsMap.get(i),function(u){return!!u});return l(NN(s,t));function o(u){var c=i+"Index",h=i+"Id",f=i+"Name";return u&&(u[c]!=null||u[h]!=null||u[f]!=null)?{mainType:i,index:u[c],id:u[h],name:u[f]}:null}function l(u){return t.filter?Ot(u,t.filter):u}},e.prototype.eachComponent=function(t,n,i){var a=this._componentsMap;if(Ve(t)){var s=n,o=t;a.each(function(h,f){for(var d=0;h&&d<h.length;d++){var p=h[d];p&&o.call(s,f,p,p.componentIndex)}})}else for(var l=Ae(t)?a.get(t):Ue(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var n=fn(t,null);return Ot(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ot(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},e.prototype.getSeries=function(){return Ot(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,n){om(this),L(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(n,a,i)},this)},e.prototype.eachRawSeries=function(t,n){L(this._componentsMap.get("series"),function(i){i&&t.call(n,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,n,i){om(this),L(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&n.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,n,i){return L(this.getSeriesByType(t),n,i)},e.prototype.isSeriesFiltered=function(t){return om(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,n){om(this);var i=[];L(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(n,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Le(i)},e.prototype.restoreData=function(t){k_(this);var n=this._componentsMap,i=[];n.each(function(a,s){vt.hasClass(s)&&i.push(s)}),vt.topologicalTravel(i,vt.getAllClassMainTypes(),function(a){L(n.get(a),function(s){s&&(a!=="series"||!ure(s,t))&&s.restoreData()})})},e.internalField=function(){k_=function(t){var n=t._seriesIndices=[];L(t._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),t._seriesIndicesMap=Le(n)},om=function(t){},RN=function(t,n){t.option={},t.option[ON]=lre,t._componentsMap=Le({series:[]}),t._componentsCount=Le();var i=n.aria;Ue(i)&&i.enabled==null&&(i.enabled=!0),cre(n,t._theme.option),tt(n,ere,!1),t._mergeOption(n,null)}}(),e}(Gt);function ure(r,e){if(e){var t=e.seriesIndex,n=e.seriesId,i=e.seriesName;return t!=null&&r.componentIndex!==t||n!=null&&r.id!==n||i!=null&&r.name!==i}}function cre(r,e){var t=r.color&&!r.colorLayer;L(e,function(n,i){i==="colorLayer"&&t||vt.hasClass(i)||(typeof n=="object"?r[i]=r[i]?tt(r[i],n,!1):Ye(n):r[i]==null&&(r[i]=n))})}function FN(r,e,t){if(ve(e)){var n=Le();return L(e,function(a){if(a!=null){var s=fn(a,null);s!=null&&n.set(a,!0)}}),Ot(t,function(a){return a&&n.get(a[r])})}else{var i=fn(e,null);return Ot(t,function(a){return a&&i!=null&&a[r]===i})}}function NN(r,e){return e.hasOwnProperty("subType")?Ot(r,function(t){return t&&t.subType===e.subType}):r}function BN(r){var e=Le();return r&&L(qt(r.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}tn(_P,bP);var hre=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],y7=function(){function r(e){L(hre,function(t){this[t]=Ee(e[t],e)},this)}return r}(),PC={},Mb=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(e,t){var n=[];L(PC,function(i,a){var s=i.create(e,t);n=n.concat(s||[])}),this._coordinateSystems=n},r.prototype.update=function(e,t){L(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(e,t){PC[e]=t},r.get=function(e){return PC[e]},r}(),fre=/^(min|max)?(.+)$/,dre=function(){function r(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return r.prototype.setOption=function(e,t,n){e&&(L(qt(e.series),function(s){s&&s.data&&_a(s.data)&&HS(s.data)}),L(qt(e.dataset),function(s){s&&s.source&&_a(s.source)&&HS(s.source)})),e=Ye(e);var i=this._optionBackup,a=pre(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Ye(e?t.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=Ye(n[i.getCurrentIndex()]))}return t},r.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,u=i.length;l<u;l++)vre(i[l].query,t,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!mre(s,this._currentMediaIndices)&&(o=ge(s,function(c){return Ye(c===-1?a.option:i[c].option)})),this._currentMediaIndices=s,o},r}();function pre(r,e,t){var n=[],i,a,s=r.baseOption,o=r.timeline,l=r.options,u=r.media,c=!!r.media,h=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((h||c)&&(r.options=r.media=null),a=r),c&&ve(u)&&L(u,function(d){d&&d.option&&(d.query?n.push(d):i||(i=d))}),f(a),L(l,function(d){return f(d)}),L(n,function(d){return f(d.option)});function f(d){L(e,function(p){p(d,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function vre(r,e,t){var n={width:e,height:t,aspectratio:e/t},i=!0;return L(r,function(a,s){var o=s.match(fre);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();gre(n[u],a,l)||(i=!1)}}),i}function gre(r,e,t){return t==="min"?r>=e:t==="max"?r<=e:r===e}function mre(r,e){return r.join(",")===e.join(",")}var zs=L,a1=Ue,VN=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function RC(r){var e=r&&r.itemStyle;if(e)for(var t=0,n=VN.length;t<n;t++){var i=VN[t],a=e.normal,s=e.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?tt(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),s&&s[i]&&(r[i]=r[i]||{},r[i].emphasis?tt(r[i].emphasis,s[i]):r[i].emphasis=s[i],s[i]=null)}}function _i(r,e,t){if(r&&r[e]&&(r[e].normal||r[e].emphasis)){var n=r[e].normal,i=r[e].emphasis;n&&(t?(r[e].normal=r[e].emphasis=null,ze(r[e],n)):r[e]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[e]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function Gm(r){_i(r,"itemStyle"),_i(r,"lineStyle"),_i(r,"areaStyle"),_i(r,"label"),_i(r,"labelLine"),_i(r,"upperLabel"),_i(r,"edgeLabel")}function Zr(r,e){var t=a1(r)&&r[e],n=a1(t)&&t.textStyle;if(n)for(var i=0,a=WF.length;i<a;i++){var s=WF[i];n.hasOwnProperty(s)&&(t[s]=n[s])}}function os(r){r&&(Gm(r),Zr(r,"label"),r.emphasis&&Zr(r.emphasis,"label"))}function yre(r){if(a1(r)){RC(r),Gm(r),Zr(r,"label"),Zr(r,"upperLabel"),Zr(r,"edgeLabel"),r.emphasis&&(Zr(r.emphasis,"label"),Zr(r.emphasis,"upperLabel"),Zr(r.emphasis,"edgeLabel"));var e=r.markPoint;e&&(RC(e),os(e));var t=r.markLine;t&&(RC(t),os(t));var n=r.markArea;n&&os(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!_a(a))for(var s=0;s<a.length;s++)os(a[s]);L(r.categories,function(u){Gm(u)})}if(i&&!_a(i))for(var s=0;s<i.length;s++)os(i[s]);if(e=r.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)os(o[s]);if(t=r.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)ve(l[s])?(os(l[s][0]),os(l[s][1])):os(l[s]);r.type==="gauge"?(Zr(r,"axisLabel"),Zr(r,"title"),Zr(r,"detail")):r.type==="treemap"?(_i(r.breadcrumb,"itemStyle"),L(r.levels,function(u){Gm(u)})):r.type==="tree"&&Gm(r.leaves)}}function Vl(r){return ve(r)?r:r?[r]:[]}function zN(r){return(ve(r)?r[0]:r)||{}}function xre(r,e){zs(Vl(r.series),function(n){a1(n)&&yre(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),zs(t,function(n){zs(Vl(r[n]),function(i){i&&(Zr(i,"axisLabel"),Zr(i.axisPointer,"label"))})}),zs(Vl(r.parallel),function(n){var i=n&&n.parallelAxisDefault;Zr(i,"axisLabel"),Zr(i&&i.axisPointer,"label")}),zs(Vl(r.calendar),function(n){_i(n,"itemStyle"),Zr(n,"dayLabel"),Zr(n,"monthLabel"),Zr(n,"yearLabel")}),zs(Vl(r.radar),function(n){Zr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),zs(Vl(r.geo),function(n){a1(n)&&(os(n),zs(Vl(n.regions),function(i){os(i)}))}),zs(Vl(r.timeline),function(n){os(n),_i(n,"label"),_i(n,"itemStyle"),_i(n,"controlStyle",!0);var i=n.data;ve(i)&&L(i,function(a){Ue(a)&&(_i(a,"label"),_i(a,"itemStyle"))})}),zs(Vl(r.toolbox),function(n){_i(n,"iconStyle"),zs(n.feature,function(i){_i(i,"iconStyle")})}),Zr(zN(r.axisPointer),"label"),Zr(zN(r.tooltip).axisPointer,"label")}function bre(r,e){for(var t=e.split(","),n=r,i=0;i<t.length&&(n=n&&n[t[i]],n!=null);i++);return n}function _re(r,e,t,n){for(var i=e.split(","),a=r,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=t)}function HN(r){r&&L(wre,function(e){e[0]in r&&!(e[1]in r)&&(r[e[1]]=r[e[0]])})}var wre=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Sre=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],OC=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function lm(r){var e=r&&r.itemStyle;if(e)for(var t=0;t<OC.length;t++){var n=OC[t][1],i=OC[t][0];e[n]!=null&&(e[i]=e[n])}}function GN(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function $N(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function Tre(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function x7(r,e){if(r)for(var t=0;t<r.length;t++)e(r[t]),r[t]&&x7(r[t].children,e)}function b7(r,e){xre(r,e),r.series=qt(r.series),L(r.series,function(t){if(Ue(t)){var n=t.type;if(n==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(n==="pie"||n==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),GN(t.label);var i=t.data;if(i&&!_a(i))for(var a=0;a<i.length;a++)GN(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(n==="gauge"){var s=bre(t,"pointer.color");s!=null&&_re(t,"itemStyle.color",s)}else if(n==="bar"){lm(t),lm(t.backgroundStyle),lm(t.emphasis);var i=t.data;if(i&&!_a(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(lm(i[a]),lm(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),$N(t),x7(t.data,$N)}else n==="graph"||n==="sankey"?Tre(t):n==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&ze(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),HN(t)}}),r.dataRange&&(r.visualMap=r.dataRange),L(Sre,function(t){var n=r[t];n&&(ve(n)||(n=[n]),L(n,function(i){HN(i)}))})}function Are(r){var e=Le();r.eachSeries(function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),e.each(Cre)}function Cre(r){L(r,function(e,t){var n=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,c,h){var f=s.get(e.stackedDimension,h);if(isNaN(f))return i;var d,p;o?p=s.getRawIndex(h):d=s.get(e.stackedByDimension,h);for(var v=NaN,g=t-1;g>=0;g--){var m=r[g];if(o||(p=m.data.rawIndexOf(m.stackedByDimension,d)),p>=0){var x=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&x>0||l==="negative"&&x<0||l==="samesign"&&f>=0&&x>0||l==="samesign"&&f<=0&&x<0){f=wQ(f,x),v=x;break}}}return n[0]=f,n[1]=v,n})})}var QA=function(){function r(e){this.data=e.data||(e.sourceFormat===Ml?{}:[]),this.sourceFormat=e.sourceFormat||f7,this.seriesLayoutBy=e.seriesLayoutBy||ml,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var i=t[n];i.type==null&&v7(this,n)===Qn.Must&&(i.type="ordinal")}}return r}();function wP(r){return r instanceof QA}function LD(r,e,t){t=t||_7(r);var n=e.seriesLayoutBy,i=Ere(r,t,n,e.sourceHeader,e.dimensions),a=new QA({data:r,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Ye(e)});return a}function SP(r){return new QA({data:r,sourceFormat:_a(r)?Mh:Os})}function kre(r){return new QA({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:Ye(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function _7(r){var e=f7;if(_a(r))e=Mh;else if(ve(r)){r.length===0&&(e=Ei);for(var t=0,n=r.length;t<n;t++){var i=r[t];if(i!=null){if(ve(i)||_a(i)){e=Ei;break}else if(Ue(i)){e=Fs;break}}}}else if(Ue(r)){for(var a in r)if(Me(r,a)&&ki(r[a])){e=Ml;break}}return e}function Ere(r,e,t,n,i){var a,s;if(!r)return{dimensionsDefine:UN(i),startIndex:s,dimensionsDetectedCount:a};if(e===Ei){var o=r;n==="auto"||n==null?WN(function(u){u!=null&&u!=="-"&&(Ae(u)?s==null&&(s=1):s=0)},t,o,10):s=Mt(n)?n:n?1:0,!i&&s===1&&(i=[],WN(function(u,c){i[c]=u!=null?u+"":""},t,o,1/0)),a=i?i.length:t===Fg?o.length:o[0]?o[0].length:null}else if(e===Fs)i||(i=Dre(r));else if(e===Ml)i||(i=[],L(r,function(u,c){i.push(c)}));else if(e===Os){var l=Dg(r[0]);a=ve(l)&&l.length||1}return{startIndex:s,dimensionsDefine:UN(i),dimensionsDetectedCount:a}}function Dre(r){for(var e=0,t;e<r.length&&!(t=r[e++]););if(t)return gt(t)}function UN(r){if(r){var e=Le();return ge(r,function(t,n){t=Ue(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function WN(r,e,t,n){if(e===Fg)for(var i=0;i<t.length&&i<n;i++)r(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function w7(r){var e=r.sourceFormat;return e===Fs||e===Ml}var xf,bf,_f,YN,XN,S7=function(){function r(e,t){var n=wP(e)?e:SP(e);this._source=n;var i=this._data=n.data;n.sourceFormat===Mh&&(this._offset=0,this._dimSize=t,this._data=i),XN(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(e,t){},r.prototype.appendData=function(e){},r.prototype.clean=function(){},r.protoInitialize=function(){var e=r.prototype;e.pure=!1,e.persistent=!0}(),r.internalField=function(){var e;XN=function(s,o,l){var u=l.sourceFormat,c=l.seriesLayoutBy,h=l.startIndex,f=l.dimensionsDefine,d=YN[TP(u,c)];if(he(s,d),u===Mh)s.getItem=t,s.count=i,s.fillStorage=n;else{var p=T7(u,c);s.getItem=Ee(p,null,o,h,f);var v=A7(u,c);s.count=Ee(v,null,o,h,f)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,c=u*s,h=0;h<u;h++)o[h]=l[c+h];return o},n=function(s,o,l,u){for(var c=this._data,h=this._dimSize,f=0;f<h;f++){for(var d=u[f],p=d[0]==null?1/0:d[0],v=d[1]==null?-1/0:d[1],g=o-s,m=l[f],x=0;x<g;x++){var y=c[x*h+f];m[s+x]=y,y<p&&(p=y),y>v&&(v=y)}d[0]=p,d[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};YN=(e={},e[Ei+"_"+ml]={pure:!0,appendData:a},e[Ei+"_"+Fg]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Fs]={pure:!0,appendData:a},e[Ml]={pure:!0,appendData:function(s){var o=this._data;L(s,function(l,u){for(var c=o[u]||(o[u]=[]),h=0;h<(l||[]).length;h++)c.push(l[h])})}},e[Os]={appendData:a},e[Mh]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),r}(),KN=function(r,e,t,n){return r[n]},Mre=(xf={},xf[Ei+"_"+ml]=function(r,e,t,n){return r[n+e]},xf[Ei+"_"+Fg]=function(r,e,t,n,i){n+=e;for(var a=i||[],s=r,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},xf[Fs]=KN,xf[Ml]=function(r,e,t,n,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=r[o];a[s]=l?l[n]:null}return a},xf[Os]=KN,xf);function T7(r,e){var t=Mre[TP(r,e)];return t}var jN=function(r,e,t){return r.length},Ire=(bf={},bf[Ei+"_"+ml]=function(r,e,t){return Math.max(0,r.length-e)},bf[Ei+"_"+Fg]=function(r,e,t){var n=r[0];return n?Math.max(0,n.length-e):0},bf[Fs]=jN,bf[Ml]=function(r,e,t){var n=t[0].name,i=r[n];return i?i.length:0},bf[Os]=jN,bf);function A7(r,e){var t=Ire[TP(r,e)];return t}var FC=function(r,e,t){return r[e]},Lre=(_f={},_f[Ei]=FC,_f[Fs]=function(r,e,t){return r[t]},_f[Ml]=FC,_f[Os]=function(r,e,t){var n=Dg(r);return n instanceof Array?n[e]:n},_f[Mh]=FC,_f);function C7(r){var e=Lre[r];return e}function TP(r,e){return r===Ei?r+"_"+e:r}function gg(r,e,t){if(r){var n=r.getRawDataItem(e);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=r.getDimensionIndex(t),o=i.getDimensionProperty(s);return C7(a)(n,s,o)}else{var l=n;return a===Os&&(l=Dg(n)),l}}}}var Pre=/\{@(.+?)\}/g,e2=function(){function r(){}return r.prototype.getDataParams=function(e,t){var n=this.getData(t),i=this.getRawValue(e,t),a=n.getRawIndex(e),s=n.getName(e),o=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),u=l&&l[n.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,h=this.mainType,f=h==="series",d=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:u,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(e,t,n,i,a,s){t=t||"normal";var o=this.getData(n),l=this.getDataParams(e,n);if(s&&(l.value=s.interpolatedValue),i!=null&&ve(l.value)&&(l.value=l.value[i]),!a){var u=o.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Ve(a))return l.status=t,l.dimensionIndex=i,a(l);if(Ae(a)){var c=o7(a,l);return c.replace(Pre,function(h,f){var d=f.length,p=f;p.charAt(0)==="["&&p.charAt(d-1)==="]"&&(p=+p.slice(1,d-1));var v=gg(o,e,p);if(s&&ve(s.interpolatedValue)){var g=o.getDimensionIndex(p);g>=0&&(v=s.interpolatedValue[g])}return v!=null?v+"":""})}},r.prototype.getRawValue=function(e,t){return gg(this.getData(t),e)},r.prototype.formatTooltip=function(e,t,n){},r}();function qN(r){var e,t;return Ue(r)?r.type&&(t=r):e=r,{text:e,frag:t}}function My(r){return new Rre(r)}var Rre=function(){function r(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return r.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(s!==l||o!==u)&&(a="reset");function c(x){return!(x>=1)&&(x=1),x}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(n)),this._modBy=l,this._modDataCount=u;var f=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(h||d<p)){var v=this._progress;if(ve(v))for(var g=0;g<v.length;g++)this._doProgress(v[g],d,p,l,u);else this._doProgress(v,d,p,l,u)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(e,t,n,i,a){ZN.reset(t,n,i,a),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:ZN.next},this.context)},r.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),ve(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},r}(),ZN=function(){var r,e,t,n,i,a={reset:function(l,u,c,h){e=l,r=u,t=c,n=h,i=Math.ceil(n/t),a.next=t>1&&n>0?o:s}};return a;function s(){return e<r?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),u=e>=r?null:l<n?l:e;return e++,u}}();function Ih(r,e){var t=e&&e.type;return t==="ordinal"?r:(t==="time"&&!Mt(r)&&r!=null&&r!=="-"&&(r=+wl(r)),r==null||r===""?NaN:Number(r))}var Ore=Le({number:function(r){return parseFloat(r)},time:function(r){return+wl(r)},trim:function(r){return Ae(r)?uo(r):r}});function k7(r){return Ore.get(r)}var E7={lt:function(r,e){return r<e},lte:function(r,e){return r<=e},gt:function(r,e){return r>e},gte:function(r,e){return r>=e}},Fre=function(){function r(e,t){if(!Mt(t)){var n="";Rt(n)}this._opFn=E7[e],this._rvalFloat=Ku(t)}return r.prototype.evaluate=function(e){return Mt(e)?this._opFn(e,this._rvalFloat):this._opFn(Ku(e),this._rvalFloat)},r}(),D7=function(){function r(e,t){var n=e==="desc";this._resultLT=n?1:-1,t==null&&(t=n?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return r.prototype.evaluate=function(e,t){var n=Mt(e)?e:Ku(e),i=Mt(t)?t:Ku(t),a=isNaN(n),s=isNaN(i);if(a&&(n=this._incomparable),s&&(i=this._incomparable),a&&s){var o=Ae(e),l=Ae(t);o&&(n=l?e:0),l&&(i=o?t:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r}(),Nre=function(){function r(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Ku(t)}return r.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(t=Ku(e)===this._rvalFloat)}return this._isEQ?t:!t},r}();function Bre(r,e){return r==="eq"||r==="ne"?new Nre(r==="eq",e):Me(E7,r)?new Fre(r,e):null}var Vre=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(e){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(e){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(e,t){},r.prototype.retrieveValueFromItem=function(e,t){},r.prototype.convertValue=function(e,t){return Ih(e,t)},r}();function zre(r,e){var t=new Vre,n=r.data,i=t.sourceFormat=r.sourceFormat,a=r.startIndex,s="";r.seriesLayoutBy!==ml&&Rt(s);var o=[],l={},u=r.dimensionsDefine;if(u)L(u,function(v,g){var m=v.name,x={index:g,name:m,displayName:v.displayName};if(o.push(x),m!=null){var y="";Me(l,m)&&Rt(y),l[m]=x}});else for(var c=0;c<r.dimensionsDetectedCount;c++)o.push({index:c});var h=T7(i,ml);e.__isBuiltIn&&(t.getRawDataItem=function(v){return h(n,a,o,v)},t.getRawData=Ee(Hre,null,r)),t.cloneRawData=Ee(Gre,null,r);var f=A7(i,ml);t.count=Ee(f,null,n,a,o);var d=C7(i);t.retrieveValue=function(v,g){var m=h(n,a,o,v);return p(m,g)};var p=t.retrieveValueFromItem=function(v,g){if(v!=null){var m=o[g];if(m)return d(v,g,m.name)}};return t.getDimensionInfo=Ee($re,null,o,l),t.cloneAllDimensionInfo=Ee(Ure,null,o),t}function Hre(r){var e=r.sourceFormat;if(!AP(e)){var t="";Rt(t)}return r.data}function Gre(r){var e=r.sourceFormat,t=r.data;if(!AP(e)){var n="";Rt(n)}if(e===Ei){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===Fs){for(var i=[],a=0,s=t.length;a<s;a++)i.push(he({},t[a]));return i}}function $re(r,e,t){if(t!=null){if(Mt(t)||!isNaN(t)&&!Me(e,t))return r[t];if(Me(e,t))return e[t]}}function Ure(r){return Ye(r)}var M7=Le();function Wre(r){r=Ye(r);var e=r.type,t="";e||Rt(t);var n=e.split(":");n.length!==2&&Rt(t);var i=!1;n[0]==="echarts"&&(e=n[1],i=!0),r.__isBuiltIn=i,M7.set(e,r)}function Yre(r,e,t){var n=qt(r),i=n.length,a="";i||Rt(a);for(var s=0,o=i;s<o;s++){var l=n[s];e=Xre(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function Xre(r,e,t,n){var i="";e.length||Rt(i),Ue(r)||Rt(i);var a=r.type,s=M7.get(a);s||Rt(i);var o=ge(e,function(u){return zre(u,s)}),l=qt(s.transform({upstream:o[0],upstreamList:o,config:Ye(r.config)}));return ge(l,function(u,c){var h="";Ue(u)||Rt(h),u.data||Rt(h);var f=_7(u.data);AP(f)||Rt(h);var d,p=e[0];if(p&&c===0&&!u.dimensions){var v=p.startIndex;v&&(u.data=p.data.slice(0,v).concat(u.data)),d={seriesLayoutBy:ml,sourceHeader:v,dimensions:p.metaRawOption.dimensions}}else d={seriesLayoutBy:ml,sourceHeader:0,dimensions:u.dimensions};return LD(u.data,d,null)})}function AP(r){return r===Ei||r===Fs}var t2="undefined",Kre=typeof Uint32Array===t2?Array:Uint32Array,jre=typeof Uint16Array===t2?Array:Uint16Array,I7=typeof Int32Array===t2?Array:Int32Array,JN=typeof Float64Array===t2?Array:Float64Array,L7={float:JN,int:I7,ordinal:Array,number:Array,time:JN},NC;function av(r){return r>65535?Kre:jre}function sv(){return[1/0,-1/0]}function qre(r){var e=r.constructor;return e===Array?r.slice():new e(r)}function QN(r,e,t,n,i){var a=L7[t||"float"];if(i){var s=r[e],o=s&&s.length;if(o!==n){for(var l=new a(n),u=0;u<o;u++)l[u]=s[u];r[e]=l}}else r[e]=new a(n)}var PD=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Le()}return r.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=NC[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],w7(i),this._dimensions=ge(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},n.set(e,a),this._chunks[a]=new L7[t||"float"](this._rawCount),this._rawExtent[a]=sv(),a},r.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=n.length;s===0&&(a[e]=sv());for(var l=a[e],u=s;u<o;u++){var c=n[u]=t.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},r.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},r.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},r.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(e,t){for(var n=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),u=0;u<a;u++){var c=i[u];QN(n,u,c.type,l,!0)}for(var h=[],f=o;f<l;f++)for(var d=f-o,p=0;p<a;p++){var c=i[p],v=NC.arrayRows.call(this,e[d]||h,c.property,d,p);n[p][f]=v;var g=s[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}return this._rawCount=this._count=l,{start:o,end:l}},r.prototype._initDataFromProvider=function(e,t,n){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=ge(s,function(x){return x.property}),c=0;c<o;c++){var h=s[c];l[c]||(l[c]=sv()),QN(a,c,h.type,t,n)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var f=[],d=e;d<t;d++){f=i.getItem(d,f);for(var p=0;p<o;p++){var v=a[p],g=this._dimValueGetter(f,u[p],d,p);v[d]=g;var m=l[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},r.prototype.getValues=function(e,t){var n=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)n.push(this.get(i[a],t));return n},r.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},r.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(n+=s)}return n},r.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var n=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},r.prototype.indicesOfNearest=function(e,t,n){var i=this._chunks,a=i[e],s=[];if(!a)return s;n==null&&(n=1/0);for(var o=1/0,l=-1,u=0,c=0,h=this.count();c<h;c++){var f=this.getRawIndex(c),d=t-a[f],p=Math.abs(d);p<=n&&((p<o||p===o&&d>=0&&l<0)&&(o=p,l=d,u=0),d===l&&(s[u++]=c))}return s.length=u,s},r.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,i=this._count;if(n===Array){e=new n(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new n(t.buffer,0,i)}else{var n=av(this._rawCount);e=new n(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},r.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=av(n._rawCount),s=new a(i),o=[],l=e.length,u=0,c=e[0],h=n._chunks,f=0;f<i;f++){var d=void 0,p=n.getRawIndex(f);if(l===0)d=t(f);else if(l===1){var v=h[c][p];d=t(v,f)}else{for(var g=0;g<l;g++)o[g]=h[e[g]][p];o[g]=f,d=t.apply(null,o)}d&&(s[u++]=p)}return u<i&&(n._indices=s),n._count=u,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var i=gt(e),a=i.length;if(!a)return this;var s=t.count(),o=av(t._rawCount),l=new o(s),u=0,c=i[0],h=e[c][0],f=e[c][1],d=t._chunks,p=!1;if(!t._indices){var v=0;if(a===1){for(var g=d[i[0]],m=0;m<n;m++){var x=g[m];(x>=h&&x<=f||isNaN(x))&&(l[u++]=v),v++}p=!0}else if(a===2){for(var g=d[i[0]],y=d[i[1]],_=e[i[1]][0],S=e[i[1]][1],m=0;m<n;m++){var x=g[m],w=y[m];(x>=h&&x<=f||isNaN(x))&&(w>=_&&w<=S||isNaN(w))&&(l[u++]=v),v++}p=!0}}if(!p)if(a===1)for(var m=0;m<s;m++){var T=t.getRawIndex(m),x=d[i[0]][T];(x>=h&&x<=f||isNaN(x))&&(l[u++]=T)}else for(var m=0;m<s;m++){for(var A=!0,T=t.getRawIndex(m),C=0;C<a;C++){var k=i[C],x=d[k][T];(x<e[k][0]||x>e[k][1])&&(A=!1)}A&&(l[u++]=t.getRawIndex(m))}return u<s&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},r.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},r.prototype.modify=function(e,t){this._updateDims(this,e,t)},r.prototype._updateDims=function(e,t,n){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=sv();for(var h=0;h<o;h++){for(var f=e.getRawIndex(h),d=0;d<s;d++)l[d]=i[t[d]][f];l[s]=h;var p=n&&n.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var c=0;c<p.length;c++){var v=t[c],g=p[c],m=u[v],x=i[v];x&&(x[f]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},r.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),i=n._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,h,f,d=new(av(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));d[o++]=u;for(var p=1;p<s-1;p+=l){for(var v=Math.min(p+l,s-1),g=Math.min(p+l*2,s),m=(g+v)/2,x=0,y=v;y<g;y++){var _=this.getRawIndex(y),S=a[_];isNaN(S)||(x+=S)}x/=g-v;var w=p,T=Math.min(p+l,s),A=p-1,C=a[u];c=-1,f=w;for(var k=-1,E=0,y=w;y<T;y++){var _=this.getRawIndex(y),S=a[_];if(isNaN(S)){E++,k<0&&(k=_);continue}h=Math.abs((A-m)*(S-C)-(A-y)*(x-C)),h>c&&(c=h,f=_)}E>0&&E<T-w&&(d[o++]=Math.min(k,f),f=Math.max(k,f)),d[o++]=f,u=f}return d[o++]=this.getRawIndex(s-1),n._count=o,n._indices=d,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),i=n._chunks,a=Math.floor(1/t),s=i[e],o=this.count(),l=new(av(this._rawCount))(Math.ceil(o/a)*2),u=0,c=0;c<o;c+=a){var h=c,f=s[this.getRawIndex(h)],d=c,p=s[this.getRawIndex(d)],v=a;c+a>o&&(v=o-c);for(var g=0;g<v;g++){var m=this.getRawIndex(c+g),x=s[m];x<f&&(f=x,h=c+g),x>p&&(p=x,d=c+g)}var y=this.getRawIndex(h),_=this.getRawIndex(d);h<d?(l[u++]=y,l[u++]=_):(l[u++]=_,l[u++]=y)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},r.prototype.downSample=function(e,t,n,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),u=s[e],c=this.count(),h=a._rawExtent[e]=sv(),f=new(av(this._rawCount))(Math.ceil(c/l)),d=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,o.length=l);for(var v=0;v<l;v++){var g=this.getRawIndex(p+v);o[v]=u[g]}var m=n(o),x=this.getRawIndex(Math.min(p+i(o,m)||0,c-1));u[x]=m,m<h[0]&&(h[0]=m),m>h[1]&&(h[1]=m),f[d++]=x}return a._count=d,a._indices=f,a._updateGetRawIdx(),a},r.prototype.each=function(e,t){if(this._count)for(var n=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[e[l]][o];u[l]=a,t.apply(null,u)}}},r.prototype.getDataExtent=function(e){var t=this._chunks[e],n=sv();if(!t)return n;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=n;for(var o=s[0],l=s[1],u=0;u<i;u++){var c=this.getRawIndex(u),h=t[c];h<o&&(o=h),h>l&&(l=h)}return s=[o,l],this._extent[e]=s,s},r.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][t]);return n},r.prototype.clone=function(e,t){var n=new r,i=this._chunks,a=e&&xl(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)n._chunks[s]=a[s]?qre(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Ye(this._extent),e._rawExtent=Ye(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var i=0;i<n;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},r.prototype._getRawIdxIdentity=function(e){return e},r.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function e(t,n,i,a){return Ih(t[a],this._dimensions[a])}NC={arrayRows:e,objectRows:function(t,n,i,a){return Ih(t[n],this._dimensions[a])},keyedColumns:e,original:function(t,n,i,a){var s=t&&(t.value==null?t:t.value);return Ih(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,n,i,a){return t[a]}}}(),r}(),P7=function(){function r(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,i,a;if(E_(e)){var s=e,o=void 0,l=void 0,u=void 0;if(n){var c=t[0];c.prepareSource(),u=c.getSource(),o=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),l=_a(o)?Mh:Os,a=[];var h=this._getSourceMetaRawOption()||{},f=u&&u.metaRawOption||{},d=Je(h.seriesLayoutBy,f.seriesLayoutBy)||null,p=Je(h.sourceHeader,f.sourceHeader),v=Je(h.dimensions,f.dimensions),g=d!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||v;i=g?[LD(o,{seriesLayoutBy:d,sourceHeader:p,dimensions:v},l)]:[]}else{var m=e;if(n){var x=this._applyTransform(t);i=x.sourceList,a=x.upstreamSignList}else{var y=m.get("source",!0);i=[LD(y,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&t3(a)}var s,o=[],l=[];return L(e,function(u){u.prepareSource();var c=u.getSource(i||0),h="";i!=null&&!c&&t3(h),o.push(c),l.push(u._getVersionSign())}),n?s=Yre(n,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[kre(o[0])]),{sourceList:s,upstreamSignList:l}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},r.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},r.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},r.prototype._innerGetDataStore=function(e,t,n){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];E_(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,n):(o=new PD,o.initData(new S7(t,e.length),e)),s[n]=o}return o},r.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(E_(e)){var t=xP(e);return t?[t.getSourceManager()]:[]}else return ge(rre(e),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,i;if(E_(e))t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:i}},r}();function e3(r){var e=r.option.transform;e&&HS(r.option.transform)}function E_(r){return r.mainType==="series"}function t3(r){throw new Error(r)}var Zre="line-height:1";function R7(r){var e=r.lineHeight;return e==null?Zre:"line-height:"+Wi(e+"")+"px"}function O7(r,e){var t=r.color||"#6e7079",n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||"#464646",s=r.fontSize||14,o=r.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Wi(n+"")+"px;color:"+Wi(t)+";font-weight:"+Wi(i+""),valueStyle:"font-size:"+Wi(s+"")+"px;color:"+Wi(a)+";font-weight:"+Wi(o+"")}:{nameStyle:{fontSize:n,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var Jre=[0,10,20,30],Qre=["",`
`,`

`,`


`];function In(r,e){return e.type=r,e}function RD(r){return r.type==="section"}function F7(r){return RD(r)?ene:tne}function N7(r){if(RD(r)){var e=0,t=r.blocks.length,n=t>1||t>0&&!r.noHeader;return L(r.blocks,function(i){var a=N7(i);a>=e&&(e=a+ +(n&&(!a||RD(i)&&!i.noHeader)))}),e}return 0}function ene(r,e,t,n){var i=e.noHeader,a=rne(N7(e)),s=[],o=e.blocks||[];Qi(!o||ve(o)),o=o||[];var l=r.orderMode;if(e.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Me(u,l)){var c=new D7(u[l],null);o.sort(function(v,g){return c.evaluate(v.sortParam,g.sortParam)})}else l==="seriesDesc"&&o.reverse()}L(o,function(v,g){var m=e.valueFormatter,x=F7(v)(m?he(he({},r),{valueFormatter:m}):r,v,g>0?a.html:0,n);x!=null&&s.push(x)});var h=r.renderMode==="richText"?s.join(a.richText):OD(n,s.join(""),i?t:a.html);if(i)return h;var f=DD(e.header,"ordinal",r.useUTC),d=O7(n,r.renderMode).nameStyle,p=R7(n);return r.renderMode==="richText"?B7(r,f,d)+a.richText+h:OD(n,'<div style="'+d+";"+p+';">'+Wi(f)+"</div>"+h,t)}function tne(r,e,t,n){var i=r.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,u=r.useUTC,c=e.valueFormatter||r.valueFormatter||function(_){return _=ve(_)?_:[_],ge(_,function(S,w){return DD(S,ve(d)?d[w]:d,u)})};if(!(a&&s)){var h=o?"":r.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),f=a?"":DD(l,"ordinal",u),d=e.valueType,p=s?[]:c(e.value,e.dataIndex),v=!o||!a,g=!o&&a,m=O7(n,i),x=m.nameStyle,y=m.valueStyle;return i==="richText"?(o?"":h)+(a?"":B7(r,f,x))+(s?"":ane(r,p,v,g,y)):OD(n,(o?"":h)+(a?"":nne(f,!o,x))+(s?"":ine(p,v,g,y)),t)}}function r3(r,e,t,n,i,a){if(r){var s=F7(r),o={useUTC:i,renderMode:t,orderMode:n,markupStyleCreator:e,valueFormatter:r.valueFormatter};return s(o,r,0,a)}}function rne(r){return{html:Jre[r],richText:Qre[r]}}function OD(r,e,t){var n='<div style="clear:both"></div>',i="margin: "+t+"px 0 0",a=R7(r);return'<div style="'+i+";"+a+';">'+e+n+"</div>"}function nne(r,e,t){var n=e?"margin-left:2px":"";return'<span style="'+t+";"+n+'">'+Wi(r)+"</span>"}function ine(r,e,t,n){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return r=ve(r)?r:[r],'<span style="'+a+";"+n+'">'+ge(r,function(s){return Wi(s)}).join("&nbsp;&nbsp;")+"</span>"}function B7(r,e,t){return r.markupStyleCreator.wrapRichTextStyle(e,t)}function ane(r,e,t,n,i){var a=[i],s=n?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(ve(e)?e.join("  "):e,a)}function V7(r,e){var t=r.getData().getItemVisual(e,"style"),n=t[r.visualDrawType];return Sp(n)}function z7(r,e){var t=r.get("padding");return t??(e==="richText"?[8,10]:10)}var BC=function(){function r(){this.richTextStyles={},this._nextStyleNameId=tH()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(e,t,n){var i=n==="richText"?this._generateStyleName():null,a=jte({color:t,type:e,renderMode:n,markerId:i});return Ae(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(e,t){var n={};ve(t)?L(t,function(a){return he(n,a)}):he(n,t);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+e+"}"},r}();function H7(r){var e=r.series,t=r.dataIndex,n=r.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=ve(o),u=V7(e,t),c,h,f,d;if(s>1||l&&!s){var p=sne(o,e,t,a,u);c=p.inlineValues,h=p.inlineValueTypes,f=p.blocks,d=p.inlineValues[0]}else if(s){var v=i.getDimensionInfo(a[0]);d=c=gg(i,t,a[0]),h=v.type}else d=c=l?o[0]:o;var g=ZL(e),m=g&&e.name||"",x=i.getName(t),y=n?m:x;return In("section",{header:m,noHeader:n||!g,sortParam:d,blocks:[In("nameValue",{markerType:"item",markerColor:u,name:y,noName:!uo(y),value:c,valueType:h,dataIndex:t})].concat(f||[])})}function sne(r,e,t,n,i){var a=e.getData(),s=xl(r,function(h,f,d){var p=a.getDimensionInfo(d);return h=h||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],l=[],u=[];n.length?L(n,function(h){c(gg(a,t,h),h)}):L(r,c);function c(h,f){var d=a.getDimensionInfo(f);!d||d.otherDims.tooltip===!1||(s?u.push(In("nameValue",{markerType:"subItem",markerColor:i,name:d.displayName,value:h,valueType:d.type})):(o.push(h),l.push(d.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var dc=At();function D_(r,e){return r.getName(e)||r.getId(e)}var Yw="__universalTransitionEnabled",lr=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=My({count:lne,reset:une}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=dc(this).sourceManager=new P7(this);a.prepareSource();var s=this.getInitialData(t,i);i3(s,this),this.dataTask.context.data=s,dc(this).dataBeforeProcessed=s,n3(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,n){var i=i1(this),a=i?Og(t):{},s=this.subType;vt.hasClass(s)&&(s+="Series"),tt(t,n.getTheme().get(this.subType)),tt(t,this.getDefaultOption()),xp(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&zh(t,a,i)},e.prototype.mergeOption=function(t,n){t=tt(this.option,t,!0),this.fillDataTextStyle(t.data);var i=i1(this);i&&zh(this.option,t,i);var a=dc(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,n);i3(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,dc(this).dataBeforeProcessed=s,n3(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!_a(t))for(var n=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&xp(t[i],"label",n)},e.prototype.getInitialData=function(t,n){},e.prototype.appendData=function(t){var n=this.getRawData();n.appendData(t.data)},e.prototype.getData=function(t){var n=FD(this);if(n){var i=n.context.data;return t==null||!i.getLinkedData?i:i.getLinkedData(t)}else return dc(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var n=FD(this);if(n){var i=n.context;i.outputData=t,n!==this.dataTask&&(i.data=t)}dc(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Le(t)},e.prototype.getSourceManager=function(){return dc(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return dc(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,n,i){return H7({series:this,dataIndex:t,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(pt.node&&!(t&&t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,n,i){var a=this.ecModel,s=bP.prototype.getColorFromPalette.call(this,t,n,i);return s||(s=a.getColorFromPalette(t,n,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},e.prototype.unselect=function(t,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],u=D_(s,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,n){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],n)?this.unselect(i,n):this.select(i,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=gt(t),i=[],a=0;a<n.length;a++){var s=t[n[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[D_(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Yw])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,n){var i,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){Ue(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var h=n[c],f=D_(t,h);u[f]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(h)}}else if(o==="single"||o===!0){var d=n[l-1],f=D_(t,d);s.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=t.getRawIndex(d),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(t,n)}},e.registerClass=function(t){return vt.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(vt);tn(lr,e2);tn(lr,bP);cH(lr,vt);function n3(r){var e=r.name;ZL(r)||(r.name=one(r)||e)}function one(r){var e=r.getRawData(),t=e.mapDimensionsAll("seriesName"),n=[];return L(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function lne(r){return r.model.getRawData().count()}function une(r){var e=r.model;return e.setData(e.getRawData().cloneShallow()),cne}function cne(r,e){e.outputData&&r.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function i3(r,e){L(Ky(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(t){r.wrapMethod(t,Qe(hne,e))})}function hne(r,e){var t=FD(r);return t&&t.setOutputEnd((e||this).count()),e}function FD(r){var e=(r.ecModel||{}).scheduler,t=e&&e.getPipeline(r.uid);if(t){var n=t.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var br=function(){function r(){this.group=new Ke,this.uid=Pg("viewComponent")}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){},r.prototype.updateLayout=function(e,t,n,i){},r.prototype.updateVisual=function(e,t,n,i){},r.prototype.toggleBlurSeries=function(e,t,n){},r.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},r}();QL(br);FA(br);function Ng(){var r=At();return function(e){var t=r(e),n=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(n&&n.large),o=t.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||a!==o)&&"reset"}}var G7=At(),fne=Ng(),tr=function(){function r(){this.group=new Ke,this.uid=Pg("viewChart"),this.renderTask=My({plan:dne,reset:pne}),this.renderTask.context={view:this}}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,i){},r.prototype.highlight=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&s3(a,i,"emphasis")},r.prototype.downplay=function(e,t,n,i){var a=e.getData(i&&i.dataType);a&&s3(a,i,"normal")},r.prototype.remove=function(e,t){this.group.removeAll()},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateLayout=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},r.prototype.eachRendered=function(e){Zh(this.group,e)},r.markUpdateMethod=function(e,t){G7(e).updateMethod=t},r.protoInitialize=function(){var e=r.prototype;e.type="chart"}(),r}();function a3(r,e,t){r&&t1(r)&&(e==="emphasis"?ju:qu)(r,t)}function s3(r,e,t){var n=bp(r,e),i=e&&e.highlightKey!=null?jee(e.highlightKey):null;n!=null?L(qt(n),function(a){a3(r.getItemGraphicEl(a),t,i)}):r.eachItemGraphicEl(function(a){a3(a,t,i)})}QL(tr);FA(tr);function dne(r){return fne(r.model)}function pne(r){var e=r.model,t=r.ecModel,n=r.api,i=r.payload,a=e.pipelineContext.progressiveRender,s=r.view,o=i&&G7(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,n,i),vne[l]}var vne={incrementalPrepareRender:{progress:function(r,e){e.view.incrementalRender(r,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(r,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},nT="\0__throttleOriginMethod",o3="\0__throttleRate",l3="\0__throttleType";function CP(r,e,t){var n,i=0,a=0,s=null,o,l,u,c;e=e||0;function h(){a=new Date().getTime(),s=null,r.apply(l,u||[])}var f=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];n=new Date().getTime(),l=this,u=d;var v=c||e,g=c||t;c=null,o=n-(g?i:a)-v,clearTimeout(s),g?s=setTimeout(h,v):o>=0?h():s=setTimeout(h,-o),i=n};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(d){c=d},f}function Bg(r,e,t,n){var i=r[e];if(i){var a=i[nT]||i,s=i[l3],o=i[o3];if(o!==t||s!==n){if(t==null||!n)return r[e]=a;i=r[e]=CP(a,t,n==="debounce"),i[nT]=a,i[l3]=n,i[o3]=t}return i}}function s1(r,e){var t=r[e];t&&t[nT]&&(t.clear&&t.clear(),r[e]=t[nT])}var u3=At(),c3={itemStyle:_p(KH,!0),lineStyle:_p(XH,!0)},gne={lineStyle:"stroke",itemStyle:"fill"};function $7(r,e){var t=r.visualStyleMapper||c3[e];return t||(console.warn("Unknown style type '"+e+"'."),c3.itemStyle)}function U7(r,e){var t=r.visualDrawType||gne[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var mne={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=$7(r,n),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=U7(r,n),u=s[l],c=Ve(u)?u:null,h=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||h){var f=r.getColorFromPalette(r.name,null,e.getSeriesCount());s[l]||(s[l]=f,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Ve(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||Ve(s.stroke)?f:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(r)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(d,p){var v=r.getDataParams(p),g=he({},s);g[l]=c(v),d.setItemVisual(p,"style",g)}}}},um=new Gt,yne={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!(r.ignoreStyleOnData||e.isSeriesFiltered(r))){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=$7(r,n),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){um.option=l[n];var u=i(um),c=s.ensureUniqueItemVisual(o,"style");he(c,u),um.option.decal&&(s.setItemVisual(o,"decal",um.option.decal),um.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},xne={performRawSeries:!0,overallReset:function(r){var e=Le();r.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+n,a=e.get(i);a||(a={},e.set(i,a)),u3(t).scope=a}}),r.eachSeries(function(t){if(!(t.isColorBySeries()||r.isSeriesFiltered(t))){var n=t.getRawData(),i={},a=t.getData(),s=u3(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=U7(t,o);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],h=a.getItemVisual(c,"colorFromPalette");if(h){var f=a.ensureUniqueItemVisual(c,"style"),d=n.getName(u)||u+"",p=n.count();f[l]=t.getColorFromPalette(d,s,p)}})}})}},M_=Math.PI;function bne(r,e){e=e||{},ze(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Ke,n=new Tt({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(n);var i=new Et({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Tt({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new $A({shape:{startAngle:-M_/2,endAngle:-M_/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:M_*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:M_*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(r.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),c=r.getHeight()/2;e.showSpinner&&s.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},t.resize(),t}var W7=function(){function r(e,t,n,i){this._stageTaskMap=Le(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),i=n.context,a=!t&&n.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},r.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},r.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},r.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=Le();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;L(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";Qi(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,n),i.overallReset&&this._createOverallStageTask(i,a,t,n)},this)},r.prototype.prepareView=function(e,t,n,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=n,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},r.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},r.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},r.prototype._performStageTasks=function(e,t,n,i){i=i||{};var a=!1,s=this;L(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),h=c.seriesTaskMap,f=c.overallTask;if(f){var d,p=f.agentStubMap;p.each(function(g){o(i,g)&&(g.dirty(),d=!0)}),d&&f.dirty(),s.updatePayload(f,n);var v=s.getPerformArgs(f,i.block);p.each(function(g){g.perform(v)}),f.perform(v)&&(a=!0)}else h&&h.each(function(g,m){o(i,g)&&g.dirty();var x=s.getPerformArgs(g,i.block);x.skip=!l.performRawSeries&&t.isSeriesFiltered(g.context.model),s.updatePayload(g,n),g.perform(x)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},r.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},r.prototype._createSeriesStageTask=function(e,t,n,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=Le(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(h){var f=h.uid,d=o.set(f,s&&s.get(f)||My({plan:Ane,reset:Cne,count:Ene}));d.context={model:h,ecModel:n,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(h,d)}},r.prototype._createOverallStageTask=function(e,t,n,i){var a=this,s=t.overallTask=t.overallTask||My({reset:_ne});s.context={ecModel:n,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=Le(),u=e.seriesType,c=e.getTargetSeries,h=!0,f=!1,d="";Qi(!e.createOnAllSeries,d),u?n.eachRawSeriesByType(u,p):c?c(n,i).each(p):(h=!1,L(n.getSeries(),p));function p(v){var g=v.uid,m=l.set(g,o&&o.get(g)||(f=!0,My({reset:wne,onDirty:Tne})));m.context={model:v,overallProgress:h},m.agent=s,m.__block=h,a._pipe(v,m)}f&&s.dirty()},r.prototype._pipe=function(e,t){var n=e.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},r.wrapStageHandler=function(e,t){return Ve(e)&&(e={overallReset:e,seriesType:Dne(e)}),e.uid=Pg("stageHandler"),t&&(e.visualType=t),e},r}();function _ne(r){r.overallReset(r.ecModel,r.api,r.payload)}function wne(r){return r.overallProgress&&Sne}function Sne(){this.agent.dirty(),this.getDownstream().dirty()}function Tne(){this.agent&&this.agent.dirty()}function Ane(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function Cne(r){r.useClearVisual&&r.data.clearAllVisual();var e=r.resetDefines=qt(r.reset(r.model,r.ecModel,r.api,r.payload));return e.length>1?ge(e,function(t,n){return Y7(n)}):kne}var kne=Y7(0);function Y7(r){return function(e,t){var n=t.data,i=t.resetDefines[r];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(e,n)}}function Ene(r){return r.data.count()}function Dne(r){iT=null;try{r(o1,X7)}catch{}return iT}var o1={},X7={},iT;K7(o1,_P);K7(X7,y7);o1.eachSeriesByType=o1.eachRawSeriesByType=function(r){iT=r};o1.eachComponent=function(r){r.mainType==="series"&&r.subType&&(iT=r.subType)};function K7(r,e){for(var t in e.prototype)r[t]=Wr}var h3=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Mne={color:h3,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],h3]};var vi="#B9B8CE",f3="#100C2A",I_=function(){return{axisLine:{lineStyle:{color:vi}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},d3=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],j7={darkMode:!0,color:d3,backgroundColor:f3,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:vi},pageTextStyle:{color:vi}},textStyle:{color:vi},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:vi}},dataZoom:{borderColor:"#71708A",textStyle:{color:vi},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:vi}},timeline:{lineStyle:{color:vi},label:{color:vi},controlStyle:{color:vi,borderColor:vi}},calendar:{itemStyle:{color:f3},dayLabel:{color:vi},monthLabel:{color:vi},yearLabel:{color:vi}},timeAxis:I_(),logAxis:I_(),valueAxis:I_(),categoryAxis:I_(),line:{symbol:"circle"},graph:{color:d3},gauge:{title:{color:vi},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:vi},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};j7.categoryAxis.splitLine.show=!1;var Ine=function(){function r(){}return r.prototype.normalizeQuery=function(e){var t={},n={},i={};if(Ae(e)){var a=fl(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};L(e,function(l,u){for(var c=!1,h=0;h<s.length;h++){var f=s[h],d=u.lastIndexOf(f);if(d>0&&d===u.length-f.length){var p=u.slice(0,d);p!=="data"&&(t.mainType=p,t[f.toLowerCase()]=l,c=!0)}}o.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:i}},r.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function c(h,f,d,p){return h[d]==null||f[p||d]===h[d]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),ND=["symbol","symbolSize","symbolRotate","symbolOffset"],p3=ND.concat(["symbolKeepAspect"]),Lne={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData();if(r.legendIcon&&t.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,s=0;s<ND.length;s++){var o=ND[s],l=r.get(o);Ve(l)?(a=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||r.defaultSymbol,t.setVisual(he({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),e.isSeriesFiltered(r))return;var u=gt(i);function c(h,f){for(var d=r.getRawValue(f),p=r.getDataParams(f),v=0;v<u.length;v++){var g=u[v];h.setItemVisual(f,g,i[g](d,p))}}return{dataEach:a?c:null}}},Pne={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!r.hasSymbolVisual||e.isSeriesFiltered(r))return;var t=r.getData();function n(i,a){for(var s=i.getItemModel(a),o=0;o<p3.length;o++){var l=p3[o],u=s.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?n:null}}};function kP(r,e,t){switch(t){case"color":var n=r.getItemVisual(e,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(e,t)}}function Ib(r,e){switch(e){case"color":var t=r.getVisual("style");return t[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(e)}}function q7(r,e,t,n){switch(t){case"color":var i=r.ensureUniqueItemVisual(e,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(e,t,n);break}}function Z7(r,e){function t(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(s){a.push(s.seriesIndex)}),a}L([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){e(n[0],function(i,a,s){i=he({},i),s.dispatchAction(he(i,{type:n[1],seriesIndex:t(a,i)}))})})}function ov(r,e,t,n,i){var a=r+e;t.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===o){var h=s.getData(),f=bp(h,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:ve(f)?h.getName(f[0]):h.getName(f),selected:Ae(l)?l:he({},l)})}})}function Rne(r,e,t){r.on("selectchanged",function(n){var i=t.getModel();n.isFromClick?(ov("map","selectchanged",e,i,n),ov("pie","selectchanged",e,i,n)):n.fromAction==="select"?(ov("map","selected",e,i,n),ov("pie","selected",e,i,n)):n.fromAction==="unselect"&&(ov("map","unselected",e,i,n),ov("pie","unselected",e,i,n))})}function qf(r,e,t){for(var n;r&&!(e(r)&&(n=r,t));)r=r.__hostTarget||r.parent;return n}var One=Math.round(Math.random()*9),Fne=typeof Object.defineProperty=="function",Nne=function(){function r(){this._id="__ec_inner_"+One++}return r.prototype.get=function(e){return this._guard(e)[this._id]},r.prototype.set=function(e,t){var n=this._guard(e);return Fne?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},r.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},r.prototype.has=function(e){return!!this._guard(e)[this._id]},r.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},r}(),Bne=dt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n+a),r.lineTo(t-i,n+a),r.closePath()}}),Vne=dt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,i=e.width/2,a=e.height/2;r.moveTo(t,n-a),r.lineTo(t+i,n),r.lineTo(t,n+a),r.lineTo(t-i,n),r.closePath()}}),zne=dt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.x,n=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=n-a+s+o,u=Math.asin(o/s),c=Math.cos(u)*s,h=Math.sin(u),f=Math.cos(u),d=s*.6,p=s*.7;r.moveTo(t-c,l+o),r.arc(t,l,s,Math.PI-u,Math.PI*2+u),r.bezierCurveTo(t+c-h*d,l+o+f*d,t,n-p,t,n),r.bezierCurveTo(t,n-p,t-c+h*d,l+o+f*d,t-c,l+o),r.closePath()}}),Hne=dt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.height,n=e.width,i=e.x,a=e.y,s=n/3*2;r.moveTo(i,a),r.lineTo(i+s,a+t),r.lineTo(i,a+t/4*3),r.lineTo(i-s,a+t),r.lineTo(i,a),r.closePath()}}),Gne={line:Sn,rect:Tt,roundRect:Tt,square:Tt,circle:ac,diamond:Vne,pin:zne,arrow:Hne,triangle:Bne},$ne={line:function(r,e,t,n,i){i.x1=r,i.y1=e+n/2,i.x2=r+t,i.y2=e+n/2},rect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n},roundRect:function(r,e,t,n,i){i.x=r,i.y=e,i.width=t,i.height=n,i.r=Math.min(t,n)/4},square:function(r,e,t,n,i){var a=Math.min(t,n);i.x=r,i.y=e,i.width=a,i.height=a},circle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.r=Math.min(t,n)/2},diamond:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n},pin:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},arrow:function(r,e,t,n,i){i.x=r+t/2,i.y=e+n/2,i.width=t,i.height=n},triangle:function(r,e,t,n,i){i.cx=r+t/2,i.cy=e+n/2,i.width=t,i.height=n}},aT={};L(Gne,function(r,e){aT[e]=new r});var Une=dt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,e,t){var n=KS(r,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(n.y=t.y+t.height*.4),n},buildPath:function(r,e,t){var n=e.symbolType;if(n!=="none"){var i=aT[n];i||(n="rect",i=aT[n]),$ne[n](e.x,e.y,e.width,e.height,i.shape),i.buildPath(r,i.shape,t)}}});function Wne(r,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=r,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=r:t.fill=r,this.markRedraw()}}function Qr(r,e,t,n,i,a,s){var o=r.indexOf("empty")===0;o&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var l;return r.indexOf("image://")===0?l=VH(r.slice(8),new at(e,t,n,i),s?"center":"cover"):r.indexOf("path://")===0?l=UA(r.slice(7),{},new at(e,t,n,i),s?"center":"cover"):l=new Une({shape:{symbolType:r,x:e,y:t,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=Wne,a&&l.setColor(a),l}function Vg(r){return ve(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function Fp(r,e){if(r!=null)return ve(r)||(r=[r,r]),[_e(r[0],e[0])||0,_e(Je(r[1],r[0]),e[1])||0]}function Zf(r){return isFinite(r)}function Yne(r,e,t){var n=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(n=n*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),n=Zf(n)?n:0,i=Zf(i)?i:1,a=Zf(a)?a:0,s=Zf(s)?s:0;var o=r.createLinearGradient(n,a,i,s);return o}function Xne(r,e,t){var n=t.width,i=t.height,a=Math.min(n,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*n+t.x,o=o*i+t.y,l=l*a),s=Zf(s)?s:.5,o=Zf(o)?o:.5,l=l>=0&&Zf(l)?l:.5;var u=r.createRadialGradient(s,o,0,s,o,l);return u}function BD(r,e,t){for(var n=e.type==="radial"?Xne(r,e,t):Yne(r,e,t),i=e.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function Kne(r,e){if(r===e||!r&&!e)return!1;if(!r||!e||r.length!==e.length)return!0;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!0;return!1}function L_(r){return parseInt(r,10)}function Bv(r,e,t){var n=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var o=document.defaultView.getComputedStyle(r);return(r[i]||L_(o[n])||L_(r.style[n]))-(L_(o[a])||0)-(L_(o[s])||0)|0}function jne(r,e){return!r||r==="solid"||!(e>0)?null:r==="dashed"?[4*e,2*e]:r==="dotted"?[e]:Mt(r)?[r]:ve(r)?r:null}function EP(r){var e=r.style,t=e.lineDash&&e.lineWidth>0&&jne(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(t){var i=e.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(t=ge(t,function(a){return a/i}),n/=i)}return[t,n]}var qne=new Sl(!0);function sT(r){var e=r.stroke;return!(e==null||e==="none"||!(r.lineWidth>0))}function v3(r){return typeof r=="string"&&r!=="none"}function oT(r){var e=r.fill;return e!=null&&e!=="none"}function g3(r,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.fillOpacity*e.opacity,r.fill(),r.globalAlpha=t}else r.fill()}function m3(r,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.strokeOpacity*e.opacity,r.stroke(),r.globalAlpha=t}else r.stroke()}function VD(r,e,t){var n=eP(e.image,e.__image,t);if(NA(n)){var i=r.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Lw),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function Zne(r,e,t,n){var i,a=sT(t),s=oT(t),o=t.strokePercent,l=o<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||qne,h=e.__dirty;if(!n){var f=t.fill,d=t.stroke,p=s&&!!f.colorStops,v=a&&!!d.colorStops,g=s&&!!f.image,m=a&&!!d.image,x=void 0,y=void 0,_=void 0,S=void 0,w=void 0;(p||v)&&(w=e.getBoundingRect()),p&&(x=h?BD(r,f,w):e.__canvasFillGradient,e.__canvasFillGradient=x),v&&(y=h?BD(r,d,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=y),g&&(_=h||!e.__canvasFillPattern?VD(r,f,e):e.__canvasFillPattern,e.__canvasFillPattern=_),m&&(S=h||!e.__canvasStrokePattern?VD(r,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=_),p?r.fillStyle=x:g&&(_?r.fillStyle=_:s=!1),v?r.strokeStyle=y:m&&(S?r.strokeStyle=S:a=!1)}var T=e.getGlobalScale();c.setScale(T[0],T[1],e.segmentIgnoreThreshold);var A,C;r.setLineDash&&t.lineDash&&(i=EP(e),A=i[0],C=i[1]);var k=!0;(u||h&Fm)&&(c.setDPR(r.dpr),l?c.setContext(null):(c.setContext(r),k=!1),c.reset(),e.buildPath(c,e.shape,n),c.toStatic(),e.pathUpdated()),k&&c.rebuildPath(r,l?o:1),A&&(r.setLineDash(A),r.lineDashOffset=C),n||(t.strokeFirst?(a&&m3(r,t),s&&g3(r,t)):(s&&g3(r,t),a&&m3(r,t))),A&&r.setLineDash([])}function Jne(r,e,t){var n=e.__image=eP(t.image,e.__image,e,e.onload);if(!(!n||!NA(n))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;r.drawImage(n,u,c,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,h=s-u,f=o-c;r.drawImage(n,u,c,h,f,i,a,s,o)}else r.drawImage(n,i,a,s,o)}}function Qne(r,e,t){var n,i=t.text;if(i!=null&&(i+=""),i){r.font=t.font||Fh,r.textAlign=t.textAlign,r.textBaseline=t.textBaseline;var a=void 0,s=void 0;r.setLineDash&&t.lineDash&&(n=EP(e),a=n[0],s=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=s),t.strokeFirst?(sT(t)&&r.strokeText(i,t.x,t.y),oT(t)&&r.fillText(i,t.x,t.y)):(oT(t)&&r.fillText(i,t.x,t.y),sT(t)&&r.strokeText(i,t.x,t.y)),a&&r.setLineDash([])}}var y3=["shadowBlur","shadowOffsetX","shadowOffsetY"],x3=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function J7(r,e,t,n,i){var a=!1;if(!n&&(t=t||{},e===t))return!1;if(n||e.opacity!==t.opacity){ba(r,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);r.globalAlpha=isNaN(s)?up.opacity:s}(n||e.blend!==t.blend)&&(a||(ba(r,i),a=!0),r.globalCompositeOperation=e.blend||up.blend);for(var o=0;o<y3.length;o++){var l=y3[o];(n||e[l]!==t[l])&&(a||(ba(r,i),a=!0),r[l]=r.dpr*(e[l]||0))}return(n||e.shadowColor!==t.shadowColor)&&(a||(ba(r,i),a=!0),r.shadowColor=e.shadowColor||up.shadowColor),a}function b3(r,e,t,n,i){var a=l1(e,i.inHover),s=n?null:t&&l1(t,i.inHover)||{};if(a===s)return!1;var o=J7(r,a,s,n,i);if((n||a.fill!==s.fill)&&(o||(ba(r,i),o=!0),v3(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(ba(r,i),o=!0),v3(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(ba(r,i),o=!0),r.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);r.lineWidth!==u&&(o||(ba(r,i),o=!0),r.lineWidth=u)}for(var c=0;c<x3.length;c++){var h=x3[c],f=h[0];(n||a[f]!==s[f])&&(o||(ba(r,i),o=!0),r[f]=a[f]||h[1])}return o}function eie(r,e,t,n,i){return J7(r,l1(e,i.inHover),t&&l1(t,i.inHover),n,i)}function Q7(r,e){var t=e.transform,n=r.dpr||1;t?r.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):r.setTransform(n,0,0,n,0,0)}function tie(r,e,t){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),Q7(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=n}function rie(r,e){return r&&e?r[0]!==e[0]||r[1]!==e[1]||r[2]!==e[2]||r[3]!==e[3]||r[4]!==e[4]||r[5]!==e[5]:!(!r&&!e)}var _3=1,w3=2,S3=3,T3=4;function nie(r){var e=oT(r),t=sT(r);return!(r.lineDash||!(+e^+t)||e&&typeof r.fill!="string"||t&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function ba(r,e){e.batchFill&&r.fill(),e.batchStroke&&r.stroke(),e.batchFill="",e.batchStroke=""}function l1(r,e){return e&&r.__hoverStyle||r.style}function e9(r,e){Jf(r,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Jf(r,e,t,n){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=-2,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||Kne(a,s))&&(s&&s.length&&(ba(r,t),r.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(ba(r,t),r.save(),tie(a,r,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=o=!0);var c=e instanceof dt&&e.autoBatch&&nie(e.style);o||rie(i,u.transform)?(ba(r,t),Q7(r,e)):c||ba(r,t);var h=l1(e,t.inHover);e instanceof dt?(t.lastDrawType!==_3&&(l=!0,t.lastDrawType=_3),b3(r,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&r.beginPath(),Zne(r,e,h,c),c&&(t.batchFill=h.fill||"",t.batchStroke=h.stroke||"")):e instanceof pg?(t.lastDrawType!==S3&&(l=!0,t.lastDrawType=S3),b3(r,e,u,l,t),Qne(r,e,h)):e instanceof Yn?(t.lastDrawType!==w3&&(l=!0,t.lastDrawType=w3),eie(r,e,u,l,t),Jne(r,e,h)):e.getTemporalDisplayables&&(t.lastDrawType!==T3&&(l=!0,t.lastDrawType=T3),iie(r,e,t)),c&&n&&ba(r,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function iie(r,e,t){var n=e.getDisplayables(),i=e.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Jf(r,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Jf(r,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,r.restore()}var VC=new Nne,A3=new _b(100),C3=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function mg(r,e){if(r==="none")return null;var t=e.getDevicePixelRatio(),n=e.getZr(),i=n.painter.type==="svg";r.dirty&&VC.delete(r);var a=VC.get(r);if(a)return a;var s=ze(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,VC.set(r,o),r.dirty=!1,o;function l(u){for(var c=[t],h=!0,f=0;f<C3.length;++f){var d=s[C3[f]];if(d!=null&&!ve(d)&&!Ae(d)&&!Mt(d)&&typeof d!="boolean"){h=!1;break}c.push(d)}var p;if(h){p=c.join(",")+(i?"-svg":"");var v=A3.get(p);v&&(i?u.svgElement=v:u.image=v)}var g=r9(s.dashArrayX),m=aie(s.dashArrayY),x=t9(s.symbol),y=sie(g),_=n9(m),S=!i&&Nh.createCanvas(),w=i&&{tag:"g",attrs:{},key:"dcl",children:[]},T=C(),A;S&&(S.width=T.width*t,S.height=T.height*t,A=S.getContext("2d")),k(),h&&A3.put(p,S||w),u.image=S,u.svgElement=w,u.svgWidth=T.width,u.svgHeight=T.height;function C(){for(var E=1,D=0,I=y.length;D<I;++D)E=$F(E,y[D]);for(var P=1,D=0,I=x.length;D<I;++D)P=$F(P,x[D].length);E*=P;var F=_*y.length*x.length;return{width:Math.max(1,Math.min(E,s.maxTileWidth)),height:Math.max(1,Math.min(F,s.maxTileHeight))}}function k(){A&&(A.clearRect(0,0,S.width,S.height),s.backgroundColor&&(A.fillStyle=s.backgroundColor,A.fillRect(0,0,S.width,S.height)));for(var E=0,D=0;D<m.length;++D)E+=m[D];if(E<=0)return;for(var I=-_,P=0,F=0,V=0;I<T.height;){if(P%2===0){for(var z=F/2%x.length,G=0,O=0,ee=0;G<T.width*2;){for(var Q=0,D=0;D<g[V].length;++D)Q+=g[V][D];if(Q<=0)break;if(O%2===0){var N=(1-s.symbolSize)*.5,Y=G+g[V][O]*N,W=I+m[P]*N,K=g[V][O]*s.symbolSize,ne=m[P]*s.symbolSize,fe=ee/2%x[z].length;ae(Y,W,K,ne,x[z][fe])}G+=g[V][O],++ee,++O,O===g[V].length&&(O=0)}++V,V===g.length&&(V=0)}I+=m[P],++F,++P,P===m.length&&(P=0)}function ae(re,ie,se,U,Oe){var Se=i?1:t,Ie=Qr(Oe,re*Se,ie*Se,se*Se,U*Se,s.color,s.symbolKeepAspect);if(i){var we=n.painter.renderOneToVNode(Ie);we&&w.children.push(we)}else e9(A,Ie)}}}}function t9(r){if(!r||r.length===0)return[["rect"]];if(Ae(r))return[[r]];for(var e=!0,t=0;t<r.length;++t)if(!Ae(r[t])){e=!1;break}if(e)return t9([r]);for(var n=[],t=0;t<r.length;++t)Ae(r[t])?n.push([r[t]]):n.push(r[t]);return n}function r9(r){if(!r||r.length===0)return[[0,0]];if(Mt(r)){var e=Math.ceil(r);return[[e,e]]}for(var t=!0,n=0;n<r.length;++n)if(!Mt(r[n])){t=!1;break}if(t)return r9([r]);for(var i=[],n=0;n<r.length;++n)if(Mt(r[n])){var e=Math.ceil(r[n]);i.push([e,e])}else{var e=ge(r[n],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function aie(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(Mt(r)){var e=Math.ceil(r);return[e,e]}var t=ge(r,function(n){return Math.ceil(n)});return r.length%2?t.concat(t):t}function sie(r){return ge(r,function(e){return n9(e)})}function n9(r){for(var e=0,t=0;t<r.length;++t)e+=r[t];return r.length%2===1?e*2:e}function oie(r,e){r.eachRawSeries(function(t){if(!r.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=mg(o,e)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=mg(i,e)}}})}var Ys=new Rs,i9={};function lie(r,e){i9[r]=e}function uie(r){return i9[r]}var cie=1,hie=800,fie=900,die=1e3,pie=2e3,vie=5e3,a9=1e3,gie=1100,DP=2e3,s9=3e3,mie=4e3,r2=4500,yie=4600,xie=5e3,bie=6e3,o9=7e3,_ie={PROCESSOR:{FILTER:die,SERIES_FILTER:hie,STATISTIC:vie},VISUAL:{LAYOUT:a9,PROGRESSIVE_LAYOUT:gie,GLOBAL:DP,CHART:s9,POST_CHART_LAYOUT:yie,COMPONENT:mie,BRUSH:xie,CHART_ITEM:r2,ARIA:bie,DECAL:o9}},di="__flagInMainProcess",la="__pendingUpdate",zC="__needsUpdateStatus",k3=/^[a-zA-Z0-9_]+$/,HC="__connectUpdateStatus",E3=0,wie=1,Sie=2;function l9(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return c9(this,r,e)}}function u9(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c9(this,r,e)}}function c9(r,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Rs.prototype[e].apply(r,t)}var h9=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Rs),f9=h9.prototype;f9.on=u9("on");f9.off=u9("off");var lv,GC,P_,pc,$C,UC,WC,cm,hm,D3,M3,YC,I3,R_,L3,d9,Ja,P3,p9=function(r){te(e,r);function e(t,n,i){var a=r.call(this,new Ine)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Ae(n)&&(n=v9[n]),a._dom=t;var s="canvas",o="auto",l=!1;i.ssr&&mQ(function(f){var d=je(f),p=d.dataIndex;if(p!=null){var v=Le();return v.set("series_index",d.seriesIndex),v.set("data_index",p),d.ssrType&&v.set("ssr_type",d.ssrType),v}});var u=a._zr=zF(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Je(i.useDirtyRect,l),useCoarsePointer:Je(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=CP(Ee(u.flush,u),17),n=Ye(n),n&&b7(n,!0),a._theme=n,a._locale=Gte(i.locale||jH),a._coordSysMgr=new Mb;var c=a._api=L3(a);function h(f,d){return f.__prio-d.__prio}return Ow(uT,h),Ow(zD,h),a._scheduler=new W7(a,c,zD,uT),a._messageCenter=new h9,a._initEvents(),a.resize=Ee(a.resize,a),u.animation.on("frame",a._onframe,a),D3(u,a),M3(u,a),HS(a),a}return e.prototype._onframe=function(){if(!this._disposed){P3(this);var t=this._scheduler;if(this[la]){var n=this[la].silent;this[di]=!0;try{lv(this),pc.update.call(this,null,this[la].updateParams)}catch(l){throw this[di]=!1,this[la]=null,l}this._zr.flush(),this[di]=!1,this[la]=null,cm.call(this,n),hm.call(this,n)}else if(t.unfinished){var i=cie,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),UC(this,a),t.performVisualTasks(a),R_(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,n,i){if(!this[di]){if(this._disposed){this.id;return}var a,s,o;if(Ue(n)&&(i=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[di]=!0,!this._model||n){var l=new dre(this._api),u=this._theme,c=this._model=new _P;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:s},HD);var h={seriesTransition:o,optionChanged:!0};if(i)this[la]={silent:a,updateParams:h},this[di]=!1,this.getZr().wakeUp();else{try{lv(this),pc.update.call(this,null,h)}catch(f){throw this[la]=null,this[di]=!1,f}this._ssr||this._zr.flush(),this[la]=null,this[di]=!1,cm.call(this,a),hm.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||pt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var n=this._zr.painter;return n.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(pt.svgSupported){var t=this._zr,n=t.storage.getDisplayList();return L(n,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var n=t.excludeComponents,i=this._model,a=[],s=this;L(n,function(l){i.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return L(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var n=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(R3[i]){var l=o,u=o,c=-o,h=-o,f=[],d=t&&t.pixelRatio||this.getDevicePixelRatio();L(Ly,function(y,_){if(y.group===i){var S=n?y.getZr().painter.getSvgDom().innerHTML:y.renderToCanvas(Ye(t)),w=y.getDom().getBoundingClientRect();l=a(w.left,l),u=a(w.top,u),c=s(w.right,c),h=s(w.bottom,h),f.push({dom:S,left:w.left,top:w.top})}}),l*=d,u*=d,c*=d,h*=d;var p=c-l,v=h-u,g=Nh.createCanvas(),m=zF(g,{renderer:n?"svg":"canvas"});if(m.resize({width:p,height:v}),n){var x="";return L(f,function(y){var _=y.left-l,S=y.top-u;x+='<g transform="translate('+_+","+S+')">'+y.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=x,t.connectedBackgroundColor&&m.painter.setBackgroundColor(t.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return t.connectedBackgroundColor&&m.add(new Tt({shape:{x:0,y:0,width:p,height:v},style:{fill:t.connectedBackgroundColor}})),L(f,function(y){var _=new Yn({style:{x:y.left*d-l,y:y.top*d-u,image:y.dom}});m.add(_)}),m.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,n){return $C(this,"convertToPixel",t,n)},e.prototype.convertFromPixel=function(t,n){return $C(this,"convertFromPixel",t,n)},e.prototype.containPixel=function(t,n){if(this._disposed){this.id;return}var i=this._model,a,s=Ay(i,t);return L(s,function(o,l){l.indexOf("Models")>=0&&L(o,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var h=this._chartsMap[u.__viewId];h&&h.containPoint&&(a=a||h.containPoint(n,u))}},this)},this),!!a},e.prototype.getVisual=function(t,n){var i=this._model,a=Ay(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?kP(o,l,n):Ib(o,n)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;L(Tie,function(n){var i=function(a){var s=t.getModel(),o=a.target,l,u=n==="globalout";if(u?l={}:o&&qf(o,function(p){var v=je(p);if(v&&v.dataIndex!=null){var g=v.dataModel||s.getSeriesByIndex(v.seriesIndex);return l=g&&g.getDataParams(v.dataIndex,v.dataType,o)||{},!0}else if(v.eventData)return l=he({},v.eventData),!0},!0),l){var c=l.componentType,h=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",h=l.seriesIndex);var f=c&&h!=null&&s.getComponent(c,h),d=f&&t[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=n,t._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:d},t.trigger(n,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(n,i,t)}),L(Iy,function(n,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),L(["selectchanged"],function(n){t._messageCenter.on(n,function(i){this.trigger(n,i)},t)}),Rne(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&oH(this.getDom(),IP,"");var n=this,i=n._api,a=n._model;L(n._componentsViews,function(s){s.dispose(a,i)}),L(n._chartsViews,function(s){s.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Ly[n.id]},e.prototype.resize=function(t){if(!this[di]){if(this._disposed){this.id;return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=t&&t.silent;this[la]&&(a==null&&(a=this[la].silent),i=!0,this[la]=null),this[di]=!0;try{i&&lv(this),pc.update.call(this,{type:"resize",animation:he({duration:0},t&&t.animation)})}catch(s){throw this[di]=!1,s}this[di]=!1,cm.call(this,a),hm.call(this,a)}}},e.prototype.showLoading=function(t,n){if(this._disposed){this.id;return}if(Ue(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),!!GD[t]){var i=GD[t](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var n=he({},t);return n.type=Iy[t.type],n},e.prototype.dispatchAction=function(t,n){if(this._disposed){this.id;return}if(Ue(n)||(n={silent:!!n}),!!lT[t.type]&&this._model){if(this[di]){this._pendingActions.push(t);return}var i=n.silent;WC.call(this,t,i);var a=n.flush;a?this._zr.flush():a!==!1&&pt.browser.weChat&&this._throttledZrFlush(),cm.call(this,i),hm.call(this,i)}},e.prototype.updateLabelLayout=function(){Ys.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var n=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){lv=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),GC(h,!0),GC(h,!1),f.plan()},GC=function(h,f){for(var d=h._model,p=h._scheduler,v=f?h._componentsViews:h._chartsViews,g=f?h._componentsMap:h._chartsMap,m=h._zr,x=h._api,y=0;y<v.length;y++)v[y].__alive=!1;f?d.eachComponent(function(w,T){w!=="series"&&_(T)}):d.eachSeries(_);function _(w){var T=w.__requireNewView;w.__requireNewView=!1;var A="_ec_"+w.id+"_"+w.type,C=!T&&g[A];if(!C){var k=fl(w.type),E=f?br.getClass(k.main,k.sub):tr.getClass(k.sub);C=new E,C.init(d,x),g[A]=C,v.push(C),m.add(C.group)}w.__viewId=C.__id=A,C.__alive=!0,C.__model=w,C.group.__ecComponentInfo={mainType:w.mainType,index:w.componentIndex},!f&&p.prepareView(C,w,d,x)}for(var y=0;y<v.length;){var S=v[y];S.__alive?y++:(!f&&S.renderTask.dispose(),m.remove(S.group),S.dispose(d,x),v.splice(y,1),g[S.__id]===S&&delete g[S.__id],S.__id=S.group.__ecComponentInfo=null)}},P_=function(h,f,d,p,v){var g=h._model;if(g.setUpdatePayload(d),!p){L([].concat(h._componentsViews).concat(h._chartsViews),S);return}var m={};m[p+"Id"]=d[p+"Id"],m[p+"Index"]=d[p+"Index"],m[p+"Name"]=d[p+"Name"];var x={mainType:p,query:m};v&&(x.subType=v);var y=d.excludeSeriesId,_;y!=null&&(_=Le(),L(qt(y),function(w){var T=fn(w,null);T!=null&&_.set(T,!0)})),g&&g.eachComponent(x,function(w){var T=_&&_.get(w.id)!=null;if(!T)if(vN(d))if(w instanceof lr)d.type===cp&&!d.notBlur&&!w.get(["emphasis","disabled"])&&Hee(w,d,h._api);else{var A=sP(w.mainType,w.componentIndex,d.name,h._api),C=A.focusSelf,k=A.dispatchers;d.type===cp&&C&&!d.notBlur&&wD(w.mainType,w.componentIndex,h._api),k&&L(k,function(E){d.type===cp?ju(E):qu(E)})}else TD(d)&&w instanceof lr&&(Uee(w,d,h._api),dN(w),Ja(h))},h),g&&g.eachComponent(x,function(w){var T=_&&_.get(w.id)!=null;T||S(h[p==="series"?"_chartsMap":"_componentsMap"][w.__viewId])},h);function S(w){w&&w.__alive&&w[f]&&w[f](w.__model,g,h._api,d)}},pc={prepareAndUpdate:function(h){lv(this),pc.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,f){var d=this._model,p=this._api,v=this._zr,g=this._coordSysMgr,m=this._scheduler;if(d){d.setUpdatePayload(h),m.restoreData(d,h),m.performSeriesTasks(d),g.create(d,p),m.performDataProcessorTasks(d,h),UC(this,d),g.update(d,p),t(d),m.performVisualTasks(d,h),YC(this,d,p,h,f);var x=d.get("backgroundColor")||"transparent",y=d.get("darkMode");v.setBackgroundColor(x),y!=null&&y!=="auto"&&v.setDarkMode(y),Ys.trigger("afterupdate",d,p)}},updateTransform:function(h){var f=this,d=this._model,p=this._api;if(d){d.setUpdatePayload(h);var v=[];d.eachComponent(function(m,x){if(m!=="series"){var y=f.getViewOfComponentModel(x);if(y&&y.__alive)if(y.updateTransform){var _=y.updateTransform(x,d,p,h);_&&_.update&&v.push(y)}else v.push(y)}});var g=Le();d.eachSeries(function(m){var x=f._chartsMap[m.__viewId];if(x.updateTransform){var y=x.updateTransform(m,d,p,h);y&&y.update&&g.set(m.uid,1)}else g.set(m.uid,1)}),t(d),this._scheduler.performVisualTasks(d,h,{setDirty:!0,dirtyMap:g}),R_(this,d,p,h,{},g),Ys.trigger("afterupdate",d,p)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),tr.markUpdateMethod(h,"updateView"),t(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),YC(this,f,this._api,h,{}),Ys.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,d=this._model;d&&(d.setUpdatePayload(h),d.eachSeries(function(p){p.getData().clearAllVisual()}),tr.markUpdateMethod(h,"updateVisual"),t(d),this._scheduler.performVisualTasks(d,h,{visualType:"visual",setDirty:!0}),d.eachComponent(function(p,v){if(p!=="series"){var g=f.getViewOfComponentModel(v);g&&g.__alive&&g.updateVisual(v,d,f._api,h)}}),d.eachSeries(function(p){var v=f._chartsMap[p.__viewId];v.updateVisual(p,d,f._api,h)}),Ys.trigger("afterupdate",d,this._api))},updateLayout:function(h){pc.update.call(this,h)}},$C=function(h,f,d,p){if(h._disposed){h.id;return}for(var v=h._model,g=h._coordSysMgr.getCoordinateSystems(),m,x=Ay(v,d),y=0;y<g.length;y++){var _=g[y];if(_[f]&&(m=_[f](v,x,p))!=null)return m}},UC=function(h,f){var d=h._chartsMap,p=h._scheduler;f.eachSeries(function(v){p.updateStreamModes(v,d[v.__viewId])})},WC=function(h,f){var d=this,p=this.getModel(),v=h.type,g=h.escapeConnect,m=lT[v],x=m.actionInfo,y=(x.update||"update").split(":"),_=y.pop(),S=y[0]!=null&&fl(y[0]);this[di]=!0;var w=[h],T=!1;h.batch&&(T=!0,w=ge(h.batch,function(P){return P=ze(he({},P),h),P.batch=null,P}));var A=[],C,k=TD(h),E=vN(h);if(E&&EH(this._api),L(w,function(P){if(C=m.action(P,d._model,d._api),C=C||he({},P),C.type=x.event||C.type,A.push(C),E){var F=JL(h),V=F.queryOptionMap,z=F.mainTypeSpecified,G=z?V.keys()[0]:"series";P_(d,_,P,G),Ja(d)}else k?(P_(d,_,P,"series"),Ja(d)):S&&P_(d,_,P,S.main,S.sub)}),_!=="none"&&!E&&!k&&!S)try{this[la]?(lv(this),pc.update.call(this,h),this[la]=null):pc[_].call(this,h)}catch(P){throw this[di]=!1,P}if(T?C={type:x.event||v,escapeConnect:g,batch:A}:C=A[0],this[di]=!1,!f){var D=this._messageCenter;if(D.trigger(C.type,C),k){var I={type:"selectchanged",escapeConnect:g,selected:Wee(p),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};D.trigger(I.type,I)}}},cm=function(h){for(var f=this._pendingActions;f.length;){var d=f.shift();WC.call(this,d,h)}},hm=function(h){!h&&this.trigger("updated")},D3=function(h,f){h.on("rendered",function(d){f.trigger("rendered",d),h.animation.isFinished()&&!f[la]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},M3=function(h,f){h.on("mouseover",function(d){var p=d.target,v=qf(p,t1);v&&(Gee(v,d,f._api),Ja(f))}).on("mouseout",function(d){var p=d.target,v=qf(p,t1);v&&($ee(v,d,f._api),Ja(f))}).on("click",function(d){var p=d.target,v=qf(p,function(x){return je(x).dataIndex!=null},!0);if(v){var g=v.selected?"unselect":"select",m=je(v);f._api.dispatchAction({type:g,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function t(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function n(h){var f=[],d=[],p=!1;if(h.eachComponent(function(x,y){var _=y.get("zlevel")||0,S=y.get("z")||0,w=y.getZLevelKey();p=p||!!w,(x==="series"?d:f).push({zlevel:_,z:S,idx:y.componentIndex,type:x,key:w})}),p){var v=f.concat(d),g,m;Ow(v,function(x,y){return x.zlevel===y.zlevel?x.z-y.z:x.zlevel-y.zlevel}),L(v,function(x){var y=h.getComponent(x.type,x.idx),_=x.zlevel,S=x.key;g!=null&&(_=Math.max(g,_)),S?(_===g&&S!==m&&_++,m=S):m&&(_===g&&_++,m=""),g=_,y.setZLevel(_)})}}YC=function(h,f,d,p,v){n(f),I3(h,f,d,p,v),L(h._chartsViews,function(g){g.__alive=!1}),R_(h,f,d,p,v),L(h._chartsViews,function(g){g.__alive||g.remove(f,d)})},I3=function(h,f,d,p,v,g){L(g||h._componentsViews,function(m){var x=m.__model;u(x,m),m.render(x,f,d,p),o(x,m),c(x,m)})},R_=function(h,f,d,p,v,g){var m=h._scheduler;v=he(v||{},{updatedSeries:f.getSeries()}),Ys.trigger("series:beforeupdate",f,d,v);var x=!1;f.eachSeries(function(y){var _=h._chartsMap[y.__viewId];_.__alive=!0;var S=_.renderTask;m.updatePayload(S,p),u(y,_),g&&g.get(y.uid)&&S.dirty(),S.perform(m.getPerformArgs(S))&&(x=!0),_.group.silent=!!y.get("silent"),s(y,_),dN(y)}),m.unfinished=x||m.unfinished,Ys.trigger("series:layoutlabels",f,d,v),Ys.trigger("series:transition",f,d,v),f.eachSeries(function(y){var _=h._chartsMap[y.__viewId];o(y,_),c(y,_)}),a(h,f),Ys.trigger("series:afterupdate",f,d,v)},Ja=function(h){h[zC]=!0,h.getZr().wakeUp()},P3=function(h){h[zC]&&(h.getZr().storage.traverse(function(f){Yv(f)||i(f)}),h[zC]=!1)};function i(h){for(var f=[],d=h.currentStates,p=0;p<d.length;p++){var v=d[p];v==="emphasis"||v==="blur"||v==="select"||f.push(v)}h.selected&&h.states.select&&f.push("select"),h.hoverState===zA&&h.states.emphasis?f.push("emphasis"):h.hoverState===Tb&&h.states.blur&&f.push("blur"),h.useStates(f)}function a(h,f){var d=h._zr,p=d.storage,v=0;p.traverse(function(g){g.isGroup||v++}),v>f.get("hoverLayerThreshold")&&!pt.node&&!pt.worker&&f.eachSeries(function(g){if(!g.preventUsingHoverLayer){var m=h._chartsMap[g.__viewId];m.__alive&&m.eachRendered(function(x){x.states.emphasis&&(x.states.emphasis.hoverLayer=!0)})}})}function s(h,f){var d=h.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=d)})}function o(h,f){if(!h.preventAutoZ){var d=h.get("z")||0,p=h.get("zlevel")||0;f.eachRendered(function(v){return l(v,d,p,-1/0),!0})}}function l(h,f,d,p){var v=h.getTextContent(),g=h.getTextGuideLine(),m=h.isGroup;if(m)for(var x=h.childrenRef(),y=0;y<x.length;y++)p=Math.max(l(x[y],f,d,p),p);else h.z=f,h.zlevel=d,p=Math.max(h.z2,p);if(v&&(v.z=f,v.zlevel=d,isFinite(p)&&(v.z2=p+2)),g){var _=h.textGuideLineConfig;g.z=f,g.zlevel=d,isFinite(p)&&(g.z2=p+(_&&_.showAbove?1:-1))}return p}function u(h,f){f.eachRendered(function(d){if(!Yv(d)){var p=d.getTextContent(),v=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(h,f){var d=h.getModel("stateAnimation"),p=h.isAnimationEnabled(),v=d.get("duration"),g=v>0?{duration:v,delay:d.get("delay"),easing:d.get("easing")}:null;f.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Yv(m))return;if(m instanceof dt&&qee(m),m.__dirty){var x=m.prevStates;x&&m.useStates(x)}if(p){m.stateTransition=g;var y=m.getTextContent(),_=m.getTextGuideLine();y&&(y.stateTransition=g),_&&(_.stateTransition=g)}m.__dirty&&i(m)}})}L3=function(h){return new(function(f){te(d,f);function d(){return f!==null&&f.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(p){for(;p;){var v=p.__ecComponentInfo;if(v!=null)return h._model.getComponent(v.mainType,v.index);p=p.parent}},d.prototype.enterEmphasis=function(p,v){ju(p,v),Ja(h)},d.prototype.leaveEmphasis=function(p,v){qu(p,v),Ja(h)},d.prototype.enterBlur=function(p){TH(p),Ja(h)},d.prototype.leaveBlur=function(p){aP(p),Ja(h)},d.prototype.enterSelect=function(p){AH(p),Ja(h)},d.prototype.leaveSelect=function(p){CH(p),Ja(h)},d.prototype.getModel=function(){return h.getModel()},d.prototype.getViewOfComponentModel=function(p){return h.getViewOfComponentModel(p)},d.prototype.getViewOfSeriesModel=function(p){return h.getViewOfSeriesModel(p)},d}(y7))(h)},d9=function(h){function f(d,p){for(var v=0;v<d.length;v++){var g=d[v];g[HC]=p}}L(Iy,function(d,p){h._messageCenter.on(p,function(v){if(R3[h.group]&&h[HC]!==E3){if(v&&v.escapeConnect)return;var g=h.makeActionFromEvent(v),m=[];L(Ly,function(x){x!==h&&x.group===h.group&&m.push(x)}),f(m,E3),L(m,function(x){x[HC]!==wie&&x.dispatchAction(g)}),f(m,Sie)}})})}}(),e}(Rs),MP=p9.prototype;MP.on=l9("on");MP.off=l9("off");MP.one=function(r,e,t){var n=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),n.off(r,i)}this.on.call(this,r,i,t)};var Tie=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var lT={},Iy={},zD=[],HD=[],uT=[],v9={},GD={},Ly={},R3={},Aie=+new Date-0,IP="_echarts_instance_";function Cie(r,e,t){{var n=kie(r);if(n)return n}var i=new p9(r,e,t);return i.id="ec_"+Aie++,Ly[i.id]=i,oH(r,IP,i.id),d9(i),Ys.trigger("afterinit",i),i}function kie(r){return Ly[BQ(r,IP)]}function g9(r,e){v9[r]=e}function m9(r){lt(HD,r)<0&&HD.push(r)}function y9(r,e){PP(zD,r,e,pie)}function Eie(r){LP("afterinit",r)}function Die(r){LP("afterupdate",r)}function LP(r,e){Ys.on(r,e)}function Il(r,e,t){Ve(e)&&(t=e,e="");var n=Ue(r)?r.type:[r,r={event:e}][0];r.event=(r.event||n).toLowerCase(),e=r.event,!Iy[e]&&(Qi(k3.test(n)&&k3.test(e)),lT[n]||(lT[n]={action:t,actionInfo:r}),Iy[e]=n)}function Mie(r,e){Mb.register(r,e)}function Iie(r,e){PP(uT,r,e,a9,"layout")}function Np(r,e){PP(uT,r,e,s9,"visual")}var O3=[];function PP(r,e,t,n,i){if((Ve(e)||Ue(e))&&(t=e,e=n),!(lt(O3,t)>=0)){O3.push(t);var a=W7.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,r.push(a)}}function x9(r,e){GD[r]=e}function Lie(r,e,t){var n=uie("registerMap");n&&n(r,e,t)}var Pie=Wre;Np(DP,mne);Np(r2,yne);Np(r2,xne);Np(DP,Lne);Np(r2,Pne);Np(o9,oie);m9(b7);y9(fie,Are);x9("default",bne);Il({type:cp,event:cp,update:cp},Wr);Il({type:Hw,event:Hw,update:Hw},Wr);Il({type:Cy,event:Cy,update:Cy},Wr);Il({type:Gw,event:Gw,update:Gw},Wr);Il({type:ky,event:ky,update:ky},Wr);g9("light",Mne);g9("dark",j7);var F3=[],Rie={registerPreprocessor:m9,registerProcessor:y9,registerPostInit:Eie,registerPostUpdate:Die,registerUpdateLifecycle:LP,registerAction:Il,registerCoordinateSystem:Mie,registerLayout:Iie,registerVisual:Np,registerTransform:Pie,registerLoading:x9,registerMap:Lie,registerImpl:lie,PRIORITY:_ie,ComponentModel:vt,ComponentView:br,SeriesModel:lr,ChartView:tr,registerComponentModel:function(r){vt.registerClass(r)},registerComponentView:function(r){br.registerClass(r)},registerSeriesModel:function(r){lr.registerClass(r)},registerChartView:function(r){tr.registerClass(r)},registerSubTypeDefaulter:function(r,e){vt.registerSubTypeDefaulter(r,e)},registerPainter:function(r,e){vQ(r,e)}};function ht(r){if(ve(r)){L(r,function(e){ht(e)});return}lt(F3,r)>=0||(F3.push(r),Ve(r)&&(r={install:r}),r.install(Rie))}function fm(r){return r==null?0:r.length||1}function N3(r){return r}var Zu=function(){function r(e,t,n,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=n||N3,this._newKeyGetter=i||N3,this.context=a,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(e){return this._add=e,this},r.prototype.update=function(e){return this._update=e,this},r.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},r.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},r.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},r.prototype.remove=function(e){return this._remove=e,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,n,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=n[o],u=fm(l);if(u>1){var c=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(c,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},i={},a=[],s=[];this._initIndexMap(e,n,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=n[l],c=i[l],h=fm(u),f=fm(c);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(h===1&&f===1)this._update&&this._update(c,u),i[l]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(s,i)},r.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=t[i],s=fm(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},r.prototype._initIndexMap=function(e,t,n,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(n[s]=o),!!t){var l=t[o],u=fm(l);u===0?(t[o]=s,a&&n.push(o)):u===1?t[o]=[l,s]:l.push(s)}}},r}(),Oie=function(){function r(e,t){this._encode=e,this._schema=t}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function Fie(r,e){var t={},n=t.encode={},i=Le(),a=[],s=[],o={};L(r.dimensions,function(f){var d=r.getDimensionInfo(f),p=d.coordDim;if(p){var v=d.coordDimIndex;XC(n,p)[v]=f,d.isExtraCoord||(i.set(p,1),Nie(d.type)&&(a[0]=f),XC(o,p)[v]=r.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(f)}h7.each(function(g,m){var x=XC(n,m),y=d.otherDims[m];y!=null&&y!==!1&&(x[y]=d.name)})});var l=[],u={};i.each(function(f,d){var p=n[d];u[d]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=ge(l,function(f){return r.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var h=n.tooltip;return h&&h.length?s=h.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,t.userOutput=new Oie(o,e),t}function XC(r,e){return r.hasOwnProperty(e)||(r[e]=[]),r[e]}function cT(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function Nie(r){return!(r==="ordinal"||r==="time")}var Xw=function(){function r(e){this.otherDims={},e!=null&&he(this,e)}return r}(),Bie=At(),Vie={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},b9=function(){function r(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=S9(this.source)))},r.prototype.getSourceDimensionIndex=function(e){return Je(this._dimNameMap.get(e),-1)},r.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},r.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=w7(this.source),n=!T9(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,u=void 0,c=void 0,h=this.dimensions[o];if(h&&h.storeDimIndex===s)l=t?h.name:null,u=h.type,c=h.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=t?f.name:null,u=f.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!h||!h.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=Vie[u]||"f",c&&(i+=c.uid),i+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,i].join("$$");return{dimensions:a,hash:p}},r.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),n++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},r.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function _9(r){return r instanceof b9}function w9(r){for(var e=Le(),t=0;t<(r||[]).length;t++){var n=r[t],i=Ue(n)?n.name:n;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function S9(r){var e=Bie(r);return e.dimNameMap||(e.dimNameMap=w9(r.dimensionsDefine))}function T9(r){return r>30}var dm=Ue,vc=ge,zie=typeof Int32Array>"u"?Array:Int32Array,Hie="e\0\0",B3=-1,Gie=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],$ie=["_approximateExtent"],V3,O_,pm,vm,KC,gm,jC,ji=function(){function r(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;_9(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,n=e),n=n||["x","y"];for(var a={},s=[],o={},l=!1,u={},c=0;c<n.length;c++){var h=n[c],f=Ae(h)?new Xw({name:h}):h instanceof Xw?h:new Xw(h),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};s.push(d),a[d]=f,u[d]!=null&&(l=!0),f.createInvertedIndices&&(o[d]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),i&&(f.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var v=this._dimIdxToName=Le();L(s,function(g){v.set(a[g].storeDimIndex,g)})}}return r.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var i=this._schema.getSourceDimension(t);if(i)return i.name},r.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},r.prototype._recognizeDimIndex=function(e){if(Mt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},r.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},r.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},r.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var i=n.encode[e];return i?i[t]:null},r.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(e,t,n){var i=this,a;if(e instanceof PD&&(a=e),!a){var s=this.dimensions,o=wP(e)||ki(e)?new S7(e,s.length):e;a=new PD;var l=vc(s,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(o,l,n)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Fie(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},r.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),i=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&jC(this,o)}},r.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var i=this._dimInfos[t[n]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Mh&&!e.fillStorage},r.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===Os;if(l&&!i.pure)for(var u=[],c=e;c<t;c++){var h=i.getItem(c,u);if(!this.hasItemOption&&AQ(h)&&(this.hasItemOption=!0),h){var f=h.name;a[c]==null&&f!=null&&(a[c]=fn(f,null));var d=h.id;s[c]==null&&d!=null&&(s[c]=fn(d,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)jC(this,c);V3(this)}},r.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},r.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},r.prototype.setCalculationInfo=function(e,t){dm(e)?he(this._calculationInfo,e):this._calculationInfo[e]=t},r.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=pm(this,this._nameDimIdx,t)),n==null&&(n=""),n},r.prototype._getCategory=function(e,t){var n=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[n]:n},r.prototype.getId=function(e){return O_(this,this.getRawIndex(e))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.get(i.storeDimIndex,t)},r.prototype.getByRawIndex=function(e,t){var n=this._store,i=this._dimInfos[e];if(i)return n.getByRawIndex(i.storeDimIndex,t)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},r.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},r.prototype.getValues=function(e,t){var n=this,i=this._store;return ve(e)?i.getValues(vc(e,function(a){return n._getStoreDimIndex(a)}),t):i.getValues(e)},r.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,i=t.length;n<i;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},r.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},r.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},r.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},r.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],i=n&&n[t];return i==null||isNaN(i)?B3:i},r.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},r.prototype.each=function(e,t,n){Ve(e)&&(n=t,t=e,e=[]);var i=n||this,a=vc(vm(e),this._getStoreDimIndex,this);this._store.each(a,i?Ee(t,i):t)},r.prototype.filterSelf=function(e,t,n){Ve(e)&&(n=t,t=e,e=[]);var i=n||this,a=vc(vm(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Ee(t,i):t),this},r.prototype.selectRange=function(e){var t=this,n={},i=gt(e);return L(i,function(a){var s=t._getStoreDimIndex(a);n[s]=e[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(e,t,n){Ve(e)&&(n=t,t=e,e=[]),n=n||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},n),i},r.prototype.map=function(e,t,n,i){var a=n||i||this,s=vc(vm(e),this._getStoreDimIndex,this),o=gm(this);return o._store=this._store.map(s,a?Ee(t,a):t),o},r.prototype.modify=function(e,t,n,i){var a=n||i||this,s=vc(vm(e),this._getStoreDimIndex,this);this._store.modify(s,a?Ee(t,a):t)},r.prototype.downSample=function(e,t,n,i){var a=gm(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,n,i),a},r.prototype.minmaxDownSample=function(e,t){var n=gm(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},r.prototype.lttbDownSample=function(e,t){var n=gm(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},r.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},r.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new Gt(n,t,t&&t.ecModel)},r.prototype.diff=function(e){var t=this;return new Zu(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return O_(e,n)},function(n){return O_(t,n)})},r.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},r.prototype.setVisual=function(e,t){this._visual=this._visual||{},dm(e)?he(this._visual,e):this._visual[e]=t},r.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],i=n&&n[t];return i??this.getVisual(t)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,i=n[e];i||(i=n[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),ve(a)?a=a.slice():dm(a)&&(a=he({},a)),i[t]=a),a},r.prototype.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,dm(t)?he(i,t):i[t]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(e,t){dm(e)?he(this._layout,e):this._layout[e]=t},r.prototype.getLayout=function(e){return this._layout[e]},r.prototype.getItemLayout=function(e){return this._itemLayouts[e]},r.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?he(this._itemLayouts[e]||{},t):t},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;bD(n,this.dataType,e,t),this._graphicEls[e]=t},r.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},r.prototype.eachItemGraphicEl=function(e,t){L(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},r.prototype.cloneShallow=function(e){return e||(e=new r(this._schema?this._schema:vc(this.dimensions,this._getDimInfo,this),this.hostModel)),KC(e,this),e._store=this._store,e},r.prototype.wrapMethod=function(e,t){var n=this[e];Ve(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=n.apply(this,arguments);return t.apply(this,[i].concat(GL(arguments)))})},r.internalField=function(){V3=function(e){var t=e._invertedIndicesMap;L(t,function(n,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){n=t[i]=new zie(s.categories.length);for(var l=0;l<n.length;l++)n[l]=B3;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},pm=function(e,t,n){return fn(e._getCategory(t,n),null)},O_=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=pm(e,e._idDimIdx,t)),n==null&&(n=Hie+t),n},vm=function(e){return ve(e)||(e=e!=null?[e]:[]),e},gm=function(e){var t=new r(e._schema?e._schema:vc(e.dimensions,e._getDimInfo,e),e.hostModel);return KC(t,e),t},KC=function(e,t){L(Gie.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,L($ie,function(n){e[n]=Ye(t[n])}),e._calculationInfo=he({},t._calculationInfo)},jC=function(e,t){var n=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=n[t],l=i[t];if(o==null&&a!=null&&(n[t]=o=pm(e,a,t)),l==null&&s!=null&&(i[t]=l=pm(e,s,t)),l==null&&o!=null){var u=e._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),i[t]=l}}}(),r}();function Lb(r,e){wP(r)||(r=SP(r)),e=e||{};var t=e.coordDimensions||[],n=e.dimensionsDefine||r.dimensionsDefine||[],i=Le(),a=[],s=Wie(r,t,n,e.dimensionsCount),o=e.canOmitUnusedDimensions&&T9(s),l=n===r.dimensionsDefine,u=l?S9(r):w9(n),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(r,s));for(var h=Le(c),f=new I7(s),d=0;d<f.length;d++)f[d]=-1;function p(C){var k=f[C];if(k<0){var E=n[C],D=Ue(E)?E:{name:E},I=new Xw,P=D.name;P!=null&&u.get(P)!=null&&(I.name=I.displayName=P),D.type!=null&&(I.type=D.type),D.displayName!=null&&(I.displayName=D.displayName);var F=a.length;return f[C]=F,I.storeDimIndex=C,a.push(I),I}return a[k]}if(!o)for(var d=0;d<s;d++)p(d);h.each(function(C,k){var E=qt(C).slice();if(E.length===1&&!Ae(E[0])&&E[0]<0){h.set(k,!1);return}var D=h.set(k,[]);L(E,function(I,P){var F=Ae(I)?u.get(I):I;F!=null&&F<s&&(D[P]=F,g(p(F),k,P))})});var v=0;L(t,function(C){var k,E,D,I;if(Ae(C))k=C,I={};else{I=C,k=I.name;var P=I.ordinalMeta;I.ordinalMeta=null,I=he({},I),I.ordinalMeta=P,E=I.dimsDef,D=I.otherDims,I.name=I.coordDim=I.coordDimIndex=I.dimsDef=I.otherDims=null}var F=h.get(k);if(F!==!1){if(F=qt(F),!F.length)for(var V=0;V<(E&&E.length||1);V++){for(;v<s&&p(v).coordDim!=null;)v++;v<s&&F.push(v++)}L(F,function(z,G){var O=p(z);if(l&&I.type!=null&&(O.type=I.type),g(ze(O,I),k,G),O.name==null&&E){var ee=E[G];!Ue(ee)&&(ee={name:ee}),O.name=O.displayName=ee.name,O.defaultTooltip=ee.defaultTooltip}D&&ze(O.otherDims,D)})}});function g(C,k,E){h7.get(k)!=null?C.otherDims[k]=E:(C.coordDim=k,C.coordDimIndex=E,i.set(k,!0))}var m=e.generateCoord,x=e.generateCoordCount,y=x!=null;x=m?x||1:0;var _=m||"value";function S(C){C.name==null&&(C.name=C.coordDim)}if(o)L(a,function(C){S(C)}),a.sort(function(C,k){return C.storeDimIndex-k.storeDimIndex});else for(var w=0;w<s;w++){var T=p(w),A=T.coordDim;A==null&&(T.coordDim=Yie(_,i,y),T.coordDimIndex=0,(!m||x<=0)&&(T.isExtraCoord=!0),x--),S(T),T.type==null&&(v7(r,w)===Qn.Must||T.isExtraCoord&&(T.otherDims.itemName!=null||T.otherDims.seriesName!=null))&&(T.type="ordinal")}return Uie(a),new b9({source:r,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function Uie(r){for(var e=Le(),t=0;t<r.length;t++){var n=r[t],i=n.name,a=e.get(i)||0;a>0&&(n.name=i+(a-1)),a++,e.set(i,a)}}function Wie(r,e,t,n){var i=Math.max(r.dimensionsDetectedCount||1,e.length,t.length,n||0);return L(e,function(a){var s;Ue(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function Yie(r,e,t){if(t||e.hasKey(r)){for(var n=0;e.hasKey(r+n);)n++;r+=n}return e.set(r,!0),r}var Xie=function(){function r(e){this.coordSysDims=[],this.axisMap=Le(),this.categoryAxisMap=Le(),this.coordSysName=e}return r}();function Kie(r){var e=r.get("coordinateSystem"),t=new Xie(e),n=jie[e];if(n)return n(r,t,t.axisMap,t.categoryAxisMap),t}var jie={cartesian2d:function(r,e,t,n){var i=r.getReferringComponents("xAxis",Jr).models[0],a=r.getReferringComponents("yAxis",Jr).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),uv(i)&&(n.set("x",i),e.firstCategoryDimIndex=0),uv(a)&&(n.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,n){var i=r.getReferringComponents("singleAxis",Jr).models[0];e.coordSysDims=["single"],t.set("single",i),uv(i)&&(n.set("single",i),e.firstCategoryDimIndex=0)},polar:function(r,e,t,n){var i=r.getReferringComponents("polar",Jr).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),uv(a)&&(n.set("radius",a),e.firstCategoryDimIndex=0),uv(s)&&(n.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,n){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();L(a.parallelAxisIndex,function(o,l){var u=i.getComponent("parallelAxis",o),c=s[l];t.set(c,u),uv(u)&&(n.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function uv(r){return r.get("type")==="category"}function qie(r,e,t){t=t||{};var n=t.byIndex,i=t.stackedCoordDimension,a,s,o;Zie(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(r&&r.get("stack")),u,c,h,f;if(L(a,function(x,y){Ae(x)&&(a[y]=x={name:x}),l&&!x.isExtraCoord&&(!n&&!u&&x.ordinalMeta&&(u=x),!c&&x.type!=="ordinal"&&x.type!=="time"&&(!i||i===x.coordDim)&&(c=x))}),c&&!n&&!u&&(n=!0),c){h="__\0ecstackresult_"+r.id,f="__\0ecstackedover_"+r.id,u&&(u.createInvertedIndices=!0);var d=c.coordDim,p=c.type,v=0;L(a,function(x){x.coordDim===d&&v++});var g={name:h,coordDim:d,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},m={name:f,coordDim:f,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(g.storeDimIndex=o.ensureCalculationDimension(f,p),m.storeDimIndex=o.ensureCalculationDimension(h,p)),s.appendCalculationDimension(g),s.appendCalculationDimension(m)):(a.push(g),a.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}function Zie(r){return!_9(r.schema)}function Hh(r,e){return!!e&&e===r.getCalculationInfo("stackedDimension")}function A9(r,e){return Hh(r,e)?r.getCalculationInfo("stackResultDimension"):e}function Jie(r,e){var t=r.get("coordinateSystem"),n=Mb.get(t),i;return e&&e.coordSysDims&&(i=ge(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=cT(l)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function Qie(r,e,t){var n,i;return t&&L(r,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(n==null&&(n=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function sc(r,e,t){t=t||{};var n=e.getSourceManager(),i,a=!1;r?(a=!0,i=SP(r)):(i=n.getSource(),a=i.sourceFormat===Os);var s=Kie(e),o=Jie(e,s),l=t.useEncodeDefaulter,u=Ve(l)?l:l?Qe(p7,o,e):null,c={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},h=Lb(i,c),f=Qie(h.dimensions,t.createInvertedIndices,s),d=a?null:n.getSharedDataStore(h),p=qie(e,{schema:h,store:d}),v=new ji(h,e);v.setCalculationInfo(p);var g=f!=null&&eae(i)?function(m,x,y,_){return _===f?y:this.defaultDimValueGetter(m,x,y,_)}:null;return v.hasItemOption=!1,v.initData(a?i:d,null,g),v}function eae(r){if(r.sourceFormat===Os){var e=tae(r.data||[]);return!ve(Dg(e))}}function tae(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}var Ll=function(){function r(e){this._setting=e||{},this._extent=[1/0,-1/0]}return r.prototype.getSetting=function(e){return this._setting[e]},r.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},r.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},r.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(e){this._isBlank=e},r}();FA(Ll);var rae=0,$D=function(){function r(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++rae}return r.createByAxisModel=function(e){var t=e.option,n=t.data,i=n&&ge(n,nae);return new r({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},r.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},r.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!Ae(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Le(this.categories))},r}();function nae(r){return Ue(r)&&r.value!=null?r.value:r+""}function UD(r){return r.type==="interval"||r.type==="log"}function iae(r,e,t,n){var i={},a=r[1]-r[0],s=i.interval=Qz(a/e);t!=null&&s<t&&(s=i.interval=t),n!=null&&s>n&&(s=i.interval=n);var o=i.intervalPrecision=C9(s),l=i.niceTickExtent=[Hr(Math.ceil(r[0]/s)*s,o),Hr(Math.floor(r[1]/s)*s,o)];return aae(l,r),i}function qC(r){var e=Math.pow(10,qL(r)),t=r/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Hr(t*e)}function C9(r){return hl(r)+2}function z3(r,e,t){r[e]=Math.max(Math.min(r[e],t[1]),t[0])}function aae(r,e){!isFinite(r[0])&&(r[0]=e[0]),!isFinite(r[1])&&(r[1]=e[1]),z3(r,0,e),z3(r,1,e),r[0]>r[1]&&(r[0]=r[1])}function n2(r,e){return r>=e[0]&&r<=e[1]}function i2(r,e){return e[1]===e[0]?.5:(r-e[0])/(e[1]-e[0])}function a2(r,e){return r*(e[1]-e[0])+e[0]}var s2=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new $D({})),ve(i)&&(i=new $D({categories:ge(i,function(a){return Ue(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return e.prototype.parse=function(t){return t==null?NaN:Ae(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),n2(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),i2(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(a2(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],n=this._extent,i=n[0];i<=n[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var u=n[s];i[s]=u,a[u]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;i.push(c),a[c]=s}},e.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ll);Ll.registerClass(s2);var wf=Hr,Ju=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return n2(t,this._extent)},e.prototype.normalize=function(t){return i2(t,this._extent)},e.prototype.scale=function(t){return a2(t,this._extent)},e.prototype.setExtent=function(t,n){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(n)||(i[1]=parseFloat(n))},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1]),this.setExtent(n[0],n[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=C9(t)},e.prototype.getTicks=function(t){var n=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!n)return o;var l=1e4;i[0]<a[0]&&(t?o.push({value:wf(a[0]-n,s)}):o.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(o.push({value:u}),u=wf(u+n,s),u!==o[o.length-1].value);)if(o.length>l)return[];var c=o.length?o[o.length-1].value:a[1];return i[1]>c&&(t?o.push({value:wf(c+n,s)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(t){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<n.length;s++){for(var o=n[s],l=n[s-1],u=0,c=[],h=o.value-l.value,f=h/t;u<t-1;){var d=wf(l.value+(u+1)*f);d>a[0]&&d<a[1]&&c.push(d),u++}i.push(c)}return i},e.prototype.getLabel=function(t,n){if(t==null)return"";var i=n&&n.precision;i==null?i=hl(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=wf(t.value,i,!0);return a7(a)},e.prototype.calcNiceTicks=function(t,n,i){t=t||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=iae(a,t,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);t.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;t.fixMin||(n[0]=wf(Math.floor(n[0]/s)*s)),t.fixMax||(n[1]=wf(Math.ceil(n[1]/s)*s))},e.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},e.type="interval",e}(Ll);Ll.registerClass(Ju);var k9=typeof Float32Array<"u",sae=k9?Float32Array:Array;function dl(r){return ve(r)?k9?new Float32Array(r):r:new sae(r)}var WD="__ec_stack_";function E9(r){return r.get("stack")||WD+r.seriesIndex}function RP(r){return r.dim+r.index}function oae(r){var e=[],t=r.axis,n="axis0";if(t.type==="category"){for(var i=t.getBandWidth(),a=0;a<r.count;a++)e.push(ze({bandWidth:i,axisKey:n,stackId:WD+a},r));for(var s=I9(e),o=[],a=0;a<r.count;a++){var l=s[n][WD+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function D9(r,e){var t=[];return e.eachSeriesByType(r,function(n){R9(n)&&t.push(n)}),t}function lae(r){var e={};L(r,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var h=l.getData(),f=c.dim+"_"+c.index,d=h.getDimensionIndex(h.mapDimension(c.dim)),p=h.getStore(),v=0,g=p.count();v<g;++v){var m=p.get(d,v);e[f]?e[f].push(m):e[f]=[m]}});var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[n]=a}}return t}function M9(r){var e=lae(r),t=[];return L(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(s[1]-s[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);o=u?c/f*u:c}else{var d=n.getData();o=Math.abs(s[1]-s[0])/d.count()}var p=_e(n.get("barWidth"),o),v=_e(n.get("barMaxWidth"),o),g=_e(n.get("barMinWidth")||(O9(n)?.5:1),o),m=n.get("barGap"),x=n.get("barCategoryGap");t.push({bandWidth:o,barWidth:p,barMaxWidth:v,barMinWidth:g,barGap:m,barCategoryGap:x,axisKey:RP(a),stackId:E9(n)})}),I9(t)}function I9(r){var e={};L(r,function(n,i){var a=n.axisKey,s=n.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;e[a]=o;var u=n.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var h=n.barMaxWidth;h&&(l[u].maxWidth=h);var f=n.barMinWidth;f&&(l[u].minWidth=f);var d=n.barGap;d!=null&&(o.gap=d);var p=n.barCategoryGap;p!=null&&(o.categoryGap=p)});var t={};return L(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=gt(a).length;o=Math.max(35-l*4,15)+"%"}var u=_e(o,s),c=_e(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,d=(h-u)/(f+(f-1)*c);d=Math.max(d,0),L(a,function(m){var x=m.maxWidth,y=m.minWidth;if(m.width){var _=m.width;x&&(_=Math.min(_,x)),y&&(_=Math.max(_,y)),m.width=_,h-=_+c*_,f--}else{var _=d;x&&x<_&&(_=Math.min(x,h)),y&&y>_&&(_=y),_!==d&&(m.width=_,h-=_+c*_,f--)}}),d=(h-u)/(f+(f-1)*c),d=Math.max(d,0);var p=0,v;L(a,function(m,x){m.width||(m.width=d),v=m,p+=m.width*(1+c)}),v&&(p-=v.width*c);var g=-p/2;L(a,function(m,x){t[i][x]=t[i][x]||{bandWidth:s,offset:g,width:m.width},g+=m.width*(1+c)})}),t}function uae(r,e,t){if(r&&e){var n=r[RP(e)];return n}}function L9(r,e){var t=D9(r,e),n=M9(t);L(t,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=E9(i),u=n[RP(o)][l],c=u.offset,h=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:h})})}function P9(r){return{seriesType:r,plan:Ng(),reset:function(e){if(R9(e)){var t=e.getData(),n=e.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),h=Hh(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),d=cae(i,a),p=O9(e),v=e.get("barMinHeight")||0,g=c&&t.getDimensionIndex(c),m=t.getLayout("size"),x=t.getLayout("offset");return{progress:function(y,_){for(var S=y.count,w=p&&dl(S*3),T=p&&l&&dl(S*3),A=p&&dl(S),C=n.master.getRect(),k=f?C.width:C.height,E,D=_.getStore(),I=0;(E=y.next())!=null;){var P=D.get(h?g:s,E),F=D.get(o,E),V=d,z=void 0;h&&(z=+P-D.get(s,E));var G=void 0,O=void 0,ee=void 0,Q=void 0;if(f){var N=n.dataToPoint([P,F]);if(h){var Y=n.dataToPoint([z,F]);V=Y[0]}G=V,O=N[1]+x,ee=N[0]-V,Q=m,Math.abs(ee)<v&&(ee=(ee<0?-1:1)*v)}else{var N=n.dataToPoint([F,P]);if(h){var Y=n.dataToPoint([F,z]);V=Y[1]}G=N[0]+x,O=V,ee=m,Q=N[1]-V,Math.abs(Q)<v&&(Q=(Q<=0?-1:1)*v)}p?(w[I]=G,w[I+1]=O,w[I+2]=f?ee:Q,T&&(T[I]=f?C.x:G,T[I+1]=f?O:C.y,T[I+2]=k),A[E]=E):_.setItemLayout(E,{x:G,y:O,width:ee,height:Q}),I+=3}p&&_.setLayout({largePoints:w,largeDataIndices:A,largeBackgroundPoints:T,valueAxisHorizontal:f})}}}}}}function R9(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function O9(r){return r.pipelineContext&&r.pipelineContext.large}function cae(r,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var hae=function(r,e,t,n){for(;t<n;){var i=t+n>>>1;r[i][1]<e?t=i+1:n=i}return t},OP=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="time",n}return e.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return XA(t.value,MN[Wte(Kv(this._minLevelUnit))]||MN.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,n,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return Yte(t,n,i,s,a)},e.prototype.getTicks=function(){var t=this._interval,n=this._extent,i=[];if(!t)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),s=yae(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(s),i.push({value:n[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Cs,n[1]+=Cs),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Cs}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,n,i){t=t||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=F_.length,l=Math.min(hae(F_,this._approxInterval,0,o),o-1);this._interval=F_[l][1],this._minLevelUnit=F_[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return Mt(t)?t:+wl(t)},e.prototype.contain=function(t){return n2(this.parse(t),this._extent)},e.prototype.normalize=function(t){return i2(this.parse(t),this._extent)},e.prototype.scale=function(t){return a2(t,this._extent)},e.type="time",e}(Ju),F_=[["second",pP],["minute",vP],["hour",Dy],["quarter-day",Dy*6],["half-day",Dy*12],["day",Cs*1.2],["half-week",Cs*3.5],["week",Cs*7],["month",Cs*31],["quarter",Cs*95],["half-year",DN/2],["year",DN]];function fae(r,e,t,n){var i=wl(e),a=wl(t),s=function(p){return IN(i,p,n)===IN(a,p,n)},o=function(){return s("year")},l=function(){return o()&&s("month")},u=function(){return l()&&s("day")},c=function(){return u()&&s("hour")},h=function(){return c()&&s("minute")},f=function(){return h()&&s("second")},d=function(){return f()&&s("millisecond")};switch(r){case"year":return o();case"month":return l();case"day":return u();case"hour":return c();case"minute":return h();case"second":return f();case"millisecond":return d()}}function dae(r,e){return r/=Cs,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function pae(r){var e=30*Cs;return r/=e,r>6?6:r>3?3:r>2?2:1}function vae(r){return r/=Dy,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function H3(r,e){return r/=e?vP:pP,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function gae(r){return Qz(r)}function mae(r,e,t){var n=new Date(r);switch(Kv(e)){case"year":case"month":n[QH(t)](0);case"day":n[e7(t)](1);case"hour":n[t7(t)](0);case"minute":n[r7(t)](0);case"second":n[n7(t)](0),n[i7(t)](0)}return n.getTime()}function yae(r,e,t,n){var i=1e4,a=ZH,s=0;function o(k,E,D,I,P,F,V){for(var z=new Date(E),G=E,O=z[I]();G<D&&G<=n[1];)V.push({value:G}),O+=k,z[P](O),G=z.getTime();V.push({value:G,notAdd:!0})}function l(k,E,D){var I=[],P=!E.length;if(!fae(Kv(k),n[0],n[1],t)){P&&(E=[{value:mae(new Date(n[0]),k,t)},{value:n[1]}]);for(var F=0;F<E.length-1;F++){var V=E[F].value,z=E[F+1].value;if(V!==z){var G=void 0,O=void 0,ee=void 0,Q=!1;switch(k){case"year":G=Math.max(1,Math.round(e/Cs/365)),O=gP(t),ee=Xte(t);break;case"half-year":case"quarter":case"month":G=pae(e),O=jv(t),ee=QH(t);break;case"week":case"half-week":case"day":G=dae(e),O=KA(t),ee=e7(t),Q=!0;break;case"half-day":case"quarter-day":case"hour":G=vae(e),O=n1(t),ee=t7(t);break;case"minute":G=H3(e,!0),O=jA(t),ee=r7(t);break;case"second":G=H3(e,!1),O=qA(t),ee=n7(t);break;case"millisecond":G=gae(e),O=ZA(t),ee=i7(t);break}o(G,V,z,O,ee,Q,I),k==="year"&&D.length>1&&F===0&&D.unshift({value:D[0].value-G})}}for(var F=0;F<I.length;F++)D.push(I[F]);return I}}for(var u=[],c=[],h=0,f=0,d=0;d<a.length&&s++<i;++d){var p=Kv(a[d]);if(Ute(a[d])){l(a[d],u[u.length-1]||[],c);var v=a[d+1]?Kv(a[d+1]):null;if(p!==v){if(c.length){f=h,c.sort(function(k,E){return k.value-E.value});for(var g=[],m=0;m<c.length;++m){var x=c[m].value;(m===0||c[m-1].value!==x)&&(g.push(c[m]),x>=n[0]&&x<=n[1]&&h++)}var y=(n[1]-n[0])/e;if(h>y*1.5&&f>y/1.5||(u.push(g),h>y||r===a[d]))break}c=[]}}}for(var _=Ot(ge(u,function(k){return Ot(k,function(E){return E.value>=n[0]&&E.value<=n[1]&&!E.notAdd})}),function(k){return k.length>0}),S=[],w=_.length-1,d=0;d<_.length;++d)for(var T=_[d],A=0;A<T.length;++A)S.push({value:T[A].value,level:w-d});S.sort(function(k,E){return k.value-E.value});for(var C=[],d=0;d<S.length;++d)(d===0||S[d].value!==S[d-1].value)&&C.push(S[d]);return C}Ll.registerClass(OP);var G3=Ll.prototype,Py=Ju.prototype,xae=Hr,bae=Math.floor,_ae=Math.ceil,N_=Math.pow,Hs=Math.log,FP=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Ju,t._interval=0,t}return e.prototype.getTicks=function(t){var n=this._originalScale,i=this._extent,a=n.getExtent(),s=Py.getTicks.call(this,t);return ge(s,function(o){var l=o.value,u=Hr(N_(this.base,l));return u=l===i[0]&&this._fixMin?B_(u,a[0]):u,u=l===i[1]&&this._fixMax?B_(u,a[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,n){var i=Hs(this.base);t=Hs(Math.max(0,t))/i,n=Hs(Math.max(0,n))/i,Py.setExtent.call(this,t,n)},e.prototype.getExtent=function(){var t=this.base,n=G3.getExtent.call(this);n[0]=N_(t,n[0]),n[1]=N_(t,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=B_(n[0],a[0])),this._fixMax&&(n[1]=B_(n[1],a[1])),n},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var n=this.base;t[0]=Hs(t[0])/Hs(n),t[1]=Hs(t[1])/Hs(n),G3.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=TQ(i),s=t/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[Hr(_ae(n[0]/a)*a),Hr(bae(n[1]/a)*a)];this._interval=a,this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){Py.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=Hs(t)/Hs(this.base),n2(t,this._extent)},e.prototype.normalize=function(t){return t=Hs(t)/Hs(this.base),i2(t,this._extent)},e.prototype.scale=function(t){return t=a2(t,this._extent),N_(this.base,t)},e.type="log",e}(Ll),F9=FP.prototype;F9.getMinorTicks=Py.getMinorTicks;F9.getLabel=Py.getLabel;function B_(r,e){return xae(r,hl(e))}Ll.registerClass(FP);var wae=function(){function r(e,t,n){this._prepareParams(e,t,n)}return r.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var s=this._modelMinRaw=a;Ve(s)?this._modelMinNum=V_(e,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=V_(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(Ve(o)?this._modelMaxNum=V_(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=V_(e,o)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=ve(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[xo(u[0],1),xo(u[1],1)]}},r.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:n-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=e?i?0:NaN:t-a[0]*s),l==null&&(l=e?i?i-1:NaN:n+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var h=Xy(o)||Xy(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var f=this._determinedMin,d=this._determinedMax;return f!=null&&(o=f,u=!0),d!=null&&(l=d,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:h}},r.prototype.modifyDataMinMax=function(e,t){this[Tae[e]]=t},r.prototype.setDeterminedMinMax=function(e,t){var n=Sae[e];this[n]=t},r.prototype.freeze=function(){this.frozen=!0},r}(),Sae={min:"_determinedMin",max:"_determinedMax"},Tae={min:"_dataMin",max:"_dataMax"};function N9(r,e,t){var n=r.rawExtentInfo;return n||(n=new wae(r,e,t),r.rawExtentInfo=n,n)}function V_(r,e){return e==null?null:Xy(e)?NaN:r.parse(e)}function B9(r,e){var t=r.type,n=N9(r,e,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,s=e.ecModel;if(s&&t==="time"){var o=D9("bar",s),l=!1;if(L(o,function(h){l=l||h.getBaseAxis()===e.axis}),l){var u=M9(o),c=Aae(i,a,e,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function Aae(r,e,t,n){var i=t.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=uae(n,t.axis);if(s===void 0)return{min:r,max:e};var o=1/0;L(s,function(d){o=Math.min(d.offset,o)});var l=-1/0;L(s,function(d){l=Math.max(d.offset+d.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=e-r,h=1-(o+l)/a,f=c/h-c;return e+=f*(l/u),r-=f*(o/u),{min:r,max:e}}function yg(r,e){var t=e,n=B9(r,t),i=n.extent,a=t.get("splitNumber");r instanceof FP&&(r.base=t.get("logBase"));var s=r.type,o=t.get("interval"),l=s==="interval"||s==="time";r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&r.setInterval&&r.setInterval(o)}function o2(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new s2({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new OP({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Ll.getClass(e)||Ju)}}function Cae(r){var e=r.scale.getExtent(),t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function zg(r){var e=r.getLabelModel().get("formatter"),t=r.type==="category"?r.scale.getExtent()[0]:null;return r.scale.type==="time"?function(n){return function(i,a){return r.scale.getFormattedLabel(i,a,n)}}(e):Ae(e)?function(n){return function(i){var a=r.scale.getLabel(i),s=n.replace("{value}",a??"");return s}}(e):Ve(e)?function(n){return function(i,a){return t!=null&&(a=i.value-t),n(NP(r,i),a,i.level!=null?{level:i.level}:null)}}(e):function(n){return r.scale.getLabel(n)}}function NP(r,e){return r.type==="category"?r.scale.getLabel(e):e.value}function kae(r){var e=r.model,t=r.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var n,i,a=t.getExtent();t instanceof s2?i=t.count():(n=t.getTicks(),i=n.length);var s=r.getLabelModel(),o=zg(r),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var h=n?n[c]:{value:a[0]+c},f=o(h,c),d=s.getTextRect(f),p=Eae(d,s.get("rotate")||0);l?l.union(p):l=p}return l}}function Eae(r,e){var t=e*Math.PI/180,n=r.width,i=r.height,a=n*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),s=n*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),o=new at(r.x,r.y,a,s);return o}function BP(r){var e=r.get("interval");return e??"auto"}function V9(r){return r.type==="category"&&BP(r.getLabelModel())===0}function hT(r,e){var t={};return L(r.mapDimensionsAll(e),function(n){t[A9(r,n)]=!0}),gt(t)}function Dae(r,e,t){e&&L(hT(e,t),function(n){var i=e.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}var Pb=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r}(),Mae=1e-8;function $3(r,e){return Math.abs(r-e)<Mae}function Bf(r,e,t){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var s=r[a];n+=Xl(i[0],i[1],s[0],s[1],e,t),i=s}var o=r[0];return(!$3(i[0],o[0])||!$3(i[1],o[1]))&&(n+=Xl(i[0],i[1],o[0],o[1],e,t)),n!==0}var Iae=[];function ZC(r,e){for(var t=0;t<r.length;t++)ai(r[t],r[t],e)}function U3(r,e,t,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(mh(e,e,a),yh(t,t,a))}}function Lae(r){for(var e=0,t=0,n=0,i=r.length,a=r[i-1][0],s=r[i-1][1],o=0;o<i;o++){var l=r[o][0],u=r[o][1],c=a*u-l*s;e+=c,t+=(a+l)*c,n+=(s+u)*c,a=l,s=u}return e?[t/e/3,n/e/3,e]:[r[0][0]||0,r[0][1]||0]}var z9=function(){function r(e){this.name=e}return r.prototype.setCenter=function(e){this._center=e},r.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},r}(),W3=function(){function r(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return r}(),Y3=function(){function r(e){this.type="linestring",this.points=e}return r}(),H9=function(r){te(e,r);function e(t,n,i){var a=r.call(this,t)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,n,i=0,a=0;a<t.length;a++){var s=t[a],o=s.exterior,l=o&&o.length;l>i&&(n=s,i=l)}if(n)return Lae(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return L(s,function(o){o.type==="polygon"?U3(o.exterior,i,a,t):L(o.points,function(l){U3(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new at(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=n),n},e.prototype.contain=function(t){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(t[0],t[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(Bf(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(Bf(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new at(t,n,i,a),u=s.calculateTransform(l),c=this.geometries,h=0;h<c.length;h++){var f=c[h];f.type==="polygon"?(ZC(f.exterior,u),L(f.interiors,function(d){ZC(d,u)})):L(f.points,function(d){ZC(d,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e}(z9),Pae=function(r){te(e,r);function e(t,n){var i=r.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=LA(Iae),s=t;s&&!s.isGeoSVGGraphicRoot;)Nu(a,s.getLocalTransform(),a),s=s.parent;return Eg(a,a),ai(i,i,a),i},e}(z9);function Rae(r){if(!r.UTF8Encoding)return r;var e=r,t=e.UTF8Scale;t==null&&(t=1024);var n=e.features;return L(n,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=G9(o,s,t);break;case"Polygon":JC(o,s,t);break;case"MultiLineString":JC(o,s,t);break;case"MultiPolygon":L(o,function(l,u){return JC(l,s[u],t)})}}),e.UTF8Encoding=!1,e}function JC(r,e,t){for(var n=0;n<r.length;n++)r[n]=G9(r[n],e[n],t)}function G9(r,e,t){for(var n=[],i=e[0],a=e[1],s=0;s<r.length;s+=2){var o=r.charCodeAt(s)-64,l=r.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,n.push([o/t,l/t])}return n}function Oae(r,e){return r=Rae(r),ge(Ot(r.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new W3(s[0],s.slice(1)));break;case"MultiPolygon":L(i.coordinates,function(l){l[0]&&a.push(new W3(l[0],l.slice(1)))});break;case"LineString":a.push(new Y3([i.coordinates]));break;case"MultiLineString":a.push(new Y3(i.coordinates))}var o=new H9(n[e||"name"],a,n.cp);return o.properties=n,o})}var u1=At();function $9(r,e){var t=ge(e,function(n){return r.scale.parse(n)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function Fae(r){var e=r.getLabelModel().get("customValues");if(e){var t=zg(r),n=r.scale.getExtent(),i=$9(r,e),a=Ot(i,function(s){return s>=n[0]&&s<=n[1]});return{labels:ge(a,function(s){var o={value:s};return{formattedLabel:t(o),rawLabel:r.scale.getLabel(o),tickValue:s}})}}return r.type==="category"?Bae(r):zae(r)}function Nae(r,e){var t=r.getTickModel().get("customValues");if(t){var n=r.scale.getExtent(),i=$9(r,t);return{ticks:Ot(i,function(a){return a>=n[0]&&a<=n[1]})}}return r.type==="category"?Vae(r,e):{ticks:ge(r.scale.getTicks(),function(a){return a.value})}}function Bae(r){var e=r.getLabelModel(),t=U9(r,e);return!e.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function U9(r,e){var t=W9(r,"labels"),n=BP(e),i=Y9(t,n);if(i)return i;var a,s;return Ve(n)?a=j9(r,n):(s=n==="auto"?Hae(r):n,a=K9(r,s)),X9(t,n,{labels:a,labelCategoryInterval:s})}function Vae(r,e){var t=W9(r,"ticks"),n=BP(e),i=Y9(t,n);if(i)return i;var a,s;if((!e.get("show")||r.scale.isBlank())&&(a=[]),Ve(n))a=j9(r,n,!0);else if(n==="auto"){var o=U9(r,r.getLabelModel());s=o.labelCategoryInterval,a=ge(o.labels,function(l){return l.tickValue})}else s=n,a=K9(r,s,!0);return X9(t,n,{ticks:a,tickCategoryInterval:s})}function zae(r){var e=r.scale.getTicks(),t=zg(r);return{labels:ge(e,function(n,i){return{level:n.level,formattedLabel:t(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value}})}}function W9(r,e){return u1(r)[e]||(u1(r)[e]=[])}function Y9(r,e){for(var t=0;t<r.length;t++)if(r[t].key===e)return r[t].value}function X9(r,e,t){return r.push({key:e,value:t}),t}function Hae(r){var e=u1(r).autoInterval;return e??(u1(r).autoInterval=r.calculateCategoryInterval())}function Gae(r){var e=$ae(r),t=zg(r),n=(e.axisRotate-e.labelRotate)/180*Math.PI,i=r.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],u=r.dataToCoord(l+1)-r.dataToCoord(l),c=Math.abs(u*Math.cos(n)),h=Math.abs(u*Math.sin(n)),f=0,d=0;l<=a[1];l+=o){var p=0,v=0,g=wb(t({value:l}),e.font,"center","top");p=g.width*1.3,v=g.height*1.3,f=Math.max(f,p,7),d=Math.max(d,v,7)}var m=f/c,x=d/h;isNaN(m)&&(m=1/0),isNaN(x)&&(x=1/0);var y=Math.max(0,Math.floor(Math.min(m,x))),_=u1(r.model),S=r.getExtent(),w=_.lastAutoInterval,T=_.lastTickCount;return w!=null&&T!=null&&Math.abs(w-y)<=1&&Math.abs(T-s)<=1&&w>y&&_.axisExtent0===S[0]&&_.axisExtent1===S[1]?y=w:(_.lastTickCount=s,_.lastAutoInterval=y,_.axisExtent0=S[0],_.axisExtent1=S[1]),y}function $ae(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function K9(r,e,t){var n=zg(r),i=r.scale,a=i.getExtent(),s=r.getLabelModel(),o=[],l=Math.max((e||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=V9(r),f=s.get("showMinLabel")||h,d=s.get("showMaxLabel")||h;f&&u!==a[0]&&v(a[0]);for(var p=u;p<=a[1];p+=l)v(p);d&&p-l!==a[1]&&v(a[1]);function v(g){var m={value:g};o.push(t?g:{formattedLabel:n(m),rawLabel:i.getLabel(m),tickValue:g})}return o}function j9(r,e,t){var n=r.scale,i=zg(r),a=[];return L(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var X3=[0,1],Ao=function(){function r(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return r.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},r.prototype.containData=function(e){return this.scale.contain(e)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return Zz(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},r.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(n=n.slice(),K3(n,i.count())),zt(e,X3,n,t)},r.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),K3(n,i.count()));var a=zt(e,n,X3,t);return this.scale.scale(a)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=Nae(this,t),i=n.ticks,a=ge(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return Uae(this,a,s,e.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),i=ge(n,function(a){return ge(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},r.prototype.getViewLabels=function(){return Fae(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(){return Gae(this)},r}();function K3(r,e){var t=r[1]-r[0],n=e,i=t/n/2;r[0]+=i,r[1]-=i}function Uae(r,e,t,n){var i=e.length;if(!r.onBand||t||!i)return;var a=r.getExtent(),s,o;if(i===1)e[0].coord=a[0],s=e[1]={coord:a[1],tickValue:e[0].tickValue};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;L(e,function(d){d.coord-=u/2});var c=r.scale.getExtent();o=1+c[1]-e[i-1].tickValue,s={coord:e[i-1].coord+u*o,tickValue:c[1]+1},e.push(s)}var h=a[0]>a[1];f(e[0].coord,a[0])&&(n?e[0].coord=a[0]:e.shift()),n&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],s.coord)&&(n?s.coord=a[1]:e.pop()),n&&f(s.coord,a[1])&&e.push({coord:a[1]});function f(d,p){return d=Hr(d),p=Hr(p),h?d>p:d<p}}var mm=Math.PI*2,Sf=Sl.CMD,Wae=["top","right","bottom","left"];function Yae(r,e,t,n,i){var a=t.width,s=t.height;switch(r){case"top":n.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":n.set(t.x+a/2,t.y+s+e),i.set(0,1);break;case"left":n.set(t.x-e,t.y+s/2),i.set(-1,0);break;case"right":n.set(t.x+a+e,t.y+s/2),i.set(1,0);break}}function Xae(r,e,t,n,i,a,s,o,l){s-=r,o-=e;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var c=s*t+r,h=o*t+e;if(Math.abs(n-i)%mm<1e-4)return l[0]=c,l[1]=h,u-t;if(a){var f=n;n=Wa(i),i=Wa(f)}else n=Wa(n),i=Wa(i);n>i&&(i+=mm);var d=Math.atan2(o,s);if(d<0&&(d+=mm),d>=n&&d<=i||d+mm>=n&&d+mm<=i)return l[0]=c,l[1]=h,u-t;var p=t*Math.cos(n)+r,v=t*Math.sin(n)+e,g=t*Math.cos(i)+r,m=t*Math.sin(i)+e,x=(p-s)*(p-s)+(v-o)*(v-o),y=(g-s)*(g-s)+(m-o)*(m-o);return x<y?(l[0]=p,l[1]=v,Math.sqrt(x)):(l[0]=g,l[1]=m,Math.sqrt(y))}function fT(r,e,t,n,i,a,s,o){var l=i-r,u=a-e,c=t-r,h=n-e,f=Math.sqrt(c*c+h*h);c/=f,h/=f;var d=l*c+u*h,p=d/f;o&&(p=Math.min(Math.max(p,0),1)),p*=f;var v=s[0]=r+p*c,g=s[1]=e+p*h;return Math.sqrt((v-i)*(v-i)+(g-a)*(g-a))}function q9(r,e,t,n,i,a,s){t<0&&(r=r+t,t=-t),n<0&&(e=e+n,n=-n);var o=r+t,l=e+n,u=s[0]=Math.min(Math.max(i,r),o),c=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Ks=[];function Kae(r,e,t){var n=q9(e.x,e.y,e.width,e.height,r.x,r.y,Ks);return t.set(Ks[0],Ks[1]),n}function jae(r,e,t){for(var n=0,i=0,a=0,s=0,o,l,u=1/0,c=e.data,h=r.x,f=r.y,d=0;d<c.length;){var p=c[d++];d===1&&(n=c[d],i=c[d+1],a=n,s=i);var v=u;switch(p){case Sf.M:a=c[d++],s=c[d++],n=a,i=s;break;case Sf.L:v=fT(n,i,c[d],c[d+1],h,f,Ks,!0),n=c[d++],i=c[d++];break;case Sf.C:v=Pz(n,i,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],h,f,Ks),n=c[d++],i=c[d++];break;case Sf.Q:v=Oz(n,i,c[d++],c[d++],c[d],c[d+1],h,f,Ks),n=c[d++],i=c[d++];break;case Sf.A:var g=c[d++],m=c[d++],x=c[d++],y=c[d++],_=c[d++],S=c[d++];d+=1;var w=!!(1-c[d++]);o=Math.cos(_)*x+g,l=Math.sin(_)*y+m,d<=1&&(a=o,s=l);var T=(h-g)*y/x+g;v=Xae(g,m,y,_,_+S,w,T,f,Ks),n=Math.cos(_+S)*x+g,i=Math.sin(_+S)*y+m;break;case Sf.R:a=n=c[d++],s=i=c[d++];var A=c[d++],C=c[d++];v=q9(a,s,A,C,h,f,Ks);break;case Sf.Z:v=fT(n,i,a,s,h,f,Ks,!0),n=a,i=s;break}v<u&&(u=v,t.set(Ks[0],Ks[1]))}return u}var co=new nt,sr=new nt,$r=new nt,pl=new nt,ll=new nt;function j3(r,e){if(r){var t=r.getTextGuideLine(),n=r.getTextContent();if(n&&t){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||Wae,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=r.getComputedTransform(),h=c&&Eg([],c),f=e.get("length2")||0;u&&$r.copy(u);for(var d=0;d<s.length;d++){var p=s[d];Yae(p,0,o,co,pl),nt.scaleAndAdd(sr,co,pl,f),sr.transform(h);var v=r.getBoundingRect(),g=u?u.distance(sr):r instanceof dt?jae(sr,r.path,$r):Kae(sr,v,$r);g<l&&(l=g,sr.transform(c),$r.transform(c),$r.toArray(a[0]),sr.toArray(a[1]),co.toArray(a[2]))}Z9(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var dT=[],$i=new nt;function Z9(r,e){if(e<=180&&e>0){e=e/180*Math.PI,co.fromArray(r[0]),sr.fromArray(r[1]),$r.fromArray(r[2]),nt.sub(pl,co,sr),nt.sub(ll,$r,sr);var t=pl.len(),n=ll.len();if(!(t<.001||n<.001)){pl.scale(1/t),ll.scale(1/n);var i=pl.dot(ll),a=Math.cos(e);if(a<i){var s=fT(sr.x,sr.y,$r.x,$r.y,co.x,co.y,dT,!1);$i.fromArray(dT),$i.scaleAndAdd(ll,s/Math.tan(Math.PI-e));var o=$r.x!==sr.x?($i.x-sr.x)/($r.x-sr.x):($i.y-sr.y)/($r.y-sr.y);if(isNaN(o))return;o<0?nt.copy($i,sr):o>1&&nt.copy($i,$r),$i.toArray(r[1])}}}}function qae(r,e,t){if(t<=180&&t>0){t=t/180*Math.PI,co.fromArray(r[0]),sr.fromArray(r[1]),$r.fromArray(r[2]),nt.sub(pl,sr,co),nt.sub(ll,$r,sr);var n=pl.len(),i=ll.len();if(!(n<.001||i<.001)){pl.scale(1/n),ll.scale(1/i);var a=pl.dot(e),s=Math.cos(t);if(a<s){var o=fT(sr.x,sr.y,$r.x,$r.y,co.x,co.y,dT,!1);$i.fromArray(dT);var l=Math.PI/2,u=Math.acos(ll.dot(e)),c=l+u-t;if(c>=l)nt.copy($i,$r);else{$i.scaleAndAdd(ll,o/Math.tan(Math.PI/2-c));var h=$r.x!==sr.x?($i.x-sr.x)/($r.x-sr.x):($i.y-sr.y)/($r.y-sr.y);if(isNaN(h))return;h<0?nt.copy($i,sr):h>1&&nt.copy($i,$r)}$i.toArray(r[1])}}}}function QC(r,e,t,n){var i=t==="normal",a=i?r:r.ensureState(t);a.ignore=e;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?r.useStyle(o):a.style=o}function Zae(r,e){var t=e.smooth,n=e.points;if(n)if(r.moveTo(n[0][0],n[0][1]),t>0&&n.length>=3){var i=gh(n[0],n[1]),a=gh(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var s=Math.min(i,a)*t,o=Rw([],n[1],n[0],s/i),l=Rw([],n[1],n[2],s/a),u=Rw([],o,l,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),r.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)r.lineTo(n[c][0],n[c][1])}function VP(r,e,t){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<e1.length;l++){var u=e1[l],c=e[u],h=u==="normal";if(c){var f=c.get("show"),d=h?o:Je(i.states[u]&&i.states[u].ignore,o);if(d||!Je(f,s)){var p=h?n:n&&n.states[u];p&&(p.ignore=!0),n&&QC(n,!0,u,c);continue}n||(n=new aa,r.setTextGuideLine(n),!h&&(o||!s)&&QC(n,!0,"normal",e.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),QC(n,!1,u,c)}}if(n){ze(n.style,t),n.style.fill=null;var v=a.get("showAbove"),g=r.textGuideLineConfig=r.textGuideLineConfig||{};g.showAbove=v||!1,n.buildPath=Zae}}function zP(r,e){e=e||"labelLine";for(var t={normal:r.getModel(e)},n=0;n<ea.length;n++){var i=ea[n];t[i]=r.getModel([i,e])}return t}function J9(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=s.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=o?new ZS(s,a):null;e.push({label:i,labelLine:n.labelLine,rect:u,localRect:s,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:a})}}return e}function Q9(r,e,t,n,i,a){var s=r.length;if(s<2)return;r.sort(function(w,T){return w.rect[e]-T.rect[e]});for(var o=0,l,u=!1,c=0;c<s;c++){var h=r[c],f=h.rect;l=f[e]-o,l<0&&(f[e]-=l,h.label[e]-=l,u=!0),o=f[e]+f[t]}var d=r[0],p=r[s-1],v,g;m(),v<0&&_(-v,.8),g<0&&_(g,.8),m(),x(v,g,1),x(g,v,-1),m(),v<0&&S(-v),g<0&&S(g);function m(){v=d.rect[e]-n,g=i-p.rect[e]-p.rect[t]}function x(w,T,A){if(w<0){var C=Math.min(T,-w);if(C>0){y(C*A,0,s);var k=C+w;k<0&&_(-k*A,1)}else _(-w*A,1)}}function y(w,T,A){w!==0&&(u=!0);for(var C=T;C<A;C++){var k=r[C],E=k.rect;E[e]+=w,k.label[e]+=w}}function _(w,T){for(var A=[],C=0,k=1;k<s;k++){var E=r[k-1].rect,D=Math.max(r[k].rect[e]-E[e]-E[t],0);A.push(D),C+=D}if(C){var I=Math.min(Math.abs(w)/C,T);if(w>0)for(var k=0;k<s-1;k++){var P=A[k]*I;y(P,0,k+1)}else for(var k=s-1;k>0;k--){var P=A[k-1]*I;y(-P,k,s)}}}function S(w){var T=w<0?-1:1;w=Math.abs(w);for(var A=Math.ceil(w/(s-1)),C=0;C<s-1;C++)if(T>0?y(A,0,C+1):y(-A,s-C-1,s),w-=A,w<=0)return}return u}function Jae(r,e,t,n){return Q9(r,"x","width",e,t)}function eG(r,e,t,n){return Q9(r,"y","height",e,t)}function tG(r){var e=[];r.sort(function(v,g){return g.priority-v.priority});var t=new at(0,0,0,0);function n(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var i=0;i<r.length;i++){var a=r[i],s=a.axisAligned,o=a.localRect,l=a.transform,u=a.label,c=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var h=a.obb,f=!1,d=0;d<e.length;d++){var p=e[d];if(t.intersect(p.rect)){if(s&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new ZS(p.localRect,p.transform)),h||(h=new ZS(o,l)),h.intersect(p.obb)){f=!0;break}}}f?(n(u),c&&n(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function Qae(r){if(r){for(var e=[],t=0;t<r.length;t++)e.push(r[t].slice());return e}}function ese(r,e){var t=r.label,n=e&&e.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:Qae(n&&n.shape.points)}}var q3=["align","verticalAlign","width","height","fontSize"],Li=new Mu,ek=At(),tse=At();function z_(r,e,t){for(var n=0;n<t.length;n++){var i=t[n];e[i]!=null&&(r[i]=e[i])}}var H_=["x","y","rotation"],rse=function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(e,t,n,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();at.applyTransform(c,c,u),u?Li.setLocalTransform(u):(Li.x=Li.y=Li.rotation=Li.originX=Li.originY=0,Li.scaleX=Li.scaleY=1),Li.rotation=Wa(Li.rotation);var h=i.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var d=h.getComputedTransform();at.applyTransform(f,f,d)}var p=f&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:n,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Li.x,y:Li.y,scaleX:Li.scaleX,scaleY:Li.scaleY,rotation:Li.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},r.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,i=n.get("labelLayout");(Ve(i)||gt(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=je(a);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,s,i)})},r.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function i(y,_){return function(){j3(y,_)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,c=void 0;Ve(s.layoutOption)?c=s.layoutOption(ese(s,l)):c=s.layoutOption,c=c||{},s.computedLayoutOption=c;var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*h:u.attachedRot,offset:[c.dx||0,c.dy||0]});var f=!1;if(c.x!=null?(o.x=_e(c.x,t),o.setStyle("x",0),f=!0):(o.x=u.x,o.setStyle("x",u.style.x)),c.y!=null?(o.y=_e(c.y,n),o.setStyle("y",0),f=!0):(o.y=u.y,o.setStyle("y",u.style.y)),c.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),f=!1)}var p=ek(o);p.needsUpdateLabelLine=f,o.rotation=c.rotate!=null?c.rotate*h:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var v=0;v<q3.length;v++){var g=q3[v];o.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(o.draggable=!0,o.cursor="move",l){var m=s.seriesModel;if(s.dataIndex!=null){var x=s.seriesModel.getData(s.dataType);m=x.getItemModel(s.dataIndex)}o.on("drag",i(l,m.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},r.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),i=J9(this._labelList),a=Ot(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=Ot(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});Jae(a,0,t),eG(s,0,n);var o=Ot(i,function(l){return l.layoutOption.hideOverlap});tG(o)},r.prototype.processLabelsOverall=function(){var e=this;L(this._chartViewList,function(t){var n=t.__model,i=t.ignoreLabelLineUpdate,a=n.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=ek(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,n),a&&e._animateLabels(s,n)})})},r.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),i=je(e),a=i.dataIndex;if(n&&a!=null){var s=t.getData(i.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var h=o.getModel("labelLine");VP(e,zP(o),l),j3(e,h)}},r.prototype._animateLabels=function(e,t){var n=e.getTextContent(),i=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Yv(e))){var a=ek(n),s=a.oldLayout,o=je(e),l=o.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=t.getData(o.dataType);if(s){n.attr(s);var f=e.prevStates;f&&(lt(f,"select")>=0&&n.attr(a.oldLayoutSelect),lt(f,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),It(n,u,t,l)}else if(n.attr(u),!Lg(n).valueAnimation){var h=Je(n.style.opacity,1);n.style.opacity=0,gr(n,{style:{opacity:h}},t,l)}if(a.oldLayout=u,n.states.select){var d=a.oldLayoutSelect={};z_(d,u,H_),z_(d,n.states.select,H_)}if(n.states.emphasis){var p=a.oldLayoutEmphasis={};z_(p,u,H_),z_(p,n.states.emphasis,H_)}YH(n,l,c,t,t)}if(i&&!i.ignore&&!i.invisible){var a=tse(i),s=a.oldLayout,v={points:i.shape.points};s?(i.attr({shape:s}),It(i,{shape:v},t)):(i.setShape(v),i.style.strokePercent=0,gr(i,{style:{strokePercent:1}},t)),a.oldLayout=v}},r}(),tk=At();function nse(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){var i=tk(t).labelManager;i||(i=tk(t).labelManager=new rse),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var i=tk(t).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var rk=Math.sin,nk=Math.cos,rG=Math.PI,Tf=Math.PI*2,ise=180/rG,nG=function(){function r(){}return r.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},r.prototype.moveTo=function(e,t){this._add("M",e,t)},r.prototype.lineTo=function(e,t){this._add("L",e,t)},r.prototype.bezierCurveTo=function(e,t,n,i,a,s){this._add("C",e,t,n,i,a,s)},r.prototype.quadraticCurveTo=function(e,t,n,i){this._add("Q",e,t,n,i)},r.prototype.arc=function(e,t,n,i,a,s){this.ellipse(e,t,n,n,0,i,a,s)},r.prototype.ellipse=function(e,t,n,i,a,s,o,l){var u=o-s,c=!l,h=Math.abs(u),f=_h(h-Tf)||(c?u>=Tf:-u>=Tf),d=u>0?u%Tf:u%Tf+Tf,p=!1;f?p=!0:_h(h)?p=!1:p=d>=rG==!!c;var v=e+n*nk(s),g=t+i*rk(s);this._start&&this._add("M",v,g);var m=Math.round(a*ise);if(f){var x=1/this._p,y=(c?1:-1)*(Tf-x);this._add("A",n,i,m,1,+c,e+n*nk(s+y),t+i*rk(s+y)),x>.01&&this._add("A",n,i,m,0,+c,v,g)}else{var _=e+n*nk(o),S=t+i*rk(o);this._add("A",n,i,m,+p,+c,_,S)}},r.prototype.rect=function(e,t,n,i){this._add("M",e,t),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(e,t,n,i,a,s,o,l,u){for(var c=[],h=this._p,f=1;f<arguments.length;f++){var d=arguments[f];if(isNaN(d)){this._invalid=!0;return}c.push(Math.round(d*h)/h)}this._d.push(e+c.join(" ")),this._start=e==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r}(),HP="none",ase=Math.round;function sse(r){var e=r.fill;return e!=null&&e!==HP}function ose(r){var e=r.stroke;return e!=null&&e!==HP}var YD=["lineCap","miterLimit","lineJoin"],lse=ge(YD,function(r){return"stroke-"+r.toLowerCase()});function use(r,e,t,n){var i=e.opacity==null?1:e.opacity;if(t instanceof Yn){r("opacity",i);return}if(sse(e)){var a=Zy(e.fill);r("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;s<1&&r("fill-opacity",s)}else r("fill",HP);if(ose(e)){var o=Zy(e.stroke);r("stroke",o.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*i:o.opacity*i,h=e.strokeFirst;if(u!==1&&r("stroke-width",u),h&&r("paint-order",h?"stroke":"fill"),c<1&&r("stroke-opacity",c),e.lineDash){var f=EP(t),d=f[0],p=f[1];d&&(p=ase(p||0),r("stroke-dasharray",d.join(",")),(p||n)&&r("stroke-dashoffset",p))}for(var v=0;v<YD.length;v++){var g=YD[v];if(e[g]!==jS[g]){var m=e[g]||jS[g];m&&r(lse[v],m)}}}}var iG="http://www.w3.org/2000/svg",aG="http://www.w3.org/1999/xlink",cse="http://www.w3.org/2000/xmlns/",hse="http://www.w3.org/XML/1998/namespace",Z3="ecmeta_";function sG(r){return document.createElementNS(iG,r)}function Tn(r,e,t,n,i){return{tag:r,attrs:t||{},children:n,text:i,key:e}}function fse(r,e){var t=[];if(e)for(var n in e){var i=e[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),t.push(a))}return"<"+r+" "+t.join(" ")+">"}function dse(r){return"</"+r+">"}function GP(r,e){e=e||{};var t=e.newline?`
`:"";function n(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return fse(s,o)+(s!=="style"?Wi(l):l||"")+(a?""+t+ge(a,function(u){return n(u)}).join(t)+t:"")+dse(s)}return n(r)}function pse(r,e,t){t=t||{};var n=t.newline?`
`:"",i=" {"+n,a=n+"}",s=ge(gt(r),function(l){return l+i+ge(gt(r[l]),function(u){return u+":"+r[l][u]+";"}).join(n)+a}).join(n),o=ge(gt(e),function(l){return"@keyframes "+l+i+ge(gt(e[l]),function(u){return u+i+ge(gt(e[l][u]),function(c){var h=e[l][u][c];return c==="d"&&(h='path("'+h+'")'),c+":"+h+";"}).join(n)+a}).join(n)+a}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function XD(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function J3(r,e,t,n){return Tn("svg","root",{width:r,height:e,xmlns:iG,"xmlns:xlink":aG,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+e:!1},t)}var vse=0;function oG(){return vse++}var Q3={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Ef="transform-origin";function gse(r,e,t){var n=he({},r.shape);he(n,e),r.buildPath(t,n);var i=new nG;return i.reset(Gz(r)),t.rebuildPath(i,1),i.generateStr(),i.getStr()}function mse(r,e){var t=e.originX,n=e.originY;(t||n)&&(r[Ef]=t+"px "+n+"px")}var yse={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function lG(r,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=r,t}function xse(r,e,t){var n=r.shape.paths,i={},a,s;if(L(n,function(l){var u=XD(t.zrId);u.animation=!0,l2(l,{},u,!0);var c=u.cssAnims,h=u.cssNodes,f=gt(c),d=f.length;if(d){s=f[d-1];var p=c[s];for(var v in p){var g=p[v];i[v]=i[v]||{d:""},i[v].d+=g.d||""}for(var m in h){var x=h[m].animation;x.indexOf(s)>=0&&(a=x)}}}),!!a){e.d=!1;var o=lG(i,t);return a.replace(s,o)}}function e4(r){return Ae(r)?Q3[r]?"cubic-bezier("+Q3[r]+")":XL(r)?r:"":""}function l2(r,e,t,n){var i=r.animators,a=i.length,s=[];if(r instanceof lP){var o=xse(r,e,t);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],h=[c.getMaxTime()/1e3+"s"],f=e4(c.getClip().easing),d=c.getDelay();f?h.push(f):h.push("linear"),d&&h.push(d/1e3+"s"),c.getLoop()&&h.push("infinite");var p=h.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function v(x){var y=x[1],_=y.length,S={},w={},T={},A="animation-timing-function";function C(ae,re,ie){for(var se=ae.getTracks(),U=ae.getMaxTime(),Oe=0;Oe<se.length;Oe++){var Se=se[Oe];if(Se.needsAnimate()){var Ie=Se.keyframes,we=Se.propName;if(ie&&(we=ie(we)),we)for(var be=0;be<Ie.length;be++){var Fe=Ie[be],st=Math.round(Fe.time/U*100)+"%",pr=e4(Fe.easing),_r=Fe.rawValue;(Ae(_r)||Mt(_r))&&(re[st]=re[st]||{},re[st][we]=Fe.rawValue,pr&&(re[st][A]=pr))}}}}for(var k=0;k<_;k++){var E=y[k],D=E.targetName;D?D==="shape"&&C(E,w):!n&&C(E,S)}for(var I in S){var P={};Xz(P,r),he(P,S[I]);var F=$z(P),V=S[I][A];T[I]=F?{transform:F}:{},mse(T[I],P),V&&(T[I][A]=V)}var z,G=!0;for(var I in w){T[I]=T[I]||{};var O=!z,V=w[I][A];O&&(z=new Sl);var ee=z.len();z.reset(),T[I].d=gse(r,w[I],z);var Q=z.len();if(!O&&ee!==Q){G=!1;break}V&&(T[I][A]=V)}if(!G)for(var I in T)delete T[I].d;if(!n)for(var k=0;k<_;k++){var E=y[k],D=E.targetName;D==="style"&&C(E,T,function(se){return yse[se]})}for(var N=gt(T),Y=!0,W,k=1;k<N.length;k++){var K=N[k-1],ne=N[k];if(T[K][Ef]!==T[ne][Ef]){Y=!1;break}W=T[K][Ef]}if(Y&&W){for(var I in T)T[I][Ef]&&delete T[I][Ef];e[Ef]=W}if(Ot(N,function(ae){return gt(T[ae]).length>0}).length){var fe=lG(T,t);return fe+" "+x[0]+" both"}}for(var g in l){var o=v(l[g]);o&&s.push(o)}if(s.length){var m=t.zrId+"-cls-"+oG();t.cssNodes["."+m]={animation:s.join(",")},e.class=m}}function bse(r,e,t){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};t4(n,e,t)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var s=r.style&&r.style.fill,o=r.states.select&&r.states.select.style&&r.states.select.style.fill,l=r.currentStates.indexOf("select")>=0&&o||s;l&&(a=aD(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&r.transform?r.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),t4(n,e,t)}}function t4(r,e,t,n){var i=JSON.stringify(r),a=t.cssStyleCache[i];a||(a=t.zrId+"-cls-"+oG(),t.cssStyleCache[i]=a,t.cssNodes["."+a+":hover"]=r),e.class=e.class?e.class+" "+a:a}var c1=Math.round;function uG(r){return r&&Ae(r.src)}function cG(r){return r&&Ve(r.toDataURL)}function $P(r,e,t,n){use(function(i,a){var s=i==="fill"||i==="stroke";s&&Hz(a)?fG(e,r,i,n):s&&KL(a)?dG(t,r,i,n):r[i]=a,s&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},e,t,!1),kse(t,r,n)}function UP(r,e){var t=gQ(e);t&&(t.each(function(n,i){n!=null&&(r[(Z3+i).toLowerCase()]=n+"")}),e.isSilent()&&(r[Z3+"silent"]="true"))}function r4(r){return _h(r[0]-1)&&_h(r[1])&&_h(r[2])&&_h(r[3]-1)}function _se(r){return _h(r[4])&&_h(r[5])}function WP(r,e,t){if(e&&!(_se(e)&&r4(e))){var n=1e4;r.transform=r4(e)?"translate("+c1(e[4]*n)/n+" "+c1(e[5]*n)/n+")":BJ(e)}}function n4(r,e,t){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(c1(n[a][0]*t)/t),i.push(c1(n[a][1]*t)/t);e.points=i.join(" ")}function i4(r){return!r.smooth}function wse(r){var e=ge(r,function(t){return typeof t=="string"?[t,t]:t});return function(t,n,i){for(var a=0;a<e.length;a++){var s=e[a],o=t[s[0]];o!=null&&(n[s[1]]=c1(o*i)/i)}}}var Sse={circle:[wse(["cx","cy","r"])],polyline:[n4,i4],polygon:[n4,i4]};function Tse(r){for(var e=r.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function hG(r,e){var t=r.style,n=r.shape,i=Sse[r.type],a={},s=e.animation,o="path",l=r.style.strokePercent,u=e.compress&&Gz(r)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&Tse(r))&&!(l<1)){o=r.type;var c=Math.pow(10,u);i[0](n,a,c)}else{var h=!r.path||r.shapeChanged();r.path||r.createPathProxy();var f=r.path;h&&(f.beginPath(),r.buildPath(f,r.shape),r.pathUpdated());var d=f.getVersion(),p=r,v=p.__svgPathBuilder;(p.__svgPathVersion!==d||!v||l!==p.__svgPathStrokePercent)&&(v||(v=p.__svgPathBuilder=new nG),v.reset(u),f.rebuildPath(v,l),v.generateStr(),p.__svgPathVersion=d,p.__svgPathStrokePercent=l),a.d=v.getStr()}return WP(a,r.transform),$P(a,t,r,e),UP(a,r),e.animation&&l2(r,a,e),e.emphasis&&bse(r,a,e),Tn(o,r.id+"",a)}function Ase(r,e){var t=r.style,n=t.image;if(n&&!Ae(n)&&(uG(n)?n=n.src:cG(n)&&(n=n.toDataURL())),!!n){var i=t.x||0,a=t.y||0,s=t.width,o=t.height,l={href:n,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),WP(l,r.transform),$P(l,t,r,e),UP(l,r),e.animation&&l2(r,l,e),Tn("image",r.id+"",l)}}function Cse(r,e){var t=r.style,n=t.text;if(n!=null&&(n+=""),!(!n||isNaN(t.x)||isNaN(t.y))){var i=t.font||Fh,a=t.x||0,s=zJ(t.y||0,RA(i),t.textBaseline),o=VJ[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(xH(t)){var u="",c=t.fontStyle,h=yH(t.fontSize);if(!parseFloat(h))return;var f=t.fontFamily||mz,d=t.fontWeight;u+="font-size:"+h+";font-family:"+f+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),d&&d!=="normal"&&(u+="font-weight:"+d+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),WP(l,r.transform),$P(l,t,r,e),UP(l,r),e.animation&&l2(r,l,e),Tn("text",r.id+"",l,void 0,n)}}function a4(r,e){if(r instanceof dt)return hG(r,e);if(r instanceof Yn)return Ase(r,e);if(r instanceof pg)return Cse(r,e)}function kse(r,e,t){var n=r.style;if(HJ(n)){var i=GJ(r),a=t.shadowCache,s=a[i];if(!s){var o=r.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var c=n.shadowOffsetX||0,h=n.shadowOffsetY||0,f=n.shadowBlur,d=Zy(n.shadowColor),p=d.opacity,v=d.color,g=f/2/l,m=f/2/u,x=g+" "+m;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=Tn("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Tn("feDropShadow","",{dx:c/l,dy:h/u,stdDeviation:x,"flood-color":v,"flood-opacity":p})]),a[i]=s}e.filter=PA(s)}}function fG(r,e,t,n){var i=r[t],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Vz(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(zz(i))a="radialGradient",s.cx=Je(i.x,.5),s.cy=Je(i.y,.5),s.r=Je(i.r,.5);else return;for(var o=i.colorStops,l=[],u=0,c=o.length;u<c;++u){var h=sD(o[u].offset)*100+"%",f=o[u].color,d=Zy(f),p=d.color,v=d.opacity,g={offset:h};g["stop-color"]=p,v<1&&(g["stop-opacity"]=v),l.push(Tn("stop",u+"",g))}var m=Tn(a,"",s,l),x=GP(m),y=n.gradientCache,_=y[x];_||(_=n.zrId+"-g"+n.gradientIdx++,y[x]=_,s.id=_,n.defs[_]=Tn(a,_,s,l)),e[t]=PA(_)}function dG(r,e,t,n){var i=r.style[t],a=r.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",u=o==="repeat-x",c=o==="repeat-y",h;if(Bz(i)){var f=i.imageWidth,d=i.imageHeight,p=void 0,v=i.image;if(Ae(v)?p=v:uG(v)?p=v.src:cG(v)&&(p=v.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";Qi(f,g),Qi(d,g)}else if(f==null||d==null){var m=function(k,E){if(k){var D=k.elm,I=f||E.width,P=d||E.height;k.tag==="pattern"&&(u?(P=1,I/=a.width):c&&(I=1,P/=a.height)),k.attrs.width=I,k.attrs.height=P,D&&(D.setAttribute("width",I),D.setAttribute("height",P))}},x=eP(p,null,r,function(k){l||m(w,k),m(h,k)});x&&x.width&&x.height&&(f=f||x.width,d=d||x.height)}h=Tn("image","img",{href:p,width:f,height:d}),s.width=f,s.height=d}else i.svgElement&&(h=Ye(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(h){var y,_;l?y=_=1:u?(_=1,y=s.width/a.width):c?(y=1,_=s.height/a.height):s.patternUnits="userSpaceOnUse",y!=null&&!isNaN(y)&&(s.width=y),_!=null&&!isNaN(_)&&(s.height=_);var S=$z(i);S&&(s.patternTransform=S);var w=Tn("pattern","",s,[h]),T=GP(w),A=n.patternCache,C=A[T];C||(C=n.zrId+"-p"+n.patternIdx++,A[T]=C,s.id=C,w=n.defs[C]=Tn("pattern",C,s,[h])),e[t]=PA(C)}}function Ese(r,e,t){var n=t.clipPathCache,i=t.defs,a=n[r.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var s={id:a};n[r.id]=a,i[a]=Tn("clipPath",a,s,[hG(r,t)])}e["clip-path"]=PA(a)}function s4(r){return document.createTextNode(r)}function Vf(r,e,t){r.insertBefore(e,t)}function o4(r,e){r.removeChild(e)}function l4(r,e){r.appendChild(e)}function pG(r){return r.parentNode}function vG(r){return r.nextSibling}function ik(r,e){r.textContent=e}var u4=58,Dse=120,Mse=Tn("","");function KD(r){return r===void 0}function zo(r){return r!==void 0}function Ise(r,e,t){for(var n={},i=e;i<=t;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function $m(r,e){var t=r.key===e.key,n=r.tag===e.tag;return n&&t}function h1(r){var e,t=r.children,n=r.tag;if(zo(n)){var i=r.elm=sG(n);if(YP(Mse,r),ve(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&l4(i,h1(a))}else zo(r.text)&&!Ue(r.text)&&l4(i,s4(r.text))}else r.elm=s4(r.text);return r.elm}function gG(r,e,t,n,i){for(;n<=i;++n){var a=t[n];a!=null&&Vf(r,h1(a),e)}}function pT(r,e,t,n){for(;t<=n;++t){var i=e[t];if(i!=null)if(zo(i.tag)){var a=pG(i.elm);o4(a,i.elm)}else o4(r,i.elm)}}function YP(r,e){var t,n=e.elm,i=r&&r.attrs||{},a=e.attrs||{};if(i!==a){for(t in a){var s=a[t],o=i[t];o!==s&&(s===!0?n.setAttribute(t,""):s===!1?n.removeAttribute(t):t==="style"?n.style.cssText=s:t.charCodeAt(0)!==Dse?n.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?n.setAttributeNS(cse,t,s):t.charCodeAt(3)===u4?n.setAttributeNS(hse,t,s):t.charCodeAt(5)===u4?n.setAttributeNS(aG,t,s):n.setAttribute(t,s))}for(t in i)t in a||n.removeAttribute(t)}}function Lse(r,e,t){for(var n=0,i=0,a=e.length-1,s=e[0],o=e[a],l=t.length-1,u=t[0],c=t[l],h,f,d,p;n<=a&&i<=l;)s==null?s=e[++n]:o==null?o=e[--a]:u==null?u=t[++i]:c==null?c=t[--l]:$m(s,u)?(Sv(s,u),s=e[++n],u=t[++i]):$m(o,c)?(Sv(o,c),o=e[--a],c=t[--l]):$m(s,c)?(Sv(s,c),Vf(r,s.elm,vG(o.elm)),s=e[++n],c=t[--l]):$m(o,u)?(Sv(o,u),Vf(r,o.elm,s.elm),o=e[--a],u=t[++i]):(KD(h)&&(h=Ise(e,n,a)),f=h[u.key],KD(f)?Vf(r,h1(u),s.elm):(d=e[f],d.tag!==u.tag?Vf(r,h1(u),s.elm):(Sv(d,u),e[f]=void 0,Vf(r,d.elm,s.elm))),u=t[++i]);(n<=a||i<=l)&&(n>a?(p=t[l+1]==null?null:t[l+1].elm,gG(r,p,t,i,l)):pT(r,e,n,a))}function Sv(r,e){var t=e.elm=r.elm,n=r.children,i=e.children;r!==e&&(YP(r,e),KD(e.text)?zo(n)&&zo(i)?n!==i&&Lse(t,n,i):zo(i)?(zo(r.text)&&ik(t,""),gG(t,null,i,0,i.length-1)):zo(n)?pT(t,n,0,n.length-1):zo(r.text)&&ik(t,""):r.text!==e.text&&(zo(n)&&pT(t,n,0,n.length-1),ik(t,e.text)))}function Pse(r,e){if($m(r,e))Sv(r,e);else{var t=r.elm,n=pG(t);h1(e),n!==null&&(Vf(n,e.elm,vG(t)),pT(n,[r],0,0))}return e}var Rse=0,Ose=function(){function r(e,t,n){if(this.type="svg",this.refreshHover=c4(),this.configLayer=c4(),this.storage=t,this._opts=n=he({},n),this.root=e,this._id="zr"+Rse++,this._oldVNode=J3(n.width,n.height),e&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=sG("svg");YP(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",Pse(this._oldVNode,e),this._oldVNode=e}},r.prototype.renderOneToVNode=function(e){return a4(e,XD(this._id))},r.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=XD(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=Fse(n,i,this._backgroundColor,a);o&&s.push(o);var l=e.compress?null:this._mainVNode=Tn("g","main",{},[]);this._paintList(t,a,l?l.children:s),l&&s.push(l);var u=ge(gt(a.defs),function(f){return a.defs[f]});if(u.length&&s.push(Tn("defs","defs",{},u)),e.animation){var c=pse(a.cssNodes,a.cssAnims,{newline:!0});if(c){var h=Tn("style","stl",{},[],c);s.push(h)}}return J3(n,i,s,e.useViewBox)},r.prototype.renderToString=function(e){return e=e||{},GP(this.renderToVNode({animation:Je(e.cssAnimation,!0),emphasis:Je(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Je(e.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(e,t,n){for(var i=e.length,a=[],s=0,o,l,u=0,c=0;c<i;c++){var h=e[c];if(!h.invisible){var f=h.__clipPaths,d=f&&f.length||0,p=l&&l.length||0,v=void 0;for(v=Math.max(d-1,p-1);v>=0&&!(f&&l&&f[v]===l[v]);v--);for(var g=p-1;g>v;g--)s--,o=a[s-1];for(var m=v+1;m<d;m++){var x={};Ese(f[m],x,t);var y=Tn("g","clip-g-"+u++,x,[]);(o?o.children:n).push(y),a[s++]=y,o=y}l=f;var _=a4(h,t);_&&(o?o.children:n).push(_)}}},r.prototype.resize=function(e,t){var n=this._opts,i=this.root,a=this._viewport;if(e!=null&&(n.width=e),t!=null&&(n.height=t),i&&a&&(a.style.display="none",e=Bv(i,0,n),t=Bv(i,1,n),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var s=a.style;s.width=e+"px",s.height=t+"px"}if(KL(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=UJ(t),t&&n+"base64,"+t):n+"charset=UTF-8,"+encodeURIComponent(t)},r}();function c4(r){return function(){}}function Fse(r,e,t,n){var i;if(t&&t!=="none")if(i=Tn("rect","bg",{width:r,height:e,x:"0",y:"0"}),Hz(t))fG({fill:t},i.attrs,"fill",n);else if(KL(t))dG({style:{fill:t},dirty:Wr,getBoundingRect:function(){return{width:r,height:e}}},i.attrs,"fill",n);else{var a=Zy(t),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function Nse(r){r.registerPainter("svg",Ose)}function h4(r,e,t){var n=Nh.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*t,n.height=a*t,n}var ak=function(r){te(e,r);function e(t,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||XS,typeof t=="string"?s=h4(t,n,i):Ue(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(Sz(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=h4("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new at(0,0,0,0);function c(x){if(!(!x.isFinite()||x.isZero()))if(s.length===0){var y=new at(0,0,0,0);y.copy(x),s.push(y)}else{for(var _=!1,S=1/0,w=0,T=0;T<s.length;++T){var A=s[T];if(A.intersect(x)){var C=new at(0,0,0,0);C.copy(A),C.union(x),s[T]=C,_=!0;break}else if(l){u.copy(x),u.union(A);var k=x.width*x.height,E=A.width*A.height,D=u.width*u.height,I=D-k-E;I<S&&(S=I,w=T)}}if(l&&(s[w].union(x),_=!0),!_){var y=new at(0,0,0,0);y.copy(x),s.push(y)}l||(l=s.length>=o)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=t[h];if(f){var d=f.shouldBePainted(i,a,!0,!0),p=f.__isRendered&&(f.__dirty&gl||!d)?f.getPrevPaintRect():null;p&&c(p);var v=d&&(f.__dirty&gl||!f.__isRendered)?f.getPaintRect():null;v&&c(v)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=n[h],d=f&&f.shouldBePainted(i,a,!0,!0);if(f&&(!d||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&c(p)}}var g;do{g=!1;for(var h=0;h<s.length;){if(s[h].isZero()){s.splice(h,1);continue}for(var m=h+1;m<s.length;)s[h].intersect(s[m])?(g=!0,s[h].union(s[m]),s.splice(m,1)):m++;h++}}while(g);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,n){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=n+"px"),a.width=t*i,a.height=n*i,o&&(o.width=t*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,n,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,h=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/h,l/h));var d=this.domBack;function p(v,g,m,x){if(s.clearRect(v,g,m,x),n&&n!=="transparent"){var y=void 0;if(MA(n)){var _=n.global||n.__width===m&&n.__height===x;y=_&&n.__canvasGradient||BD(s,n,{x:0,y:0,width:m,height:x}),n.__canvasGradient=y,n.__width=m,n.__height=x}else ZZ(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,y=VD(s,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));s.save(),s.fillStyle=y||n,s.fillRect(v,g,m,x),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(d,v,g,m,x),s.restore())}!i||u?p(0,0,o,l):i.length&&L(i,function(v){p(v.x*h,v.y*h,v.width*h,v.height*h)})},e}(Rs),f4=1e5,Af=314159,G_=.01,Bse=.001;function Vse(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function zse(r,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+r+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Hse=function(){function r(e,t,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=he({},n||{}),this.dpr=n.devicePixelRatio||XS,this._singleCanvas=a,this.root=e;var s=e.style;s&&(Sz(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,h=c.width,f=c.height;n.width!=null&&(h=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var d=new ak(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[Af]=d,d.zlevel=Af,o.push(Af),this._domRoot=e}else{this._width=Bv(e,0,n),this._height=Bv(e,1,n);var u=this._domRoot=zse(this._width,this._height);e.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(f4)),a||(a=n.ctx,a.save()),Jf(a,o,i,s===t-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(f4)},r.prototype.paintOne=function(e,t){e9(e,t)},r.prototype._paintList=function(e,t,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;GS(function(){l._paintList(e,t,n,i)})}}},r.prototype._compositeManually=function(){var e=this.getLayer(Af).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,n)})},r.prototype._doPaintList=function(e,t,n){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,h=!1,f=function(v){var g=a[v],m=g.ctx,x=s&&g.createRepaintRects(e,t,d._width,d._height),y=n?g.__startIndex:g.__drawIndex,_=!n&&g.incremental&&Date.now,S=_&&Date.now(),w=g.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,w,x);else if(y===g.__startIndex){var T=e[y];(!T.incremental||!T.notClear||n)&&g.clear(!1,w,x)}y===-1&&(console.error("For some unknown reason. drawIndex is -1"),y=g.__startIndex);var A,C=function(I){var P={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(A=y;A<g.__endIndex;A++){var F=e[A];if(F.__inHover&&(h=!0),i._doPaintEl(F,g,s,I,P,A===g.__endIndex-1),_){var V=Date.now()-S;if(V>15)break}}P.prevElClipPaths&&m.restore()};if(x)if(x.length===0)A=g.__endIndex;else for(var k=d.dpr,E=0;E<x.length;++E){var D=x[E];m.save(),m.beginPath(),m.rect(D.x*k,D.y*k,D.width*k,D.height*k),m.clip(),C(D),m.restore()}else m.save(),C(),m.restore();g.__drawIndex=A,g.__drawIndex<g.__endIndex&&(c=!1)},d=this,p=0;p<a.length;p++)f(p);return pt.wxa&&L(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:c,needsRefreshHover:h}},r.prototype._doPaintEl=function(e,t,n,i,a,s){var o=t.ctx;if(n){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Jf(o,e,a,s),e.setPrevPaintRect(l))}else Jf(o,e,a,s)},r.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Af);var n=this._layers[e];return n||(n=new ak("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?tt(n,this._layerConfig[e],!0):this._layerConfig[e-G_]&&tt(n,this._layerConfig[e-G_],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},r.prototype.insertLayer=function(e,t){var n=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!n[e]&&Vse(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=n[i[l]]}if(i.splice(l+1,0,e),n[e]=t,!t.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},r.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];e.call(t,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},r.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function t(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var i=e[n];if(i.zlevel!==e[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,c=void 0;o!==u&&(o=u,s=0),i.incremental?(c=this.getLayer(u+Bse,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?G_:0),this._needsManuallyCompositing),c.__builtin__||zL("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),i.__dirty&gl&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(e){e.clear()},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e,L(this._layers,function(t){t.setUnpainted()})},r.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?tt(n[e],t,!0):n[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+G_){var s=this._layers[a];tt(s,n[e],!0)}}}},r.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(lt(n,e),1))},r.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=Bv(a,0,i),t=Bv(a,1,i),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Af).resize(e,t)}return this},r.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Af].dom;var t=new ak("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];Jf(n,c,s,l===u-1)}return t.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function Gse(r){r.registerPainter("canvas",Hse)}var $se=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return sc(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new Ke,i=Qr("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=t.itemHeight*.8,u=Qr(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?s:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(lr);function xg(r,e){var t=r.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var i=gg(r,e,t[0]);return i!=null?i+"":null}else if(n){for(var a=[],s=0;s<t.length;s++)a.push(gg(r,e,t[s]));return a.join(" ")}}function mG(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!ve(e))return e+"";for(var n=[],i=0;i<t.length;i++){var a=r.getDimensionIndex(t[i]);a>=0&&n.push(e[a])}return n.join(" ")}var Rb=function(r){te(e,r);function e(t,n,i,a){var s=r.call(this)||this;return s.updateData(t,n,i,a),s}return e.prototype._createSymbol=function(t,n,i,a,s){this.removeAll();var o=Qr(t,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=Use,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){ju(this.childAt(0))},e.prototype.downplay=function(){qu(this.childAt(0))},e.prototype.setZ=function(t,n){var i=this.childAt(0);i.zlevel=t,i.z=n},e.prototype.setDraggable=function(t,n){var i=this.childAt(0);i.draggable=t,i.cursor=!n&&t?"move":i.cursor},e.prototype.updateData=function(t,n,i,a){this.silent=!1;var s=t.getItemVisual(n,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,n),u=s!==this._symbolType,c=a&&a.disableAnimation;if(u){var h=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,t,n,l,h)}else{var f=this.childAt(0);f.silent=!1;var d={scaleX:l[0]/2,scaleY:l[1]/2};c?f.attr(d):It(f,d,o,n),bo(f)}if(this._updateCommon(t,n,l,i,a),u){var f=this.childAt(0);if(!c){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,gr(f,d,o,n)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,i,a,s){var o=this.childAt(0),l=t.hostModel,u,c,h,f,d,p,v,g,m;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,d=a.blurScope,v=a.labelStatesModels,g=a.hoverScale,m=a.cursorStyle,p=a.emphasisDisabled),!a||t.hasItemOption){var x=a&&a.itemModel?a.itemModel:t.getItemModel(n),y=x.getModel("emphasis");u=y.getModel("itemStyle").getItemStyle(),h=x.getModel(["select","itemStyle"]).getItemStyle(),c=x.getModel(["blur","itemStyle"]).getItemStyle(),f=y.get("focus"),d=y.get("blurScope"),p=y.get("disabled"),v=Mn(x),g=y.getShallow("scale"),m=x.getShallow("cursor")}var _=t.getItemVisual(n,"symbolRotate");o.attr("rotation",(_||0)*Math.PI/180||0);var S=Fp(t.getItemVisual(n,"symbolOffset"),i);S&&(o.x=S[0],o.y=S[1]),m&&o.attr("cursor",m);var w=t.getItemVisual(n,"style"),T=w.fill;if(o instanceof Yn){var A=o.style;o.useStyle(he({image:A.image,x:A.x,y:A.y,width:A.width,height:A.height},w))}else o.__isEmptyBrush?o.useStyle(he({},w)):o.useStyle(w),o.style.decal=null,o.setColor(T,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var C=t.getItemVisual(n,"liftZ"),k=this._z2;C!=null?k==null&&(this._z2=o.z2,o.z2+=C):k!=null&&(o.z2=k,this._z2=null);var E=s&&s.useNameLabel;ci(o,v,{labelFetcher:l,labelDataIndex:n,defaultText:D,inheritColor:T,defaultOpacity:w.opacity});function D(F){return E?t.getName(F):xg(t,F)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var I=o.ensureState("emphasis");I.style=u,o.ensureState("select").style=h,o.ensureState("blur").style=c;var P=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;I.scaleX=this._sizeX*P,I.scaleY=this._sizeY*P,this.setSymbolScale(1),Tr(this,f,d,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,i){var a=this.childAt(0),s=je(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&Vh(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Vh(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,n){return Vg(t.getItemVisual(n,"symbolSize"))},e}(Ke);function Use(r,e){this.parent.drift(r,e)}function sk(r,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function d4(r){return r!=null&&!Ue(r)&&(r={isIgnore:r}),r||{}}function p4(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Mn(e),cursorStyle:e.get("cursor")}}var Ob=function(){function r(e){this.group=new Ke,this._SymbolCtor=e||Rb}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=d4(t);var n=this.group,i=e.hostModel,a=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=p4(e),u={disableAnimation:o},c=t.getSymbolPoint||function(h){return e.getItemLayout(h)};a||n.removeAll(),e.diff(a).add(function(h){var f=c(h);if(sk(e,f,h,t)){var d=new s(e,h,l,u);d.setPosition(f),e.setItemGraphicEl(h,d),n.add(d)}}).update(function(h,f){var d=a.getItemGraphicEl(f),p=c(h);if(!sk(e,p,h,t)){n.remove(d);return}var v=e.getItemVisual(h,"symbol")||"circle",g=d&&d.getSymbolType&&d.getSymbolType();if(!d||g&&g!==v)n.remove(d),d=new s(e,h,l,u),d.setPosition(p);else{d.updateData(e,h,l,u);var m={x:p[0],y:p[1]};o?d.attr(m):It(d,m,i)}n.add(d),e.setItemGraphicEl(h,d)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},i)}).execute(),this._getSymbolPoint=c,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,i){var a=e._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=p4(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,n){this._progressiveEls=[],n=d4(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=t.getItemLayout(a);if(sk(t,s,a,n)){var o=new this._SymbolCtor(t,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},r.prototype.eachRendered=function(e){Zh(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},n.hostModel)}):t.removeAll()},r}();function yG(r,e,t){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=Wse(i,t),s=n.dim,o=i.dim,l=e.mapDimension(o),u=e.mapDimension(s),c=o==="x"||o==="radius"?1:0,h=ge(r.dimensions,function(p){return e.mapDimension(p)}),f=!1,d=e.getCalculationInfo("stackResultDimension");return Hh(e,h[0])&&(f=!0,h[0]=d),Hh(e,h[1])&&(f=!0,h[1]=d),{dataDimsForPoint:h,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Wse(r,e){var t=0,n=r.scale.getExtent();return e==="start"?t=n[0]:e==="end"?t=n[1]:Mt(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function xG(r,e,t,n){var i=NaN;r.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,s=[];return s[a]=t.get(r.baseDim,n),s[1-a]=i,e.dataToPoint(s)}function Yse(r,e){var t=[];return e.diff(r).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,i){t.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function Xse(r,e,t,n,i,a,s,o){for(var l=Yse(r,e),u=[],c=[],h=[],f=[],d=[],p=[],v=[],g=yG(i,e,s),m=r.getLayout("points")||[],x=e.getLayout("points")||[],y=0;y<l.length;y++){var _=l[y],S=!0,w=void 0,T=void 0;switch(_.cmd){case"=":w=_.idx*2,T=_.idx1*2;var A=m[w],C=m[w+1],k=x[T],E=x[T+1];(isNaN(A)||isNaN(C))&&(A=k,C=E),u.push(A,C),c.push(k,E),h.push(t[w],t[w+1]),f.push(n[T],n[T+1]),v.push(e.getRawIndex(_.idx1));break;case"+":var D=_.idx,I=g.dataDimsForPoint,P=i.dataToPoint([e.get(I[0],D),e.get(I[1],D)]);T=D*2,u.push(P[0],P[1]),c.push(x[T],x[T+1]);var F=xG(g,i,e,D);h.push(F[0],F[1]),f.push(n[T],n[T+1]),v.push(e.getRawIndex(D));break;case"-":S=!1}S&&(d.push(_),p.push(p.length))}p.sort(function(K,ne){return v[K]-v[ne]});for(var V=u.length,z=dl(V),G=dl(V),O=dl(V),ee=dl(V),Q=[],y=0;y<p.length;y++){var N=p[y],Y=y*2,W=N*2;z[Y]=u[W],z[Y+1]=u[W+1],G[Y]=c[W],G[Y+1]=c[W+1],O[Y]=h[W],O[Y+1]=h[W+1],ee[Y]=f[W],ee[Y+1]=f[W+1],Q[y]=d[N]}return{current:z,next:G,stackedOnCurrent:O,stackedOnNext:ee,status:Q}}var gc=Math.min,mc=Math.max;function pp(r,e){return isNaN(r)||isNaN(e)}function jD(r,e,t,n,i,a,s,o,l){for(var u,c,h,f,d,p,v=t,g=0;g<n;g++){var m=e[v*2],x=e[v*2+1];if(v>=i||v<0)break;if(pp(m,x)){if(l){v+=a;continue}break}if(v===t)r[a>0?"moveTo":"lineTo"](m,x),h=m,f=x;else{var y=m-u,_=x-c;if(y*y+_*_<.5){v+=a;continue}if(s>0){for(var S=v+a,w=e[S*2],T=e[S*2+1];w===m&&T===x&&g<n;)g++,S+=a,v+=a,w=e[S*2],T=e[S*2+1],m=e[v*2],x=e[v*2+1],y=m-u,_=x-c;var A=g+1;if(l)for(;pp(w,T)&&A<n;)A++,S+=a,w=e[S*2],T=e[S*2+1];var C=.5,k=0,E=0,D=void 0,I=void 0;if(A>=n||pp(w,T))d=m,p=x;else{k=w-u,E=T-c;var P=m-u,F=w-m,V=x-c,z=T-x,G=void 0,O=void 0;if(o==="x"){G=Math.abs(P),O=Math.abs(F);var ee=k>0?1:-1;d=m-ee*G*s,p=x,D=m+ee*O*s,I=x}else if(o==="y"){G=Math.abs(V),O=Math.abs(z);var Q=E>0?1:-1;d=m,p=x-Q*G*s,D=m,I=x+Q*O*s}else G=Math.sqrt(P*P+V*V),O=Math.sqrt(F*F+z*z),C=O/(O+G),d=m-k*s*(1-C),p=x-E*s*(1-C),D=m+k*s*C,I=x+E*s*C,D=gc(D,mc(w,m)),I=gc(I,mc(T,x)),D=mc(D,gc(w,m)),I=mc(I,gc(T,x)),k=D-m,E=I-x,d=m-k*G/O,p=x-E*G/O,d=gc(d,mc(u,m)),p=gc(p,mc(c,x)),d=mc(d,gc(u,m)),p=mc(p,gc(c,x)),k=m-d,E=x-p,D=m+k*O/G,I=x+E*O/G}r.bezierCurveTo(h,f,d,p,m,x),h=D,f=I}else r.lineTo(m,x)}u=m,c=x,v+=a}return g}var bG=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),Kse=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new bG},e.prototype.buildPath=function(t,n){var i=n.points,a=0,s=i.length/2;if(n.connectNulls){for(;s>0&&pp(i[s*2-2],i[s*2-1]);s--);for(;a<s&&pp(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=jD(t,i,a,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=Sl.CMD,o,l,u=n==="x",c=[],h=0;h<a.length;){var f=a[h++],d=void 0,p=void 0,v=void 0,g=void 0,m=void 0,x=void 0,y=void 0;switch(f){case s.M:o=a[h++],l=a[h++];break;case s.L:if(d=a[h++],p=a[h++],y=u?(t-o)/(d-o):(t-l)/(p-l),y<=1&&y>=0){var _=u?(p-l)*y+l:(d-o)*y+o;return u?[t,_]:[_,t]}o=d,l=p;break;case s.C:d=a[h++],p=a[h++],v=a[h++],g=a[h++],m=a[h++],x=a[h++];var S=u?$S(o,d,v,m,t,c):$S(l,p,g,x,t,c);if(S>0)for(var w=0;w<S;w++){var T=c[w];if(T<=1&&T>=0){var _=u?wn(l,p,g,x,T):wn(o,d,v,m,T);return u?[t,_]:[_,t]}}o=m,l=x;break}}},e}(dt),jse=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(bG),_G=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new jse},e.prototype.buildPath=function(t,n){var i=n.points,a=n.stackedOnPoints,s=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&pp(i[o*2-2],i[o*2-1]);o--);for(;s<o&&pp(i[s*2],i[s*2+1]);s++);}for(;s<o;){var u=jD(t,i,s,o,o,1,n.smooth,l,n.connectNulls);jD(t,a,s+u-1,u,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=u+1,t.closePath()}},e}(dt);function wG(r,e,t,n,i){var a=r.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var h=new Tt({shape:{x:s,y:o,width:l,height:u}});if(e){var f=r.getBaseAxis(),d=f.isHorizontal(),p=f.inverse;d?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=u),h.shape.height=0);var v=Ve(i)?function(g){i(g,h)}:null;gr(h,{shape:{width:l,height:u,x:s,y:o}},t,null,n,v)}return h}function SG(r,e,t){var n=r.getArea(),i=Hr(n.r0,1),a=Hr(n.r,1),s=new ta({shape:{cx:Hr(r.cx,1),cy:Hr(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var o=r.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=i,gr(s,{shape:{endAngle:n.endAngle,r:a}},t)}return s}function Fb(r,e,t,n,i){if(r){if(r.type==="polar")return SG(r,e,t);if(r.type==="cartesian2d")return wG(r,e,t,n,i)}else return null;return null}function Bp(r,e){return r.type===e}function v4(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function g4(r){for(var e=1/0,t=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var s=r[a++],o=r[a++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(o)||(t=Math.min(o,t),i=Math.max(o,i))}return[[e,t],[n,i]]}function m4(r,e){var t=g4(r),n=t[0],i=t[1],a=g4(e),s=a[0],o=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function y4(r){return Mt(r)?r:r?.5:0}function qse(r,e,t){if(!t.valueDim)return[];for(var n=e.count(),i=dl(n*2),a=0;a<n;a++){var s=xG(t,r,e,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function yc(r,e,t,n,i){var a=t.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,u=[],c=[],h=[],f=[];if(i){for(l=0;l<r.length;l+=2){var d=e||r;!isNaN(d[l])&&!isNaN(d[l+1])&&f.push(r[l],r[l+1])}r=f}for(l=0;l<r.length-2;l+=2)switch(h[0]=r[l+2],h[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],o.push(c[0],c[1]),n){case"end":u[s]=h[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var p=(c[s]+h[s])/2,v=[];u[s]=v[s]=p,u[1-s]=c[1-s],v[1-s]=h[1-s],o.push(u[0],u[1]),o.push(v[0],v[1]);break;default:u[s]=c[s],u[1-s]=h[1-s],o.push(u[0],u[1])}return o.push(r[l++],r[l++]),o}function Zse(r,e){var t=[],n=r.length,i,a;function s(c,h,f){var d=c.coord,p=(f-d)/(h.coord-d),v=FJ(p,[c.color,h.color]);return{coord:f,color:v}}for(var o=0;o<n;o++){var l=r[o],u=l.coord;if(u<0)i=l;else if(u>e){a?t.push(s(a,l,e)):i&&t.push(s(i,l,0),s(i,l,e));break}else i&&(t.push(s(i,l,0)),i=null),t.push(l),a=l}return t}function Jse(r,e,t){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&e.type==="cartesian2d"){for(var i,a,s=n.length-1;s>=0;s--){var o=r.getDimensionInfo(n[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=n[s];break}}if(a){var l=e.getAxis(i),u=ge(a.stops,function(y){return{coord:l.toGlobalCoord(l.dataToCoord(y.value)),color:y.color}}),c=u.length,h=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var f=Zse(u,i==="x"?t.getWidth():t.getHeight()),d=f.length;if(!d&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var p=10,v=f[0].coord-p,g=f[d-1].coord+p,m=g-v;if(m<.001)return"transparent";L(f,function(y){y.offset=(y.coord-v)/m}),f.push({offset:d?f[d-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:d?f[0].offset:.5,color:h[0]||"transparent"});var x=new kb(0,0,0,0,f,!0);return x[i]=v,x[i+"2"]=g,x}}}function Qse(r,e,t){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(i&&eoe(a,e))){var s=e.mapDimension(a.dim),o={};return L(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function eoe(r,e){var t=r.getExtent(),n=Math.abs(t[1]-t[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(Rb.getSymbolSize(e,s)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function toe(r,e){return isNaN(r)||isNaN(e)}function roe(r){for(var e=r.length/2;e>0&&toe(r[e*2-2],r[e*2-1]);e--);return e-1}function x4(r,e){return[r[e*2],r[e*2+1]]}function noe(r,e,t){for(var n=r.length/2,i=t==="x"?0:1,a,s,o=0,l=-1,u=0;u<n;u++)if(s=r[u*2+i],!(isNaN(s)||isNaN(r[u*2+1-i]))){if(u===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){l=u;break}o=u,a=s}return{range:[o,l],t:(e-a)/(s-a)}}function TG(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<ea.length;e++)if(r.get([ea[e],"endLabel","show"]))return!0;return!1}function ok(r,e,t,n){if(Bp(e,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=TG(n)?function(d,p){r._endLabelOnDuring(d,p,s,o,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=wG(e,t,n,function(){var d=r._endLabel;d&&t&&o.originalX!=null&&d.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);u?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return l&&l(1,c),c}else return SG(e,t,n)}function ioe(r,e){var t=e.getBaseAxis(),n=t.isHorizontal(),i=t.inverse,a=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||s}}}var aoe=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new Ke,n=new Ob;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=Ee(this._changePolyState,this)},e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=o.getLayout("points")||[],h=a.type==="polar",f=this._coordSys,d=this._symbolDraw,p=this._polyline,v=this._polygon,g=this._lineGroup,m=!n.ssr&&t.get("animation"),x=!u.isEmpty(),y=u.get("origin"),_=yG(a,o,y),S=x&&qse(a,o,_),w=t.get("showSymbol"),T=t.get("connectNulls"),A=w&&!h&&Qse(t,o,a),C=this._data;C&&C.eachItemGraphicEl(function(K,ne){K.__temp&&(s.remove(K),C.setItemGraphicEl(ne,null))}),w||d.remove(),s.add(g);var k=h?!1:t.get("step"),E;a&&a.getArea&&t.get("clip",!0)&&(E=a.getArea(),E.width!=null?(E.x-=.1,E.y-=.1,E.width+=.2,E.height+=.2):E.r0&&(E.r0-=.5,E.r+=.5)),this._clipShapeForSymbol=E;var D=Jse(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(p&&f.type===a.type&&k===this._step))w&&d.updateData(o,{isIgnore:A,clipShape:E,disableAnimation:!0,getSymbolPoint:function(K){return[c[K*2],c[K*2+1]]}}),m&&this._initSymbolLabelAnimation(o,a,E),k&&(S&&(S=yc(S,c,a,k,T)),c=yc(c,null,a,k,T)),p=this._newPolyline(c),x?v=this._newPolygon(c,S):v&&(g.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,Sp(D)),g.setClipPath(ok(this,a,!0,t));else{x&&!v?v=this._newPolygon(c,S):v&&!x&&(g.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(t,a,Sp(D));var I=g.getClipPath();if(I){var P=ok(this,a,!1,t);gr(I,{shape:P.shape},t)}else g.setClipPath(ok(this,a,!0,t));w&&d.updateData(o,{isIgnore:A,clipShape:E,disableAnimation:!0,getSymbolPoint:function(K){return[c[K*2],c[K*2+1]]}}),(!v4(this._stackedOnPoints,S)||!v4(this._points,c))&&(m?this._doUpdateAnimation(o,S,a,i,k,y,T):(k&&(S&&(S=yc(S,c,a,k,T)),c=yc(c,null,a,k,T)),p.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:S})))}var F=t.getModel("emphasis"),V=F.get("focus"),z=F.get("blurScope"),G=F.get("disabled");if(p.useStyle(ze(l.getLineStyle(),{fill:"none",stroke:D,lineJoin:"bevel"})),ui(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var O=p.getState("emphasis").style;O.lineWidth=+p.style.lineWidth+1}je(p).seriesIndex=t.seriesIndex,Tr(p,V,z,G);var ee=y4(t.get("smooth")),Q=t.get("smoothMonotone");if(p.setShape({smooth:ee,smoothMonotone:Q,connectNulls:T}),v){var N=o.getCalculationInfo("stackedOnSeries"),Y=0;v.useStyle(ze(u.getAreaStyle(),{fill:D,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),N&&(Y=y4(N.get("smooth"))),v.setShape({smooth:ee,stackedOnSmooth:Y,smoothMonotone:Q,connectNulls:T}),ui(v,t,"areaStyle"),je(v).seriesIndex=t.seriesIndex,Tr(v,V,z,G)}var W=this._changePolyState;o.eachItemGraphicEl(function(K){K&&(K.onHoverStateChange=W)}),this._polyline.onHoverStateChange=W,this._data=o,this._coordSys=a,this._stackedOnPoints=S,this._points=c,this._step=k,this._valueOrigin=y,t.get("triggerLineEvent")&&(this.packEventData(t,p),v&&this.packEventData(t,v))},e.prototype.packEventData=function(t,n){je(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,i,a){var s=t.getData(),o=bp(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],h=l[o*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=t.get("zlevel")||0,d=t.get("z")||0;u=new Rb(s,o),u.x=c,u.y=h,u.setZ(f,d);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=d,p.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else tr.prototype.highlight.call(this,t,n,i,a)},e.prototype.downplay=function(t,n,i,a){var s=t.getData(),o=bp(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else tr.prototype.downplay.call(this,t,n,i,a)},e.prototype._changePolyState=function(t){var n=this._polygon;qS(this._polyline,t),n&&qS(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new Kse({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new _G({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,n,i){var a,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):n.type==="polar"&&(a=o.dim==="angle",s=!0);var u=t.hostModel,c=u.get("animationDuration");Ve(c)&&(c=c(null));var h=u.get("animationDelay")||0,f=Ve(h)?h(null):h;t.eachItemGraphicEl(function(d,p){var v=d;if(v){var g=[d.x,d.y],m=void 0,x=void 0,y=void 0;if(i)if(s){var _=i,S=n.pointToCoord(g);a?(m=_.startAngle,x=_.endAngle,y=-S[1]/180*Math.PI):(m=_.r0,x=_.r,y=S[0])}else{var w=i;a?(m=w.x,x=w.x+w.width,y=d.x):(m=w.y+w.height,x=w.y,y=d.y)}var T=x===m?0:(y-m)/(x-m);l&&(T=1-T);var A=Ve(h)?h(p):c*T+f,C=v.getSymbolPath(),k=C.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),k&&k.animateFrom({style:{opacity:0}},{duration:300,delay:A}),C.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,i){var a=t.getModel("endLabel");if(TG(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Et({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=roe(l);c>=0&&(ci(o,Mn(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(h,f,d){return d!=null?mG(s,d):xg(s,h)},enableTextSetter:!0},ioe(a,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,i,a,s,o,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var h=i.getLayout("points"),f=i.hostModel,d=f.get("connectNulls"),p=o.get("precision"),v=o.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),x=g.inverse,y=n.shape,_=x?m?y.x:y.y+y.height:m?y.x+y.width:y.y,S=(m?v:0)*(x?-1:1),w=(m?0:-v)*(x?-1:1),T=m?"x":"y",A=noe(h,_,T),C=A.range,k=C[1]-C[0],E=void 0;if(k>=1){if(k>1&&!d){var D=x4(h,C[0]);u.attr({x:D[0]+S,y:D[1]+w}),s&&(E=f.getRawValue(C[0]))}else{var D=c.getPointOn(_,T);D&&u.attr({x:D[0]+S,y:D[1]+w});var I=f.getRawValue(C[0]),P=f.getRawValue(C[1]);s&&(E=lH(i,p,I,P,A.t))}a.lastFrameIndex=C[0]}else{var F=t===1||a.lastFrameIndex>0?C[0]:0,D=x4(h,F);s&&(E=f.getRawValue(F)),u.attr({x:D[0]+S,y:D[1]+w})}if(s){var V=Lg(u);typeof V.setLabelText=="function"&&V.setLabelText(E)}}},e.prototype._doUpdateAnimation=function(t,n,i,a,s,o,l){var u=this._polyline,c=this._polygon,h=t.hostModel,f=Xse(this._data,t,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),d=f.current,p=f.stackedOnCurrent,v=f.next,g=f.stackedOnNext;if(s&&(p=yc(f.stackedOnCurrent,f.current,i,s,l),d=yc(f.current,null,i,s,l),g=yc(f.stackedOnNext,f.next,i,s,l),v=yc(f.next,null,i,s,l)),m4(d,v)>3e3||c&&m4(p,g)>3e3){u.stopAnimation(),u.setShape({points:v}),c&&(c.stopAnimation(),c.setShape({points:v,stackedOnPoints:g}));return}u.shape.__points=f.current,u.shape.points=d;var m={shape:{points:v}};f.current!==d&&(m.shape.__points=f.next),u.stopAnimation(),It(u,m,h),c&&(c.setShape({points:d,stackedOnPoints:p}),c.stopAnimation(),It(c,{shape:{stackedOnPoints:g}},h),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var x=[],y=f.status,_=0;_<y.length;_++){var S=y[_].cmd;if(S==="="){var w=t.getItemGraphicEl(y[_].idx1);w&&x.push({el:w,ptIdx:_})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var T=u.shape.__points,A=0;A<x.length;A++){var C=x[A].el,k=x[A].ptIdx*2;C.x=T[k],C.y=T[k+1],C.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(n.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(tr);function Nb(r,e){return{seriesType:r,plan:Ng(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,a=t.pipelineContext,s=e||a.large;if(i){var o=ge(i.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),l=o.length,u=n.getCalculationInfo("stackResultDimension");Hh(n,o[0])&&(o[0]=u),Hh(n,o[1])&&(o[1]=u);var c=n.getStore(),h=n.getDimensionIndex(o[0]),f=n.getDimensionIndex(o[1]);return l&&{progress:function(d,p){for(var v=d.end-d.start,g=s&&dl(v*l),m=[],x=[],y=d.start,_=0;y<d.end;y++){var S=void 0;if(l===1){var w=c.get(h,y);S=i.dataToPoint(w,null,x)}else m[0]=c.get(h,y),m[1]=c.get(f,y),S=i.dataToPoint(m,null,x);s?(g[_++]=S[0],g[_++]=S[1]):p.setItemLayout(y,S.slice())}s&&p.setLayout("points",g)}}}}}}var soe={average:function(r){for(var e=0,t=0,n=0;n<r.length;n++)isNaN(r[n])||(e+=r[n],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},ooe=function(r){return Math.round(r.length/2)};function AG(r){return{seriesType:r,reset:function(e,t,n){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),d=Math.round(o/f);if(isFinite(d)&&d>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/d)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/d));var p=void 0;Ae(a)?p=soe[a]:Ve(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(u.dim),1/d,p,ooe))}}}}}function loe(r){r.registerChartView(aoe),r.registerSeriesModel($se),r.registerLayout(Nb("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,AG("line"))}var f1=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return sc(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(i)L(a.getAxes(),function(f,d){if(f.type==="category"&&n!=null){var p=f.getTicksCoords(),v=f.getTickModel().get("alignWithLabel"),g=s[d],m=n[d]==="x1"||n[d]==="y1";if(m&&!v&&(g+=1),p.length<2)return;if(p.length===2){o[d]=f.toGlobalCoord(f.getExtent()[m?1:0]);return}for(var x=void 0,y=void 0,_=1,S=0;S<p.length;S++){var w=p[S].coord,T=S===p.length-1?p[S-1].tickValue+_:p[S].tickValue;if(T===g){y=w;break}else if(T<g)x=w;else if(x!=null&&T>g){y=(w+x)/2;break}S===1&&(_=T-p[0].tickValue)}y==null&&(x?x&&(y=p[p.length-1].coord):y=p[0].coord),o[d]=f.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;o[h]+=u+c/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(lr);lr.registerClass(f1);var uoe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return sc(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},e.prototype.brushSelector=function(t,n,i){return i.rect(n.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Jh(f1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(f1),coe=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),vT=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new coe},e.prototype.buildPath=function(t,n){var i=n.cx,a=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,u=s+l,c=n.startAngle,h=n.endAngle,f=n.clockwise,d=Math.PI*2,p=f?h-c<d:c-h<d;p||(c=h-(f?d:-d));var v=Math.cos(c),g=Math.sin(c),m=Math.cos(h),x=Math.sin(h);p?(t.moveTo(v*s+i,g*s+a),t.arc(v*u+i,g*u+a,l,-Math.PI+c,c,!f)):t.moveTo(v*o+i,g*o+a),t.arc(i,a,o,c,h,!f),t.arc(m*u+i,x*u+a,l,h-Math.PI*2,h-Math.PI,!f),s!==0&&t.arc(i,a,s,h,c,f)},e}(dt);function hoe(r,e){e=e||{};var t=e.isRoundCap;return function(n,i,a){var s=i.position;if(!s||s instanceof Array)return KS(n,i,a);var o=r(s),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,h=u.cy,f=u.r,d=u.r0,p=(f+d)/2,v=u.startAngle,g=u.endAngle,m=(v+g)/2,x=t?Math.abs(f-d)/2:0,y=Math.cos,_=Math.sin,S=c+f*y(v),w=h+f*_(v),T="left",A="top";switch(o){case"startArc":S=c+(d-l)*y(m),w=h+(d-l)*_(m),T="center",A="top";break;case"insideStartArc":S=c+(d+l)*y(m),w=h+(d+l)*_(m),T="center",A="bottom";break;case"startAngle":S=c+p*y(v)+$_(v,l+x,!1),w=h+p*_(v)+U_(v,l+x,!1),T="right",A="middle";break;case"insideStartAngle":S=c+p*y(v)+$_(v,-l+x,!1),w=h+p*_(v)+U_(v,-l+x,!1),T="left",A="middle";break;case"middle":S=c+p*y(m),w=h+p*_(m),T="center",A="middle";break;case"endArc":S=c+(f+l)*y(m),w=h+(f+l)*_(m),T="center",A="bottom";break;case"insideEndArc":S=c+(f-l)*y(m),w=h+(f-l)*_(m),T="center",A="top";break;case"endAngle":S=c+p*y(g)+$_(g,l+x,!0),w=h+p*_(g)+U_(g,l+x,!0),T="left",A="middle";break;case"insideEndAngle":S=c+p*y(g)+$_(g,-l+x,!0),w=h+p*_(g)+U_(g,-l+x,!0),T="right",A="middle";break;default:return KS(n,i,a)}return n=n||{},n.x=S,n.y=w,n.align=T,n.verticalAlign=A,n}}function foe(r,e,t,n){if(Mt(n)){r.setTextConfig({rotation:n});return}else if(ve(e)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function $_(r,e,t){return e*Math.sin(r)*(t?-1:1)}function U_(r,e,t){return e*Math.cos(r)*(t?1:-1)}function Qf(r,e,t){var n=r.get("borderRadius");if(n==null)return t?{cornerRadius:0}:null;ve(n)||(n=[n,n,n,n]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:ge(n,function(a){return xo(a,i)})}}var lk=Math.max,uk=Math.min;function doe(r,e){var t=r.getArea&&r.getArea();if(Bp(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=e.getLayout("bandWidth");n.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var poe=function(r){te(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,n,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,i):this._renderNormal(t,n,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t,n,i,a){var s=this.group,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),h;u.type==="cartesian2d"?h=c.isHorizontal():u.type==="polar"&&(h=c.dim==="angle");var f=t.isAnimationEnabled()?t:null,d=voe(t,u);d&&this._enableRealtimeSort(d,o,i);var p=t.get("clip",!0)||d,v=doe(u,o);s.removeClipPath();var g=t.get("roundCap",!0),m=t.get("showBackground",!0),x=t.getModel("backgroundStyle"),y=x.get("borderRadius")||0,_=[],S=this._backgroundEls,w=a&&a.isInitSort,T=a&&a.type==="changeAxisOrder";function A(E){var D=W_[u.type](o,E),I=woe(u,h,D);return I.useStyle(x.getItemStyle()),u.type==="cartesian2d"?I.setShape("r",y):I.setShape("cornerRadius",y),_[E]=I,I}o.diff(l).add(function(E){var D=o.getItemModel(E),I=W_[u.type](o,E,D);if(m&&A(E),!(!o.hasValue(E)||!T4[u.type](I))){var P=!1;p&&(P=b4[u.type](v,I));var F=_4[u.type](t,o,E,I,h,f,c.model,!1,g);d&&(F.forceLabelAnimation=!0),A4(F,o,E,D,I,t,h,u.type==="polar"),w?F.attr({shape:I}):d?w4(d,f,F,I,E,h,!1,!1):gr(F,{shape:I},t,E),o.setItemGraphicEl(E,F),s.add(F),F.ignore=P}}).update(function(E,D){var I=o.getItemModel(E),P=W_[u.type](o,E,I);if(m){var F=void 0;S.length===0?F=A(D):(F=S[D],F.useStyle(x.getItemStyle()),u.type==="cartesian2d"?F.setShape("r",y):F.setShape("cornerRadius",y),_[E]=F);var V=W_[u.type](o,E),z=kG(h,V,u);It(F,{shape:z},f,E)}var G=l.getItemGraphicEl(D);if(!o.hasValue(E)||!T4[u.type](P)){s.remove(G);return}var O=!1;if(p&&(O=b4[u.type](v,P),O&&s.remove(G)),G?bo(G):G=_4[u.type](t,o,E,P,h,f,c.model,!!G,g),d&&(G.forceLabelAnimation=!0),T){var ee=G.getTextContent();if(ee){var Q=Lg(ee);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else A4(G,o,E,I,P,t,h,u.type==="polar");w?G.attr({shape:P}):d?w4(d,f,G,P,E,h,!0,T):It(G,{shape:P},t,E,null),o.setItemGraphicEl(E,G),G.ignore=O,s.add(G)}).remove(function(E){var D=l.getItemGraphicEl(E);D&&r1(D,t,E)}).execute();var C=this._backgroundGroup||(this._backgroundGroup=new Ke);C.removeAll();for(var k=0;k<_.length;++k)C.add(_[k]);s.add(C),this._backgroundEls=_,this._data=o},e.prototype._renderLarge=function(t,n,i){this._clear(),k4(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),k4(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&Fb(t.coordinateSystem,!1,t),i=this.group;n?i.setClipPath(n):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,n,i){var a=this;if(n.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,i),this._isFirstFrame=!1;else{var o=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,n,i){var a=[];return t.each(t.mapDimension(n.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:ge(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,n,i){for(var a=i.scale,s=t.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),h=c<0?Number.MIN_VALUE:n(t.indexOfRawIndex(c));if(h>o)return!0;o=h}return!1},e.prototype._isOrderDifferentInView=function(t,n){for(var i=n.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,n,i,a){if(this._isOrderChangedWithinSameData(t,n,i)){var s=this._dataSort(t,i,n);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,n,i){var a=n.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var n=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){r1(a,t,je(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(tr),b4={cartesian2d:function(r,e){var t=e.width<0?-1:1,n=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var i=r.x+r.width,a=r.y+r.height,s=lk(e.x,r.x),o=uk(e.x+e.width,i),l=lk(e.y,r.y),u=uk(e.y+e.height,a),c=o<s,h=u<l;return e.x=c&&s>i?o:s,e.y=h&&l>a?u:l,e.width=c?0:o-s,e.height=h?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}var i=uk(e.r,r.r),a=lk(e.r0,r.r0);e.r=i,e.r0=a;var s=i-a<0;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}return s}},_4={cartesian2d:function(r,e,t,n,i,a,s,o,l){var u=new Tt({shape:he({},n),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,h=i?"height":"width";c[h]=0}return u},polar:function(r,e,t,n,i,a,s,o,l){var u=!i&&l?vT:ta,c=new u({shape:n,z2:1});c.name="item";var h=CG(i);if(c.calculateTextPosition=hoe(h,{isRoundCap:u===vT}),a){var f=c.shape,d=i?"r":"endAngle",p={};f[d]=i?n.r0:n.startAngle,p[d]=n[d],(o?It:gr)(c,{shape:p},a)}return c}};function voe(r,e){var t=r.get("realtimeSort",!0),n=e.getBaseAxis();if(t&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function w4(r,e,t,n,i,a,s,o){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?It:gr)(t,{shape:l},e,i,null);var c=e?r.baseAxis.model:null;(s?It:gr)(t,{shape:u},c,i)}function S4(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var goe=["x","y","width","height"],moe=["cx","cy","r","startAngle","endAngle"],T4={cartesian2d:function(r){return!S4(r,goe)},polar:function(r){return!S4(r,moe)}},W_={cartesian2d:function(r,e,t){var n=r.getItemLayout(e),i=t?xoe(t,n):0,a=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+s*i/2,width:n.width-a*i,height:n.height-s*i}},polar:function(r,e,t){var n=r.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function yoe(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function CG(r){return function(e){var t=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}}(r)}function A4(r,e,t,n,i,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var c=r.shape,h=Qf(n.getModel("itemStyle"),c,!0);he(c,h),r.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var f=n.getShallow("cursor");f&&r.attr("cursor",f);var d=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=Mn(n);ci(r,p,{labelFetcher:a,labelDataIndex:t,defaultText:xg(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var v=r.getTextContent();if(o&&v){var g=n.get(["label","position"]);r.textConfig.inside=g==="middle"?!0:null,foe(r,g==="outside"?d:g,CG(s),n.get(["label","rotate"]))}WH(v,p,a.getRawValue(t),function(x){return mG(e,x)});var m=n.getModel(["emphasis"]);Tr(r,m.get("focus"),m.get("blurScope"),m.get("disabled")),ui(r,n),yoe(i)&&(r.style.fill="none",r.style.stroke="none",L(r.states,function(x){x.style&&(x.style.fill=x.style.stroke="none")}))}function xoe(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,a)}var boe=function(){function r(){}return r}(),C4=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new boe},e.prototype.buildPath=function(t,n){for(var i=n.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[s]=i[c+2],o[a]=i[c+a],o[s]=i[c+s],t.rect(o[0],o[1],l[0],l[1])},e}(dt);function k4(r,e,t,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new C4({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var h=new C4({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=s,h.barWidth=o,e.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,je(h).seriesIndex=r.seriesIndex,r.get("silent")||(h.on("mousedown",E4),h.on("mousemove",E4)),t&&t.push(h)}var E4=CP(function(r){var e=this,t=_oe(e,r.offsetX,r.offsetY);je(e).dataIndex=t>=0?t:null},30,!1);function _oe(r,e,t){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,s=r.largeDataIndices,o=[],l=[],u=r.barWidth,c=0,h=a.length/3;c<h;c++){var f=c*3;if(l[n]=u,l[i]=a[f+2],o[n]=a[f+n],o[i]=a[f+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[c]}return-1}function kG(r,e,t){if(Bp(t,"cartesian2d")){var n=e,i=t.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function woe(r,e,t){var n=r.type==="polar"?ta:Tt;return new n({shape:kG(e,t,r),silent:!0,z2:0})}function Soe(r){r.registerChartView(poe),r.registerSeriesModel(uoe),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Qe(L9,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,P9("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,AG("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var D4=Math.PI*2,Y_=Math.PI/180;function EG(r,e){return vn(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function DG(r,e){var t=EG(r,e),n=r.get("center"),i=r.get("radius");ve(i)||(i=[0,i]);var a=_e(t.width,e.getWidth()),s=_e(t.height,e.getHeight()),o=Math.min(a,s),l=_e(i[0],o/2),u=_e(i[1],o/2),c,h,f=r.coordinateSystem;if(f){var d=f.dataToPoint(n);c=d[0]||0,h=d[1]||0}else ve(n)||(n=[n,n]),c=_e(n[0],a)+t.x,h=_e(n[1],s)+t.y;return{cx:c,cy:h,r0:l,r:u}}function Toe(r,e,t){e.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),s=EG(n,t),o=DG(n,t),l=o.cx,u=o.cy,c=o.r,h=o.r0,f=-n.get("startAngle")*Y_,d=n.get("endAngle"),p=n.get("padAngle")*Y_;d=d==="auto"?f-D4:-d*Y_;var v=n.get("minAngle")*Y_,g=v+p,m=0;i.each(a,function(z){!isNaN(z)&&m++});var x=i.getSum(a),y=Math.PI/(x||m)*2,_=n.get("clockwise"),S=n.get("roseType"),w=n.get("stillShowZeroSum"),T=i.getDataExtent(a);T[0]=0;var A=_?1:-1,C=[f,d],k=A*p/2;tP(C,!_),f=C[0],d=C[1];var E=MG(n);E.startAngle=f,E.endAngle=d,E.clockwise=_;var D=Math.abs(d-f),I=D,P=0,F=f;if(i.setLayout({viewRect:s,r:c}),i.each(a,function(z,G){var O;if(isNaN(z)){i.setItemLayout(G,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:l,cy:u,r0:h,r:S?NaN:c});return}S!=="area"?O=x===0&&w?y:z*y:O=D/m,O<g?(O=g,I-=g):P+=z;var ee=F+A*O,Q=0,N=0;p>O?(Q=F+A*O/2,N=Q):(Q=F+k,N=ee-k),i.setItemLayout(G,{angle:O,startAngle:Q,endAngle:N,clockwise:_,cx:l,cy:u,r0:h,r:S?zt(z,T,[h,c]):c}),F=ee}),I<D4&&m)if(I<=.001){var V=D/m;i.each(a,function(z,G){if(!isNaN(z)){var O=i.getItemLayout(G);O.angle=V;var ee=0,Q=0;V<p?(ee=f+A*(G+1/2)*V,Q=ee):(ee=f+A*G*V+k,Q=f+A*(G+1)*V-k),O.startAngle=ee,O.endAngle=Q}})}else y=I/P,F=f,i.each(a,function(z,G){if(!isNaN(z)){var O=i.getItemLayout(G),ee=O.angle===g?g:z*y,Q=0,N=0;ee<p?(Q=F+A*ee/2,N=Q):(Q=F+k,N=F+A*ee-k),O.startAngle=Q,O.endAngle=N,F+=A*ee}})})}var MG=At();function Bb(r){return{seriesType:r,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var Aoe=Math.PI/180;function M4(r,e,t,n,i,a,s,o,l,u){if(r.length<2)return;function c(v){for(var g=v.rB,m=g*g,x=0;x<v.list.length;x++){var y=v.list[x],_=Math.abs(y.label.y-t),S=n+y.len,w=S*S,T=Math.sqrt(Math.abs((1-_*_/m)*w)),A=e+(T+y.len2)*i,C=A-y.label.x,k=y.targetTextWidth-C*i;IG(y,k,!0),y.label.x=A}}function h(v){for(var g={list:[],maxY:0},m={list:[],maxY:0},x=0;x<v.length;x++)if(v[x].labelAlignTo==="none"){var y=v[x],_=y.label.y>t?m:g,S=Math.abs(y.label.y-t);if(S>=_.maxY){var w=y.label.x-e-y.len2*i,T=n+y.len,A=Math.abs(w)<T?Math.sqrt(S*S/(1-w*w/T/T)):T;_.rB=A,_.maxY=S}_.list.push(y)}c(g),c(m)}for(var f=r.length,d=0;d<f;d++)if(r[d].position==="outer"&&r[d].labelAlignTo==="labelLine"){var p=r[d].label.x-u;r[d].linePoints[1][0]+=p,r[d].label.x=u}eG(r,l,l+s)&&h(r)}function Coe(r,e,t,n,i,a,s,o){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<r.length;f++){var d=r[f].label;ck(r[f])||(d.x<e?(c=Math.min(c,d.x),l.push(r[f])):(h=Math.max(h,d.x),u.push(r[f])))}for(var f=0;f<r.length;f++){var p=r[f];if(!ck(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var d=p.label,v=p.linePoints,g=void 0;p.labelAlignTo==="edge"?d.x<e?g=v[2][0]-p.labelDistance-s-p.edgeDistance:g=s+i-p.edgeDistance-v[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?d.x<e?g=c-s-p.bleedMargin:g=s+i-h-p.bleedMargin:d.x<e?g=d.x-s-p.bleedMargin:g=s+i-d.x-p.bleedMargin,p.targetTextWidth=g,IG(p,g)}}M4(u,e,t,n,1,i,a,s,o,h),M4(l,e,t,n,-1,i,a,s,o,c);for(var f=0;f<r.length;f++){var p=r[f];if(!ck(p)&&p.linePoints){var d=p.label,v=p.linePoints,m=p.labelAlignTo==="edge",x=d.style.padding,y=x?x[1]+x[3]:0,_=d.style.backgroundColor?0:y,S=p.rect.width+_,w=v[1][0]-v[2][0];m?d.x<e?v[2][0]=s+p.edgeDistance+S+p.labelDistance:v[2][0]=s+i-p.edgeDistance-S-p.labelDistance:(d.x<e?v[2][0]=d.x+p.labelDistance:v[2][0]=d.x-p.labelDistance,v[1][0]=v[2][0]+w),v[1][1]=v[2][1]=d.y}}}function IG(r,e,t){if(t===void 0&&(t=!1),r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,u=i.overflow,c=a.width+(s?0:l);if(e<c||t){var h=a.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",s)}else{var d=e-l,p=e<c?d:t?d>r.unconstrainedWidth?null:d:null;n.setStyle("width",p)}var v=n.getBoundingRect();a.width=v.width;var g=(n.style.margin||0)+2.1;a.height=v.height+g,a.y-=(a.height-h)/2}}}function ck(r){return r.position==="center"}function koe(r){var e=r.getData(),t=[],n,i,a=!1,s=(r.get("minShowLabelAngle")||0)*Aoe,o=e.getLayout("viewRect"),l=e.getLayout("r"),u=o.width,c=o.x,h=o.y,f=o.height;function d(w){w.ignore=!0}function p(w){if(!w.ignore)return!0;for(var T in w.states)if(w.states[T].ignore===!1)return!0;return!1}e.each(function(w){var T=e.getItemGraphicEl(w),A=T.shape,C=T.getTextContent(),k=T.getTextGuideLine(),E=e.getItemModel(w),D=E.getModel("label"),I=D.get("position")||E.get(["emphasis","label","position"]),P=D.get("distanceToLabelLine"),F=D.get("alignTo"),V=_e(D.get("edgeDistance"),u),z=D.get("bleedMargin"),G=E.getModel("labelLine"),O=G.get("length");O=_e(O,u);var ee=G.get("length2");if(ee=_e(ee,u),Math.abs(A.endAngle-A.startAngle)<s){L(C.states,d),C.ignore=!0,k&&(L(k.states,d),k.ignore=!0);return}if(p(C)){var Q=(A.startAngle+A.endAngle)/2,N=Math.cos(Q),Y=Math.sin(Q),W,K,ne,fe;n=A.cx,i=A.cy;var ae=I==="inside"||I==="inner";if(I==="center")W=A.cx,K=A.cy,fe="center";else{var re=(ae?(A.r+A.r0)/2*N:A.r*N)+n,ie=(ae?(A.r+A.r0)/2*Y:A.r*Y)+i;if(W=re+N*3,K=ie+Y*3,!ae){var se=re+N*(O+l-A.r),U=ie+Y*(O+l-A.r),Oe=se+(N<0?-1:1)*ee,Se=U;F==="edge"?W=N<0?c+V:c+u-V:W=Oe+(N<0?-P:P),K=Se,ne=[[re,ie],[se,U],[Oe,Se]]}fe=ae?"center":F==="edge"?N>0?"right":"left":N>0?"left":"right"}var Ie=Math.PI,we=0,be=D.get("rotate");if(Mt(be))we=be*(Ie/180);else if(I==="center")we=0;else if(be==="radial"||be===!0){var Fe=N<0?-Q+Ie:-Q;we=Fe}else if(be==="tangential"&&I!=="outside"&&I!=="outer"){var st=Math.atan2(N,Y);st<0&&(st=Ie*2+st);var pr=Y>0;pr&&(st=Ie+st),we=st-Ie}if(a=!!we,C.x=W,C.y=K,C.rotation=we,C.setStyle({verticalAlign:"middle"}),ae){C.setStyle({align:fe});var Ln=C.states.select;Ln&&(Ln.x+=C.x,Ln.y+=C.y)}else{var _r=C.getBoundingRect().clone();_r.applyTransform(C.getComputedTransform());var gn=(C.style.margin||0)+2.1;_r.y-=gn/2,_r.height+=gn,t.push({label:C,labelLine:k,position:I,len:O,len2:ee,minTurnAngle:G.get("minTurnAngle"),maxSurfaceAngle:G.get("maxSurfaceAngle"),surfaceNormal:new nt(N,Y),linePoints:ne,textAlign:fe,labelDistance:P,labelAlignTo:F,edgeDistance:V,bleedMargin:z,rect:_r,unconstrainedWidth:_r.width,labelStyleWidth:C.style.width})}T.setTextConfig({inside:ae})}}),!a&&r.get("avoidLabelOverlap")&&Coe(t,n,i,l,u,f,c,h);for(var v=0;v<t.length;v++){var g=t[v],m=g.label,x=g.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),y&&(L(m.states,d),m.ignore=!0);var _=m.states.select;_&&(_.x+=m.x,_.y+=m.y)}if(x){var S=g.linePoints;y||!S?(L(x.states,d),x.ignore=!0):(Z9(S,g.minTurnAngle),qae(S,g.surfaceNormal,g.maxSurfaceAngle),x.setShape({points:S}),m.__hostTarget.textGuideLineConfig={anchor:new nt(S[0][0],S[0][1])})}}}var Eoe=function(r){te(e,r);function e(t,n,i){var a=r.call(this)||this;a.z2=2;var s=new Et;return a.setTextContent(s),a.updateData(t,n,i,!0),a}return e.prototype.updateData=function(t,n,i,a){var s=this,o=t.hostModel,l=t.getItemModel(n),u=l.getModel("emphasis"),c=t.getItemLayout(n),h=he(Qf(l.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle)){s.setShape(h);return}if(a){s.setShape(h);var f=o.getShallow("animationType");o.ecModel.ssr?(gr(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=h.cx,s.originY=h.cy):f==="scale"?(s.shape.r=c.r0,gr(s,{shape:{r:c.r}},o,n)):i!=null?(s.setShape({startAngle:i,endAngle:i}),gr(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,n)):(s.shape.endAngle=c.startAngle,It(s,{shape:{endAngle:c.endAngle}},o,n))}else bo(s),It(s,{shape:h},o,n);s.useStyle(t.getItemVisual(n,"style")),ui(s,l);var d=(c.startAngle+c.endAngle)/2,p=o.get("selectedOffset"),v=Math.cos(d)*p,g=Math.sin(d)*p,m=l.getShallow("cursor");m&&s.attr("cursor",m),this._updateLabel(o,t,n),s.ensureState("emphasis").shape=he({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Qf(u.getModel("itemStyle"),c)),he(s.ensureState("select"),{x:v,y:g,shape:Qf(l.getModel(["select","itemStyle"]),c)}),he(s.ensureState("blur"),{shape:Qf(l.getModel(["blur","itemStyle"]),c)});var x=s.getTextGuideLine(),y=s.getTextContent();x&&he(x.ensureState("select"),{x:v,y:g}),he(y.ensureState("select"),{x:v,y:g}),Tr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n,i){var a=this,s=n.getItemModel(i),o=s.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;ci(a,Mn(s),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(i,"normal")||n.getName(i)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new aa,this.setTextGuideLine(d)),VP(this,zP(s),{stroke:u,opacity:vl(o.get(["lineStyle","opacity"]),c,1)})}},e}(ta),Doe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i,a){var s=t.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<s.count();++h)c=s.getItemLayout(h);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var f=MG(t),d=new ta({shape:he(DG(t,i),f)});d.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}s.diff(o).add(function(p){var v=new Eoe(s,p,u);s.setItemGraphicEl(p,v),l.add(v)}).update(function(p,v){var g=o.getItemGraphicEl(v);g.updateData(s,p,u),g.off("click"),l.add(g),s.setItemGraphicEl(p,g)}).remove(function(p){var v=o.getItemGraphicEl(p);r1(v,t,p)}).execute(),koe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e}(tr);function Hg(r,e,t){e=ve(e)&&{coordDimensions:e}||he({encodeDefine:r.getEncode()},e);var n=r.getSource(),i=Lb(n,e).dimensions,a=new ji(i,r);return a.initData(n,t),a}var Vb=function(){function r(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return r.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},r.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},r.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},r.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)},r}(),Moe=At(),Ioe=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Vb(Ee(this.getData,this),Ee(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Hg(this,{coordDimensions:["value"],encodeDefaulter:Qe(yP,this)})},e.prototype.getDataParams=function(t){var n=this.getData(),i=Moe(n),a=i.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=i.seats=_Q(s,n.hostModel.get("percentPrecision"))}var o=r.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){xp(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(lr);function Loe(r){return{seriesType:r,reset:function(e,t){var n=e.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),s=n.get(a,i);return!(Mt(s)&&!isNaN(s)&&s<0)})}}}function Poe(r){r.registerChartView(Doe),r.registerSeriesModel(Ioe),Z7("pie",r.registerAction),r.registerLayout(Qe(Toe,"pie")),r.registerProcessor(Bb("pie")),r.registerProcessor(Loe("pie"))}var Roe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return sc(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(lr),LG=4,Ooe=function(){function r(){}return r}(),Foe=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new Ooe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,n){var i=n.points,a=n.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<LG,c=this.softClipShape,h;if(u){this._ctx=l;return}for(this._ctx=null,h=this._off;h<i.length;){var f=i[h++],d=i[h++];isNaN(f)||isNaN(d)||c&&!c.contain(f,d)||(o.x=f-a[0]/2,o.y=d-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=h,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,n=t.points,i=t.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<n.length;){var l=n[o++],u=n[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,n){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,h=a[c]-o/2,f=a[c+1]-l/2;if(t>=h&&n>=f&&t<=h+o&&n<=f+l)return u}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.points,a=n.size,s=a[0],o=a[1],l=1/0,u=1/0,c=-1/0,h=-1/0,f=0;f<i.length;){var d=i[f++],p=i[f++];l=Math.min(d,l),c=Math.max(d,c),u=Math.min(p,u),h=Math.max(p,h)}t=this._rect=new at(l-s/2,u-o/2,c-l+s,h-u+o)}return t},e}(dt),Noe=function(){function r(){this.group=new Ke}return r.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},r.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;t=new Float32Array(t.buffer,a,i)}n.setShape("points",t),n.reset()})},r.prototype.incrementalPrepareUpdate=function(e){this._clear()},r.prototype.incrementalUpdate=function(e,t,n){var i=this._newAdded[0],a=t.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,n)}},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new Foe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;n=n||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=n.clipShape||null,e.symbolProxy=Qr(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<LG;e.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var u=je(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var h=e.hoverDataIdx;h>=0&&(u.dataIndex=h+(e.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),Boe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateSymbolDraw(a,t);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},e.prototype.updateTransform=function(t,n,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=Nb("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,n){var i=this._symbolDraw,a=n.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new Noe:new Ob,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(tr),Voe=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(vt),qD=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Jr).models[0]},e.type="cartesian2dAxis",e}(vt);tn(qD,Pb);var PG={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},zoe=tt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},PG),XP=tt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},PG),Hoe=tt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},XP),Goe=ze({logBase:10},XP);const RG={category:zoe,value:XP,time:Hoe,log:Goe};var $oe={value:1,category:1,time:1,log:1};function bg(r,e,t,n){L($oe,function(i,a){var s=tt(tt({},RG[a],!0),n,!0),o=function(l){te(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,h){var f=i1(this),d=f?Og(c):{},p=h.getTheme();tt(c,p.get(a+"Axis")),tt(c,this.getDefaultOption()),c.type=I4(c),f&&zh(c,d,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=$D.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+a,u.defaultOption=s,u}(t);r.registerComponentModel(o)}),r.registerSubTypeDefaulter(e+"Axis",I4)}function I4(r){return r.type||(r.data?"category":"value")}var Uoe=function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return ge(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ot(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r}(),ZD=["x","y"];function L4(r){return r.type==="interval"||r.type==="time"}var Woe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=ZD,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!L4(t)||!L4(n))){var i=t.getExtent(),a=n.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,h=(o[1]-s[1])/u,f=s[0]-i[0]*c,d=s[1]-a[0]*h,p=this._transform=[c,0,0,h,f,d];this._invTransform=Eg([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var i=this.dataToPoint(t),a=this.dataToPoint(n),s=this.getArea(),o=new at(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,n,i){i=i||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return ai(i,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(s,n)),i},e.prototype.clampData=function(t,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(t[0]),u=a.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n},e.prototype.pointToData=function(t,n){var i=[];if(this._invTransform)return ai(i,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),n),i[1]=s.coordToData(s.toLocalCoord(t[1]),n),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-t,s=Math.min(i[0],i[1])-t,o=Math.max(n[0],n[1])-a+t,l=Math.max(i[0],i[1])-s+t;return new at(a,s,o,l)},e}(Uoe),Yoe=function(r){te(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Ao);function JD(r,e,t){t=t||{};var n=r.coordinateSystem,i=e.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,u=i.dim,c=n.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p=u==="x"?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(s){var v=s.toGlobalCoord(s.dataToCoord(0));p[f.onZero]=Math.max(Math.min(v,p[1]),p[0])}a.position=[u==="y"?p[f[l]]:h[0],u==="x"?p[f[l]]:h[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[o],a.labelOffset=s?p[f[o]]-p[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),Un(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var m=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-m:m,a.z2=1,a}function P4(r){return r.get("coordinateSystem")==="cartesian2d"}function R4(r){var e={xAxisModel:null,yAxisModel:null};return L(e,function(t,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,Jr).models[0];e[n]=a}),e}var hk=Math.log;function OG(r,e,t){var n=Ju.prototype,i=n.getTicks.call(t),a=n.getTicks.call(t,!0),s=i.length-1,o=n.getInterval.call(t),l=B9(r,e),u=l.extent,c=l.fixMin,h=l.fixMax;if(r.type==="log"){var f=hk(r.base);u=[hk(u[0])/f,hk(u[1])/f]}r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:h});var d=n.getExtent.call(r);c&&(u[0]=d[0]),h&&(u[1]=d[1]);var p=n.getInterval.call(r),v=u[0],g=u[1];if(c&&h)p=(g-v)/s;else if(c)for(g=u[0]+p*s;g<u[1]&&isFinite(g)&&isFinite(u[1]);)p=qC(p),g=u[0]+p*s;else if(h)for(v=u[1]-p*s;v>u[0]&&isFinite(v)&&isFinite(u[0]);)p=qC(p),v=u[1]-p*s;else{var m=r.getTicks().length-1;m>s&&(p=qC(p));var x=p*s;g=Math.ceil(u[1]/p)*p,v=Hr(g-x),v<0&&u[0]>=0?(v=0,g=Hr(x)):g>0&&u[1]<=0&&(g=0,v=-Hr(x))}var y=(i[0].value-a[0].value)/o,_=(i[s].value-a[s].value)/o;n.setExtent.call(r,v+p*y,g+p*_),n.setInterval.call(r,p),(y||_)&&n.setNiceExtent.call(r,v+p,g-p)}var Xoe=function(){function r(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ZD,this._initCartesian(e,t,n),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=gt(s),u=l.length;if(u){for(var c=[],h=u-1;h>=0;h--){var f=+l[h],d=s[f],p=d.model,v=d.scale;UD(v)&&p.get("alignTicks")&&p.get("interval")==null?c.push(d):(yg(v,p),UD(v)&&(o=d))}c.length&&(o||(o=c.pop(),yg(o.scale,o.model)),L(c,function(g){OG(g.scale,g.model,o.scale)}))}}i(n.x),i(n.y);var a={};L(n.x,function(s){O4(n,"y",s,a)}),L(n.y,function(s){O4(n,"x",s,a)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),s=vn(i,{width:t.getWidth(),height:t.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(L(o,function(u){if(!u.model.get(["axisLabel","inside"])){var c=kae(u);if(c){var h=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);s[h]-=c[h]+f,u.position==="top"?s.y+=c.height+f:u.position==="left"&&(s.x+=c.width+f)}}}),l()),L(this._coordsList,function(u){u.calcAffineTransform()});function l(){L(o,function(u){var c=u.isHorizontal(),h=c?[0,s.width]:[0,s.height],f=u.inverse?1:0;u.setExtent(h[f],h[1-f]),Koe(u,c?s.x:s.y)})}},r.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}Ue(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",Jr).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",Jr).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,lt(s,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,n){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,L(o.x,function(c,h){L(o.y,function(f,d){var p="x"+h+"y"+d,v=new Woe(p);v.master=i,v.model=e,i._coordsMap[p]=v,i._coordsList.push(v),v.addAxis(c),v.addAxis(f)})});function u(c){return function(h,f){if(fk(h,e)){var d=h.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=s.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=s.left?"right":"left"),s[d]=!0;var p=new Yoe(c,o2(h),[0,0],h.get("type"),d),v=p.type==="category";p.onBand=v&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=a,p.index=f,a._axesList.push(p),o[c][f]=p,l[c]++}}}},r.prototype._updateScale=function(e,t){L(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(P4(i)){var a=R4(i),s=a.xAxisModel,o=a.yAxisModel;if(!fk(s,t)||!fk(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=i.getData(),c=l.getAxis("x"),h=l.getAxis("y");n(u,c),n(u,h)}},this);function n(i,a){L(hT(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},r.prototype.getTooltipAxes=function(e){var t=[],n=[];return L(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);lt(t,a)<0&&t.push(a),lt(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}},r.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,a){var s=new r(i,e,t);s.name="grid_"+a,s.resize(i,t,!0),i.coordinateSystem=s,n.push(s)}),e.eachSeries(function(i){if(P4(i)){var a=R4(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(s.componentIndex,o.componentIndex)}}),n},r.dimensions=ZD,r}();function fk(r,e){return r.getCoordSysModel()===e}function O4(r,e,t,n){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)F4(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&F4(i[u])&&!n[c(i[u])]){a=i[u];break}a&&(n[c(a)]=!0);function c(h){return h.dim+"_"+h.index}}function F4(r){return r&&r.type!=="category"&&r.type!=="time"&&Cae(r)}function Koe(r,e){var t=r.getExtent(),n=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+e}:function(i){return n-i+e},r.toLocalCoord=r.dim==="x"?function(i){return i-e}:function(i){return n-i+e}}var wh=Math.PI,qi=function(){function r(e,t){this.group=new Ke,this.opt=t,this.axisModel=e,ze(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Ke({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return r.prototype.hasBuilder=function(e){return!!N4[e]},r.prototype.add=function(e){N4[e](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(e,t,n){var i=Jz(t-e),a,s;return Jy(i)?(s=n>0?"top":"bottom",a="center"):Jy(i-wh)?(s=n>0?"bottom":"top",a="center"):(s="middle",i>0&&i<wh?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r}(),N4={axisLine:function(r,e,t,n){var i=e.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),s=n.transform,o=[a[0],0],l=[a[1],0],u=o[0]>l[0];s&&(ai(o,o,s),ai(l,l,s));var c=he({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Sn({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});vg(h.shape,h.style.lineWidth),h.anid="line",t.add(h);var f=e.get(["axisLine","symbol"]);if(f!=null){var d=e.get(["axisLine","symbolSize"]);Ae(f)&&(f=[f,f]),(Ae(d)||Mt(d))&&(d=[d,d]);var p=Fp(e.get(["axisLine","symbolOffset"])||0,d),v=d[0],g=d[1];L([{rotate:r.rotation+Math.PI/2,offset:p[0],r:0},{rotate:r.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(m,x){if(f[x]!=="none"&&f[x]!=null){var y=Qr(f[x],-v/2,-g/2,v,g,c.stroke,!0),_=m.r+m.offset,S=u?l:o;y.attr({rotation:m.rotate,x:S[0]+_*Math.cos(r.rotation),y:S[1]-_*Math.sin(r.rotation),silent:!0,z2:11}),t.add(y)}})}}},axisTickLabel:function(r,e,t,n){var i=Zoe(t,n,e,r),a=Qoe(t,n,e,r);if(qoe(e,a,i),Joe(t,n,e,r.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=J9(ge(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));tG(s)}},axisName:function(r,e,t,n){var i=Un(r.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),s=r.nameDirection,o=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,h=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,V4(a)?r.labelOffset+s*l:0],f,d=e.get("nameRotate");d!=null&&(d=d*wh/180);var p;V4(a)?f=qi.innerTextLayout(r.rotation,d??r.rotation,s):(f=joe(r.rotation,a,d||0,u),p=r.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var v=o.getFont(),g=e.get("nameTruncate",!0)||{},m=g.ellipsis,x=Un(r.nameTruncateMaxWidth,g.maxWidth,p),y=new Et({x:h[0],y:h[1],rotation:f.rotation,silent:qi.isLabelSilent(e),style:or(o,{text:i,font:v,overflow:"truncate",width:x,ellipsis:m,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Rp({el:y,componentModel:e,itemName:i}),y.__fullText=i,y.anid="name",e.get("triggerEvent")){var _=qi.makeAxisEventDataBase(e);_.targetType="axisName",_.name=i,je(y).eventData=_}n.add(y),y.updateTransform(),t.add(y),y.decomposeTransform()}}};function joe(r,e,t,n){var i=Jz(t-r),a,s,o=n[0]>n[1],l=e==="start"&&!o||e!=="start"&&o;return Jy(i-wh/2)?(s=l?"bottom":"top",a="center"):Jy(i-wh*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<wh*1.5&&i>wh/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function qoe(r,e,t){if(!V9(r.axis)){var n=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],s=e[1],o=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],h=t[t.length-1],f=t[t.length-2];n===!1?(Qa(a),Qa(u)):B4(a,s)&&(n?(Qa(s),Qa(c)):(Qa(a),Qa(u))),i===!1?(Qa(o),Qa(h)):B4(l,o)&&(i?(Qa(l),Qa(f)):(Qa(o),Qa(h)))}}function Qa(r){r&&(r.ignore=!0)}function B4(r,e){var t=r&&r.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(!(!t||!n)){var i=LA([]);return Pp(i,i,-r.rotation),t.applyTransform(Nu([],i,r.getLocalTransform())),n.applyTransform(Nu([],i,e.getLocalTransform())),t.intersect(n)}}function V4(r){return r==="middle"||r==="center"}function FG(r,e,t,n,i){for(var a=[],s=[],o=[],l=0;l<r.length;l++){var u=r[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=t,e&&(ai(s,s,e),ai(o,o,e));var c=new Sn({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});vg(c.shape,c.style.lineWidth),c.anid=i+"_"+r[l].tickValue,a.push(c)}return a}function Zoe(r,e,t,n){var i=t.axis,a=t.getModel("axisTick"),s=a.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=i.getTicksCoords(),c=FG(u,e.transform,l,ze(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)r.add(c[h]);return c}}function Joe(r,e,t,n){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=n*a.get("length"),u=ze(o.getLineStyle(),ze(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var h=FG(s[c],e.transform,l,u,"minorticks_"+c),f=0;f<h.length;f++)r.add(h[f])}}function Qoe(r,e,t,n){var i=t.axis,a=Un(n.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=t.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),u=(Un(n.labelRotate,s.get("rotate"))||0)*wh/180,c=qi.innerTextLayout(n.rotation,u,n.labelDirection),h=t.getCategories&&t.getCategories(!0),f=[],d=qi.isLabelSilent(t),p=t.get("triggerEvent");return L(l,function(v,g){var m=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,x=v.formattedLabel,y=v.rawLabel,_=s;if(h&&h[m]){var S=h[m];Ue(S)&&S.textStyle&&(_=new Gt(S.textStyle,s,t.ecModel))}var w=_.getTextColor()||t.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(m),A=_.getShallow("align",!0)||c.textAlign,C=Je(_.getShallow("alignMinLabel",!0),A),k=Je(_.getShallow("alignMaxLabel",!0),A),E=_.getShallow("verticalAlign",!0)||_.getShallow("baseline",!0)||c.textVerticalAlign,D=Je(_.getShallow("verticalAlignMinLabel",!0),E),I=Je(_.getShallow("verticalAlignMaxLabel",!0),E),P=new Et({x:T,y:n.labelOffset+n.labelDirection*o,rotation:c.rotation,silent:d,z2:10+(v.level||0),style:or(_,{text:x,align:g===0?C:g===l.length-1?k:A,verticalAlign:g===0?D:g===l.length-1?I:E,fill:Ve(w)?w(i.type==="category"?y:i.type==="value"?m+"":m,g):w})});if(P.anid="label_"+m,Rp({el:P,componentModel:t,itemName:x,formatterParamsExtra:{isTruncated:function(){return P.isTruncated},value:y,tickIndex:g}}),p){var F=qi.makeAxisEventDataBase(t);F.targetType="axisLabel",F.value=y,F.tickIndex=g,i.type==="category"&&(F.dataIndex=m),je(P).eventData=F}e.add(P),P.updateTransform(),f.push(P),r.add(P),P.decomposeTransform()}),f}}function ele(r,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return tle(t,r,e),t.seriesInvolved&&nle(t,r),t}function tle(r,e,t){var n=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];L(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=d1(o.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=o;var c=o.model,h=c.getModel("tooltip",n);if(L(o.getAxes(),Qe(v,!1,null)),o.getTooltipAxes&&n&&h.get("show")){var f=h.get("trigger")==="axis",d=h.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(h.get(["axisPointer","axis"]));(f||d)&&L(p.baseAxes,Qe(v,d?"cross":!0,f)),d&&L(p.otherAxes,Qe(v,"cross",!1))}function v(g,m,x){var y=x.model.getModel("axisPointer",i),_=y.get("show");if(!(!_||_==="auto"&&!g&&!QD(y))){m==null&&(m=y.get("triggerTooltip")),y=g?rle(x,h,i,e,g,m):y;var S=y.get("snap"),w=y.get("triggerEmphasis"),T=d1(x.model),A=m||S||x.type==="category",C=r.axesInfo[T]={key:T,axis:x,coordSys:o,axisPointerModel:y,triggerTooltip:m,triggerEmphasis:w,involveSeries:A,snap:S,useHandle:QD(y),seriesModels:[],linkGroup:null};u[T]=C,r.seriesInvolved=r.seriesInvolved||A;var k=ile(a,x);if(k!=null){var E=s[k]||(s[k]={axesInfo:{}});E.axesInfo[T]=C,E.mapper=a[k].mapper,C.linkGroup=E}}}})}function rle(r,e,t,n,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};L(o,function(f){l[f]=Ye(s.get(f))}),l.snap=r.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!a){var h=l.lineStyle=s.get("crossStyle");h&&ze(u,h.textStyle)}}return r.model.getModel("axisPointer",new Gt(l,t,n))}function nle(r,e){e.eachSeries(function(t){var n=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||L(r.coordSysAxesInfo[d1(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function ile(r,e){for(var t=e.model,n=e.dim,i=0;i<r.length;i++){var a=r[i]||{};if(dk(a[n+"AxisId"],t.id)||dk(a[n+"AxisIndex"],t.componentIndex)||dk(a[n+"AxisName"],t.name))return i}}function dk(r,e){return r==="all"||ve(r)&&lt(r,e)>=0||r===e}function ale(r){var e=KP(r);if(e){var t=e.axisPointerModel,n=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=n.parse(s));var o=QD(t);a==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function KP(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[d1(r)]}function sle(r){var e=KP(r);return e&&e.axisPointerModel}function QD(r){return!!r.get(["handle","show"])}function d1(r){return r.type+"||"+r.id}var z4={},Vp=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.axisPointerClass&&ale(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,n,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,n){var i=this._axisPointer;i&&i.remove(n)},e.prototype.dispose=function(t,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=sle(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,n){z4[t]=n},e.getAxisPointerClass=function(t){return t&&z4[t]},e.type="axis",e}(br),eM=At();function NG(r,e,t,n){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var c=o.length,h=eM(r).splitAreaColors,f=Le(),d=0;if(h)for(var p=0;p<u.length;p++){var v=h.get(u[p].tickValue);if(v!=null){d=(v+(c-1)*p)%c;break}}var g=i.toGlobalCoord(u[0].coord),m=s.getAreaStyle();o=ve(o)?o:[o];for(var p=1;p<u.length;p++){var x=i.toGlobalCoord(u[p].coord),y=void 0,_=void 0,S=void 0,w=void 0;i.isHorizontal()?(y=g,_=l.y,S=x-y,w=l.height,g=y+S):(y=l.x,_=g,S=l.width,w=x-_,g=_+w);var T=u[p-1].tickValue;T!=null&&f.set(T,d),e.add(new Tt({anid:T!=null?"area_"+T:null,shape:{x:y,y:_,width:S,height:w},style:ze({fill:o[d]},m),autoBatch:!0,silent:!0})),d=(d+1)%c}eM(r).splitAreaColors=f}}}function BG(r){eM(r).splitAreaColors=null}var ole=["axisLine","axisTickLabel","axisName"],lle=["splitArea","splitLine","minorSplitLine"],VG=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Ke,this.group.add(this._axisGroup),!!t.get("show")){var o=t.getCoordSysModel(),l=JD(o,t),u=new qi(t,he({handleAutoShown:function(h){for(var f=o.coordinateSystem.getCartesians(),d=0;d<f.length;d++)if(UD(f[d].getOtherAxis(t.axis).scale))return!0;return!1}},l));L(ole,u.add,u),this._axisGroup.add(u.getGroup()),L(lle,function(h){t.get([h,"show"])&&ule[h](this,this._axisGroup,t,o)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||Eb(s,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)}},e.prototype.remove=function(){BG(this)},e.type="cartesianAxis",e}(Vp),ule={splitLine:function(r,e,t,n){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color"),l=a.get("showMinLine")!==!1,u=a.get("showMaxLine")!==!1;o=ve(o)?o:[o];for(var c=n.coordinateSystem.getRect(),h=i.isHorizontal(),f=0,d=i.getTicksCoords({tickModel:a}),p=[],v=[],g=s.getLineStyle(),m=0;m<d.length;m++){var x=i.toGlobalCoord(d[m].coord);if(!(m===0&&!l||m===d.length-1&&!u)){var y=d[m].tickValue;h?(p[0]=x,p[1]=c.y,v[0]=x,v[1]=c.y+c.height):(p[0]=c.x,p[1]=x,v[0]=c.x+c.width,v[1]=x);var _=f++%o.length,S=new Sn({anid:y!=null?"line_"+y:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},style:ze({stroke:o[_]},g),silent:!0});vg(S.shape,g.lineWidth),e.add(S)}}}},minorSplitLine:function(r,e,t,n){var i=t.axis,a=t.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=n.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],h=[],f=s.getLineStyle(),d=0;d<u.length;d++)for(var p=0;p<u[d].length;p++){var v=i.toGlobalCoord(u[d][p].coord);l?(c[0]=v,c[1]=o.y,h[0]=v,h[1]=o.y+o.height):(c[0]=o.x,c[1]=v,h[0]=o.x+o.width,h[1]=v);var g=new Sn({anid:"minor_line_"+u[d][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0});vg(g.shape,f.lineWidth),e.add(g)}},splitArea:function(r,e,t,n){NG(r,e,t,n)}},zG=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(VG),cle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=zG.type,t}return e.type="yAxis",e}(VG),hle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new Tt({shape:t.coordinateSystem.getRect(),style:ze({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(br),H4={offset:0};function HG(r){r.registerComponentView(hle),r.registerComponentModel(Voe),r.registerCoordinateSystem("cartesian2d",Xoe),bg(r,"x",qD,H4),bg(r,"y",qD,H4),r.registerComponentView(zG),r.registerComponentView(cle),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function fle(r){ht(HG),r.registerSeriesModel(Roe),r.registerChartView(Boe),r.registerLayout(Nb("scatter"))}function dle(r){r.eachSeriesByType("radar",function(e){var t=e.getData(),n=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();L(a,function(s,o){t.each(t.mapDimension(a[o].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,o);n[u][o]=G4(c)?c:$4(i)})}),t.each(function(s){var o=jZ(n[s],function(l){return G4(l)})||$4(i);n[s].push(o.slice()),t.setItemLayout(s,n[s])})}})}function G4(r){return!isNaN(r[0])&&!isNaN(r[1])}function $4(r){return[r.cx,r.cy]}function ple(r){var e=r.polar;if(e){ve(e)||(e=[e]);var t=[];L(e,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],ve(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):t.push(n)}),r.polar=t}L(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var vle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.coordinateSystem,s=this.group,o=t.getData(),l=this._data;function u(f,d){var p=f.getItemVisual(d,"symbol")||"circle";if(p!=="none"){var v=Vg(f.getItemVisual(d,"symbolSize")),g=Qr(p,-1,-1,2,2),m=f.getItemVisual(d,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:m*Math.PI/180||0}),g}}function c(f,d,p,v,g,m){p.removeAll();for(var x=0;x<d.length-1;x++){var y=u(v,g);y&&(y.__dimIdx=x,f[x]?(y.setPosition(f[x]),Op[m?"initProps":"updateProps"](y,{x:d[x][0],y:d[x][1]},t,g)):y.setPosition(d[x]),p.add(y))}}function h(f){return ge(f,function(d){return[a.cx,a.cy]})}o.diff(l).add(function(f){var d=o.getItemLayout(f);if(d){var p=new ra,v=new aa,g={shape:{points:d}};p.shape.points=h(d),v.shape.points=h(d),gr(p,g,t,f),gr(v,g,t,f);var m=new Ke,x=new Ke;m.add(v),m.add(p),m.add(x),c(v.shape.points,d,x,o,f,!0),o.setItemGraphicEl(f,m)}}).update(function(f,d){var p=l.getItemGraphicEl(d),v=p.childAt(0),g=p.childAt(1),m=p.childAt(2),x={shape:{points:o.getItemLayout(f)}};x.shape.points&&(c(v.shape.points,x.shape.points,m,o,f,!1),bo(g),bo(v),It(v,x,t),It(g,x,t),o.setItemGraphicEl(f,p))}).remove(function(f){s.remove(l.getItemGraphicEl(f))}).execute(),o.eachItemGraphicEl(function(f,d){var p=o.getItemModel(d),v=f.childAt(0),g=f.childAt(1),m=f.childAt(2),x=o.getItemVisual(d,"style"),y=x.fill;s.add(f),v.useStyle(ze(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:y})),ui(v,p,"lineStyle"),ui(g,p,"areaStyle");var _=p.getModel("areaStyle"),S=_.isEmpty()&&_.parentModel.isEmpty();g.ignore=S,L(["emphasis","select","blur"],function(A){var C=p.getModel([A,"areaStyle"]),k=C.isEmpty()&&C.parentModel.isEmpty();g.ensureState(A).ignore=k&&S}),g.useStyle(ze(_.getAreaStyle(),{fill:y,opacity:.7,decal:x.decal}));var w=p.getModel("emphasis"),T=w.getModel("itemStyle").getItemStyle();m.eachChild(function(A){if(A instanceof Yn){var C=A.style;A.useStyle(he({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},x))}else A.useStyle(x),A.setColor(y),A.style.strokeNoScale=!0;var k=A.ensureState("emphasis");k.style=Ye(T);var E=o.getStore().get(o.getDimensionIndex(A.__dimIdx),d);(E==null||isNaN(E))&&(E=""),ci(A,Mn(p),{labelFetcher:o.hostModel,labelDataIndex:d,labelDimIndex:A.__dimIdx,defaultText:E,inheritColor:y,defaultOpacity:x.opacity})}),Tr(f,w.get("focus"),w.get("blurScope"),w.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(tr),gle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Vb(Ee(this.getData,this),Ee(this.getRawData,this))},e.prototype.getInitialData=function(t,n){return Hg(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=V7(this,t);return In("section",{header:u,sortBlocks:!0,blocks:ge(o,function(h){var f=a.get(a.mapDimension(h.dim),t);return In("nameValue",{markerType:"subItem",markerColor:c,name:h.name,value:f,sortParam:f})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(ge(i.dimensions,function(u){return n.mapDimension(u)}),t),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(lr),ym=RG.value;function X_(r,e){return ze({show:e},r)}var mle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),d=ge(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var v=l;p.color!=null&&(v=ze({color:p.color},l));var g=tt(Ye(p),{boundaryGap:t,splitNumber:n,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:p.text,showName:u,nameLocation:"end",nameGap:h,nameTextStyle:v,triggerEvent:f},!1);if(Ae(c)){var m=g.name;g.name=c.replace("{value}",m??"")}else Ve(c)&&(g.name=c(g.name,g));var x=new Gt(g,null,this.ecModel);return tn(x,Pb.prototype),x.mainType="radar",x.componentIndex=this.componentIndex,x},this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:tt({lineStyle:{color:"#bbb"}},ym.axisLine),axisLabel:X_(ym.axisLabel,!1),axisTick:X_(ym.axisTick,!1),splitLine:X_(ym.splitLine,!0),splitArea:X_(ym.splitArea,!0),indicator:[]},e}(vt),yle=["axisLine","axisTickLabel","axisName"],xle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes(),a=ge(i,function(s){var o=s.model.get("showName")?s.name:"",l=new qi(s.model,{axisName:o,position:[n.cx,n.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});L(a,function(s){L(yle,s.add,s),this.group.add(s.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=t.get("shape"),s=t.getModel("splitLine"),o=t.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),c=s.get("show"),h=o.get("show"),f=l.get("color"),d=u.get("color"),p=ve(f)?f:[f],v=ve(d)?d:[d],g=[],m=[];function x(F,V,z){var G=z%V.length;return F[G]=F[G]||[],G}if(a==="circle")for(var y=i[0].getTicksCoords(),_=n.cx,S=n.cy,w=0;w<y.length;w++){if(c){var T=x(g,p,w);g[T].push(new ac({shape:{cx:_,cy:S,r:y[w].coord}}))}if(h&&w<y.length-1){var T=x(m,v,w);m[T].push(new Ab({shape:{cx:_,cy:S,r0:y[w].coord,r:y[w+1].coord}}))}}else for(var A,C=ge(i,function(F,V){var z=F.getTicksCoords();return A=A==null?z.length-1:Math.min(z.length-1,A),ge(z,function(G){return n.coordToPoint(G.coord,V)})}),k=[],w=0;w<=A;w++){for(var E=[],D=0;D<i.length;D++)E.push(C[D][w]);if(E[0]&&E.push(E[0].slice()),c){var T=x(g,p,w);g[T].push(new aa({shape:{points:E}}))}if(h&&k){var T=x(m,v,w-1);m[T].push(new ra({shape:{points:E.concat(k)}}))}k=E.slice().reverse()}var I=l.getLineStyle(),P=u.getAreaStyle();L(m,function(F,V){this.group.add(As(F,{style:ze({stroke:"none",fill:v[V%v.length]},P),silent:!0}))},this),L(g,function(F,V){this.group.add(As(F,{style:ze({fill:"none",stroke:p[V%p.length]},I),silent:!0}))},this)},e.type="radar",e}(br),ble=function(r){te(e,r);function e(t,n,i){var a=r.call(this,t,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return e}(Ao),_le=function(){function r(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=ge(e.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new ble(s,new Ju);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(e,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},r.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],i=n.angle,a=this.cx+e*Math.cos(i),s=this.cy-e*Math.sin(i);return[a,s]},r.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=Math.sqrt(t*t+n*n);t/=i,n/=i;for(var a=Math.atan2(-n,t),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],h=Math.abs(a-c.angle);h<s&&(o=c,l=u,s=h)}return[l,+(o&&o.coordToData(i))]},r.prototype.resize=function(e,t){var n=e.get("center"),i=t.getWidth(),a=t.getHeight(),s=Math.min(i,a)/2;this.cx=_e(n[0],i),this.cy=_e(n[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");(Ae(o)||Mt(o))&&(o=[0,o]),this.r0=_e(o[0],s),this.r=_e(o[1],s),L(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},r.prototype.update=function(e,t){var n=this._indicatorAxes,i=this._model;L(n,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==i)){var u=o.getData();L(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),s=new Ju;s.setExtent(0,a),s.setInterval(1),L(n,function(o,l){OG(o.scale,o.model,s)})},r.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.create=function(e,t){var n=[];return e.eachComponent("radar",function(i){var a=new r(i,e,t);n.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r}();function wle(r){r.registerCoordinateSystem("radar",_le),r.registerComponentModel(mle),r.registerComponentView(xle),r.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(n){t.setItemVisual(n,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function Sle(r){ht(wle),r.registerChartView(vle),r.registerSeriesModel(gle),r.registerLayout(dle),r.registerProcessor(Bb("radar")),r.registerPreprocessor(ple)}var U4="\0_ec_interaction_mutex";function Tle(r,e,t){var n=jP(r);n[e]=t}function Ale(r,e,t){var n=jP(r),i=n[e];i===t&&(n[e]=null)}function W4(r,e){return!!jP(r)[e]}function jP(r){return r[U4]||(r[U4]={})}Il({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Wr);var zb=function(r){te(e,r);function e(t){var n=r.call(this)||this;n._zr=t;var i=Ee(n._mousedownHandler,n),a=Ee(n._mousemoveHandler,n),s=Ee(n._mouseupHandler,n),o=Ee(n._mousewheelHandler,n),l=Ee(n._pinchHandler,n);return n.enable=function(u,c){this.disable(),this._opt=ze(Ye(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",s)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",o),t.on("pinch",l))},n.disable=function(){t.off("mousedown",i),t.off("mousemove",a),t.off("mouseup",s),t.off("mousewheel",o),t.off("pinch",l)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!bF(t)){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!Kw("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||W4(this._zr,"globalPan"))){var n=t.offsetX,i=t.offsetY,a=this._x,s=this._y,o=n-a,l=i-s;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&Xu(t.event),GG(this,"pan","moveOnMouseMove",t,{dx:o,dy:l,oldX:a,oldY:s,newX:n,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){bF(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var n=Kw("zoomOnMouseWheel",t,this._opt),i=Kw("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!n&&!i)){if(n){var u=s>3?1.4:s>1?1.2:1.1,c=a>0?u:1/u;pk(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:o,originY:l,isAvailableBehavior:null})}if(i){var h=Math.abs(a),f=(a>0?1:-1)*(h>3?.4:h>1?.15:.05);pk(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!W4(this._zr,"globalPan")){var n=t.pinchScale>1?1.1:1/1.1;pk(this,"zoom",null,t,{scale:n,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Rs);function pk(r,e,t,n,i){r.pointerChecker&&r.pointerChecker(n,i.originX,i.originY)&&(Xu(n.event),GG(r,e,t,n,i))}function GG(r,e,t,n,i){i.isAvailableBehavior=Ee(Kw,null,t,n),r.trigger(e,i)}function Kw(r,e,t){var n=t[r];return!r||n&&(!Ae(n)||e.event[n+"Key"])}function qP(r,e,t){var n=r.target;n.x+=e,n.y+=t,n.dirty()}function ZP(r,e,t,n){var i=r.target,a=r.zoomLimit,s=r.zoom=r.zoom||1;if(s*=e,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var u=s/r.zoom;r.zoom=s,i.x-=(t-i.x)*(u-1),i.y-=(n-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var Cle={axisPointer:1,tooltip:1,brush:1};function u2(r,e,t){var n=e.getComponentByElement(r.topTarget),i=n&&n.coordinateSystem;return n&&n!==t&&!Cle.hasOwnProperty(n.mainType)&&i&&i.model!==t}function $G(r){if(Ae(r)){var e=new DOMParser;r=e.parseFromString(r,"text/xml")}var t=r;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var vk,gT={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Y4=gt(gT),mT={"alignment-baseline":"textBaseline","stop-color":"stopColor"},X4=gt(mT),kle=function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(e,t){t=t||{};var n=$G(e);this._defsUsePending=[];var i=new Ke;this._root=i;var a=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),wa(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;Mle(this._defs,this._defsUsePending),this._defsUsePending=[];var c,h;if(s){var f=c2(s);f.length>=4&&(c={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(c&&o!=null&&l!=null&&(h=WG(c,{x:0,y:0,width:o,height:l}),!t.ignoreViewBox)){var d=i;i=new Ke,i.add(d),d.scaleX=d.scaleY=h.scale,d.x=h.x,d.y=h.y}return!t.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new Tt({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:h,named:a}},r.prototype._parseNode=function(e,t,n,i,a,s){var o=e.nodeName.toLowerCase(),l,u=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=t;else{if(!a){var c=vk[o];if(c&&Me(vk,o)){l=c.call(this,e,t);var h=e.getAttribute("name");if(h){var f={name:h,namedFrom:null,svgNodeTagLower:o,el:l};n.push(f),o==="g"&&(u=f)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});t.add(l)}}var d=K4[o];if(d&&Me(K4,o)){var p=d.call(this,e),v=e.getAttribute("id");v&&(this._defs[v]=p)}}if(l&&l.isGroup)for(var g=e.firstChild;g;)g.nodeType===1?this._parseNode(g,l,n,u,a,s):g.nodeType===3&&s&&this._parseText(g,l),g=g.nextSibling},r.prototype._parseText=function(e,t){var n=new pg({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});es(t,n),wa(e,n,this._defsUsePending,!1,!1),Ele(n,t);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=n.getBoundingRect();return this._textX+=o.width,t.add(n),n},r.internalField=function(){vk={g:function(e,t){var n=new Ke;return es(t,n),wa(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new Tt;return es(t,n),wa(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new ac;return es(t,n),wa(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new Sn;return es(t,n),wa(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new GA;return es(t,n),wa(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n=e.getAttribute("points"),i;n&&(i=Z4(n));var a=new ra({shape:{points:i||[]},silent:!0});return es(t,a),wa(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var n=e.getAttribute("points"),i;n&&(i=Z4(n));var a=new aa({shape:{points:i||[]},silent:!0});return es(t,a),wa(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var n=new Yn;return es(t,n),wa(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new Ke;return es(t,o),wa(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var n=e.getAttribute("x"),i=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new Ke;return es(t,o),wa(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,t){var n=e.getAttribute("d")||"",i=PH(n);return es(t,i),wa(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),r}(),K4={lineargradient:function(r){var e=parseInt(r.getAttribute("x1")||"0",10),t=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new kb(e,t,n,i);return j4(r,a),q4(r,a),a},radialgradient:function(r){var e=parseInt(r.getAttribute("cx")||"0",10),t=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new NH(e,t,n);return j4(r,i),q4(r,i),i}};function j4(r,e){var t=r.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function q4(r,e){for(var t=r.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var n=t.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};UG(t,a,a);var s=a.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:s})}t=t.nextSibling}}function es(r,e){r&&r.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),ze(e.__inheritedStyle,r.__inheritedStyle))}function Z4(r){for(var e=c2(r),t=[],n=0;n<e.length;n+=2){var i=parseFloat(e[n]),a=parseFloat(e[n+1]);t.push([i,a])}return t}function wa(r,e,t,n,i){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};r.nodeType===1&&(Ple(r,e),UG(r,s,o),n||Rle(r,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=J4(a,"fill",s.fill,t)),s.stroke!=null&&(a.style.stroke=J4(a,"stroke",s.stroke,t)),L(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),L(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=ge(c2(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function Ele(r,e){var t=e.__selfStyle;if(t){var n=t.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),r.style.textAlign=o)}}var Dle=/^url\(\s*#(.*?)\)/;function J4(r,e,t,n){var i=t&&t.match(Dle);if(i){var a=uo(i[1]);n.push([r,e,a]);return}return t==="none"&&(t=null),t}function Mle(r,e){for(var t=0;t<e.length;t++){var n=e[t];n[0].style[n[1]]=r[n[2]]}}var Ile=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function c2(r){return r.match(Ile)||[]}var Lle=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,gk=Math.PI/180;function Ple(r,e){var t=r.getAttribute("transform");if(t){t=t.replace(/,/g," ");var n=[],i=null;t.replace(Lle,function(h,f,d){return n.push(f,d),""});for(var a=n.length-1;a>0;a-=2){var s=n[a],o=n[a-1],l=c2(s);switch(i=i||Ya(),o){case"translate":bl(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":YL(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Pp(i,i,-parseFloat(l[0])*gk,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*gk);Nu(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*gk);Nu(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var Q4=/([^\s:;]+)\s*:\s*([^:;]+)/g;function UG(r,e,t){var n=r.getAttribute("style");if(n){Q4.lastIndex=0;for(var i;(i=Q4.exec(n))!=null;){var a=i[1],s=Me(gT,a)?gT[a]:null;s&&(e[s]=i[2]);var o=Me(mT,a)?mT[a]:null;o&&(t[o]=i[2])}}}function Rle(r,e,t){for(var n=0;n<Y4.length;n++){var i=Y4[n],a=r.getAttribute(i);a!=null&&(e[gT[i]]=a)}for(var n=0;n<X4.length;n++){var i=X4[n],a=r.getAttribute(i);a!=null&&(t[mT[i]]=a)}}function WG(r,e){var t=e.width/r.width,n=e.height/r.height,i=Math.min(t,n);return{scale:i,x:-(r.x+r.width/2)*i+(e.x+e.width/2),y:-(r.y+r.height/2)*i+(e.y+e.height/2)}}function Ole(r,e){var t=new kle;return t.parse(r,e)}var Fle=Le(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Nle=function(){function r(e,t){this.type="geoSVG",this._usedGraphicMap=Le(),this._freedGraphics=[],this._mapName=e,this._parsedXML=$G(t)}return r.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Vle(e.named),n=t.regions,i=t.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(e){var t,n;try{t=e&&Ole(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=t.root,Qi(n!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var i=new Ke;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,o=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,h=void 0,f=void 0;if(a!=null?(u=0,h=a):o&&(u=o.x,h=o.width),s!=null?(c=0,f=s):o&&(c=o.y,f=o.height),u==null||c==null){var d=n.getBoundingRect();u==null&&(u=d.x,h=d.width),c==null&&(c=d.y,f=d.height)}l=this._boundingRect=new at(u,c,h,f)}if(o){var p=WG(o,l);n.scaleX=n.scaleY=p.scale,n.x=p.x,n.y=p.y}i.setClipPath(new Tt({shape:l.plain()}));var v=[];return L(t.named,function(g){Fle.get(g.svgNodeTagLower)!=null&&(v.push(g),Ble(g.el))}),{root:i,boundingRect:l,named:v}},r.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},r.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},r}();function Ble(r){r.silent=!1,r.isGroup&&r.traverse(function(e){e.silent=!1})}function Vle(r){var e=[],t=Le();return L(r,function(n){if(n.namedFrom==null){var i=new Pae(n.name,n.el);e.push(i),t.set(n.name,i)}}),{regions:e,regionsMap:t}}var tM=[126,25],eB="åæµ·è¯¸å²",Df=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Cf=0;Cf<Df.length;Cf++)for(var cv=0;cv<Df[Cf].length;cv++)Df[Cf][cv][0]/=10.5,Df[Cf][cv][1]/=-10.5/.75,Df[Cf][cv][0]+=tM[0],Df[Cf][cv][1]+=tM[1];function zle(r,e){if(r==="china"){for(var t=0;t<e.length;t++)if(e[t].name===eB)return;e.push(new H9(eB,ge(Df,function(n){return{type:"polygon",exterior:n}}),tM))}}var Hle={åæµ·è¯¸å²:[32,80],å¹¿ä¸:[0,-10],é¦æ¸¯:[10,5],æ¾³é¨:[-10,10],å¤©æ´¥:[5,5]};function Gle(r,e){if(r==="china"){var t=Hle[e.name];if(t){var n=e.getCenter();n[0]+=t[0]/10.5,n[1]+=-t[1]/(10.5/.75),e.setCenter(n)}}}var $le=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Ule(r,e){r==="china"&&e.name==="å°æ¹¾"&&e.geometries.push({type:"polygon",exterior:$le[0]})}var Wle="name",Yle=function(){function r(e,t,n){this.type="geoJSON",this._parsedMap=Le(),this._mapName=e,this._specialAreas=n,this._geoJSON=Kle(t)}return r.prototype.load=function(e,t){t=t||Wle;var n=this._parsedMap.get(t);if(!n){var i=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:i,boundingRect:Xle(i)})}var a=Le(),s=[];return L(n.regions,function(o){var l=o.name;e&&Me(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new at(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(e){var t=this._mapName,n=this._geoJSON,i;try{i=n?Oae(n,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return zle(t,i),L(i,function(a){var s=a.name;Gle(t,a),Ule(t,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r}();function Xle(r){for(var e,t=0;t<r.length;t++){var n=r[t].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function Kle(r){return Ae(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var xm=Le();const Qu={registerMap:function(r,e,t){if(e.svg){var n=new Nle(r,e.svg);xm.set(r,n)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var n=new Yle(r,i,t);xm.set(r,n)}},getGeoResource:function(r){return xm.get(r)},getMapForUser:function(r){var e=xm.get(r);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(r,e,t){var n=xm.get(r);if(n)return n.load(e,t)}};var JP=["rect","circle","line","ellipse","polygon","polyline","path"],jle=Le(JP),qle=Le(JP.concat(["g"])),Zle=Le(JP.concat(["g"])),YG=At();function K_(r){var e=r.getItemStyle(),t=r.get("areaColor");return t!=null&&(e.fill=t),e}function tB(r){var e=r.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var XG=function(){function r(e){var t=new Ke;this.uid=Pg("ec_map_draw"),this._controller=new zb(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Ke),t.add(this._svgGroup=new Ke)}return r.prototype.draw=function(e,t,n,i,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(m){!o&&m.getHostGeoModel()===e&&(o=m.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this.group,h=l.getTransformInfo(),f=h.raw,d=h.roam,p=!u.childAt(0)||a;p?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):It(c,d,e);var v=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,g={api:n,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:v,isGeo:s,transformInfoRaw:f};l.resourceType==="geoJSON"?this._buildGeoJSON(g):l.resourceType==="geoSVG"&&this._buildSVG(g),this._updateController(e,t,n),this._updateMapSelectHandler(e,u,n,i)},r.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Le(),n=Le(),i=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,u=l&&l.stream;function c(d,p){return p&&(d=p(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function h(d){for(var p=[],v=!u&&l&&l.project,g=0;g<d.length;++g){var m=c(d[g],v);m&&p.push(m)}return p}function f(d){return{shape:{points:h(d)}}}i.removeAll(),L(e.geo.regions,function(d){var p=d.name,v=t.get(p),g=n.get(p)||{},m=g.dataIdx,x=g.regionModel;if(!v){v=t.set(p,new Ke),i.add(v),m=o?o.indexOfName(p):null,x=e.isGeo?s.getRegionModel(p):o?o.getItemModel(m):null;var y=x.get("silent",!0);y!=null&&(v.silent=y),n.set(p,{dataIdx:m,regionModel:x})}var _=[],S=[];L(d.geometries,function(A){if(A.type==="polygon"){var C=[A.exterior].concat(A.interiors||[]);u&&(C=oB(C,u)),L(C,function(E){_.push(new ra(f(E)))})}else{var k=A.points;u&&(k=oB(k,u,!0)),L(k,function(E){S.push(new aa(f(E)))})}});var w=c(d.getCenter(),l&&l.project);function T(A,C){if(A.length){var k=new lP({culling:!0,segmentIgnoreThreshold:1,shape:{paths:A}});v.add(k),rB(e,k,m,x),nB(e,k,p,x,s,m,w),C&&(tB(k),L(k.states,tB))}}T(_),T(S,!0)}),t.each(function(d,p){var v=n.get(p),g=v.dataIdx,m=v.regionModel;iB(e,d,p,m,s,g),aB(e,d,p,m,s),sB(e,d,p,m,s)},this)},r.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=Le(),a=!1;L(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,u=e.data,c=s.svgNodeTagLower,h=s.el,f=u?u.indexOfName(o):null,d=l.getRegionModel(o);jle.get(c)!=null&&h instanceof Is&&rB(e,h,f,d),h instanceof Is&&(h.culling=!0);var p=d.get("silent",!0);if(p!=null&&(h.silent=p),h.z2EmphasisLift=0,!s.namedFrom&&(Zle.get(c)!=null&&nB(e,h,o,d,l,f,null),iB(e,h,o,d,l,f),aB(e,h,o,d,l),qle.get(c)!=null)){var v=sB(e,h,o,d,l);v==="self"&&(a=!0);var g=i.get(o)||i.set(o,[]);g.push(h)}},this),this._enableBlurEntireSVG(a,e)},r.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){wp(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var n=t.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},r.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},r.prototype._useSVG=function(e){var t=Qu.getGeoResource(e);if(t&&t.type==="geoSVG"){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},r.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Qu.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(e,t,n){var i=e.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=i.getZoom(),a.enable(e.get("roam")||!1);var o=e.mainType;function l(){var u={type:"geoRoam",componentType:o};return u[o+"Id"]=e.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,qP(s,u.dx,u.dy),n.dispatchAction(he(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,ZP(s,u.scale,u.originX,u.originY),n.dispatchAction(he(l(),{totalZoom:s.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,c,h){return i.containPoint([c,h])&&!u2(u,n,e)})},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=YG(t).ignore)})},r.prototype._updateMapSelectHandler=function(e,t,n,i){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r}();function rB(r,e,t,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=K_(i),u=K_(a),c=K_(o),h=K_(s),f=r.data;if(f){var d=f.getItemVisual(t,"style"),p=f.getItemVisual(t,"decal");r.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),p&&(l.decal=mg(p,r.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=h,wp(e)}function nB(r,e,t,n,i,a,s){var o=r.data,l=r.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(l||u||c&&c.showLabel){var h=l?t:a,f=void 0;(!o||a>=0)&&(f=i);var d=s?{normal:{align:"center",verticalAlign:"middle"}}:null;ci(e,Mn(n),{labelFetcher:f,labelDataIndex:h,defaultText:t},d);var p=e.getTextContent();if(p&&(YG(p).ignore=p.ignore,e.textConfig&&s)){var v=e.getBoundingRect().clone();e.textConfig.layoutRect=v,e.textConfig.position=[(s[0]-v.x)/v.width*100+"%",(s[1]-v.y)/v.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function iB(r,e,t,n,i,a){r.data?r.data.setItemGraphicEl(a,e):je(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:n&&n.option||{}}}function aB(r,e,t,n,i){r.data||Rp({el:e,componentModel:i,itemName:t,itemTooltipOption:n.get("tooltip")})}function sB(r,e,t,n,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),s=a.get("focus");return Tr(e,s,a.get("blurScope"),a.get("disabled")),r.isGeo&&Kee(e,i,t),s}function oB(r,e,t){var n=[],i;function a(){i=[]}function s(){i.length&&(n.push(i),i=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!t&&o.polygonStart(),L(r,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!t&&o.polygonEnd(),n}var Jle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var o=this._mapDraw;o&&s.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new XG(i);s.add(o.group),o.draw(t,n,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(t,n,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,n,i){var a=t.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,h=u.offset,f=new ac({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+h*9,cy:c[1],r:3},silent:!0,z2:8+(h?0:Mg+1)});if(!h){var d=t.mainSeries.getData(),p=a.getName(l),v=d.indexOfName(p),g=a.getItemModel(l),m=g.getModel("label"),x=d.getItemGraphicEl(v);ci(f,Mn(g),{labelFetcher:{getFormattedLabel:function(y,_){return t.getFormattedLabel(v,_)}},defaultText:p}),f.disableLabelAnimation=!0,m.get("position")||f.setTextConfig({position:"bottom"}),x.onHoverStateChange=function(y){qS(f,y)}}s.add(f)}}})},e.type="map",e}(tr),Qle=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var n=Hg(this,{coordDimensions:["value"],encodeDefaulter:Qe(yP,this)}),i=Le(),a=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);i.set(l,s)}var u=Qu.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return L(u.regions,function(c){var h=c.name,f=i.get(h),d=c.properties&&c.properties.echartsStyle,p;f==null?(p={name:h},a.push(p)):p=n.getRawDataItem(f),d&&tt(p,d)}),n.appendData(a),n},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData(),s=this.getRawValue(t),o=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var h=l[c].originalData.indexOfName(o),f=a.mapDimension("value");isNaN(l[c].originalData.get(f,h))||u.push(l[c].name)}return In("section",{header:u.join(", "),noHeader:!u.length,blocks:[In("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",i=Qr(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(lr);function eue(r,e){var t={};return L(r,function(n){n.each(n.mapDimension("value"),function(i,a){var s="ec-"+n.getName(a);t[s]=t[s]||[],isNaN(i)||t[s].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),s=0,o=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)o=Math.min(o,t[a][c]),l=Math.max(l,t[a][c]),s+=t[a][c];var h;return e==="min"?h=o:e==="max"?h=l:e==="average"?h=s/u:h=s,u===0?NaN:h})}function tue(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),L(e,function(t,n){for(var i=eue(ge(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0]})}function rue(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getMapType();if(!(t.getHostGeoModel()||e[n])){var i={};L(t.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&r.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var h=l.getName(c),f=o.getRegion(h);if(!(!f||isNaN(u))){var d=i[h]||0,p=o.dataToPoint(f.getCenter());i[h]=d+1,l.setItemLayout(c,{point:p,offset:d})}})});var a=t.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),e[n]=!0}})}var lB=ai,Hb=function(r){te(e,r);function e(t){var n=r.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new Mu,n._rawTransformable=new Mu,n.name=t,n}return e.prototype.setBoundingRect=function(t,n,i,a){return this._rect=new at(t,n,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,n,i,a){this._transformTo(t,n,i,a),this._viewRect=new at(t,n,i,a)},e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new at(t,n,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,n){t&&(this._center=[_e(t[0],n.getWidth()),_e(t[1],n.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var n=this.zoomLimit;n&&(n.max!=null&&(t=Math.min(n.max,t)),n.min!=null&&(t=Math.max(n.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),n=t.x+t.width/2,i=t.y+t.height/2;return[n,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=ai([],a,t),i=ai([],i,t),n.originX=a[0],n.originY=a[1],n.x=i[0]-a[0],n.y=i[1]-a[1],n.scaleX=n.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),WL(this.transform||(this.transform=[]),n.transform||Ya()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Eg(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,i=new Mu;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?lB(i,t,a):Vi(i,t)},e.prototype.pointToData=function(t){var n=this.invTransform;return n?lB([],t,n):[t[0],t[1]]},e.prototype.convertToPixel=function(t,n,i){var a=uB(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=uB(n);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Mu);function uB(r){var e=r.seriesModel;return e?e.coordinateSystem:null}var nue={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},KG=["lng","lat"],rM=function(r){te(e,r);function e(t,n,i){var a=r.call(this,t)||this;a.dimensions=KG,a.type="geo",a._nameCoordMap=Le(),a.map=n;var s=i.projection,o=Qu.load(n,i.nameMap,i.nameProperty),l=Qu.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=o.regions,c=nue[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var h;if(s)for(var f=0;f<u.length;f++){var d=u[f].getBoundingRect(s);h=h||d.clone(),h.union(d)}else h=o.boundingRect;return a.setBoundingRect(h.x,h.y,h.width,h.height),a.aspectScale=s?1:Je(i.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,n,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new at(t,n,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(t))return n[i]}},e.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},e.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},e.prototype.dataToPoint=function(t,n,i){if(Ae(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,n,i)}},e.prototype.pointToData=function(t){var n=this.projection;return n&&(t=n.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return r.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,n,i){return r.prototype.dataToPoint.call(this,t,n,i)},e.prototype.convertToPixel=function(t,n,i){var a=cB(n);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,n,i){var a=cB(n);return a===this?a.pointToData(i):null},e}(Hb);tn(rM,Hb);function cB(r){var e=r.geoModel,t=r.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Jr).models[0]||{}).coordinateSystem:null}function hB(r,e){var t=r.get("boundingCoords");if(t!=null){var n=t[0],i=t[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=n[0],o=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(w,T,A,C){for(var k=A-w,E=C-T,D=0;D<=100;D++){var I=D/100,P=a.project([w+k*I,T+E*I]);mh(n,n,P),yh(i,i,P)}};c(s,o,l,o),c(l,o,l,u),c(l,u,s,u),c(s,u,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var h=this.getBoundingRect(),f=r.get("layoutCenter"),d=r.get("layoutSize"),p=e.getWidth(),v=e.getHeight(),g=h.width/h.height*this.aspectScale,m=!1,x,y;f&&d&&(x=[_e(f[0],p),_e(f[1],v)],y=_e(d,Math.min(p,v)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(y)&&(m=!0));var _;if(m)_={},g>1?(_.width=y,_.height=y/g):(_.height=y,_.width=y*g),_.y=x[1]-_.height/2,_.x=x[0]-_.width/2;else{var S=r.getBoxLayoutParams();S.aspect=g,_=vn(S,{width:p,height:v})}this.setViewRect(_.x,_.y,_.width,_.height),this.setCenter(r.get("center"),e),this.setZoom(r.get("zoom"))}function iue(r,e){L(e.get("geoCoord"),function(t,n){r.addGeoCoord(n,t)})}var aue=function(){function r(){this.dimensions=KG}return r.prototype.create=function(e,t){var n=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),u=new rM(l+o,l,he({nameMap:s.get("nameMap")},i(s)));u.zoomLimit=s.get("scaleLimit"),n.push(u),s.coordinateSystem=u,u.model=s,u.resize=hB,u.resize(s,t)}),e.eachSeries(function(s){var o=s.get("coordinateSystem");if(o==="geo"){var l=s.get("geoIndex")||0;s.coordinateSystem=n[l]}});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),L(a,function(s,o){var l=ge(s,function(c){return c.get("nameMap")}),u=new rM(o,o,he({nameMap:HL(l)},i(s[0])));u.zoomLimit=Un.apply(null,ge(s,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=hB,u.resize(s[0],t),L(s,function(c){c.coordinateSystem=u,iue(u,c)})}),n},r.prototype.getFilledRegions=function(e,t,n,i){for(var a=(e||[]).slice(),s=Le(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=Qu.load(t,n,i);return L(l.regions,function(u){var c=u.name,h=s.get(c),f=u.properties&&u.properties.echartsStyle;h||(h={name:c},a.push(h)),f&&tt(h,f)}),a},r}(),jG=new aue,sue=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){var a=Qu.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(t,i),xp(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=jG.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=xl(n.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new Gt(s,t,t.ecModel)),s.selected&&(i[o]=!0)),a},Le()),n.selectedMap||(n.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Gt(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,n){var i=this.getRegionModel(t),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:t};if(Ve(a))return s.status=n,a(s);if(Ae(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var n=this.option.selectedMap;return!!(n&&n[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(vt);function fB(r,e){return r.pointToProjected?r.pointToProjected(e):r.pointToData(e)}function QP(r,e,t,n){var i=r.getZoom(),a=r.getCenter(),s=e.zoom,o=r.projectedToPoint?r.projectedToPoint(a):r.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,r.setCenter(fB(r,o),n)),s!=null){if(t){var l=t.min||0,u=t.max||1/0;s=Math.max(Math.min(i*s,u),l)/i}r.scaleX*=s,r.scaleY*=s;var c=(e.originX-r.x)*(s-1),h=(e.originY-r.y)*(s-1);r.x-=c,r.y-=h,r.updateTransform(),r.setCenter(fB(r,o),n),r.setZoom(s*i)}return{center:r.getCenter(),zoom:r.getZoom()}}var oue=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,n){this._api=n},e.prototype.render=function(t,n,i,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new XG(i));var s=this._mapDraw;s.draw(t,n,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,n,i)},e.prototype._handleRegionClick=function(t){var n;qf(t.target,function(i){return(n=je(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},e.prototype.updateSelectStatus=function(t,n,i){var a=this;this._mapDraw.group.traverse(function(s){var o=je(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(br);function lue(r,e,t){Qu.registerMap(r,e,t)}function qG(r){r.registerCoordinateSystem("geo",jG),r.registerComponentModel(sue),r.registerComponentView(oue),r.registerImpl("registerMap",lue),r.registerImpl("getMap",function(t){return Qu.getMapForUser(t)});function e(t,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[t](i.name);var u=l.coordinateSystem;L(u.regions,function(h){s[h.name]=l.isSelected(h.name)||!1});var c=[];L(s,function(h,f){s[f]&&c.push(f)}),o.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:o,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,n,i){var a=t.componentType||"series";n.eachComponent({mainType:a,query:t},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=QP(o,t,s.get("scaleLimit"),i);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&L(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function uue(r){ht(qG),r.registerChartView(Jle),r.registerSeriesModel(Qle),r.registerLayout(rue),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,tue),Z7("map",r.registerAction)}function cue(r){var e=r;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],n,i;n=t.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function hue(r,e){var t=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(t.length){pue(r);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+e(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+e(r,i));r.parentNode.hierNode.defaultAncestor=vue(r,i,r.parentNode.hierNode.defaultAncestor||n[0],e)}function fue(r){var e=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:e},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function dB(r){return arguments.length?r:yue}function Um(r,e){return r-=Math.PI/2,{x:e*Math.cos(r),y:e*Math.sin(r)}}function due(r,e){return vn(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function pue(r){for(var e=r.children,t=e.length,n=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function vue(r,e,t,n){if(e){for(var i=r,a=r,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier,h=o.hierNode.modifier;o=mk(o),a=yk(a),o&&a;){i=mk(i),s=yk(s),i.hierNode.ancestor=r;var f=o.hierNode.prelim+h-a.hierNode.prelim-u+n(o,a);f>0&&(mue(gue(o,r,t),r,f),u+=f,l+=f),h+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=s.hierNode.modifier}o&&!mk(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=h-l),a&&!yk(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-c,t=r)}return t}function mk(r){var e=r.children;return e.length&&r.isExpand?e[e.length-1]:r.hierNode.thread}function yk(r){var e=r.children;return e.length&&r.isExpand?e[0]:r.hierNode.thread}function gue(r,e,t){return r.hierNode.ancestor.parentNode===e.parentNode?r.hierNode.ancestor:t}function mue(r,e,t){var n=t/(e.hierNode.i-r.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,r.hierNode.change+=n}function yue(r,e){return r.parentNode===e.parentNode?1:2}var xue=function(){function r(){this.parentPoint=[],this.childPoints=[]}return r}(),bue=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new xue},e.prototype.buildPath=function(t,n){var i=n.childPoints,a=i.length,s=n.parentPoint,o=i[0],l=i[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,h=1-c,f=_e(n.forkPosition,1),d=[];d[c]=s[c],d[h]=s[h]+(l[h]-s[h])*f,t.moveTo(s[0],s[1]),t.lineTo(d[0],d[1]),t.moveTo(o[0],o[1]),d[c]=o[c],t.lineTo(d[0],d[1]),d[c]=l[c],t.lineTo(d[0],d[1]),t.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var v=i[p];t.moveTo(v[0],v[1]),d[c]=v[c],t.lineTo(d[0],d[1])}},e}(dt),_ue=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new Ke,t}return e.prototype.init=function(t,n){this._controller=new zb(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,i){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,i),this._updateController(t,n,i);var u=this._data;a.diff(u).add(function(c){pB(a,c)&&vB(a,c,null,o,t)}).update(function(c,h){var f=u.getItemGraphicEl(h);if(!pB(a,c)){f&&mB(u,h,f,o,t);return}vB(a,c,f,o,t)}).remove(function(c){var h=u.getItemGraphicEl(c);h&&mB(u,c,h,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,h){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:h})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,n){var i=t.getData(),a=[];i.each(function(h){var f=i.getItemLayout(h);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var s=[],o=[];VA(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var c=t.coordinateSystem=new Hb;c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(t.get("center"),n),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(u,c,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(c,h)&&!u2(u,i,t)}),s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){qP(o,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){ZP(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(t),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),i=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,s=n.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(tr);function pB(r,e){var t=r.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function vB(r,e,t,n,i){var a=!t,s=r.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:"#fff",c=r.tree.root,h=s.parentNode===c?s:s.parentNode||s,f=r.getItemGraphicEl(h.dataIndex),d=h.getLayout(),p=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:d,v=s.getLayout();a?(t=new Rb(r,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=p.x,t.y=p.y):t.updateData(r,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=v.rawX,t.__radialRawY=v.rawY,n.add(t),r.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,It(t,{x:v.x,y:v.y},i);var g=t.getSymbolPath();if(i.get("layout")==="radial"){var m=c.children[0],x=m.getLayout(),y=m.children.length,_=void 0,S=void 0;if(v.x===x.x&&s.isExpand===!0&&m.children.length){var w={x:(m.children[0].getLayout().x+m.children[y-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[y-1].getLayout().y)/2};_=Math.atan2(w.y-x.y,w.x-x.x),_<0&&(_=Math.PI*2+_),S=w.x<x.x,S&&(_=_-Math.PI)}else _=Math.atan2(v.y-x.y,v.x-x.x),_<0&&(_=Math.PI*2+_),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(S=v.x<x.x,S&&(_=_-Math.PI)):(S=v.x>x.x,S||(_=_-Math.PI));var T=S?"left":"right",A=o.getModel("label"),C=A.get("rotate"),k=C*(Math.PI/180),E=g.getTextContent();E&&(g.setTextConfig({position:A.get("position")||T,rotation:C==null?-_:k,origin:"center"}),E.setStyle("verticalAlign","middle"))}var D=o.get(["emphasis","focus"]),I=D==="relative"?Ky(s.getAncestorsIndices(),s.getDescendantIndices()):D==="ancestor"?s.getAncestorsIndices():D==="descendant"?s.getDescendantIndices():null;I&&(je(t).focus=I),wue(i,s,c,t,p,d,v,n),t.__edge&&(t.onHoverStateChange=function(P){if(P!=="blur"){var F=s.parentNode&&r.getItemGraphicEl(s.parentNode.dataIndex);F&&F.hoverState===Tb||qS(t.__edge,P)}})}function wue(r,e,t,n,i,a,s,o){var l=e.getModel(),u=r.get("edgeShape"),c=r.get("layout"),h=r.getOrient(),f=r.get(["lineStyle","curveness"]),d=r.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),v=n.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(v||(v=n.__edge=new Cb({shape:nM(c,h,f,i,i)})),It(v,{shape:nM(c,h,f,a,s)},r));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var g=e.children,m=[],x=0;x<g.length;x++){var y=g[x].getLayout();m.push([y.x,y.y])}v||(v=n.__edge=new bue({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:h,forkPosition:d}})),It(v,{shape:{parentPoint:[s.x,s.y],childPoints:m}},r)}v&&!(u==="polyline"&&!e.isExpand)&&(v.useStyle(ze({strokeNoScale:!0,fill:null},p)),ui(v,l,"lineStyle"),wp(v),o.add(v))}function gB(r,e,t,n,i){var a=e.tree.root,s=ZG(a,r),o=s.source,l=s.sourceLayout,u=e.getItemGraphicEl(r.dataIndex);if(u){var c=e.getItemGraphicEl(o.dataIndex),h=c.__edge,f=u.__edge||(o.isExpand===!1||o.children.length===1?h:void 0),d=n.get("edgeShape"),p=n.get("layout"),v=n.get("orient"),g=n.get(["lineStyle","curveness"]);f&&(d==="curve"?Vh(f,{shape:nM(p,v,g,l,l),style:{opacity:0}},n,{cb:function(){t.remove(f)},removeOpt:i}):d==="polyline"&&n.get("layout")==="orthogonal"&&Vh(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){t.remove(f)},removeOpt:i}))}}function ZG(r,e){for(var t=e.parentNode===r?e:e.parentNode||e,n;n=t.getLayout(),n==null;)t=t.parentNode===r?t:t.parentNode||t;return{source:t,sourceLayout:n}}function mB(r,e,t,n,i){var a=r.tree.getNodeByDataIndex(e),s=r.tree.root,o=ZG(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Vh(t,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(t),r.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){gB(u,r,n,i,l)}),gB(a,r,n,i,l)}function nM(r,e,t,n,i){var a,s,o,l,u,c,h,f;if(r==="radial"){u=n.rawX,h=n.rawY,c=i.rawX,f=i.rawY;var d=Um(u,h),p=Um(u,h+(f-h)*t),v=Um(c,f+(h-f)*t),g=Um(c,f);return{x1:d.x||0,y1:d.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:v.x||0,cpy2:v.y||0}}else u=n.x,h=n.y,c=i.x,f=i.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,s=h,o=c+(u-c)*t,l=f),(e==="TB"||e==="BT")&&(a=u,s=h+(f-h)*t,o=c,l=f+(h-f)*t);return{x1:u,y1:h,x2:c,y2:f,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var Ds=At();function JG(r){var e=r.mainData,t=r.datas;t||(t={main:e},r.datasAttr={main:"data"}),r.datas=r.mainData=null,QG(e,t,r),L(t,function(n){L(e.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,Qe(Sue,r))})}),e.wrapMethod("cloneShallow",Qe(Aue,r)),L(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,Qe(Tue,r))}),Qi(t[e.dataType]===e)}function Sue(r,e){if(Eue(this)){var t=he({},Ds(this).datas);t[this.dataType]=e,QG(e,t,r)}else eR(e,this.dataType,Ds(this).mainData,r);return e}function Tue(r,e){return r.struct&&r.struct.update(),e}function Aue(r,e){return L(Ds(e).datas,function(t,n){t!==e&&eR(t.cloneShallow(),n,e,r)}),e}function Cue(r){var e=Ds(this).mainData;return r==null||e==null?e:Ds(e).datas[r]}function kue(){var r=Ds(this).mainData;return r==null?[{data:r}]:ge(gt(Ds(r).datas),function(e){return{type:e,data:Ds(r).datas[e]}})}function Eue(r){return Ds(r).mainData===r}function QG(r,e,t){Ds(r).datas={},L(e,function(n,i){eR(n,i,r,t)})}function eR(r,e,t,n){Ds(t).datas[e]=r,Ds(r).mainData=t,r.dataType=e,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=r),r.getLinkedData=Cue,r.getLinkedDataAll=kue}var Due=function(){function r(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(e,t,n){Ve(e)&&(n=t,t=e,e=null),e=e||{},Ae(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=t.call(n,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,n);i==="postorder"&&t.call(n,this)},r.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},r.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].getNodeById(e);if(a)return a}},r.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].contains(e);if(a)return a}},r.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},r.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},r.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},r.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},r.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},r.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},r.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},r.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},r}(),tR=function(){function r(e){this.type="tree",this._nodes=[],this.hostModel=e}return r.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},r.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},r.prototype.getNodeById=function(e){return this.root.getNodeById(e)},r.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(var n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(e,t,n){var i=new r(t),a=[],s=1;o(e);function o(c,h){var f=c.value;s=Math.max(s,ve(f)?f.length:1),a.push(c);var d=new Due(fn(c.name,""),i);h?Mue(d,h):i.root=d,i._nodes.push(d);var p=c.children;if(p)for(var v=0;v<p.length;v++)o(p[v],d)}i.root.updateDepthAndHeight(0);var l=Lb(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new ji(l,t);return u.initData(a),n&&n(u),JG({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},r}();function Mue(r,e){var t=e.children;r.parentNode!==e&&(t.push(r),r.parentNode=e)}function p1(r,e,t){if(r&&lt(e,r.type)>=0){var n=t.getData().tree.root,i=r.targetNode;if(Ae(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function e$(r){for(var e=[];r;)r=r.parentNode,r&&e.push(r);return e.reverse()}function rR(r,e){var t=e$(r);return lt(t,e)>=0}function h2(r,e){for(var t=[];r;){var n=r.dataIndex;t.push({name:r.name,dataIndex:n,value:e.getRawValue(n)}),r=r.parentNode}return t.reverse(),t}var Iue=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},i=t.leaves||{},a=new Gt(i,this,this.ecModel),s=tR.createTree(n,this,o);function o(h){h.wrapMethod("getItemModel",function(f,d){var p=s.getNodeByDataIndex(d);return p&&p.children.length&&p.isExpand||(f.parentModel=a),f})}var l=0;s.eachNode("preorder",function(h){h.depth>l&&(l=h.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(h){var f=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=f&&f.collapsed!=null?!f.collapsed:h.depth<=c}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,n,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return In("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=h2(i,this),n.collapsed=!i.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(lr);function Lue(r,e,t){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;a=i.pop();)e(a,t)}function bm(r,e){for(var t=[r],n;n=t.pop();)if(e(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function Pue(r,e){r.eachSeriesByType("tree",function(t){Rue(t,e)})}function Rue(r,e){var t=due(r,e);r.layoutInfo=t;var n=r.get("layout"),i=0,a=0,s=null;n==="radial"?(i=2*Math.PI,a=Math.min(t.height,t.width)/2,s=dB(function(y,_){return(y.parentNode===_.parentNode?1:2)/y.depth})):(i=t.width,a=t.height,s=dB());var o=r.getData().tree.root,l=o.children[0];if(l){cue(o),Lue(l,hue,s),o.hierNode.modifier=-l.hierNode.prelim,bm(l,fue);var u=l,c=l,h=l;bm(l,function(y){var _=y.getLayout().x;_<u.getLayout().x&&(u=y),_>c.getLayout().x&&(c=y),y.depth>h.depth&&(h=y)});var f=u===c?1:s(u,c)/2,d=f-u.getLayout().x,p=0,v=0,g=0,m=0;if(n==="radial")p=i/(c.getLayout().x+f+d),v=a/(h.depth-1||1),bm(l,function(y){g=(y.getLayout().x+d)*p,m=(y.depth-1)*v;var _=Um(g,m);y.setLayout({x:_.x,y:_.y,rawX:g,rawY:m},!0)});else{var x=r.getOrient();x==="RL"||x==="LR"?(v=a/(c.getLayout().x+f+d),p=i/(h.depth-1||1),bm(l,function(y){m=(y.getLayout().x+d)*v,g=x==="LR"?(y.depth-1)*p:i-(y.depth-1)*p,y.setLayout({x:g,y:m},!0)})):(x==="TB"||x==="BT")&&(p=i/(c.getLayout().x+f+d),v=a/(h.depth-1||1),bm(l,function(y){g=(y.getLayout().x+d)*p,m=x==="TB"?(y.depth-1)*v:a-(y.depth-1)*v,y.setLayout({x:g,y:m},!0)}))}}}function Oue(r){r.eachSeriesByType("tree",function(e){var t=e.getData(),n=t.tree;n.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(i.dataIndex,"style");he(o,s)})})}function Fue(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var i=e.dataIndex,a=n.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=QP(a,e,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function Nue(r){r.registerChartView(_ue),r.registerSeriesModel(Iue),r.registerLayout(Pue),r.registerVisual(Oue),Fue(r)}var yB=["treemapZoomToNode","treemapRender","treemapMove"];function Bue(r){for(var e=0;e<yB.length;e++)r.registerAction({type:yB[e],update:"updateView"},Wr);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=p1(t,o,a);if(l){var u=a.getViewRoot();u&&(t.direction=rR(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function t$(r){var e=r.getData(),t=e.tree,n={};t.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=ID(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",s)})}var Vue=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};r$(i);var a=t.levels||[],s=this.designatedVisualItemStyle={},o=new Gt({itemStyle:s},this,n);a=t.levels=zue(a,n);var l=ge(a||[],function(h){return new Gt(h,o,n)},this),u=tR.createTree(i,this,c);function c(h){h.wrapMethod("getItemModel",function(f,d){var p=u.getNodeByDataIndex(d),v=p?l[p.depth]:null;return f.parentModel=v||o,f})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return In("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=h2(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},he(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=Le(),this._idIndexMapCount=0);var i=n.get(t);return i==null&&n.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){t$(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â¶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(lr);function r$(r){var e=0;L(r.children,function(n){r$(n);var i=n.value;ve(i)&&(i=i[0]),e+=i});var t=r.value;ve(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ve(r.value)?r.value[0]=t:r.value=t}function zue(r,e){var t=qt(e.get("color")),n=qt(e.get(["aria","decal","decals"]));if(t){r=r||[];var i,a;L(r,function(o){var l=new Gt(o),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=r[0]||(r[0]={});return i||(s.color=t.slice()),!a&&n&&(s.decal=n.slice()),r}}var Hue=8,xB=8,xk=5,Gue=function(){function r(e){this.group=new Ke,e.add(this.group)}return r.prototype.render=function(e,t,n,i){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!n)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),h={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,u),this._renderContent(e,h,o,l,u,c,i),JA(s,h.pos,h.box)}},r.prototype._prepare=function(e,t,n){for(var i=e;i;i=i.parentNode){var a=fn(i.getModel().get("name"),""),s=n.getTextRect(a),o=Math.max(s.width+Hue*2,t.emptyItemWidth);t.totalWidth+=o+xB,t.renderList.push({node:i,text:a,width:o})}},r.prototype._renderContent=function(e,t,n,i,a,s,o){for(var l=0,u=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),h=qte(t.pos,t.box),f=t.totalWidth,d=t.renderList,p=i.getModel("itemStyle").getItemStyle(),v=d.length-1;v>=0;v--){var g=d[v],m=g.node,x=g.width,y=g.text;f>h.width&&(f-=x-u,x=u,y=null);var _=new ra({shape:{points:$ue(l,0,x,c,v===d.length-1,v===0)},style:ze(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Et({style:or(a,{text:y})}),textConfig:{position:"inside"},z2:Mg*1e4,onclick:Qe(o,m)});_.disableLabelAnimation=!0,_.getTextContent().ensureState("emphasis").style=or(s,{text:y}),_.ensureState("emphasis").style=p,Tr(_,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(_),Uue(_,e,m),l+=x+xB}},r.prototype.remove=function(){this.group.removeAll()},r}();function $ue(r,e,t,n,i,a){var s=[[i?r:r-xk,e],[r+t,e],[r+t,e+n],[i?r:r-xk,e+n]];return!a&&s.splice(2,0,[r+t+xk,e+n/2]),!i&&s.push([r,e+n/2]),s}function Uue(r,e,t){je(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&h2(t,e)}}var Wue=function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(e,t,n,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(e){return this._finishedCallback=e,this},r.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},r}();function Yue(){return new Wue}var iM=Ke,bB=Tt,_B=3,wB="label",SB="upperLabel",Xue=Mg*10,Kue=Mg*2,jue=Mg*3,Mf=_p([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),TB=function(r){var e=Mf(r);return e.stroke=e.fill=e.lineWidth=null,e},yT=At(),que=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=_m(),t}return e.prototype.render=function(t,n,i,a){var s=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(lt(s,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=p1(a,o,t),u=a&&a.type,c=t.layoutInfo,h=!this._oldTree,f=this._storage,d=u==="treemapRootToNode"&&l&&f?{rootNodeGroup:f.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,p=this._giveContainerGroup(c),v=t.get("animation"),g=this._doRender(p,t,d);v&&!h&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,g,t,d):g.renderFinally(),this._resetController(i),this._renderBreadcrumb(t,i,l)}},e.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new iM,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},e.prototype._doRender=function(t,n,i){var a=n.getData().tree,s=this._oldTree,o=_m(),l=_m(),u=this._storage,c=[];function h(x,y,_,S){return Zue(n,l,u,i,o,c,x,y,_,S)}v(a.root?[a.root]:[],s&&s.root?[s.root]:[],t,a===s||!s,0);var f=g(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var d=this.seriesModel.layoutInfo,p=a.root.getLayout();p.width===d.width&&p.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:f,renderFinally:m};function v(x,y,_,S,w){S?(y=x,L(x,function(C,k){!C.isRemoved()&&A(k,k)})):new Zu(y,x,T,T).add(A).update(A).remove(Qe(A,null)).execute();function T(C){return C.getId()}function A(C,k){var E=C!=null?x[C]:null,D=k!=null?y[k]:null,I=h(E,D,_,w);I&&v(E&&E.viewChildren||[],D&&D.viewChildren||[],I,S,w+1)}}function g(x){var y=_m();return x&&L(x,function(_,S){var w=y[S];L(_,function(T){T&&(w.push(T),yT(T).willDelete=!0)})}),y}function m(){L(f,function(x){L(x,function(y){y.parent&&y.parent.remove(y)})}),L(c,function(x){x.invisible=!0,x.dirty()})}},e.prototype._doAnimation=function(t,n,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(Ve(s)?0:s)||0,u=(Ve(o)?null:o)||"cubicOut",c=Yue();L(n.willDeleteEls,function(h,f){L(h,function(d,p){if(!d.invisible){var v=d.parent,g,m=yT(v);if(a&&a.direction==="drillDown")g=v===a.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var x=0,y=0;m.willDelete||(x=m.nodeWidth/2,y=m.nodeHeight/2),g=f==="nodeGroup"?{x,y,style:{opacity:0}}:{shape:{x,y,width:0,height:0},style:{opacity:0}}}g&&c.add(d,g,l,0,u)}})}),L(this._storage,function(h,f){L(h,function(d,p){var v=n.lastsForAnimation[f][p],g={};v&&(d instanceof Ke?v.oldX!=null&&(g.x=d.x,g.y=d.y,d.x=v.oldX,d.y=v.oldY):(v.oldShape&&(g.shape=he({},d.shape),d.setShape(v.oldShape)),v.fadein?(d.setStyle("opacity",0),g.style={opacity:1}):d.style.opacity!==1&&(g.style={opacity:1})),c.add(d,g,l,0,u))})},this),this._state="animating",c.finished(Ee(function(){this._state="ready",n.renderFinally()},this)).start()},e.prototype._resetController=function(t){var n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),n||(n=this._controller=new zb(t.getZr()),n.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",Ee(this._onPan,this)),n.on("zoom",Ee(this._onZoom,this)));var a=new at(0,0,t.getWidth(),t.getHeight());n.setPointerChecker(function(s,o,l){return a.contain(o,l)})},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>_B||Math.abs(t.dy)>_B)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var n=t.originX,i=t.originY,a=t.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new at(o.x,o.y,o.width,o.height),u=null,c=this._controllerHost;u=c.zoomLimit;var h=c.zoom=c.zoom||1;if(h*=a,u){var f=u.min||0,d=u.max||1/0;h=Math.max(Math.min(d,h),f)}var p=h/c.zoom;c.zoom=h;var v=this.seriesModel.layoutInfo;n-=v.x,i-=v.y;var g=Ya();bl(g,g,[-n,-i]),YL(g,g,[p,p]),bl(g,g,[n,i]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var n=this;t.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var s=n.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(a==="zoomToNode")n._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&rT(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,n,i){var a=this;i||(i=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Gue(this.group))).render(t,n,i.node,function(s){a._state!=="animating"&&(rR(t.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=_m(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(t,n),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e}(tr);function _m(){return{nodeGroup:[],background:[],content:[]}}function Zue(r,e,t,n,i,a,s,o,l,u){if(!s)return;var c=s.getLayout(),h=r.getData(),f=s.getModel();if(h.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var d=c.width,p=c.height,v=c.borderWidth,g=c.invisible,m=s.getRawIndex(),x=o&&o.getRawIndex(),y=s.viewChildren,_=c.upperHeight,S=y&&y.length,w=f.getModel("itemStyle"),T=f.getModel(["emphasis","itemStyle"]),A=f.getModel(["blur","itemStyle"]),C=f.getModel(["select","itemStyle"]),k=w.get("borderRadius")||0,E=K("nodeGroup",iM);if(!E)return;if(l.add(E),E.x=c.x||0,E.y=c.y||0,E.markRedraw(),yT(E).nodeWidth=d,yT(E).nodeHeight=p,c.isAboveViewRoot)return E;var D=K("background",bB,u,Kue);D&&ee(E,D,S&&c.upperLabelHeight);var I=f.getModel("emphasis"),P=I.get("focus"),F=I.get("blurScope"),V=I.get("disabled"),z=P==="ancestor"?s.getAncestorsIndices():P==="descendant"?s.getDescendantIndices():P;if(S)t1(E)&&Kf(E,!1),D&&(Kf(D,!V),h.setItemGraphicEl(s.dataIndex,D),SD(D,z,F));else{var G=K("content",bB,u,jue);G&&Q(E,G),D.disableMorphing=!0,D&&t1(D)&&Kf(D,!1),Kf(E,!V),h.setItemGraphicEl(s.dataIndex,E);var O=f.getShallow("cursor");O&&G.attr("cursor",O),SD(E,z,F)}return E;function ee(ae,re,ie){var se=je(re);if(se.dataIndex=s.dataIndex,se.seriesIndex=r.seriesIndex,re.setShape({x:0,y:0,width:d,height:p,r:k}),g)N(re);else{re.invisible=!1;var U=s.getVisual("style"),Oe=U.stroke,Se=TB(w);Se.fill=Oe;var Ie=Mf(T);Ie.fill=T.get("borderColor");var we=Mf(A);we.fill=A.get("borderColor");var be=Mf(C);if(be.fill=C.get("borderColor"),ie){var Fe=d-2*v;Y(re,Oe,U.opacity,{x:v,y:0,width:Fe,height:_})}else re.removeTextContent();re.setStyle(Se),re.ensureState("emphasis").style=Ie,re.ensureState("blur").style=we,re.ensureState("select").style=be,wp(re)}ae.add(re)}function Q(ae,re){var ie=je(re);ie.dataIndex=s.dataIndex,ie.seriesIndex=r.seriesIndex;var se=Math.max(d-2*v,0),U=Math.max(p-2*v,0);if(re.culling=!0,re.setShape({x:v,y:v,width:se,height:U,r:k}),g)N(re);else{re.invisible=!1;var Oe=s.getVisual("style"),Se=Oe.fill,Ie=TB(w);Ie.fill=Se,Ie.decal=Oe.decal;var we=Mf(T),be=Mf(A),Fe=Mf(C);Y(re,Se,Oe.opacity,null),re.setStyle(Ie),re.ensureState("emphasis").style=we,re.ensureState("blur").style=be,re.ensureState("select").style=Fe,wp(re)}ae.add(re)}function N(ae){!ae.invisible&&a.push(ae)}function Y(ae,re,ie,se){var U=f.getModel(se?SB:wB),Oe=fn(f.get("name"),null),Se=U.getShallow("show");ci(ae,Mn(f,se?SB:wB),{defaultText:Se?Oe:null,inheritColor:re,defaultOpacity:ie,labelFetcher:r,labelDataIndex:s.dataIndex});var Ie=ae.getTextContent();if(Ie){var we=Ie.style,be=$L(we.padding||0);se&&(ae.setTextConfig({layoutRect:se}),Ie.disableLabelLayout=!0),Ie.beforeUpdate=function(){var st=Math.max((se?se.width:ae.shape.width)-be[1]-be[3],0),pr=Math.max((se?se.height:ae.shape.height)-be[0]-be[2],0);(we.width!==st||we.height!==pr)&&Ie.setStyle({width:st,height:pr})},we.truncateMinChar=2,we.lineOverflow="truncate",W(we,se,c);var Fe=Ie.getState("emphasis");W(Fe?Fe.style:null,se,c)}}function W(ae,re,ie){var se=ae?ae.text:null;if(!re&&ie.isLeafRoot&&se!=null){var U=r.get("drillDownIcon",!0);ae.text=U?U+" "+se:se}}function K(ae,re,ie,se){var U=x!=null&&t[ae][x],Oe=i[ae];return U?(t[ae][x]=null,ne(Oe,U)):g||(U=new re,U instanceof Is&&(U.z2=Jue(ie,se)),fe(Oe,U)),e[ae][m]=U}function ne(ae,re){var ie=ae[m]={};re instanceof iM?(ie.oldX=re.x,ie.oldY=re.y):ie.oldShape=he({},re.shape)}function fe(ae,re){var ie=ae[m]={},se=s.parentNode,U=re instanceof Ke;if(se&&(!n||n.direction==="drillDown")){var Oe=0,Se=0,Ie=i.background[se.getRawIndex()];!n&&Ie&&Ie.oldShape&&(Oe=Ie.oldShape.width,Se=Ie.oldShape.height),U?(ie.oldX=0,ie.oldY=Se):ie.oldShape={x:Oe,y:Se,width:0,height:0}}ie.fadein=!U}}function Jue(r,e){return r*Xue+e}var v1=L,Que=Ue,xT=-1,En=function(){function r(e){var t=e.mappingMethod,n=e.type,i=this.option=Ye(e);this.type=n,this.mappingMethod=t,this._normalizeData=rce[t];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(bk(i),ece(i)):t==="category"?i.categories?tce(i):bk(i,!0):(Qi(t!=="linear"||i.dataExtent),bk(i))}return r.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},r.prototype.getNormalizer=function(){return Ee(this._normalizeData,this)},r.listVisualTypes=function(){return gt(r.visualHandlers)},r.isValidType=function(e){return r.visualHandlers.hasOwnProperty(e)},r.eachVisual=function(e,t,n){Ue(e)?L(e,t,n):t.call(n,e)},r.mapVisual=function(e,t,n){var i,a=ve(e)?[]:Ue(e)?{}:(i=!0,null);return r.eachVisual(e,function(s,o){var l=t.call(n,s,o);i?a=l:a[o]=l}),a},r.retrieveVisuals=function(e){var t={},n;return e&&v1(r.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(t[a]=e[a],n=!0)}),n?t:null},r.prepareVisualTypes=function(e){if(ve(e))e=e.slice();else if(Que(e)){var t=[];v1(e,function(n,i){t.push(i)}),e=t}else return[];return e.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},r.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},r.findPieceIndex=function(e,t,n){for(var i,a=1/0,s=0,o=t.length;s<o;s++){var l=t[s].value;if(l!=null){if(l===e||Ae(l)&&l===e+"")return s;n&&f(l,s)}}for(var s=0,o=t.length;s<o;s++){var u=t[s],c=u.interval,h=u.close;if(c){if(c[0]===-1/0){if(q_(h[1],e,c[1]))return s}else if(c[1]===1/0){if(q_(h[0],c[0],e))return s}else if(q_(h[0],c[0],e)&&q_(h[1],e,c[1]))return s;n&&f(c[0],s),n&&f(c[1],s)}}if(n)return e===1/0?t.length-1:e===-1/0?0:i;function f(d,p){var v=Math.abs(d-e);v<a&&(a=v,i=p)}},r.visualHandlers={color:{applyVisual:wm("color"),getColorMapper:function(){var e=this.option;return Ee(e.mappingMethod==="category"?function(t,n){return!n&&(t=this._normalizeData(t)),Wm.call(this,t)}:function(t,n,i){var a=!!i;return!n&&(t=this._normalizeData(t)),i=eC(t,e.parsedVisual,i),a?i:Bu(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Bu(eC(e,this.option.parsedVisual),"rgba")},category:Wm,piecewise:function(e,t){var n=sM.call(this,t);return n==null&&(n=Bu(eC(e,this.option.parsedVisual),"rgba")),n},fixed:If}},colorHue:j_(function(e,t){return wy(e,t)}),colorSaturation:j_(function(e,t){return wy(e,null,t)}),colorLightness:j_(function(e,t){return wy(e,null,null,t)}),colorAlpha:j_(function(e,t){return US(e,t)}),decal:{applyVisual:wm("decal"),_normalizedToVisual:{linear:null,category:Wm,piecewise:null,fixed:null}},opacity:{applyVisual:wm("opacity"),_normalizedToVisual:aM([0,1])},liftZ:{applyVisual:wm("liftZ"),_normalizedToVisual:{linear:If,category:If,piecewise:If,fixed:If}},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("symbol",i)},_normalizedToVisual:{linear:AB,category:Wm,piecewise:function(e,t){var n=sM.call(this,t);return n==null&&(n=AB.call(this,e)),n},fixed:If}},symbolSize:{applyVisual:wm("symbolSize"),_normalizedToVisual:aM([0,1])}},r}();function ece(r){var e=r.pieceList;r.hasSpecialVisual=!1,L(e,function(t,n){t.originIndex=n,t.visual!=null&&(r.hasSpecialVisual=!0)})}function tce(r){var e=r.categories,t=r.categoryMap={},n=r.visual;if(v1(e,function(s,o){t[s]=o}),!ve(n)){var i=[];Ue(n)?v1(n,function(s,o){var l=t[o];i[l??xT]=s}):i[xT]=n,n=n$(r,i)}for(var a=e.length-1;a>=0;a--)n[a]==null&&(delete t[e[a]],e.pop())}function bk(r,e){var t=r.visual,n=[];Ue(t)?v1(t,function(a){n.push(a)}):t!=null&&n.push(t);var i={color:1,symbol:1};!e&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),n$(r,n)}function j_(r){return{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);n("color",r(t("color"),i))},_normalizedToVisual:aM([0,1])}}function AB(r){var e=this.option.visual;return e[Math.round(zt(r,[0,1],[0,e.length-1],!0))]||{}}function wm(r){return function(e,t,n){n(r,this.mapValueToVisual(e))}}function Wm(r){var e=this.option.visual;return e[this.option.loop&&r!==xT?r%e.length:r]}function If(){return this.option.visual[0]}function aM(r){return{linear:function(e){return zt(e,r,this.option.visual,!0)},category:Wm,piecewise:function(e,t){var n=sM.call(this,t);return n==null&&(n=zt(e,r,this.option.visual,!0)),n},fixed:If}}function sM(r){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var n=En.findPieceIndex(r,t),i=t[n];if(i&&i.visual)return i.visual[this.type]}}function n$(r,e){return r.visual=e,r.type==="color"&&(r.parsedVisual=ge(e,function(t){var n=Xa(t);return n||[0,0,0,1]})),e}var rce={linear:function(r){return zt(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var e=this.option.pieceList,t=En.findPieceIndex(r,e,!0);if(t!=null)return zt(t,[0,e.length-1],[0,1],!0)},category:function(r){var e=this.option.categories?this.option.categoryMap[r]:r;return e??xT},fixed:Wr};function q_(r,e,t){return r?e<=t:e<t}var nce="itemStyle",i$=At();const ice={seriesType:"treemap",reset:function(r){var e=r.getData().tree,t=e.root;t.isRemoved()||a$(t,{},r.getViewRoot().getAncestors(),r)}};function a$(r,e,t,n){var i=r.getModel(),a=r.getLayout(),s=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(nce),l=ace(o,e,n),u=s.ensureUniqueItemVisual(r.dataIndex,"style"),c=o.get("borderColor"),h=o.get("borderColorSaturation"),f;h!=null&&(f=CB(l),c=sce(h,f)),u.stroke=c;var d=r.viewChildren;if(!d||!d.length)f=CB(l),u.fill=f;else{var p=oce(r,i,a,o,l,d);L(d,function(v,g){if(v.depth>=t.length||v===t[v.depth]){var m=lce(i,l,v,g,p,n);a$(v,m,t,n)}})}}}function ace(r,e,t){var n=he({},e),i=t.designatedVisualItemStyle;return L(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var s=r.get(a);i[a]=null,s!=null&&(n[a]=s)}),n}function CB(r){var e=_k(r,"color");if(e){var t=_k(r,"colorAlpha"),n=_k(r,"colorSaturation");return n&&(e=wy(e,null,null,n)),t&&(e=US(e,t)),e}}function sce(r,e){return e!=null?wy(e,null,null,r):null}function _k(r,e){var t=r[e];if(t!=null&&t!=="none")return t}function oce(r,e,t,n,i,a){if(!(!a||!a.length)){var s=wk(e,"color")||i.color!=null&&i.color!=="none"&&(wk(e,"colorAlpha")||wk(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),h={type:s.name,dataExtent:u,visual:s.range};h.type==="color"&&(c==="index"||c==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var f=new En(h);return i$(f).drColorMappingBy=c,f}}}function wk(r,e){var t=r.get(e);return ve(t)&&t.length?{name:e,range:t}:null}function lce(r,e,t,n,i,a){var s=he({},e);if(i){var o=i.type,l=o==="color"&&i$(i).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(r.get("visualDimension"));s[o]=i.mapValueToVisual(u)}return s}var g1=Math.max,bT=Math.min,kB=Un,nR=L,s$=["itemStyle","borderWidth"],uce=["itemStyle","gapWidth"],cce=["upperLabel","show"],hce=["upperLabel","height"];const fce={seriesType:"treemap",reset:function(r,e,t,n){var i=t.getWidth(),a=t.getHeight(),s=r.option,o=vn(r.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=s.size||[],u=_e(kB(o.width,l[0]),i),c=_e(kB(o.height,l[1]),a),h=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],d=p1(n,f,r),p=h==="treemapRender"||h==="treemapMove"?n.rootRect:null,v=r.getViewRoot(),g=e$(v);if(h!=="treemapMove"){var m=h==="treemapZoomToNode"?yce(r,d,v,u,c):p?[p.width,p.height]:[u,c],x=s.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var y={squareRatio:s.squareRatio,sort:x,leafDepth:s.leafDepth};v.hostTree.clearLayouts();var _={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};v.setLayout(_),o$(v,y,!1,0),_=v.getLayout(),nR(g,function(w,T){var A=(g[T+1]||v).getValue();w.setLayout(he({dataExtent:[A,A],borderWidth:0,upperHeight:0},_))})}var S=r.getData().tree.root;S.setLayout(xce(o,p,d),!0),r.setLayoutInfo(o),l$(S,new at(-o.x,-o.y,i,a),g,v,0)}};function o$(r,e,t,n){var i,a;if(!r.isRemoved()){var s=r.getLayout();i=s.width,a=s.height;var o=r.getModel(),l=o.get(s$),u=o.get(uce)/2,c=u$(o),h=Math.max(l,c),f=l-u,d=h-u;r.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:c},!0),i=g1(i-2*f,0),a=g1(a-f-d,0);var p=i*a,v=dce(r,o,p,e,t,n);if(v.length){var g={x:f,y:d,width:i,height:a},m=bT(i,a),x=1/0,y=[];y.area=0;for(var _=0,S=v.length;_<S;){var w=v[_];y.push(w),y.area+=w.getLayout().area;var T=mce(y,m,e.squareRatio);T<=x?(_++,x=T):(y.area-=y.pop().getLayout().area,EB(y,m,g,u,!1),m=bT(g.width,g.height),y.length=y.area=0,x=1/0)}if(y.length&&EB(y,m,g,u,!0),!t){var A=o.get("childrenVisibleMin");A!=null&&p<A&&(t=!0)}for(var _=0,S=v.length;_<S;_++)o$(v[_],e,t,n+1)}}}function dce(r,e,t,n,i,a){var s=r.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return r.viewChildren=[];s=Ot(s,function(d){return!d.isRemoved()}),vce(s,o);var u=gce(e,s,o);if(u.sum===0)return r.viewChildren=[];if(u.sum=pce(e,t,u.sum,o,s),u.sum===0)return r.viewChildren=[];for(var c=0,h=s.length;c<h;c++){var f=s[c].getValue()/u.sum*t;s[c].setLayout({area:f})}return l&&(s.length&&r.setLayout({isLeafRoot:!0},!0),s.length=0),r.viewChildren=s,r.setLayout({dataExtent:u.dataExtent},!0),s}function pce(r,e,t,n,i){if(!n)return t;for(var a=r.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var u=i[n==="asc"?s-l-1:l].getValue();u/t*e<a&&(o=l,t-=u)}return n==="asc"?i.splice(0,s-o):i.splice(o,s-o),t}function vce(r,e){return e&&r.sort(function(t,n){var i=e==="asc"?t.getValue()-n.getValue():n.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}),r}function gce(r,e,t){for(var n=0,i=0,a=e.length;i<a;i++)n+=e[i].getValue();var s=r.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&t?(o=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&o.reverse()):(o=[1/0,-1/0],nR(e,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:n,dataExtent:o}}function mce(r,e,t){for(var n=0,i=1/0,a=0,s=void 0,o=r.length;a<o;a++)s=r[a].getLayout().area,s&&(s<i&&(i=s),s>n&&(n=s));var l=r.area*r.area,u=e*e*t;return l?g1(u*n/l,l/(u*i)):1/0}function EB(r,e,t,n,i){var a=e===t.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=t[o[a]],c=e?r.area/e:0;(i||c>t[l[s]])&&(c=t[l[s]]);for(var h=0,f=r.length;h<f;h++){var d=r[h],p={},v=c?d.getLayout().area/c:0,g=p[l[s]]=g1(c-2*n,0),m=t[o[a]]+t[l[a]]-u,x=h===f-1||m<v?m:v,y=p[l[a]]=g1(x-2*n,0);p[o[s]]=t[o[s]]+bT(n,g/2),p[o[a]]=u+bT(n,y/2),u+=x,d.setLayout(p,!0)}t[o[s]]+=c,t[l[s]]-=c}function yce(r,e,t,n,i){var a=(e||{}).node,s=[n,i];if(!a||a===t)return s;for(var o,l=n*i,u=l*r.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,h=o.children,f=0,d=h.length;f<d;f++)c+=h[f].getValue();var p=a.getValue();if(p===0)return s;u*=c/p;var v=o.getModel(),g=v.get(s$),m=Math.max(g,u$(v));u+=4*g*g+(3*g+m)*Math.pow(u,.5),u>HF&&(u=HF),a=o}u<l&&(u=l);var x=Math.pow(u/l,.5);return[n*x,i*x]}function xce(r,e,t){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!t)return n;var i=t.node,a=i.getLayout();if(!a)return n;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:r.width/2-s[0],y:r.height/2-s[1]}}function l$(r,e,t,n,i){var a=r.getLayout(),s=t[i],o=s&&s===r;if(!(s&&!o||i===t.length&&r!==n)){r.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var l=new at(e.x-a.x,e.y-a.y,e.width,e.height);nR(r.viewChildren||[],function(u){l$(u,l,t,n,i+1)})}}function u$(r){return r.get(cce)?r.get(hce):0}function bce(r){r.registerSeriesModel(Vue),r.registerChartView(que),r.registerVisual(ice),r.registerLayout(fce),Bue(r)}function _ce(r){var e=r.findComponents({mainType:"legend"});!e||!e.length||r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph(),a=i.data,s=n.mapArray(n.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){Mt(u)&&(u=s[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function wce(r){var e={};r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),a={};n.each(function(s){var o=n.getName(s);a["ec-"+o]=s;var l=n.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(o,e)),n.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],h=0;h<c.length;h++){var f=l.getShallow(c[h],!0);f!=null&&n.setItemVisual(s,c[h],f)}}),n.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){Ae(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(s,"style");he(c,u);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)i.setItemVisual(s,h[f],n.getItemVisual(l,h[f]))}})})}function Z_(r){return r instanceof Array||(r=[r,r]),r}function Sce(r){r.eachSeriesByType("graph",function(e){var t=e.getGraph(),n=e.getEdgeData(),i=Z_(e.get("edgeSymbol")),a=Z_(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=t.getEdgeByIndex(s),u=Z_(o.getShallow("symbol",!0)),c=Z_(o.getShallow("symbolSize",!0)),h=o.getModel("lineStyle").getLineStyle(),f=n.ensureUniqueItemVisual(s,"style");switch(he(f,h),f.stroke){case"source":{var d=l.node1.getVisual("style");f.stroke=d&&d.fill;break}case"target":{var d=l.node2.getVisual("style");f.stroke=d&&d.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var oM="-->",f2=function(r){return r.get("autoCurveness")||null},c$=function(r,e){var t=f2(r),n=20,i=[];if(Mt(t))n=t;else if(ve(t)){r.__curvenessList=t;return}e>n&&(n=e);var a=n%2?n+2:n+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));r.__curvenessList=i},m1=function(r,e,t){var n=[r.id,r.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[t.uid,n,i].join(oM)},h$=function(r){var e=r.split(oM);return[e[0],e[2],e[1]].join(oM)},Tce=function(r,e){var t=m1(r.node1,r.node2,e);return e.__edgeMap[t]},Ace=function(r,e){var t=lM(m1(r.node1,r.node2,e),e),n=lM(m1(r.node2,r.node1,e),e);return t+n},lM=function(r,e){var t=e.__edgeMap;return t[r]?t[r].length:0};function Cce(r){f2(r)&&(r.__curvenessList=[],r.__edgeMap={},c$(r))}function kce(r,e,t,n){if(f2(t)){var i=m1(r,e,t),a=t.__edgeMap,s=a[h$(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function iR(r,e,t,n){var i=f2(e),a=ve(i);if(!i)return null;var s=Tce(r,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===t){o=l;break}var u=Ace(r,e);c$(e,u),r.lineStyle=r.lineStyle||{};var c=m1(r.node1,r.node2,e),h=e.__curvenessList,f=a||u%2?0:1;if(s.isForward)return h[f+o];var d=h$(c),p=lM(d,e),v=h[o+p+f];return n?a?i&&i[0]===0?(p+f)%2?v:-v:((p%2?0:1)+f)%2?v:-v:(p+f)%2?v:-v:h[o+p+f]}function f$(r){var e=r.coordinateSystem;if(!(e&&e.type!=="view")){var t=r.getGraph();t.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),aR(t,r)}}function aR(r,e){r.eachEdge(function(t,n){var i=vl(t.getModel().get(["lineStyle","curveness"]),-iR(t,e,n,!0),0),a=Fu(t.node1.getLayout()),s=Fu(t.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),t.setLayout(o)})}function Ece(r,e){r.eachSeriesByType("graph",function(t){var n=t.get("layout"),i=t.coordinateSystem;if(i&&i.type!=="view"){var a=t.getData(),s=[];L(i.dimensions,function(f){s=s.concat(a.mapDimensionsAll(f))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,c=0;c<s.length;c++){var h=a.get(s[c],o);isNaN(h)||(u=!0),l.push(h)}u?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}aR(a.graph,t)}else(!n||n==="none")&&f$(t)})}function Ym(r){var e=r.coordinateSystem;if(e.type!=="view")return 1;var t=r.option.nodeScaleRatio,n=e.scaleX,i=e.getZoom(),a=(i-1)*t+1;return a/n}function Xm(r){var e=r.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var DB=Math.PI,Sk=[];function sR(r,e,t,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=r.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,h=s.count();if(s.setLayout({cx:l,cy:u}),!!h){if(t){var f=i.pointToData(n),d=f[0],p=f[1],v=[d-l,p-u];kg(v,v),Pw(v,v,c),t.setLayout([l+v[0],u+v[1]],!0);var g=r.get(["circular","rotateLabel"]);d$(t,g,l,u)}Dce[e](r,o,s,c,l,u,h),o.eachEdge(function(m,x){var y=vl(m.getModel().get(["lineStyle","curveness"]),iR(m,r,x),0),_=Fu(m.node1.getLayout()),S=Fu(m.node2.getLayout()),w,T=(_[0]+S[0])/2,A=(_[1]+S[1])/2;+y&&(y*=3,w=[l*y+T*(1-y),u*y+A*(1-y)]),m.setLayout([_,S,w])})}}}var Dce={value:function(r,e,t,n,i,a,s){var o=0,l=t.getSum("value"),u=Math.PI*2/(l||s);e.eachNode(function(c){var h=c.getValue("value"),f=u*(l?h:1)/2;o+=f,c.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+a]),o+=f})},symbolSize:function(r,e,t,n,i,a,s){var o=0;Sk.length=s;var l=Ym(r);e.eachNode(function(h){var f=Xm(h);isNaN(f)&&(f=2),f<0&&(f=0),f*=l;var d=Math.asin(f/2/n);isNaN(d)&&(d=DB/2),Sk[h.dataIndex]=d,o+=d*2});var u=(2*DB-o)/s/2,c=0;e.eachNode(function(h){var f=u+Sk[h.dataIndex];c+=f,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=f})}};function d$(r,e,t,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(e){var l=r.getLayout(),u=Math.atan2(l[1]-n,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var h=c?"left":"right";o.setTextConfig({rotation:-u,position:h,origin:"center"});var f=o.ensureState("emphasis");he(f.textConfig||(f.textConfig={}),{position:h})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function Mce(r){r.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&sR(e,"symbolSize")})}var hv=KE;function Ice(r,e,t){for(var n=r,i=e,a=t.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=t.gravity==null?.1:t.gravity,c=0;c<n.length;c++){var h=n[c];h.p||(h.p=Lp(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),h.pp=Fu(h.p),h.edges=null}var f=t.friction==null?.6:t.friction,d=f,p,v;return{warmUp:function(){d=f*.8},setFixed:function(g){n[g].fixed=!0},setUnfixed:function(g){n[g].fixed=!1},beforeStep:function(g){p=g},afterStep:function(g){v=g},step:function(g){p&&p(n,i);for(var m=[],x=n.length,y=0;y<i.length;y++){var _=i[y];if(!_.ignoreForceLayout){var S=_.n1,w=_.n2;Yf(m,w.p,S.p);var T=jE(m)-_.d,A=w.w/(S.w+w.w);isNaN(A)&&(A=0),kg(m,m),!S.fixed&&hv(S.p,S.p,m,A*T*d),!w.fixed&&hv(w.p,w.p,m,-(1-A)*T*d)}}for(var y=0;y<x;y++){var C=n[y];C.fixed||(Yf(m,l,C.p),hv(C.p,C.p,m,u*d))}for(var y=0;y<x;y++)for(var S=n[y],k=y+1;k<x;k++){var w=n[k];Yf(m,w.p,S.p);var T=jE(m);T===0&&(rJ(m,Math.random()-.5,Math.random()-.5),T=1);var E=(S.rep+w.rep)/T/T;!S.fixed&&hv(S.pp,S.pp,m,E),!w.fixed&&hv(w.pp,w.pp,m,-E)}for(var D=[],y=0;y<x;y++){var C=n[y];C.fixed||(Yf(D,C.p,C.pp),hv(C.p,C.p,D,d),Vi(C.pp,C.p))}d=d*.992;var I=d<.01;v&&v(n,i,I),g&&g(I)}}}function Lce(r){r.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},i=e.getGraph(),a=i.data,s=i.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?a.each(function(y){var _=a.getId(y);a.setItemLayout(y,n[_]||[NaN,NaN])}):!l||l==="none"?f$(e):l==="circular"&&sR(e,"value");var u=a.getDataExtent("value"),c=s.getDataExtent("value"),h=o.get("repulsion"),f=o.get("edgeLength"),d=ve(h)?h:[h,h],p=ve(f)?f:[f,f];p=[p[1],p[0]];var v=a.mapArray("value",function(y,_){var S=a.getItemLayout(_),w=zt(y,u,d);return isNaN(w)&&(w=(d[0]+d[1])/2),{w,rep:w,fixed:a.getItemModel(_).get("fixed"),p:!S||isNaN(S[0])||isNaN(S[1])?null:S}}),g=s.mapArray("value",function(y,_){var S=i.getEdgeByIndex(_),w=zt(y,c,p);isNaN(w)&&(w=(p[0]+p[1])/2);var T=S.getModel(),A=vl(S.getModel().get(["lineStyle","curveness"]),-iR(S,e,_,!0),0);return{n1:v[S.node1.dataIndex],n2:v[S.node2.dataIndex],d:w,curveness:A,ignoreForceLayout:T.get("ignoreForceLayout")}}),m=t.getBoundingRect(),x=Ice(v,g,{rect:m,gravity:o.get("gravity"),friction:o.get("friction")});x.beforeStep(function(y,_){for(var S=0,w=y.length;S<w;S++)y[S].fixed&&Vi(y[S].p,i.getNodeByIndex(S).getLayout())}),x.afterStep(function(y,_,S){for(var w=0,T=y.length;w<T;w++)y[w].fixed||i.getNodeByIndex(w).setLayout(y[w].p),n[a.getId(w)]=y[w].p;for(var w=0,T=_.length;w<T;w++){var A=_[w],C=i.getEdgeByIndex(w),k=A.n1.p,E=A.n2.p,D=C.getLayout();D=D?D.slice():[],D[0]=D[0]||[],D[1]=D[1]||[],Vi(D[0],k),Vi(D[1],E),+A.curveness&&(D[2]=[(k[0]+E[0])/2-(k[1]-E[1])*A.curveness,(k[1]+E[1])/2-(E[0]-k[0])*A.curveness]),C.setLayout(D)}}),e.forceLayout=x,e.preservedPoints=n,x.step()}else e.forceLayout=null})}function Pce(r,e,t){var n=he(r.getBoxLayoutParams(),{aspect:t});return vn(n,{width:e.getWidth(),height:e.getHeight()})}function Rce(r,e){var t=[];return r.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var a=n.getData(),s=a.mapArray(function(g){var m=a.getItemModel(g);return[+m.get("x"),+m.get("y")]}),o=[],l=[];VA(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),c=Pce(n,e,u);isNaN(u)&&(o=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var h=l[0]-o[0],f=l[1]-o[1],d=c.width,p=c.height,v=n.coordinateSystem=new Hb;v.zoomLimit=n.get("scaleLimit"),v.setBoundingRect(o[0],o[1],h,f),v.setViewRect(c.x,c.y,d,p),v.setCenter(n.get("center"),e),v.setZoom(n.get("zoom")),t.push(v)}}),t}var MB=Sn.prototype,Tk=Cb.prototype,p$=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r}();(function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(p$);function Ak(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var Oce=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new p$},e.prototype.buildPath=function(t,n){Ak(n)?MB.buildPath.call(this,t,n):Tk.buildPath.call(this,t,n)},e.prototype.pointAt=function(t){return Ak(this.shape)?MB.pointAt.call(this,t):Tk.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var n=this.shape,i=Ak(n)?[n.x2-n.x1,n.y2-n.y1]:Tk.tangentAt.call(this,t);return kg(i,i)},e}(dt),Ck=["fromSymbol","toSymbol"];function IB(r){return"_"+r+"Type"}function LB(r,e,t){var n=e.getItemVisual(t,r);if(!n||n==="none")return n;var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=Vg(i),u=Fp(s||0,l);return n+l+u+(a||"")+(o||"")}function PB(r,e,t){var n=e.getItemVisual(t,r);if(!(!n||n==="none")){var i=e.getItemVisual(t,r+"Size"),a=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=Vg(i),u=Fp(s||0,l),c=Qr(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=r,c}}function Fce(r){var e=new Oce({name:"line",subPixelOptimize:!0});return uM(e.shape,r),e}function uM(r,e){r.x1=e[0][0],r.y1=e[0][1],r.x2=e[1][0],r.y2=e[1][1],r.percent=1;var t=e[2];t?(r.cpx1=t[0],r.cpy1=t[1]):(r.cpx1=NaN,r.cpy1=NaN)}var oR=function(r){te(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createLine(t,n,i),a}return e.prototype._createLine=function(t,n,i){var a=t.hostModel,s=t.getItemLayout(n),o=Fce(s);o.shape.percent=0,gr(o,{shape:{percent:1}},a,n),this.add(o),L(Ck,function(l){var u=PB(l,t,n);this.add(u),this[IB(l)]=LB(l,t,n)},this),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=t.getItemLayout(n),l={shape:{}};uM(l.shape,o),It(s,l,a,n),L(Ck,function(u){var c=LB(u,t,n),h=IB(u);if(this[h]!==c){this.remove(this.childOfName(u));var f=PB(u,t,n);this.add(f)}this[h]=c},this),this._updateCommonStl(t,n,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,n,i){var a=t.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,f=i&&i.focus,d=i&&i.blurScope;if(!i||t.hasItemOption){var p=t.getItemModel(n),v=p.getModel("emphasis");o=v.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),h=v.get("disabled"),f=v.get("focus"),d=v.get("blurScope"),c=Mn(p)}var g=t.getItemVisual(n,"style"),m=g.stroke;s.useStyle(g),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,L(Ck,function(w){var T=this.childOfName(w);if(T){T.setColor(m),T.style.opacity=g.opacity;for(var A=0;A<ea.length;A++){var C=ea[A],k=s.getState(C);if(k){var E=k.style||{},D=T.ensureState(C),I=D.style||(D.style={});E.stroke!=null&&(I[T.__isEmptyBrush?"stroke":"fill"]=E.stroke),E.opacity!=null&&(I.opacity=E.opacity)}}T.markRedraw()}},this);var x=a.getRawValue(n);ci(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(w,T){return a.getFormattedLabel(w,T,t.dataType)}},inheritColor:m||"#000",defaultOpacity:g.opacity,defaultText:(x==null?t.getName(n):isFinite(x)?Hr(x):x)+""});var y=this.getTextContent();if(y){var _=c.normal;y.__align=y.style.align,y.__verticalAlign=y.style.verticalAlign,y.__position=_.get("position")||"middle";var S=_.get("distance");ve(S)||(S=[S,S]),y.__labelDistance=S}this.setTextConfig({position:null,local:!0,inside:!1}),Tr(this,f,d,h)},e.prototype.highlight=function(){ju(this)},e.prototype.downplay=function(){qu(this)},e.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},e.prototype.setLinePoints=function(t){var n=this.childOfName("line");uM(n.shape,t),n.dirty()},e.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),a=t.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),h=l.pointAt(u),f=Yf([],h,c);kg(f,f);function d(k,E){var D=k.__specifiedRotation;if(D==null){var I=l.tangentAt(E);k.attr("rotation",(E===1?-1:1)*Math.PI/2-Math.atan2(I[1],I[0]))}else k.attr("rotation",D)}if(n&&(n.setPosition(c),d(n,0),n.scaleX=n.scaleY=s*u,n.markRedraw()),i&&(i.setPosition(h),d(i,1),i.scaleX=i.scaleY=s*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,v=void 0,g=a.__labelDistance,m=g[0]*s,x=g[1]*s,y=u/2,_=l.tangentAt(y),S=[_[1],-_[0]],w=l.pointAt(y);S[1]>0&&(S[0]=-S[0],S[1]=-S[1]);var T=_[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var A=-Math.atan2(_[1],_[0]);h[0]<c[0]&&(A=Math.PI+A),a.rotation=A}var C=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":C=-x,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":C=x,v="top";break;default:C=0,v="middle"}switch(a.__position){case"end":a.x=f[0]*m+h[0],a.y=f[1]*x+h[1],p=f[0]>.8?"left":f[0]<-.8?"right":"center",v=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*m+c[0],a.y=-f[1]*x+c[1],p=f[0]>.8?"right":f[0]<-.8?"left":"center",v=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=m*T+c[0],a.y=c[1]+C,p=_[0]<0?"right":"left",a.originX=-m*T,a.originY=-C;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=w[0],a.y=w[1]+C,p="center",a.originY=-C;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-m*T+h[0],a.y=h[1]+C,p=_[0]>=0?"right":"left",a.originX=m*T,a.originY=-C;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||v,align:a.__align||p})}},e}(Ke),lR=function(){function r(e){this.group=new Ke,this._LineCtor=e||oR}return r.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=e,a||i.removeAll();var s=RB(e);e.diff(a).add(function(o){t._doAdd(e,o,s)}).update(function(o,l){t._doUpdate(a,e,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},r.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=RB(e),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function n(o){!o.isGroup&&!Nce(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(kk(a)){var s=new this._LineCtor(t,i,this._seriesScope);s.traverse(n),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(e){Zh(this._progressiveEls||this.group,e)},r.prototype._doAdd=function(e,t,n){var i=e.getItemLayout(t);if(kk(i)){var a=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,a),this.group.add(a)}},r.prototype._doUpdate=function(e,t,n,i,a){var s=e.getItemGraphicEl(n);if(!kk(t.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(t,i,a):s=new this._LineCtor(t,i,a),t.setItemGraphicEl(i,s),this.group.add(s)},r}();function Nce(r){return r.animators&&r.animators.length>0}function RB(r){var e=r.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:Mn(e)}}function OB(r){return isNaN(r[0])||isNaN(r[1])}function kk(r){return r&&!OB(r[0])&&!OB(r[1])}var Ek=[],Dk=[],Mk=[],fv=Gn,Ik=op,FB=Math.abs;function NB(r,e,t){for(var n=r[0],i=r[1],a=r[2],s=1/0,o,l=t*t,u=.1,c=.1;c<=.9;c+=.1){Ek[0]=fv(n[0],i[0],a[0],c),Ek[1]=fv(n[1],i[1],a[1],c);var h=FB(Ik(Ek,e)-l);h<s&&(s=h,o=c)}for(var f=0;f<32;f++){var d=o+u;Dk[0]=fv(n[0],i[0],a[0],o),Dk[1]=fv(n[1],i[1],a[1],o),Mk[0]=fv(n[0],i[0],a[0],d),Mk[1]=fv(n[1],i[1],a[1],d);var h=Ik(Dk,e)-l;if(FB(h)<.01)break;var p=Ik(Mk,e)-l;u/=2,h<0?p>=0?o=o+u:o=o-u:p>=0?o=o-u:o=o+u}return o}function Lk(r,e){var t=[],n=jy,i=[[],[],[]],a=[[],[]],s=[];e/=2,r.eachEdge(function(o,l){var u=o.getLayout(),c=o.getVisual("fromSymbol"),h=o.getVisual("toSymbol");u.__original||(u.__original=[Fu(u[0]),Fu(u[1])],u[2]&&u.__original.push(Fu(u[2])));var f=u.__original;if(u[2]!=null){if(Vi(i[0],f[0]),Vi(i[1],f[2]),Vi(i[2],f[1]),c&&c!=="none"){var d=Xm(o.node1),p=NB(i,f[0],d*e);n(i[0][0],i[1][0],i[2][0],p,t),i[0][0]=t[3],i[1][0]=t[4],n(i[0][1],i[1][1],i[2][1],p,t),i[0][1]=t[3],i[1][1]=t[4]}if(h&&h!=="none"){var d=Xm(o.node2),p=NB(i,f[1],d*e);n(i[0][0],i[1][0],i[2][0],p,t),i[1][0]=t[1],i[2][0]=t[2],n(i[0][1],i[1][1],i[2][1],p,t),i[1][1]=t[1],i[2][1]=t[2]}Vi(u[0],i[0]),Vi(u[1],i[2]),Vi(u[2],i[1])}else{if(Vi(a[0],f[0]),Vi(a[1],f[1]),Yf(s,a[1],a[0]),kg(s,s),c&&c!=="none"){var d=Xm(o.node1);KE(a[0],a[0],s,d*e)}if(h&&h!=="none"){var d=Xm(o.node2);KE(a[1],a[1],s,-d*e)}Vi(u[0],a[0]),Vi(u[1],a[1])}})}function BB(r){return r.type==="view"}var Bce=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){var i=new Ob,a=new lR,s=this.group;this._controller=new zb(n.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(t,n,i){var a=this,s=t.coordinateSystem;this._model=t;var o=this._symbolDraw,l=this._lineDraw,u=this.group;if(BB(s)){var c={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?u.attr(c):It(u,c,t)}Lk(t.getGraph(),Ym(t));var h=t.getData();o.updateData(h);var f=t.getEdgeData();l.updateData(f),this._updateNodeAndLinkScale(),this._updateController(t,n,i),clearTimeout(this._layoutTimeout);var d=t.forceLayout,p=t.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,p);var v=t.get("layout");h.graph.eachNode(function(y){var _=y.dataIndex,S=y.getGraphicEl(),w=y.getModel();if(S){S.off("drag").off("dragend");var T=w.get("draggable");T&&S.on("drag",function(C){switch(v){case"force":d.warmUp(),!a._layouting&&a._startForceLayoutIteration(d,p),d.setFixed(_),h.setItemLayout(_,[S.x,S.y]);break;case"circular":h.setItemLayout(_,[S.x,S.y]),y.setLayout({fixed:!0},!0),sR(t,"symbolSize",y,[C.offsetX,C.offsetY]),a.updateLayout(t);break;case"none":default:h.setItemLayout(_,[S.x,S.y]),aR(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){d&&d.setUnfixed(_)}),S.setDraggable(T,!!w.get("cursor"));var A=w.get(["emphasis","focus"]);A==="adjacency"&&(je(S).focus=y.getAdjacentDataIndices())}}),h.graph.eachEdge(function(y){var _=y.getGraphicEl(),S=y.getModel().get(["emphasis","focus"]);_&&S==="adjacency"&&(je(_).focus={edge:[y.dataIndex],node:[y.node1.dataIndex,y.node2.dataIndex]})});var g=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),m=h.getLayout("cx"),x=h.getLayout("cy");h.graph.eachNode(function(y){d$(y,g,m,x)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,n){var i=this;(function a(){t.step(function(s){i.updateLayout(i._model),(i._layouting=!s)&&(n?i._layoutTimeout=setTimeout(a,16):a())})})()},e.prototype._updateController=function(t,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;if(s.setPointerChecker(function(u,c,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(c,h)&&!u2(u,i,t)}),!BB(t.coordinateSystem)){s.disable();return}s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){qP(o,u.dx,u.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){ZP(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),Lk(t.getGraph(),Ym(t)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),i=Ym(t);n.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(t){Lk(t.getGraph(),Ym(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(tr);function dv(r){return"_EC_"+r}var Vce=function(){function r(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var n=this._nodesMap;if(!n[dv(e)]){var i=new Lf(e,t);return i.hostGraph=this,this.nodes.push(i),n[dv(e)]=i,i}},r.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},r.prototype.getNodeById=function(e){return this._nodesMap[dv(e)]},r.prototype.addEdge=function(e,t,n){var i=this._nodesMap,a=this._edgesMap;if(Mt(e)&&(e=this.nodes[e]),Mt(t)&&(t=this.nodes[t]),e instanceof Lf||(e=i[dv(e)]),t instanceof Lf||(t=i[dv(t)]),!(!e||!t)){var s=e.id+"-"+t.id,o=new v$(e,t,n);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),a[s]=o,o}},r.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},r.prototype.getEdge=function(e,t){e instanceof Lf&&(e=e.id),t instanceof Lf&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},r.prototype.eachNode=function(e,t){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&e.call(t,n[a],a)},r.prototype.eachEdge=function(e,t){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&e.call(t,n[a],a)},r.prototype.breadthFirstTraverse=function(e,t,n,i){if(t instanceof Lf||(t=this._nodesMap[dv(t)]),!!t){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(i,t,null))for(var o=[t];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var c=u[s],h=c.node1===l?c.node2:c.node1;if(!h.__visited){if(e.call(i,h,l))return;o.push(h),h.__visited=!0}}}},r.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,i=this.edges,a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)n[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(o){var l=i[t.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)i[t.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var e=new r(this._directed),t=this.nodes,n=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},r}(),Lf=function(){function r(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},r.prototype.getTrajectoryDataIndices=function(){for(var e=Le(),t=Le(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var a=[i.node1],s=[i.node2],o=0;o<a.length;){var l=a[o];o++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(o=0;o<s.length;){var c=s[o];o++,t.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),s.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},r}(),v$=function(){function r(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=n??-1}return r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var e=Le(),t=Le();e.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var s=n[a];a++,t.set(s.dataIndex,!0);for(var o=0;o<s.inEdges.length;o++)e.set(s.inEdges[o].dataIndex,!0),n.push(s.inEdges[o].node1)}for(a=0;a<i.length;){var l=i[a];a++,t.set(l.dataIndex,!0);for(var o=0;o<l.outEdges.length;o++)e.set(l.outEdges[o].dataIndex,!0),i.push(l.outEdges[o].node2)}return{edge:e.keys(),node:t.keys()}},r}();function g$(r,e){return{getValue:function(t){var n=this[r][e];return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,n){this.dataIndex>=0&&this[r][e].setItemVisual(this.dataIndex,t,n)},getVisual:function(t){return this[r][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,n){this.dataIndex>=0&&this[r][e].setItemLayout(this.dataIndex,t,n)},getLayout:function(){return this[r][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][e].getRawIndex(this.dataIndex)}}}tn(Lf,g$("hostGraph","data"));tn(v$,g$("hostGraph","edgeData"));function m$(r,e,t,n,i){for(var a=new Vce(n),s=0;s<r.length;s++)a.addNode(Un(r[s].id,r[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<e.length;s++){var c=e[s],h=c.source,f=c.target;a.addEdge(h,f,u)&&(l.push(c),o.push(Un(fn(c.id,null),h+" > "+f)),u++)}var d=t.get("coordinateSystem"),p;if(d==="cartesian2d"||d==="polar")p=sc(r,t);else{var v=Mb.get(d),g=v?v.dimensions||[]:[];lt(g,"value")<0&&g.concat(["value"]);var m=Lb(r,{coordDimensions:g,encodeDefine:t.getEncode()}).dimensions;p=new ji(m,t),p.initData(r)}var x=new ji(["value"],t);return x.initData(l,o),i&&i(p,x),JG({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:x},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var zce=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new Vb(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){r.prototype.mergeDefaultAndTheme.apply(this,arguments),xp(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=this;if(a&&i){Cce(this);var o=m$(a,i,this,!0,l);return L(o.edges,function(u){kce(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var v=s._categoriesModels,g=p.getShallow("category"),m=v[g];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var h=Gt.prototype.getModel;function f(p,v){var g=h.call(this,p,v);return g.resolveParentPath=d,g}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=d,p.getModel=f,p});function d(p){if(p&&(p[0]==="label"||p[1]==="label")){var v=p.slice();return p[0]==="label"?v[0]="edgeLabel":p[1]==="label"&&(v[1]="edgeLabel"),v}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,n,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(t,i),o=a.graph.getEdgeByIndex(t),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),In("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var h=H7({series:this,dataIndex:t,multipleSeries:n});return h},e.prototype._updateCategoriesData=function(){var t=ge(this.option.categories||[],function(i){return i.value!=null?i:he({value:0},i)}),n=new ji(["value"],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(lr),Hce={type:"graphRoam",event:"graphRoam",update:"none"};function Gce(r){r.registerChartView(Bce),r.registerSeriesModel(zce),r.registerProcessor(_ce),r.registerVisual(wce),r.registerVisual(Sce),r.registerLayout(Ece),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Mce),r.registerLayout(Lce),r.registerCoordinateSystem("graphView",{dimensions:Hb.dimensions,create:Rce}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Wr),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Wr),r.registerAction(Hce,function(e,t,n){t.eachComponent({mainType:"series",query:e},function(i){var a=i.coordinateSystem,s=QP(a,e,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var $ce=function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r}(),Uce=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="pointer",n}return e.prototype.getDefaultShape=function(){return new $ce},e.prototype.buildPath=function(t,n){var i=Math.cos,a=Math.sin,s=n.r,o=n.width,l=n.angle,u=n.x-i(l)*o*(o>=s/3?1:2),c=n.y-a(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(n.x+i(l)*o,n.y+a(l)*o),t.lineTo(n.x+i(n.angle)*s,n.y+a(n.angle)*s),t.lineTo(n.x-i(l)*o,n.y-a(l)*o),t.lineTo(u,c)},e}(dt);function Wce(r,e){var t=r.get("center"),n=e.getWidth(),i=e.getHeight(),a=Math.min(n,i),s=_e(t[0],e.getWidth()),o=_e(t[1],e.getHeight()),l=_e(r.get("radius"),a/2);return{cx:s,cy:o,r:l}}function J_(r,e){var t=r==null?"":r+"";return e&&(Ae(e)?t=e.replace("{value}",t):Ve(e)&&(t=e(r))),t}var Yce=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),s=Wce(t,i);this._renderMain(t,n,i,a,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,n,i,a,s){var o=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,h=t.getModel("axisLine"),f=h.get("roundCap"),d=f?vT:ta,p=h.get("show"),v=h.getModel("lineStyle"),g=v.get("width"),m=[u,c];tP(m,!l),u=m[0],c=m[1];for(var x=c-u,y=u,_=[],S=0;p&&S<a.length;S++){var w=Math.min(Math.max(a[S][0],0),1);c=u+x*w;var T=new d({shape:{startAngle:y,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-g,r:s.r},silent:!0});T.setStyle({fill:a[S][1]}),T.setStyle(v.getLineStyle(["color","width"])),_.push(T),y=c}_.reverse(),L(_,function(C){return o.add(C)});var A=function(C){if(C<=0)return a[0][1];var k;for(k=0;k<a.length;k++)if(a[k][0]>=C&&(k===0?0:a[k-1][0])<C)return a[k][1];return a[k-1][1]};this._renderTicks(t,n,i,A,s,u,c,l,g),this._renderTitleAndDetail(t,n,i,A,s),this._renderAnchor(t,s),this._renderPointer(t,n,i,A,s,u,c,l,g)},e.prototype._renderTicks=function(t,n,i,a,s,o,l,u,c){for(var h=this.group,f=s.cx,d=s.cy,p=s.r,v=+t.get("min"),g=+t.get("max"),m=t.getModel("splitLine"),x=t.getModel("axisTick"),y=t.getModel("axisLabel"),_=t.get("splitNumber"),S=x.get("splitNumber"),w=_e(m.get("length"),p),T=_e(x.get("length"),p),A=o,C=(l-o)/_,k=C/S,E=m.getModel("lineStyle").getLineStyle(),D=x.getModel("lineStyle").getLineStyle(),I=m.get("distance"),P,F,V=0;V<=_;V++){if(P=Math.cos(A),F=Math.sin(A),m.get("show")){var z=I?I+c:c,G=new Sn({shape:{x1:P*(p-z)+f,y1:F*(p-z)+d,x2:P*(p-w-z)+f,y2:F*(p-w-z)+d},style:E,silent:!0});E.stroke==="auto"&&G.setStyle({stroke:a(V/_)}),h.add(G)}if(y.get("show")){var z=y.get("distance")+I,O=J_(Hr(V/_*(g-v)+v),y.get("formatter")),ee=a(V/_),Q=P*(p-w-z)+f,N=F*(p-w-z)+d,Y=y.get("rotate"),W=0;Y==="radial"?(W=-A+2*Math.PI,W>Math.PI/2&&(W+=Math.PI)):Y==="tangential"?W=-A-Math.PI/2:Mt(Y)&&(W=Y*Math.PI/180),W===0?h.add(new Et({style:or(y,{text:O,x:Q,y:N,verticalAlign:F<-.8?"top":F>.8?"bottom":"middle",align:P<-.4?"left":P>.4?"right":"center"},{inheritColor:ee}),silent:!0})):h.add(new Et({style:or(y,{text:O,x:Q,y:N,verticalAlign:"middle",align:"center"},{inheritColor:ee}),silent:!0,originX:Q,originY:N,rotation:W}))}if(x.get("show")&&V!==_){var z=x.get("distance");z=z?z+c:c;for(var K=0;K<=S;K++){P=Math.cos(A),F=Math.sin(A);var ne=new Sn({shape:{x1:P*(p-z)+f,y1:F*(p-z)+d,x2:P*(p-T-z)+f,y2:F*(p-T-z)+d},silent:!0,style:D});D.stroke==="auto"&&ne.setStyle({stroke:a((V+K/S)/_)}),h.add(ne),A+=k}A-=k}else A+=C}},e.prototype._renderPointer=function(t,n,i,a,s,o,l,u,c){var h=this.group,f=this._data,d=this._progressEls,p=[],v=t.get(["pointer","show"]),g=t.getModel("progress"),m=g.get("show"),x=t.getData(),y=x.mapDimension("value"),_=+t.get("min"),S=+t.get("max"),w=[_,S],T=[o,l];function A(k,E){var D=x.getItemModel(k),I=D.getModel("pointer"),P=_e(I.get("width"),s.r),F=_e(I.get("length"),s.r),V=t.get(["pointer","icon"]),z=I.get("offsetCenter"),G=_e(z[0],s.r),O=_e(z[1],s.r),ee=I.get("keepAspect"),Q;return V?Q=Qr(V,G-P/2,O-F,P,F,null,ee):Q=new Uce({shape:{angle:-Math.PI/2,width:P,r:F,x:G,y:O}}),Q.rotation=-(E+Math.PI/2),Q.x=s.cx,Q.y=s.cy,Q}function C(k,E){var D=g.get("roundCap"),I=D?vT:ta,P=g.get("overlap"),F=P?g.get("width"):c/x.count(),V=P?s.r-F:s.r-(k+1)*F,z=P?s.r:s.r-k*F,G=new I({shape:{startAngle:o,endAngle:E,cx:s.cx,cy:s.cy,clockwise:u,r0:V,r:z}});return P&&(G.z2=zt(x.get(y,k),[_,S],[100,0],!0)),G}(m||v)&&(x.diff(f).add(function(k){var E=x.get(y,k);if(v){var D=A(k,o);gr(D,{rotation:-((isNaN(+E)?T[0]:zt(E,w,T,!0))+Math.PI/2)},t),h.add(D),x.setItemGraphicEl(k,D)}if(m){var I=C(k,o),P=g.get("clip");gr(I,{shape:{endAngle:zt(E,w,T,P)}},t),h.add(I),bD(t.seriesIndex,x.dataType,k,I),p[k]=I}}).update(function(k,E){var D=x.get(y,k);if(v){var I=f.getItemGraphicEl(E),P=I?I.rotation:o,F=A(k,P);F.rotation=P,It(F,{rotation:-((isNaN(+D)?T[0]:zt(D,w,T,!0))+Math.PI/2)},t),h.add(F),x.setItemGraphicEl(k,F)}if(m){var V=d[E],z=V?V.shape.endAngle:o,G=C(k,z),O=g.get("clip");It(G,{shape:{endAngle:zt(D,w,T,O)}},t),h.add(G),bD(t.seriesIndex,x.dataType,k,G),p[k]=G}}).execute(),x.each(function(k){var E=x.getItemModel(k),D=E.getModel("emphasis"),I=D.get("focus"),P=D.get("blurScope"),F=D.get("disabled");if(v){var V=x.getItemGraphicEl(k),z=x.getItemVisual(k,"style"),G=z.fill;if(V instanceof Yn){var O=V.style;V.useStyle(he({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},z))}else V.useStyle(z),V.type!=="pointer"&&V.setColor(G);V.setStyle(E.getModel(["pointer","itemStyle"]).getItemStyle()),V.style.fill==="auto"&&V.setStyle("fill",a(zt(x.get(y,k),w,[0,1],!0))),V.z2EmphasisLift=0,ui(V,E),Tr(V,I,P,F)}if(m){var ee=p[k];ee.useStyle(x.getItemVisual(k,"style")),ee.setStyle(E.getModel(["progress","itemStyle"]).getItemStyle()),ee.z2EmphasisLift=0,ui(ee,E),Tr(ee,I,P,F)}}),this._progressEls=p)},e.prototype._renderAnchor=function(t,n){var i=t.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=Qr(o,n.cx-s/2+_e(l[0],n.r),n.cy-s/2+_e(l[1],n.r),s,s,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,n,i,a,s){var o=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),h=+t.get("max"),f=new Ke,d=[],p=[],v=t.isAnimationEnabled(),g=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){d[m]=new Et({silent:!0}),p[m]=new Et({silent:!0})}).update(function(m,x){d[m]=o._titleEls[x],p[m]=o._detailEls[x]}).execute(),l.each(function(m){var x=l.getItemModel(m),y=l.get(u,m),_=new Ke,S=a(zt(y,[c,h],[0,1],!0)),w=x.getModel("title");if(w.get("show")){var T=w.get("offsetCenter"),A=s.cx+_e(T[0],s.r),C=s.cy+_e(T[1],s.r),k=d[m];k.attr({z2:g?0:2,style:or(w,{x:A,y:C,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:S})}),_.add(k)}var E=x.getModel("detail");if(E.get("show")){var D=E.get("offsetCenter"),I=s.cx+_e(D[0],s.r),P=s.cy+_e(D[1],s.r),F=_e(E.get("width"),s.r),V=_e(E.get("height"),s.r),z=t.get(["progress","show"])?l.getItemVisual(m,"style").fill:S,k=p[m],G=E.get("formatter");k.attr({z2:g?0:2,style:or(E,{x:I,y:P,text:J_(y,G),width:isNaN(F)?null:F,height:isNaN(V)?null:V,align:"center",verticalAlign:"middle"},{inheritColor:z})}),WH(k,{normal:E},y,function(ee){return J_(ee,G)}),v&&YH(k,m,l,t,{getFormattedLabel:function(ee,Q,N,Y,W,K){return J_(K?K.interpolatedValue:y,G)}}),_.add(k)}f.add(_)}),this.group.add(f),this._titleEls=d,this._detailEls=p},e.type="gauge",e}(tr),Xce=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,n){return Hg(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(lr);function Kce(r){r.registerChartView(Yce),r.registerSeriesModel(Xce)}var jce=["itemStyle","opacity"],qce=function(r){te(e,r);function e(t,n){var i=r.call(this)||this,a=i,s=new aa,o=new Et;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(t,n,!0),i}return e.prototype.updateData=function(t,n,i){var a=this,s=t.hostModel,o=t.getItemModel(n),l=t.getItemLayout(n),u=o.getModel("emphasis"),c=o.get(jce);c=c??1,i||bo(a),a.useStyle(t.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,gr(a,{style:{opacity:c}},s,n)):It(a,{style:{opacity:c},shape:{points:l.points}},s,n),ui(a,o),this._updateLabel(t,n),Tr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=t.hostModel,l=t.getItemModel(n),u=t.getItemLayout(n),c=u.label,h=t.getItemVisual(n,"style"),f=h.fill;ci(s,Mn(l),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:h.opacity,defaultText:t.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:f,outsideFill:f});var d=c.linePoints;a.setShape({points:d}),i.textGuideLineConfig={anchor:d?new nt(d[0][0],d[0][1]):null},It(s,{style:{x:c.x,y:c.y}},o,n),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),VP(i,zP(l),{stroke:f})},e}(ra),Zce=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new qce(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(a,l),o.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);r1(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(tr),Jce=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Vb(Ee(this.getData,this),Ee(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,n){return Hg(this,{coordDimensions:["value"],encodeDefaulter:Qe(yP,this)})},e.prototype._defaultLabelLine=function(t){xp(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var n=this.getData(),i=r.prototype.getDataParams.call(this,t),a=n.mapDimension("value"),s=n.getSum(a);return i.percent=s?+(n.get(a,t)/s*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(lr);function Qce(r,e){return vn(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ehe(r,e){for(var t=r.mapDimension("value"),n=r.mapArray(t,function(l){return l}),i=[],a=e==="ascending",s=0,o=r.count();s<o;s++)i[s]=s;return Ve(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),i}function the(r){var e=r.hostModel,t=e.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=r.getItemLayout(n),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",h,f,d,p;if(c)s==="insideLeft"?(f=(u[0][0]+u[3][0])/2+5,d=(u[0][1]+u[3][1])/2,h="left"):s==="insideRight"?(f=(u[1][0]+u[2][0])/2-5,d=(u[1][1]+u[2][1])/2,h="right"):(f=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,d=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,h="center"),p=[[f,d],[f,d]];else{var v=void 0,g=void 0,m=void 0,x=void 0,y=o.get("length");s==="left"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,m=v-y,f=m-5,h="right"):s==="right"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,m=v+y,f=m+5,h="left"):s==="top"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,x=g-y,d=x-5,h="center"):s==="bottom"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,x=g+y,d=x+5,h="center"):s==="rightTop"?(v=t==="horizontal"?u[3][0]:u[1][0],g=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(x=g-y,d=x-5,h="center"):(m=v+y,f=m+5,h="top")):s==="rightBottom"?(v=u[2][0],g=u[2][1],t==="horizontal"?(x=g+y,d=x+5,h="center"):(m=v+y,f=m+5,h="bottom")):s==="leftTop"?(v=u[0][0],g=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(x=g-y,d=x-5,h="center"):(m=v-y,f=m-5,h="right")):s==="leftBottom"?(v=t==="horizontal"?u[1][0]:u[3][0],g=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(x=g+y,d=x+5,h="center"):(m=v-y,f=m-5,h="right")):(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,t==="horizontal"?(x=g+y,d=x+5,h="center"):(m=v+y,f=m+5,h="left")),t==="horizontal"?(m=v,f=m):(x=g,d=x),p=[[v,g],[m,x]]}l.label={linePoints:p,x:f,y:d,verticalAlign:"middle",textAlign:h,inside:c}})}function rhe(r,e){r.eachSeriesByType("funnel",function(t){var n=t.getData(),i=n.mapDimension("value"),a=t.get("sort"),s=Qce(t,e),o=t.get("orient"),l=s.width,u=s.height,c=ehe(n,a),h=s.x,f=s.y,d=o==="horizontal"?[_e(t.get("minSize"),u),_e(t.get("maxSize"),u)]:[_e(t.get("minSize"),l),_e(t.get("maxSize"),l)],p=n.getDataExtent(i),v=t.get("min"),g=t.get("max");v==null&&(v=Math.min(p[0],0)),g==null&&(g=p[1]);var m=t.get("funnelAlign"),x=t.get("gap"),y=o==="horizontal"?l:u,_=(y-x*(n.count()-1))/n.count(),S=function(P,F){if(o==="horizontal"){var V=n.get(i,P)||0,z=zt(V,[v,g],d,!0),G=void 0;switch(m){case"top":G=f;break;case"center":G=f+(u-z)/2;break;case"bottom":G=f+(u-z);break}return[[F,G],[F,G+z]]}var O=n.get(i,P)||0,ee=zt(O,[v,g],d,!0),Q;switch(m){case"left":Q=h;break;case"center":Q=h+(l-ee)/2;break;case"right":Q=h+l-ee;break}return[[Q,F],[Q+ee,F]]};a==="ascending"&&(_=-_,x=-x,o==="horizontal"?h+=l:f+=u,c=c.reverse());for(var w=0;w<c.length;w++){var T=c[w],A=c[w+1],C=n.getItemModel(T);if(o==="horizontal"){var k=C.get(["itemStyle","width"]);k==null?k=_:(k=_e(k,l),a==="ascending"&&(k=-k));var E=S(T,h),D=S(A,h+k);h+=k+x,n.setItemLayout(T,{points:E.concat(D.slice().reverse())})}else{var I=C.get(["itemStyle","height"]);I==null?I=_:(I=_e(I,u),a==="ascending"&&(I=-I));var E=S(T,f),D=S(A,f+I);f+=I+x,n.setItemLayout(T,{points:E.concat(D.slice().reverse())})}}the(n)})}function nhe(r){r.registerChartView(Zce),r.registerSeriesModel(Jce),r.registerLayout(rhe),r.registerProcessor(Bb("funnel"))}var ihe=.3,ahe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new Ke,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._dataGroup,o=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,h=zB(t);o.diff(l).add(f).update(d).remove(p).execute();function f(g){var m=VB(o,s,g,c,u);Pk(m,o,g,h)}function d(g,m){var x=l.getItemGraphicEl(m),y=y$(o,g,c,u);o.setItemGraphicEl(g,x),It(x,{shape:{points:y}},t,g),bo(x),Pk(x,o,g,h)}function p(g){var m=l.getItemGraphicEl(g);s.remove(m)}if(!this._initialized){this._initialized=!0;var v=she(u,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(v)}this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,n,i){for(var a=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=zB(n),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var h=VB(a,this._dataGroup,c,o,s);h.incremental=!0,Pk(h,a,c,l),u.push(h)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(tr);function she(r,e,t){var n=r.model,i=r.getRect(),a=new Tt({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=n.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),gr(a,{shape:{width:i.width,height:i.height}},e,t),a}function y$(r,e,t,n){for(var i=[],a=0;a<t.length;a++){var s=t[a],o=r.get(r.mapDimension(s),e);ohe(o,n.getAxis(s).type)||i.push(n.dataToPoint(o,s))}return i}function VB(r,e,t,n,i){var a=y$(r,t,n,i),s=new aa({shape:{points:a},z2:10});return e.add(s),r.setItemGraphicEl(t,s),s}function zB(r){var e=r.get("smooth",!0);return e===!0&&(e=ihe),e=Ku(e),Xy(e)&&(e=0),{smooth:e}}function Pk(r,e,t,n){r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=e.getItemModel(t),a=i.getModel("emphasis");ui(r,i,"lineStyle"),Tr(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function ohe(r,e){return e==="category"?r==null:r==null||isNaN(r)}var lhe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,n){return sc(null,this,{useEncodeDefaulter:Ee(uhe,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(s,o){t===s&&a.push(i.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(lr);function uhe(r){var e=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(e){var t={};return L(e.dimensions,function(n){var i=che(n);t[n]=i}),t}}function che(r){return+r.replace("dim","")}var hhe=["lineStyle","opacity"],fhe={seriesType:"parallel",reset:function(r,e){var t=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){t.eachActiveState(a,function(s,o){var l=n[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(hhe,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=l},i.start,i.end)}}}};function dhe(r){phe(r),vhe(r)}function phe(r){if(!r.parallel){var e=!1;L(r.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(r.parallel=[{}])}}function vhe(r){var e=qt(r.parallelAxis);L(e,function(t){if(Ue(t)){var n=t.parallelIndex||0,i=qt(r.parallel)[n];i&&i.parallelAxisDefault&&tt(t,i.parallelAxisDefault,!1)}})}var ghe=5,mhe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this._model=t,this._api=i,this._handlers||(this._handlers={},L(yhe,function(a,s){i.getZr().on(s,this._handlers[s]=Ee(a,this))},this)),Bg(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,n){s1(this,"_throttledDispatchExpand"),L(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(he({type:"parallelAxisExpand"},t))},e.type="parallel",e}(br),yhe={mousedown:function(r){Rk(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var e=this._mouseDownPoint;if(Rk(this,"click")&&e){var t=[r.offsetX,r.offsetY],n=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(n>ghe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!Rk(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=t.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function Rk(r,e){var t=r._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var xhe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var n=this.option;t&&tt(n,t,!0),this._initDimensions()},e.prototype.contains=function(t,n){var i=t.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){L(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[],i=Ot(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);L(i,function(a){t.push("dim"+a.get("dim")),n.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(vt),bhe=function(r){te(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(Ao);function zp(r,e,t,n,i,a){r=r||0;var s=t[1]-t[0];if(i!=null&&(i=pv(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var o=Math.abs(e[1]-e[0]);o=pv(o,[0,s]),i=a=pv(o,[i,a]),n=0}e[0]=pv(e[0],t),e[1]=pv(e[1],t);var l=Ok(e,n);e[n]+=r;var u=i||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[n]=pv(e[n],c);var h;return h=Ok(e,n),i!=null&&(h.sign!==l.sign||h.span<i)&&(e[1-n]=e[n]+l.sign*i),h=Ok(e,n),a!=null&&h.span>a&&(e[1-n]=e[n]+h.sign*a),e}function Ok(r,e){var t=r[e]-r[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function pv(r,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,r))}var Fk=L,x$=Math.min,b$=Math.max,HB=Math.floor,_he=Math.ceil,GB=Hr,whe=Math.PI,She=function(){function r(e,t,n){this.type="parallel",this._axesMap=Le(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=e.dimensions,a=e.parallelAxisIndex;Fk(i,function(s,o){var l=a[o],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(s,new bhe(s,o2(u),[0,0],u.get("type"),l)),h=c.type==="category";c.onBand=h&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},r.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},r.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,i=t.layoutBase,a=t.pixelDimIndex,s=e[1-a],o=e[a];return s>=n&&s<=n+t.axisLength&&o>=i&&o<=i+t.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();Fk(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),yg(s.scale,s.model)},this)}},this)},r.prototype.resize=function(e,t){this._rect=vn(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,n=["x","y"],i=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=t[i[s]],l=[0,o],u=this.dimensions.length,c=Q_(e.get("axisExpandWidth"),l),h=Q_(e.get("axisExpandCount")||0,[0,u]),f=e.get("axisExpandable")&&u>3&&u>h&&h>1&&c>0&&o>0,d=e.get("axisExpandWindow"),p;if(d)p=Q_(d[1]-d[0],l),d[1]=d[0]+p;else{p=Q_(c*(h-1),l);var v=e.get("axisExpandCenter")||HB(u/2);d=[c*v-p/2],d[1]=d[0]+p}var g=(o-p)/(u-h);g<3&&(g=0);var m=[HB(GB(d[0]/c,1))+1,_he(GB(d[1]/c,1))-1],x=g/c*d[0];return{layout:a,pixelDimIndex:s,layoutBase:t[n[s]],layoutLength:o,axisBase:t[n[1-s]],axisLength:t[i[1-s]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:d,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:x}},r.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;t.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),Fk(n,function(s,o){var l=(i.axisExpandable?Ahe:The)(o,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:whe/2,vertical:0},h=[u[a].x+e.x,u[a].y+e.y],f=c[a],d=Ya();Pp(d,d,f),bl(d,d,h),this._axesLayout[s]={position:h,rotation:f,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(e){return this._axesMap.get(e)},r.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},r.prototype.eachActiveState=function(e,t,n,i){n==null&&(n=0),i==null&&(i=e.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];L(s,function(g){o.push(e.mapDimension(g)),l.push(a.get(g).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var h=void 0;if(!u)h="normal";else{h="active";for(var f=e.getValues(o,c),d=0,p=s.length;d<p;d++){var v=l[d].getActiveState(f[d]);if(v==="inactive"){h="inactive";break}}}t(h,c)}},r.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,i=0,a=e.length;i<a;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return mo([e,0],n.transform)},r.prototype.getAxisLayout=function(e){return Ye(this._axesLayout[e])},r.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,i=t.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var o=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),f=h[0]!=null;if(c)f&&c&&o<a*h[0]?(u="jump",l=o-a*h[2]):f&&c&&o>a*(1-h[0])?(u="jump",l=o-a*(1-h[2])):(l=o-a*h[1])>=0&&(l=o-a*(1-h[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?zp(l,i,s,"all"):u="none";else{var d=i[1]-i[0],p=s[1]*o/d;i=[b$(0,p-d/2)],i[1]=x$(s[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:u}},r}();function Q_(r,e){return x$(b$(r,e[0]),e[1])}function The(r,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*r,axisNameAvailableWidth:t,axisLabelShow:!0}}function Ahe(r,e){var t=e.layoutLength,n=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,l=a,u=!1,c;return r<s[0]?(o=r*a,c=a):r<=s[1]?(o=e.axisExpandWindow0Pos+r*n-e.axisExpandWindow[0],l=n,u=!0):(o=t-(i-1-r)*a,c=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function Che(r,e){var t=[];return r.eachComponent("parallel",function(n,i){var a=new She(n,r,e);a.name="parallel_"+i,a.resize(n,e),n.coordinateSystem=a,a.model=n,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",Jr).models[0];n.coordinateSystem=i.coordinateSystem}}),t}var khe={create:Che},cM=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return _p([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=Ye(t);if(n)for(var i=n.length-1;i>=0;i--)Es(n[i])},e.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,s=n.length;a<s;a++)if(n[a][0]<=t&&t<=n[a][1])return"active";return"inactive"},e}(vt);tn(cM,Pb);var Tp=!0,y1=Math.min,_g=Math.max,Ehe=Math.pow,Dhe=1e4,Mhe=6,Ihe=6,$B="globalPan",Lhe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Phe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},UB={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Rhe=0,uR=function(r){te(e,r);function e(t){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new Ke,n._uid="brushController_"+Rhe++,L(Hhe,function(i,a){this._handlers[a]=Ee(i,this)},n),n}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||Tle(n,$B,this._uid),L(this._handlers,function(i,a){n.on(a,i)}),this._brushType=t.brushType,this._brushOption=tt(Ye(UB),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;Ale(t,$B,this._uid),L(this._handlers,function(n,i){t.off(i,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};L(t,function(i){n[i.panelId]=Ye(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=ge(t,function(f){return tt(Ye(UB),f,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new Zu(i,t,u,l).add(c).update(c).remove(h).execute(),this;function l(f,d){return(f.id!=null?f.id:n+d)+"-"+f.brushType}function u(f,d){return l(f.__brushOption,d)}function c(f,d){var p=t[f];if(d!=null&&i[d]===o)a[f]=i[d];else{var v=a[f]=d!=null?(i[d].__brushOption=p,i[d]):w$(s,_$(s,p));cR(s,v)}}function h(f){i[f]!==o&&s.group.remove(i[f])}},e.prototype.unmount=function(){return this.enableBrush(!1),hM(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Rs);function _$(r,e){var t=d2[e.brushType].createCover(r,e);return t.__brushOption=e,T$(t,e),r.group.add(t),t}function w$(r,e){var t=hR(e);return t.endCreating&&(t.endCreating(r,e),T$(e,e.__brushOption)),e}function S$(r,e){var t=e.__brushOption;hR(e).updateCoverShape(r,e,t.range,t)}function T$(r,e){var t=e.z;t==null&&(t=Dhe),r.traverse(function(n){n.z=t,n.z2=t})}function cR(r,e){hR(e).updateCommon(r,e),S$(r,e)}function hR(r){return d2[r.__brushOption.brushType]}function fR(r,e,t){var n=r._panels;if(!n)return Tp;var i,a=r._transform;return L(n,function(s){s.isTargetByCursor(e,t,a)&&(i=s)}),i}function A$(r,e){var t=r._panels;if(!t)return Tp;var n=e.__brushOption.panelId;return n!=null?t[n]:Tp}function hM(r){var e=r._covers,t=e.length;return L(e,function(n){r.group.remove(n)},r),e.length=0,!!t}function Ap(r,e){var t=ge(r._covers,function(n){var i=n.__brushOption,a=Ye(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Ohe(r){var e=r._track;if(!e.length)return!1;var t=e[e.length-1],n=e[0],i=t[0]-n[0],a=t[1]-n[1],s=Ehe(i*i+a*a,.5);return s>Mhe}function C$(r){var e=r.length-1;return e<0&&(e=0),[r[0],r[e]]}function k$(r,e,t,n){var i=new Ke;return i.add(new Tt({name:"main",style:dR(t),silent:!0,draggable:!0,cursor:"move",drift:Qe(WB,r,e,i,["n","s","w","e"]),ondragend:Qe(Ap,e,{isEnd:!0})})),L(n,function(a){i.add(new Tt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Qe(WB,r,e,i,a),ondragend:Qe(Ap,e,{isEnd:!0})}))}),i}function E$(r,e,t,n){var i=n.brushStyle.lineWidth||0,a=_g(i,Ihe),s=t[0][0],o=t[1][0],l=s-i/2,u=o-i/2,c=t[0][1],h=t[1][1],f=c-a+i/2,d=h-a+i/2,p=c-s,v=h-o,g=p+i,m=v+i;zl(r,e,"main",s,o,p,v),n.transformable&&(zl(r,e,"w",l,u,a,m),zl(r,e,"e",f,u,a,m),zl(r,e,"n",l,u,g,a),zl(r,e,"s",l,d,g,a),zl(r,e,"nw",l,u,a,a),zl(r,e,"ne",f,u,a,a),zl(r,e,"sw",l,d,a,a),zl(r,e,"se",f,d,a,a))}function fM(r,e){var t=e.__brushOption,n=t.transformable,i=e.childAt(0);i.useStyle(dR(t)),i.attr({silent:!n,cursor:n?"move":"default"}),L([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?dM(r,a[0]):Nhe(r,a);s&&s.attr({silent:!n,invisible:!n,cursor:n?Phe[o]+"-resize":null})})}function zl(r,e,t,n,i,a,s){var o=e.childOfName(t);o&&o.setShape(Vhe(pR(r,e,[[n,i],[n+a,i+s]])))}function dR(r){return ze({strokeNoScale:!0},r.brushStyle)}function D$(r,e,t,n){var i=[y1(r,t),y1(e,n)],a=[_g(r,t),_g(e,n)];return[[i[0],a[0]],[i[1],a[1]]]}function Fhe(r){return fp(r.group)}function dM(r,e){var t={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=WA(t[e],Fhe(r));return n[i]}function Nhe(r,e){var t=[dM(r,e[0]),dM(r,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function WB(r,e,t,n,i,a){var s=t.__brushOption,o=r.toRectRange(s.range),l=M$(e,i,a);L(n,function(u){var c=Lhe[u];o[c[0]][c[1]]+=l[c[0]]}),s.range=r.fromRectRange(D$(o[0][0],o[1][0],o[0][1],o[1][1])),cR(e,t),Ap(e,{isEnd:!1})}function Bhe(r,e,t,n){var i=e.__brushOption.range,a=M$(r,t,n);L(i,function(s){s[0]+=a[0],s[1]+=a[1]}),cR(r,e),Ap(r,{isEnd:!1})}function M$(r,e,t){var n=r.group,i=n.transformCoordToLocal(e,t),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function pR(r,e,t){var n=A$(r,e);return n&&n!==Tp?n.clipPath(t,r._transform):Ye(t)}function Vhe(r){var e=y1(r[0][0],r[1][0]),t=y1(r[0][1],r[1][1]),n=_g(r[0][0],r[1][0]),i=_g(r[0][1],r[1][1]);return{x:e,y:t,width:n-e,height:i-t}}function zhe(r,e,t){if(!(!r._brushType||Ghe(r,e.offsetX,e.offsetY))){var n=r._zr,i=r._covers,a=fR(r,e,t);if(!r._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===Tp||o.panelId===a.panelId)&&d2[o.brushType].contain(i[s],t[0],t[1]))return}a&&n.setCursorStyle("crosshair")}}function pM(r){var e=r.event;e.preventDefault&&e.preventDefault()}function vM(r,e,t){return r.childOfName("main").contain(e,t)}function I$(r,e,t,n){var i=r._creatingCover,a=r._creatingPanel,s=r._brushOption,o;if(r._track.push(t.slice()),Ohe(r)||i){if(a&&!i){s.brushMode==="single"&&hM(r);var l=Ye(s);l.brushType=YB(l.brushType,a),l.panelId=a===Tp?null:a.panelId,i=r._creatingCover=_$(r,l),r._covers.push(i)}if(i){var u=d2[YB(r._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(pR(r,i,r._track)),n&&(w$(r,i),u.updateCommon(r,i)),S$(r,i),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&fR(r,e,t)&&hM(r)&&(o={isEnd:n,removeOnClick:!0});return o}function YB(r,e){return r==="auto"?e.defaultBrushType:r}var Hhe={mousedown:function(r){if(this._dragging)XB(this,r);else if(!r.target||!r.target.draggable){pM(r);var e=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var t=this._creatingPanel=fR(this,r,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(r){var e=r.offsetX,t=r.offsetY,n=this.group.transformCoordToLocal(e,t);if(zhe(this,r,n),this._dragging){pM(r);var i=I$(this,r,n,!1);i&&Ap(this,i)}},mouseup:function(r){XB(this,r)}};function XB(r,e){if(r._dragging){pM(e);var t=e.offsetX,n=e.offsetY,i=r.group.transformCoordToLocal(t,n),a=I$(r,e,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&Ap(r,a)}}function Ghe(r,e,t){var n=r._zr;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var d2={lineX:KB(0),lineY:KB(1),rect:{createCover:function(r,e){function t(n){return n}return k$({toRectRange:t,fromRectRange:t},r,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var e=C$(r);return D$(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(r,e,t,n){E$(r,e,t,n)},updateCommon:fM,contain:vM},polygon:{createCover:function(r,e){var t=new Ke;return t.add(new aa({name:"main",style:dR(e),silent:!0})),t},getCreatingRange:function(r){return r},endCreating:function(r,e){e.remove(e.childAt(0)),e.add(new ra({name:"main",draggable:!0,drift:Qe(Bhe,r,e),ondragend:Qe(Ap,r,{isEnd:!0})}))},updateCoverShape:function(r,e,t,n){e.childAt(0).setShape({points:pR(r,e,t)})},updateCommon:fM,contain:vM}};function KB(r){return{createCover:function(e,t){return k$({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},e,t,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(e){var t=C$(e),n=y1(t[0][r],t[1][r]),i=_g(t[0][r],t[1][r]);return[n,i]},updateCoverShape:function(e,t,n,i){var a,s=A$(e,t);if(s!==Tp&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(r);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-r]]}var l=[n,a];r&&l.reverse(),E$(e,t,l,i)},updateCommon:fM,contain:vM}}function L$(r){return r=vR(r),function(e){return GH(e,r)}}function P$(r,e){return r=vR(r),function(t){var n=e??t,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function R$(r,e,t){var n=vR(r);return function(i,a){return n.contain(a[0],a[1])&&!u2(i,e,t)}}function vR(r){return at.create(r)}var $he=["axisLine","axisTickLabel","axisName"],Uhe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){r.prototype.init.apply(this,arguments),(this._brushController=new uR(n.getZr())).on("brush",Ee(this._onBrush,this))},e.prototype.render=function(t,n,i,a){if(!Whe(t,n,a)){this.axisModel=t,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Ke,this.group.add(this._axisGroup),!!t.get("show")){var o=Xhe(t,n),l=o.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,h=t.axis.dim,f=l.getAxisLayout(h),d=he({strokeContainThreshold:c},f),p=new qi(t,d);L($he,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(d,u,t,o,c,i),Eb(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,n,i,a,s,o){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),h=at.create({x:l[0],y:-s/2,width:u,height:s});h.x-=c,h.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:L$(h),isTargetByCursor:R$(h,o,a),getLinearBrushOtherExtent:P$(h,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(Yhe(i))},e.prototype._onBrush=function(t){var n=t.areas,i=this.axisModel,a=i.axis,s=ge(n,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(br);function Whe(r,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===r}function Yhe(r){var e=r.axis;return ge(r.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function Xhe(r,e){return e.getComponent("parallel",r.get("parallelIndex"))}var Khe={type:"axisAreaSelect",event:"axisAreaSelected"};function jhe(r){r.registerAction(Khe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),r.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})})}var qhe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function O$(r){r.registerComponentView(mhe),r.registerComponentModel(xhe),r.registerCoordinateSystem("parallel",khe),r.registerPreprocessor(dhe),r.registerComponentModel(cM),r.registerComponentView(Uhe),bg(r,"parallel",cM,qhe),jhe(r)}function Zhe(r){ht(O$),r.registerChartView(ahe),r.registerSeriesModel(lhe),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,fhe)}var Jhe=function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r}(),Qhe=function(r){te(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Jhe},e.prototype.buildPath=function(t,n){var i=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(t.lineTo(n.x2+i,n.y2),t.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(t.lineTo(n.x2,n.y2+i),t.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),t.closePath()},e.prototype.highlight=function(){ju(this)},e.prototype.downplay=function(){qu(this)},e}(dt),efe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return e.prototype.render=function(t,n,i){var a=this,s=t.getGraph(),o=this.group,l=t.layoutInfo,u=l.width,c=l.height,h=t.getData(),f=t.getData("edge"),d=t.get("orient");this._model=t,o.removeAll(),o.x=l.x,o.y=l.y,s.eachEdge(function(p){var v=new Qhe,g=je(v);g.dataIndex=p.dataIndex,g.seriesIndex=t.seriesIndex,g.dataType="edge";var m=p.getModel(),x=m.getModel("lineStyle"),y=x.get("curveness"),_=p.node1.getLayout(),S=p.node1.getModel(),w=S.get("localX"),T=S.get("localY"),A=p.node2.getLayout(),C=p.node2.getModel(),k=C.get("localX"),E=C.get("localY"),D=p.getLayout(),I,P,F,V,z,G,O,ee;v.shape.extent=Math.max(1,D.dy),v.shape.orient=d,d==="vertical"?(I=(w!=null?w*u:_.x)+D.sy,P=(T!=null?T*c:_.y)+_.dy,F=(k!=null?k*u:A.x)+D.ty,V=E!=null?E*c:A.y,z=I,G=P*(1-y)+V*y,O=F,ee=P*y+V*(1-y)):(I=(w!=null?w*u:_.x)+_.dx,P=(T!=null?T*c:_.y)+D.sy,F=k!=null?k*u:A.x,V=(E!=null?E*c:A.y)+D.ty,z=I*(1-y)+F*y,G=P,O=I*y+F*(1-y),ee=V),v.setShape({x1:I,y1:P,x2:F,y2:V,cpx1:z,cpy1:G,cpx2:O,cpy2:ee}),v.useStyle(x.getItemStyle()),jB(v.style,d,p);var Q=""+m.get("value"),N=Mn(m,"edgeLabel");ci(v,N,{labelFetcher:{getFormattedLabel:function(K,ne,fe,ae,re,ie){return t.getFormattedLabel(K,ne,"edge",ae,vl(re,N.normal&&N.normal.get("formatter"),Q),ie)}},labelDataIndex:p.dataIndex,defaultText:Q}),v.setTextConfig({position:"inside"});var Y=m.getModel("emphasis");ui(v,m,"lineStyle",function(K){var ne=K.getItemStyle();return jB(ne,d,p),ne}),o.add(v),f.setItemGraphicEl(p.dataIndex,v);var W=Y.get("focus");Tr(v,W==="adjacency"?p.getAdjacentDataIndices():W==="trajectory"?p.getTrajectoryDataIndices():W,Y.get("blurScope"),Y.get("disabled"))}),s.eachNode(function(p){var v=p.getLayout(),g=p.getModel(),m=g.get("localX"),x=g.get("localY"),y=g.getModel("emphasis"),_=g.get(["itemStyle","borderRadius"])||0,S=new Tt({shape:{x:m!=null?m*u:v.x,y:x!=null?x*c:v.y,width:v.dx,height:v.dy,r:_},style:g.getModel("itemStyle").getItemStyle(),z2:10});ci(S,Mn(g),{labelFetcher:{getFormattedLabel:function(T,A){return t.getFormattedLabel(T,A,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),S.disableLabelAnimation=!0,S.setStyle("fill",p.getVisual("color")),S.setStyle("decal",p.getVisual("style").decal),ui(S,g),o.add(S),h.setItemGraphicEl(p.dataIndex,S),je(S).dataType="node";var w=y.get("focus");Tr(S,w==="adjacency"?p.getAdjacentDataIndices():w==="trajectory"?p.getTrajectoryDataIndices():w,y.get("blurScope"),y.get("disabled"))}),h.eachItemGraphicEl(function(p,v){var g=h.getItemModel(v);g.get("draggable")&&(p.drift=function(m,x){a._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=x,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:h.getRawIndex(v),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){a._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(tfe(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(tr);function jB(r,e,t){switch(r.fill){case"source":r.fill=t.node1.getVisual("color"),r.decal=t.node1.getVisual("style").decal;break;case"target":r.fill=t.node2.getVisual("color"),r.decal=t.node2.getVisual("style").decal;break;case"gradient":var n=t.node1.getVisual("color"),i=t.node2.getVisual("color");Ae(n)&&Ae(i)&&(r.fill=new kb(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function tfe(r,e,t){var n=new Tt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return gr(n,{shape:{width:r.width+20}},e,t),n}var rfe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],a=t.data||t.nodes||[],s=t.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new Gt(s[l],this,n));var u=m$(a,i,this,!0,c);return u.data;function c(h,f){h.wrapMethod("getItemModel",function(d,p){var v=d.parentModel,g=v.getData().getItemLayout(p);if(g){var m=g.depth,x=v.levelModels[m];x&&(d.parentModel=x)}return d}),f.wrapMethod("getItemModel",function(d,p){var v=d.parentModel,g=v.getGraph().getEdgeByIndex(p),m=g.node1.getLayout();if(m){var x=m.depth,y=v.levelModels[x];y&&(d.parentModel=y)}return d})}},e.prototype.setNodePosition=function(t,n){var i=this.option.data||this.option.nodes,a=i[t];a.localX=n[0],a.localY=n[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,i){function a(d){return isNaN(d)||d==null}if(i==="edge"){var s=this.getDataParams(t,i),o=s.data,l=s.value,u=o.source+" -- "+o.target;return In("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),h=c.getLayout().value,f=this.getDataParams(t,i).data.name;return In("nameValue",{name:f!=null?f+"":null,value:h,noValue:a(h)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,n){var i=r.prototype.getDataParams.call(this,t,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(t),s=a.getLayout().value;i.value=s}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(lr);function nfe(r,e){r.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),a=ife(t,e);t.layoutInfo=a;var s=a.width,o=a.height,l=t.getGraph(),u=l.nodes,c=l.edges;sfe(u);var h=Ot(u,function(v){return v.getLayout().value===0}),f=h.length!==0?0:t.get("layoutIterations"),d=t.get("orient"),p=t.get("nodeAlign");afe(u,c,n,i,s,o,f,d,p)})}function ife(r,e){return vn(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function afe(r,e,t,n,i,a,s,o,l){ofe(r,e,t,i,a,o,l),hfe(r,e,a,i,n,s,o),bfe(r,o)}function sfe(r){L(r,function(e){var t=Lh(e.outEdges,_T),n=Lh(e.inEdges,_T),i=e.getValue()||0,a=Math.max(t,n,i);e.setLayout({value:a},!0)})}function ofe(r,e,t,n,i,a,s){for(var o=[],l=[],u=[],c=[],h=0,f=0;f<e.length;f++)o[f]=1;for(var f=0;f<r.length;f++)l[f]=r[f].inEdges.length,l[f]===0&&u.push(r[f]);for(var d=-1;u.length;){for(var p=0;p<u.length;p++){var v=u[p],g=v.hostGraph.data.getRawDataItem(v.dataIndex),m=g.depth!=null&&g.depth>=0;m&&g.depth>d&&(d=g.depth),v.setLayout({depth:m?g.depth:h},!0),a==="vertical"?v.setLayout({dy:t},!0):v.setLayout({dx:t},!0);for(var x=0;x<v.outEdges.length;x++){var y=v.outEdges[x],_=e.indexOf(y);o[_]=0;var S=y.node2,w=r.indexOf(S);--l[w]===0&&c.indexOf(S)<0&&c.push(S)}}++h,u=c,c=[]}for(var f=0;f<o.length;f++)if(o[f]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var T=d>h-1?d:h-1;s&&s!=="left"&&lfe(r,s,a,T);var A=a==="vertical"?(i-t)/T:(n-t)/T;cfe(r,A,a)}function F$(r){var e=r.hostGraph.data.getRawDataItem(r.dataIndex);return e.depth!=null&&e.depth>=0}function lfe(r,e,t,n){if(e==="right"){for(var i=[],a=r,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++s}L(r,function(h){F$(h)||h.setLayout({depth:Math.max(0,n-h.getLayout().skNodeHeight)},!0)})}else e==="justify"&&ufe(r,n)}function ufe(r,e){L(r,function(t){!F$(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function cfe(r,e,t){L(r,function(n){var i=n.getLayout().depth*e;t==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function hfe(r,e,t,n,i,a,s){var o=ffe(r,s);dfe(o,e,t,n,i,s),Nk(o,i,t,n,s);for(var l=1;a>0;a--)l*=.99,pfe(o,l,s),Nk(o,i,t,n,s),xfe(o,l,s),Nk(o,i,t,n,s)}function ffe(r,e){var t=[],n=e==="vertical"?"y":"x",i=gD(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,s){return a-s}),L(i.keys,function(a){t.push(i.buckets.get(a))}),t}function dfe(r,e,t,n,i,a){var s=1/0;L(r,function(o){var l=o.length,u=0;L(o,function(h){u+=h.getLayout().value});var c=a==="vertical"?(n-(l-1)*i)/u:(t-(l-1)*i)/u;c<s&&(s=c)}),L(r,function(o){L(o,function(l,u){var c=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),L(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function Nk(r,e,t,n,i){var a=i==="vertical"?"x":"y";L(r,function(s){s.sort(function(v,g){return v.getLayout()[a]-g.getLayout()[a]});for(var o,l,u,c=0,h=s.length,f=i==="vertical"?"dx":"dy",d=0;d<h;d++)l=s[d],u=c-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]+l.getLayout()[f]+e;var p=i==="vertical"?n:t;if(u=c-e-p,u>0){o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),c=o;for(var d=h-2;d>=0;--d)l=s[d],u=l.getLayout()[a]+l.getLayout()[f]+e-c,u>0&&(o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]}})}function pfe(r,e,t){L(r.slice().reverse(),function(n){L(n,function(i){if(i.outEdges.length){var a=Lh(i.outEdges,vfe,t)/Lh(i.outEdges,_T);if(isNaN(a)){var s=i.outEdges.length;a=s?Lh(i.outEdges,gfe,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-Gh(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-Gh(i,t))*e;i.setLayout({y:l},!0)}}})})}function vfe(r,e){return Gh(r.node2,e)*r.getValue()}function gfe(r,e){return Gh(r.node2,e)}function mfe(r,e){return Gh(r.node1,e)*r.getValue()}function yfe(r,e){return Gh(r.node1,e)}function Gh(r,e){return e==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function _T(r){return r.getValue()}function Lh(r,e,t){for(var n=0,i=r.length,a=-1;++a<i;){var s=+e(r[a],t);isNaN(s)||(n+=s)}return n}function xfe(r,e,t){L(r,function(n){L(n,function(i){if(i.inEdges.length){var a=Lh(i.inEdges,mfe,t)/Lh(i.inEdges,_T);if(isNaN(a)){var s=i.inEdges.length;a=s?Lh(i.inEdges,yfe,t)/s:0}if(t==="vertical"){var o=i.getLayout().x+(a-Gh(i,t))*e;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-Gh(i,t))*e;i.setLayout({y:l},!0)}}})})}function bfe(r,e){var t=e==="vertical"?"x":"y";L(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[t]-a.node2.getLayout()[t]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[t]-a.node1.getLayout()[t]})}),L(r,function(n){var i=0,a=0;L(n.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),L(n.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function _fe(r){r.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes,i=t.edges;if(n.length){var a=1/0,s=-1/0;L(n,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),L(n,function(o){var l=new En({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),u=l.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}i.length&&L(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function wfe(r){r.registerChartView(efe),r.registerSeriesModel(rfe),r.registerLayout(nfe),r.registerVisual(_fe),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var N$=function(){function r(){}return r.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},r.prototype.getInitialData=function(e,t){var n,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(e.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,h=this._baseAxisDim=u[c],f=u[1-c],d=[i,a],p=d[c].get("type"),v=d[1-c].get("type"),g=e.data;if(g&&l){var m=[];L(g,function(_,S){var w;ve(_)?(w=_.slice(),_.unshift(S)):ve(_.value)?(w=he({},_),w.value=w.value.slice(),_.value.unshift(S)):w=_,m.push(w)}),e.data=m}var x=this.defaultValueDimensions,y=[{name:h,type:cT(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:cT(v),dimsDef:x.slice()}];return Hg(this,{coordDimensions:y,dimensionsCount:x.length+1,encodeDefaulter:Qe(p7,y,this)})},r.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},r}(),B$=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(lr);tn(B$,N$,!0);var Sfe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),h=qB(c,a,u,l,!0);a.setItemGraphicEl(u,h),s.add(h)}}).update(function(u,c){var h=o.getItemGraphicEl(c);if(!a.hasValue(u)){s.remove(h);return}var f=a.getItemLayout(u);h?(bo(h),V$(f,h,a,u)):h=qB(f,a,u,l),s.add(h),a.setItemGraphicEl(u,h)}).remove(function(u){var c=o.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},e.type="boxplot",e}(tr),Tfe=function(){function r(){}return r}(),Afe=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="boxplotBoxPath",n}return e.prototype.getDefaultShape=function(){return new Tfe},e.prototype.buildPath=function(t,n){var i=n.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])},e}(dt);function qB(r,e,t,n,i){var a=r.ends,s=new Afe({shape:{points:i?Cfe(a,n,r):a}});return V$(r,s,e,t,i),s}function V$(r,e,t,n,i){var a=t.hostModel,s=Op[i?"initProps":"updateProps"];s(e,{shape:{points:r.ends}},a,n),e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=t.getItemModel(n),l=o.getModel("emphasis");ui(e,o),Tr(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Cfe(r,e,t){return ge(r,function(n){return n=n.slice(),n[e]=t.initBaseline,n})}var Ry=L;function kfe(r){var e=Efe(r);Ry(e,function(t){var n=t.seriesModels;n.length&&(Dfe(t),Ry(n,function(i,a){Mfe(i,t.boxOffsetList[a],t.boxWidthList[a])}))})}function Efe(r){var e=[],t=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=lt(t,i);a<0&&(a=t.length,t[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(n)}),e}function Dfe(r){var e=r.axis,t=r.seriesModels,n=t.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;Ry(t,function(p){l=Math.max(l,p.getData().count())});var u=e.getExtent();o=Math.abs(u[1]-u[0])/l}Ry(t,function(p){var v=p.get("boxWidth");ve(v)||(v=[v,v]),s.push([_e(v[0],o)||0,_e(v[1],o)||0])});var c=o*.8-2,h=c/n*.3,f=(c-h*(n-1))/n,d=f/2-c/2;Ry(t,function(p,v){a.push(d),d+=h+f,i.push(Math.min(Math.max(f,s[v][0]),s[v][1]))})}function Mfe(r,e,t){var n=r.coordinateSystem,i=r.getData(),a=t/2,s=r.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=i.mapDimension(l[s]),c=i.mapDimensionsAll(l[o]);if(u==null||c.length<5)return;for(var h=0;h<i.count();h++){var f=i.get(u,h),d=y(f,c[2],h),p=y(f,c[0],h),v=y(f,c[1],h),g=y(f,c[3],h),m=y(f,c[4],h),x=[];_(x,v,!1),_(x,g,!0),x.push(p,v,m,g),S(x,p),S(x,m),S(x,d),i.setItemLayout(h,{initBaseline:d[o],ends:x})}function y(w,T,A){var C=i.get(T,A),k=[];k[s]=w,k[o]=C;var E;return isNaN(w)||isNaN(C)?E=[NaN,NaN]:(E=n.dataToPoint(k),E[s]+=e),E}function _(w,T,A){var C=T.slice(),k=T.slice();C[s]+=a,k[s]-=a,A?w.push(C,k):w.push(k,C)}function S(w,T){var A=T.slice(),C=T.slice();A[s]-=a,C[s]+=a,w.push(A,C)}}function Ife(r,e){e=e||{};for(var t=[],n=[],i=e.boundIQR,a=i==="none"||i===0,s=0;s<r.length;s++){var o=Es(r[s].slice()),l=fC(o,.25),u=fC(o,.5),c=fC(o,.75),h=o[0],f=o[o.length-1],d=(i??1.5)*(c-l),p=a?h:Math.max(h,l-d),v=a?f:Math.min(f,c+d),g=e.itemNameFormatter,m=Ve(g)?g({value:s}):Ae(g)?g.replace("{value}",s+""):s+"";t.push([m,p,l,u,c,v]);for(var x=0;x<o.length;x++){var y=o[x];if(y<p||y>v){var _=[m,y];n.push(_)}}}return{boxData:t,outliers:n}}var Lfe={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Ei){var n="";Rt(n)}var i=Ife(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function Pfe(r){r.registerSeriesModel(B$),r.registerChartView(Sfe),r.registerLayout(kfe),r.registerTransform(Lfe)}var Rfe=["itemStyle","borderColor"],Ofe=["itemStyle","borderColor0"],Ffe=["itemStyle","borderColorDoji"],Nfe=["itemStyle","color"],Bfe=["itemStyle","color0"];function gR(r,e){return e.get(r>0?Nfe:Bfe)}function mR(r,e){return e.get(r===0?Ffe:r>0?Rfe:Ofe)}var Vfe={seriesType:"candlestick",plan:Ng(),performRawSeries:!0,reset:function(r,e){if(!e.isSeriesFiltered(r)){var t=r.pipelineContext.large;return!t&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=gR(o,s),l.stroke=mR(o,s)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");he(u,l)}}}}}},zfe=["color","borderColor"],Hfe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,n,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t){var n=t.getData(),i=this._data,a=this.group,s=n.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var h=n.getItemLayout(c);if(o&&ZB(u,h))return;var f=Bk(h,c,!0);gr(f,{shape:{points:h.ends}},t,c),Vk(f,n,c,s),a.add(f),n.setItemGraphicEl(c,f)}}).update(function(c,h){var f=i.getItemGraphicEl(h);if(!n.hasValue(c)){a.remove(f);return}var d=n.getItemLayout(c);if(o&&ZB(u,d)){a.remove(f);return}f?(It(f,{shape:{points:d.ends}},t,c),bo(f)):f=Bk(d),Vk(f,n,c,s),a.add(f),n.setItemGraphicEl(c,f)}).remove(function(c){var h=i.getItemGraphicEl(c);h&&a.remove(h)}).execute(),this._data=n},e.prototype._renderLarge=function(t){this._clear(),JB(t,this.group);var n=t.get("clip",!0)?Fb(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=i.getItemLayout(s),l=Bk(o);Vk(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,n){JB(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(tr),Gfe=function(){function r(){}return r}(),$fe=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new Gfe},e.prototype.buildPath=function(t,n){var i=n.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e}(dt);function Bk(r,e,t){var n=r.ends;return new $fe({shape:{points:t?Ufe(n,r):n},z2:100})}function ZB(r,e){for(var t=!0,n=0;n<e.ends.length;n++)if(r.contain(e.ends[n][0],e.ends[n][1])){t=!1;break}return t}function Vk(r,e,t,n){var i=e.getItemModel(t);r.useStyle(e.getItemVisual(t,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,ui(r,i);var a=e.getItemLayout(t).sign;L(r.states,function(o,l){var u=i.getModel(l),c=gR(a,u),h=mR(a,u)||c,f=o.style||(o.style={});c&&(f.fill=c),h&&(f.stroke=h)});var s=i.getModel("emphasis");Tr(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function Ufe(r,e){return ge(r,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var Wfe=function(){function r(){}return r}(),zk=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new Wfe},e.prototype.buildPath=function(t,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];t.moveTo(s,i[a++]),t.lineTo(s,i[a++])}else a+=3},e}(dt);function JB(r,e,t,n){var i=r.getData(),a=i.getLayout("largePoints"),s=new zk({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new zk({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new zk({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),Hk(1,s,r),Hk(-1,o,r),Hk(0,l,r),n&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function Hk(r,e,t,n){var i=mR(r,t)||gR(r,t),a=t.getModel("itemStyle").getItemStyle(zfe);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var z$=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,n,i){var a=n.getItemLayout(t);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(lr);tn(z$,N$,!0);function Yfe(r){!r||!ve(r.series)||L(r.series,function(e){Ue(e)&&e.type==="k"&&(e.type="candlestick")})}var Xfe={seriesType:"candlestick",plan:Ng(),reset:function(r){var e=r.coordinateSystem,t=r.getData(),n=Kfe(r,t),i=0,a=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[i])),l=ge(t.mapDimensionsAll(s[a]),t.getDimensionIndex,t),u=l[0],c=l[1],h=l[2],f=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:r.pipelineContext.large?p:d};function d(v,g){for(var m,x=g.getStore();(m=v.next())!=null;){var y=x.get(o,m),_=x.get(u,m),S=x.get(c,m),w=x.get(h,m),T=x.get(f,m),A=Math.min(_,S),C=Math.max(_,S),k=z(A,y),E=z(C,y),D=z(w,y),I=z(T,y),P=[];G(P,E,0),G(P,k,1),P.push(ee(I),ee(E),ee(D),ee(k));var F=g.getItemModel(m),V=!!F.get(["itemStyle","borderColorDoji"]);g.setItemLayout(m,{sign:QB(x,m,_,S,c,V),initBaseline:_>S?E[a]:k[a],ends:P,brushRect:O(w,T,y)})}function z(Q,N){var Y=[];return Y[i]=N,Y[a]=Q,isNaN(N)||isNaN(Q)?[NaN,NaN]:e.dataToPoint(Y)}function G(Q,N,Y){var W=N.slice(),K=N.slice();W[i]=$w(W[i]+n/2,1,!1),K[i]=$w(K[i]-n/2,1,!0),Y?Q.push(W,K):Q.push(K,W)}function O(Q,N,Y){var W=z(Q,Y),K=z(N,Y);return W[i]-=n/2,K[i]-=n/2,{x:W[0],y:W[1],width:n,height:K[1]-W[1]}}function ee(Q){return Q[i]=$w(Q[i],1),Q}}function p(v,g){for(var m=dl(v.count*4),x=0,y,_=[],S=[],w,T=g.getStore(),A=!!r.get(["itemStyle","borderColorDoji"]);(w=v.next())!=null;){var C=T.get(o,w),k=T.get(u,w),E=T.get(c,w),D=T.get(h,w),I=T.get(f,w);if(isNaN(C)||isNaN(D)||isNaN(I)){m[x++]=NaN,x+=3;continue}m[x++]=QB(T,w,k,E,c,A),_[i]=C,_[a]=D,y=e.dataToPoint(_,null,S),m[x++]=y?y[0]:NaN,m[x++]=y?y[1]:NaN,_[a]=I,y=e.dataToPoint(_,null,S),m[x++]=y?y[1]:NaN}g.setLayout("largePoints",m)}}};function QB(r,e,t,n,i,a){var s;return t>n?s=-1:t<n?s=1:s=a?0:e>0?r.get(i,e-1)<=n?1:-1:1,s}function Kfe(r,e){var t=r.getBaseAxis(),n,i=t.type==="category"?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=_e(Je(r.get("barMaxWidth"),i),i),s=_e(Je(r.get("barMinWidth"),1),i),o=r.get("barWidth");return o!=null?_e(o,i):Math.max(Math.min(i/2,a),s)}function jfe(r){r.registerChartView(Hfe),r.registerSeriesModel(z$),r.registerPreprocessor(Yfe),r.registerVisual(Vfe),r.registerLayout(Xfe)}function e5(r,e){var t=e.rippleEffectColor||e.color;r.eachChild(function(n){n.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var qfe=function(r){te(e,r);function e(t,n){var i=r.call(this)||this,a=new Rb(t,n),s=new Ke;return i.add(a),i.add(s),i.updateData(t,n),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,i=t.color,a=t.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=Qr(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),s.add(l)}e5(s,t)},e.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(n[o]!==t[o]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}e5(i,t)},e.prototype.highlight=function(){ju(this)},e.prototype.downplay=function(){qu(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,n){var i=this,a=t.hostModel;this.childAt(0).updateData(t,n);var s=this.childAt(1),o=t.getItemModel(n),l=t.getItemVisual(n,"symbol"),u=Vg(t.getItemVisual(n,"symbolSize")),c=t.getItemVisual(n,"style"),h=c&&c.fill,f=o.getModel("emphasis");s.setScale(u),s.traverse(function(g){g.setStyle("fill",h)});var d=Fp(t.getItemVisual(n,"symbolOffset"),u);d&&(s.x=d[0],s.y=d[1]);var p=t.getItemVisual(n,"symbolRotate");s.rotation=(p||0)*Math.PI/180||0;var v={};v.showEffectOn=a.get("showEffectOn"),v.rippleScale=o.get(["rippleEffect","scale"]),v.brushType=o.get(["rippleEffect","brushType"]),v.period=o.get(["rippleEffect","period"])*1e3,v.effectOffset=n/t.count(),v.z=a.getShallow("z")||0,v.zlevel=a.getShallow("zlevel")||0,v.symbolType=l,v.color=h,v.rippleEffectColor=o.get(["rippleEffect","color"]),v.rippleNumber=o.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?v.showEffectOn!=="render"&&i.startEffectAnimation(v):g==="normal"&&v.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=v,Tr(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Ke),Zfe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new Ob(qfe)},e.prototype.render=function(t,n,i){var a=t.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var n=t.coordinateSystem,i=n&&n.getArea&&n.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,n,i){var a=t.getData();this.group.dirty();var s=Nb("").reset(t,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=yJ(n.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(tr),Jfe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return sc(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(lr);function Qfe(r){r.registerChartView(Zfe),r.registerSeriesModel(Jfe),r.registerLayout(Nb("effectScatter"))}var H$=function(r){te(e,r);function e(t,n,i){var a=r.call(this)||this;return a.add(a.createLine(t,n,i)),a._updateEffectSymbol(t,n),a}return e.prototype.createLine=function(t,n,i){return new oR(t,n,i)},e.prototype._updateEffectSymbol=function(t,n){var i=t.getItemModel(n),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");ve(s)||(s=[s,s]);var l=t.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=Qr(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(t,a,n))},e.prototype._updateEffectAnimation=function(t,n,i){var a=this.childAt(1);if(a){var s=t.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),h=Un(n.get("delay"),function(d){return d/t.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var f=void 0;Ve(h)?f=h(i):f=h,a.__t>0&&(f=-o*a.__t),this._animateSymbol(a,o,f,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,n,i,a,s){if(n>0){t.__t=0;var o=this,l=t.animate("",a).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(t)});a||l.done(function(){o.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return gh(t.__p1,t.__cp1)+gh(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},e.prototype.updateData=function(t,n,i){this.childAt(0).updateData(t,n,i),this._updateEffectSymbol(t,n)},e.prototype._updateSymbolPosition=function(t){var n=t.__p1,i=t.__p2,a=t.__cp1,s=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],l=o.slice(),u=Gn,c=tD;o[0]=u(n[0],a[0],i[0],s),o[1]=u(n[1],a[1],i[1],s);var h=t.__t<1?c(n[0],a[0],i[0],s):c(i[0],a[0],n[0],1-s),f=t.__t<1?c(n[1],a[1],i[1],s):c(i[1],a[1],n[1],1-s);t.rotation=-Math.atan2(f,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=gh(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*gh(n,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var i=t.getItemModel(n).getModel("effect");this._updateEffectAnimation(t,i,n)},e}(Ke),G$=function(r){te(e,r);function e(t,n,i){var a=r.call(this)||this;return a._createPolyline(t,n,i),a}return e.prototype._createPolyline=function(t,n,i){var a=t.getItemLayout(n),s=new aa({shape:{points:a}});this.add(s),this._updateCommonStl(t,n,i)},e.prototype.updateData=function(t,n,i){var a=t.hostModel,s=this.childAt(0),o={shape:{points:t.getItemLayout(n)}};It(s,o,a,n),this._updateCommonStl(t,n,i)},e.prototype._updateCommonStl=function(t,n,i){var a=this.childAt(0),s=t.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var h=s.getModel("emphasis");o=h.getModel("lineStyle").getLineStyle(),c=h.get("disabled"),l=h.get("focus"),u=h.get("blurScope")}a.useStyle(t.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var f=a.ensureState("emphasis");f.style=o,Tr(this,l,u,c)},e.prototype.updateLayout=function(t,n){var i=this.childAt(0);i.setShape("points",t.getItemLayout(n))},e}(Ke),ede=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,n,i){return new G$(t,n,i)},e.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var i=[0],a=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];a+=gh(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>n);l++);l=Math.min(l-1,s-2)}var c=(n-a[l])/(a[l+1]-a[l]),h=i[l],f=i[l+1];t.x=h[0]*(1-c)+c*f[0],t.y=h[1]*(1-c)+c*f[1];var d=t.__t<1?f[0]-h[0]:h[0]-f[0],p=t.__t<1?f[1]-h[1]:h[1]-f[1];t.rotation=-Math.atan2(p,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,t.ignore=!1}},e}(H$),tde=function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r}(),rde=function(r){te(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new tde},e.prototype.buildPath=function(t,n){var i=n.segs,a=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){t.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)t.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var u=i[s++],c=i[s++],h=i[s++],f=i[s++];if(t.moveTo(u,c),a>0){var d=(u+h)/2-(c-f)*a,p=(c+f)/2-(h-u)*a;t.quadraticCurveTo(d,p,h,f)}else t.lineTo(h,f)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,n){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var h=a[u++],f=a[u++],d=1;d<c;d++){var p=a[u++],v=a[u++];if(Sc(h,f,p,v,o,t,n))return l}l++}else for(var l=0,u=0;u<a.length;){var h=a[u++],f=a[u++],p=a[u++],v=a[u++];if(s>0){var g=(h+p)/2-(f-v)*s,m=(f+v)/2-(p-h)*s;if(pH(h,f,g,m,p,v,o,t,n))return l}else if(Sc(h,f,p,v,o,t,n))return l;l++}return-1},e.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),a=this.getBoundingRect();if(t=i[0],n=i[1],a.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,i=n.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],h=i[u++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(h,s),l=Math.max(h,l)}t=this._rect=new at(a,s,o,l)}return t},e}(dt),nde=function(){function r(){this.group=new Ke}return r.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},r.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],i=t.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new rde({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},r.prototype._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=je(e);s.seriesIndex=i.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r}(),$$={seriesType:"lines",plan:Ng(),reset:function(r){var e=r.coordinateSystem;if(e){var t=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var s=[];if(n){var o=void 0,l=i.end-i.start;if(t){for(var u=0,c=i.start;c<i.end;c++)u+=r.getLineCoordsCount(c);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var h=0,f=[],c=i.start;c<i.end;c++){var d=r.getLineCoords(c,s);t&&(o[h++]=d);for(var p=0;p<d;p++)f=e.dataToPoint(s[p],!1,f),o[h++]=f[0],o[h++]=f[1]}a.setLayout("linesPoints",o)}else for(var c=i.start;c<i.end;c++){var v=a.getItemModel(c),d=r.getLineCoords(c,s),g=[];if(t)for(var m=0;m<d;m++)g.push(e.dataToPoint(s[m]));else{g[0]=e.dataToPoint(s[0]),g[1]=e.dataToPoint(s[1]);var x=v.get(["lineStyle","curveness"]);+x&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*x,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*x])}a.setItemLayout(c,g)}}}}}},ide=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t),o=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var h=t.get("clip",!0)&&Fb(t.coordinateSystem,!1,t);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,i){var a=t.getData(),s=this._updateLineDraw(a,t);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,n,i){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,n,i){var a=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=$$.reset(t,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,n){var i=this._lineDraw,a=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new nde:new lR(s?a?ede:G$:a?H$:oR),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var n=t.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.type="lines",e}(tr),ade=typeof Uint32Array>"u"?Array:Uint32Array,sde=typeof Float64Array>"u"?Array:Float64Array;function t5(r){var e=r.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(r.data=ge(e,function(t){var n=[t[0].coord,t[1].coord],i={coords:n};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),HL([i,t[0],t[1]])}))}var ode=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],t5(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(t5(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=Ky(this._flatCoords,n.flatCoords),this._flatCoordsOffset=Ky(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],s=0;s<a;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(t),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Mt(t[0])){for(var i=t.length,a=new ade(i),s=new sde(i),o=0,l=0,u=0,c=0;c<i;){u++;var h=t[c++];a[l++]=o+n,a[l++]=h;for(var f=0;f<h;f++){var d=t[c++],p=t[c++];s[o++]=d,s[o++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,n){var i=new ji(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getItemModel(t),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),In("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(lr);function ew(r){return r instanceof Array||(r=[r,r]),r}var lde={seriesType:"lines",reset:function(r){var e=ew(r.get("symbol")),t=ew(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",t&&t[0]),n.setVisual("toSymbolSize",t&&t[1]);function i(a,s){var o=a.getItemModel(s),l=ew(o.getShallow("symbol",!0)),u=ew(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function ude(r){r.registerChartView(ide),r.registerSeriesModel(ode),r.registerLayout($$),r.registerVisual(lde)}var cde=256,hde=function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Nh.createCanvas();this.canvas=e}return r.prototype.update=function(e,t,n,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,f=h.getContext("2d"),d=e.length;h.width=t,h.height=n;for(var p=0;p<d;++p){var v=e[p],g=v[0],m=v[1],x=v[2],y=i(x);f.globalAlpha=y,f.drawImage(o,g-c,m-c)}if(!h.width||!h.height)return h;for(var _=f.getImageData(0,0,h.width,h.height),S=_.data,w=0,T=S.length,A=this.minOpacity,C=this.maxOpacity,k=C-A;w<T;){var y=S[w+3]/256,E=Math.floor(y*(cde-1))*4;if(y>0){var D=s(y)?l:u;y>0&&(y=y*k+A),S[w++]=D[E],S[w++]=D[E+1],S[w++]=D[E+2],S[w++]=D[E+3]*y*256}else w+=4}return f.putImageData(_,0,0),h},r.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Nh.createCanvas()),t=this.pointSize+this.blurSize,n=t*2;e.width=n,e.height=n;var i=e.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},r.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,i=n[t]||(n[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[t](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},r}();function fde(r,e,t){var n=r[1]-r[0];e=ge(e,function(s){return{interval:[(s.interval[0]-r[0])/n,(s.interval[1]-r[0])/n]}});var i=e.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&t[o]}}function dde(r,e){var t=r[1]-r[0];return e=[(e[0]-r[0])/t,(e[1]-r[0])/t],function(n){return n>=e[0]&&n<=e[1]}}function r5(r){var e=r.dimensions;return e[0]==="lng"&&e[1]==="lat"}var pde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===t&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):r5(s)&&this._renderOnGeo(s,t,a,i)},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,n,i,a){var s=n.coordinateSystem;s&&(r5(s)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,n,i,a,s){var o=t.coordinateSystem,l=Bp(o,"cartesian2d"),u,c,h,f;if(l){var d=o.getAxis("x"),p=o.getAxis("y");u=d.getBandWidth()+.5,c=p.getBandWidth()+.5,h=d.scale.getExtent(),f=p.scale.getExtent()}for(var v=this.group,g=t.getData(),m=t.getModel(["emphasis","itemStyle"]).getItemStyle(),x=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),_=t.get(["itemStyle","borderRadius"]),S=Mn(t),w=t.getModel("emphasis"),T=w.get("focus"),A=w.get("blurScope"),C=w.get("disabled"),k=l?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],E=i;E<a;E++){var D=void 0,I=g.getItemVisual(E,"style");if(l){var P=g.get(k[0],E),F=g.get(k[1],E);if(isNaN(g.get(k[2],E))||isNaN(P)||isNaN(F)||P<h[0]||P>h[1]||F<f[0]||F>f[1])continue;var V=o.dataToPoint([P,F]);D=new Tt({shape:{x:V[0]-u/2,y:V[1]-c/2,width:u,height:c},style:I})}else{if(isNaN(g.get(k[1],E)))continue;D=new Tt({z2:1,shape:o.dataToRect([g.get(k[0],E)]).contentShape,style:I})}if(g.hasItemOption){var z=g.getItemModel(E),G=z.getModel("emphasis");m=G.getModel("itemStyle").getItemStyle(),x=z.getModel(["blur","itemStyle"]).getItemStyle(),y=z.getModel(["select","itemStyle"]).getItemStyle(),_=z.get(["itemStyle","borderRadius"]),T=G.get("focus"),A=G.get("blurScope"),C=G.get("disabled"),S=Mn(z)}D.shape.r=_;var O=t.getRawValue(E),ee="-";O&&O[2]!=null&&(ee=O[2]+""),ci(D,S,{labelFetcher:t,labelDataIndex:E,defaultOpacity:I.opacity,defaultText:ee}),D.ensureState("emphasis").style=m,D.ensureState("blur").style=x,D.ensureState("select").style=y,Tr(D,T,A,C),D.incremental=s,s&&(D.states.emphasis.hoverLayer=!0),v.add(D),g.setItemGraphicEl(E,D),this._progressiveEls&&this._progressiveEls.push(D)}},e.prototype._renderOnGeo=function(t,n,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new hde;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=t.getViewRect().clone(),h=t.getRoamTransform();c.applyTransform(h);var f=Math.max(c.x,0),d=Math.max(c.y,0),p=Math.min(c.width+c.x,a.getWidth()),v=Math.min(c.height+c.y,a.getHeight()),g=p-f,m=v-d,x=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],y=l.mapArray(x,function(T,A,C){var k=t.dataToPoint([T,A]);return k[0]-=f,k[1]-=d,k.push(C),k}),_=i.getExtent(),S=i.type==="visualMap.continuous"?dde(_,i.option.range):fde(_,i.getPieceList(),i.option.selected);u.update(y,g,m,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},S);var w=new Yn({style:{width:g,height:m,x:f,y:d,image:u.canvas},silent:!0});this.group.add(w)},e.type="heatmap",e}(tr),vde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return sc(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Mb.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(lr);function gde(r){r.registerChartView(pde),r.registerSeriesModel(vde)}var mde=["itemStyle","borderWidth"],n5=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Gk=new ac,yde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group,s=t.getData(),o=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),h=l.master.getRect(),f={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:c,valueDim:n5[+c],categoryDim:n5[1-+c]};s.diff(o).add(function(p){if(s.hasValue(p)){var v=a5(s,p),g=i5(s,p,v,f),m=s5(s,f,g);s.setItemGraphicEl(p,m),a.add(m),l5(m,f,g)}}).update(function(p,v){var g=o.getItemGraphicEl(v);if(!s.hasValue(p)){a.remove(g);return}var m=a5(s,p),x=i5(s,p,m,f),y=j$(s,x);g&&y!==g.__pictorialShapeStr&&(a.remove(g),s.setItemGraphicEl(p,null),g=null),g?Ade(g,f,x):g=s5(s,f,x,!0),s.setItemGraphicEl(p,g),g.__pictorialSymbolMeta=x,a.add(g),l5(g,f,x)}).remove(function(p){var v=o.getItemGraphicEl(p);v&&o5(o,p,v.__pictorialSymbolMeta.animationModel,v)}).execute();var d=t.get("clip",!0)?Fb(t.coordinateSystem,!1,t):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(t,n){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(s){o5(a,je(s).dataIndex,t,s)}):i.removeAll()},e.type="pictorialBar",e}(tr);function i5(r,e,t,n){var i=r.getItemLayout(e),a=t.get("symbolRepeat"),s=t.get("symbolClip"),o=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,h=t.isAnimationEnabled(),f={dataIndex:e,layout:i,itemModel:t,symbolType:r.getItemVisual(e,"symbol")||"circle",style:r.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:h?t:null,hoverScale:h&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};xde(t,a,i,n,f),bde(r,e,i,a,s,f.boundingLength,f.pxSign,c,n,f),_de(t,f.symbolScale,u,n,f);var d=f.symbolSize,p=Fp(t.get("symbolOffset"),d);return wde(t,d,i,a,s,p,o,f.valueLineWidth,f.boundingLength,f.repeatCutLength,n,f),f}function xde(r,e,t,n,i){var a=n.valueDim,s=r.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(ve(s)){var h=[$k(o,s[0])-l,$k(o,s[1])-l];h[1]<h[0]&&h.reverse(),c=h[u]}else s!=null?c=$k(o,s)-l:e?c=n.coordSysExtent[a.index][u]-l:c=t[a.wh];i.boundingLength=c,e&&(i.repeatCutLength=t[a.wh]);var f=a.xy==="x",d=o.inverse;i.pxSign=f&&!d||!f&&d?c>=0?1:-1:c>0?1:-1}function $k(r,e){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(e)))}function bde(r,e,t,n,i,a,s,o,l,u){var c=l.valueDim,h=l.categoryDim,f=Math.abs(t[h.wh]),d=r.getItemVisual(e,"symbolSize"),p;ve(d)?p=d.slice():d==null?p=["100%","100%"]:p=[d,d],p[h.index]=_e(p[h.index],f),p[c.index]=_e(p[c.index],n?f:Math.abs(a)),u.symbolSize=p;var v=u.symbolScale=[p[0]/o,p[1]/o];v[c.index]*=(l.isHorizontal?-1:1)*s}function _de(r,e,t,n,i){var a=r.get(mde)||0;a&&(Gk.attr({scaleX:e[0],scaleY:e[1],rotation:t}),Gk.updateTransform(),a/=Gk.getLineScale(),a*=e[n.valueDim.index]),i.valueLineWidth=a||0}function wde(r,e,t,n,i,a,s,o,l,u,c,h){var f=c.categoryDim,d=c.valueDim,p=h.pxSign,v=Math.max(e[d.index]+o,0),g=v;if(n){var m=Math.abs(l),x=Un(r.get("symbolMargin"),"15%")+"",y=!1;x.lastIndexOf("!")===x.length-1&&(y=!0,x=x.slice(0,x.length-1));var _=_e(x,e[d.index]),S=Math.max(v+_*2,0),w=y?0:_*2,T=eH(n),A=T?n:u5((m+w)/S),C=m-A*v;_=C/2/(y?A:Math.max(A-1,1)),S=v+_*2,w=y?0:_*2,!T&&n!=="fixed"&&(A=u?u5((Math.abs(u)+w)/S):0),g=A*S-w,h.repeatTimes=A,h.symbolMargin=_}var k=p*(g/2),E=h.pathPosition=[];E[f.index]=t[f.wh]/2,E[d.index]=s==="start"?k:s==="end"?l-k:l/2,a&&(E[0]+=a[0],E[1]+=a[1]);var D=h.bundlePosition=[];D[f.index]=t[f.xy],D[d.index]=t[d.xy];var I=h.barRectShape=he({},t);I[d.wh]=p*Math.max(Math.abs(t[d.wh]),Math.abs(E[d.index]+k)),I[f.wh]=t[f.wh];var P=h.clipShape={};P[f.xy]=-t[f.xy],P[f.wh]=c.ecSize[f.wh],P[d.xy]=0,P[d.wh]=t[d.wh]}function U$(r){var e=r.symbolPatternSize,t=Qr(r.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function W$(r,e,t,n){var i=r.__pictorialBundle,a=t.symbolSize,s=t.valueLineWidth,o=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,h=a[e.valueDim.index]+s+t.symbolMargin*2;for(yR(r,function(v){v.__pictorialAnimationIndex=c,v.__pictorialRepeatTimes=u,c<u?qv(v,null,p(c),t,n):qv(v,null,{scaleX:0,scaleY:0},t,n,function(){i.remove(v)}),c++});c<u;c++){var f=U$(t);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=u,i.add(f);var d=p(c);qv(f,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},t,n)}function p(v){var g=o.slice(),m=t.pxSign,x=v;return(t.symbolRepeatDirection==="start"?m>0:m<0)&&(x=u-1-v),g[l.index]=h*(x-u/2+.5)+o[l.index],{x:g[0],y:g[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Y$(r,e,t,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?qv(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,n):(a=r.__pictorialMainPath=U$(t),i.add(a),qv(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,n))}function X$(r,e,t){var n=he({},e.barRectShape),i=r.__pictorialBarRect;i?qv(i,null,{shape:n},e,t):(i=r.__pictorialBarRect=new Tt({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function K$(r,e,t,n){if(t.symbolClip){var i=r.__pictorialClipPath,a=he({},t.clipShape),s=e.valueDim,o=t.animationModel,l=t.dataIndex;if(i)It(i,{shape:a},o,l);else{a[s.wh]=0,i=new Tt({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var u={};u[s.wh]=t.clipShape[s.wh],Op[n?"updateProps":"initProps"](i,{shape:u},o,l)}}}function a5(r,e){var t=r.getItemModel(e);return t.getAnimationDelayParams=Sde,t.isAnimationEnabled=Tde,t}function Sde(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function Tde(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function s5(r,e,t,n){var i=new Ke,a=new Ke;return i.add(a),i.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?W$(i,e,t):Y$(i,e,t),X$(i,t,n),K$(i,e,t,n),i.__pictorialShapeStr=j$(r,t),i.__pictorialSymbolMeta=t,i}function Ade(r,e,t){var n=t.animationModel,i=t.dataIndex,a=r.__pictorialBundle;It(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},n,i),t.symbolRepeat?W$(r,e,t,!0):Y$(r,e,t,!0),X$(r,t,!0),K$(r,e,t,!0)}function o5(r,e,t,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];yR(n,function(s){a.push(s)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),L(a,function(s){Vh(s,{scaleX:0,scaleY:0},t,e,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(e,null)}function j$(r,e){return[r.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function yR(r,e,t){L(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&e.call(t,n)})}function qv(r,e,t,n,i,a){e&&r.attr(e),n.symbolClip&&!i?t&&r.attr(t):t&&Op[i?"updateProps":"initProps"](r,t,n.animationModel,n.dataIndex,a)}function l5(r,e,t){var n=t.dataIndex,i=t.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),h=a.get("blurScope"),f=a.get("scale");yR(r,function(v){if(v instanceof Yn){var g=v.style;v.useStyle(he({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},t.style))}else v.useStyle(t.style);var m=v.ensureState("emphasis");m.style=s,f&&(m.scaleX=v.scaleX*1.1,m.scaleY=v.scaleY*1.1),v.ensureState("blur").style=o,v.ensureState("select").style=l,u&&(v.cursor=u),v.z2=t.z2});var d=e.valueDim.posDesc[+(t.boundingLength>0)],p=r.__pictorialBarRect;p.ignoreClip=!0,ci(p,Mn(i),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:xg(e.seriesModel.getData(),n),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:d}),Tr(r,c,h,a.get("disabled"))}function u5(r){var e=Math.round(r);return Math.abs(r-e)<1e-4?e:Math.ceil(r)}var Cde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,r.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Jh(f1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(f1);function kde(r){r.registerChartView(yde),r.registerSeriesModel(Cde),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,Qe(L9,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,P9("pictorialBar"))}var Ede=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,n,i){var a=t.getData(),s=this,o=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,h=u.boundaryGap;o.x=0,o.y=c.y+h[0];function f(g){return g.name}var d=new Zu(this._layersSeries||[],l,f,f),p=[];d.add(Ee(v,this,"add")).update(Ee(v,this,"update")).remove(Ee(v,this,"remove")).execute();function v(g,m,x){var y=s._layers;if(g==="remove"){o.remove(y[m]);return}for(var _=[],S=[],w,T=l[m].indices,A=0;A<T.length;A++){var C=a.getItemLayout(T[A]),k=C.x,E=C.y0,D=C.y;_.push(k,E),S.push(k,E+D),w=a.getItemVisual(T[A],"style")}var I,P=a.getItemLayout(T[0]),F=t.getModel("label"),V=F.get("margin"),z=t.getModel("emphasis");if(g==="add"){var G=p[m]=new Ke;I=new _G({shape:{points:_,stackedOnPoints:S,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),G.add(I),o.add(G),t.isAnimationEnabled()&&I.setClipPath(Dde(I.getBoundingRect(),t,function(){I.removeClipPath()}))}else{var G=y[x];I=G.childAt(0),o.add(G),p[m]=G,It(I,{shape:{points:_,stackedOnPoints:S}},t),bo(I)}ci(I,Mn(t),{labelDataIndex:T[A-1],defaultText:a.getName(T[A-1]),inheritColor:w.fill},{normal:{verticalAlign:"middle"}}),I.setTextConfig({position:null,local:!0});var O=I.getTextContent();O&&(O.x=P.x-V,O.y=P.y0+P.y/2),I.useStyle(w),a.setItemGraphicEl(m,I),ui(I,t),Tr(I,z.get("focus"),z.get("blurScope"),z.get("disabled"))}this._layersSeries=l,this._layers=p},e.type="themeRiver",e}(tr);function Dde(r,e,t){var n=new Tt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return gr(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},e,t),n}var Uk=2,Mde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Vb(Ee(this.getData,this),Ee(this.getRawData,this))},e.prototype.fixData=function(t){var n=t.length,i={},a=gD(t,function(f){return i.hasOwnProperty(f[0]+"")||(i[f[0]+""]=-1),f[2]}),s=[];a.buckets.each(function(f,d){s.push({name:d,dataList:f})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var h=s[l].dataList[c][0]+"";i[h]=l}for(var h in i)i.hasOwnProperty(h)&&i[h]!==l&&(i[h]=l,t[n]=[h,0,u],n++)}return t},e.prototype.getInitialData=function(t,n){for(var i=this.getReferringComponents("singleAxis",Jr).models[0],a=i.get("type"),s=Ot(t.data,function(p){return p[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=Le(),c=0,h=0;h<o.length;++h)l.push(o[h][Uk]),u.get(o[h][Uk])||(u.set(o[h][Uk],c),c++);var f=Lb(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:cT(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new ji(f,this);return d.initData(o),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),i=[],a=0;a<n;++a)i[a]=a;var s=t.mapDimension("single"),o=gD(i,function(u){return t.get("name",u)}),l=[];return o.buckets.each(function(u,c){u.sort(function(h,f){return t.get(s,h)-t.get(s,f)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,n,i){ve(t)||(t=t?[t]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,c=0;c<l;++c){for(var h=Number.MAX_VALUE,f=-1,d=s[c].indices.length,p=0;p<d;++p){var v=a.get(t[0],s[c].indices[p]),g=Math.abs(v-n);g<=h&&(u=v,h=g,f=s[c].indices[p])}o.push(f)}return{dataIndices:o,nestestValue:u}},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=a.getName(t),o=a.get(a.mapDimension("value"),t);return In("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(lr);function Ide(r,e){r.eachSeriesByType("themeRiver",function(t){var n=t.getData(),i=t.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=t.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=_e(o[0],s.height),o[1]=_e(o[1],s.height);var u=s.height-o[0]-o[1];c5(n,t,u)}else{o[0]=_e(o[0],s.width),o[1]=_e(o[1],s.width);var c=s.width-o[0]-o[1];c5(n,t,c)}n.setLayout("layoutInfo",a)})}function c5(r,e,t){if(r.count())for(var n=e.coordinateSystem,i=e.getLayerSeries(),a=r.mapDimension("single"),s=r.mapDimension("value"),o=ge(i,function(g){return ge(g.indices,function(m){var x=n.dataToPoint(r.get(a,m));return x[1]=r.get(s,m),x})}),l=Lde(o),u=l.y0,c=t/l.max,h=i.length,f=i[0].indices.length,d,p=0;p<f;++p){d=u[p]*c,r.setItemLayout(i[0].indices[p],{layerIndex:0,x:o[0][p][0],y0:d,y:o[0][p][1]*c});for(var v=1;v<h;++v)d+=o[v-1][p][1]*c,r.setItemLayout(i[v].indices[p],{layerIndex:v,x:o[v][p][0],y0:d,y:o[v][p][1]*c})}}function Lde(r){for(var e=r.length,t=r[0].length,n=[],i=[],a=0,s=0;s<t;++s){for(var o=0,l=0;l<e;++l)o+=r[l][s][1];o>a&&(a=o),n.push(o)}for(var u=0;u<t;++u)i[u]=(a-n[u])/2;a=0;for(var c=0;c<t;++c){var h=n[c]+i[c];h>a&&(a=h)}return{y0:i,max:a}}function Pde(r){r.registerChartView(Ede),r.registerSeriesModel(Mde),r.registerLayout(Ide),r.registerProcessor(Bb("themeRiver"))}var Rde=2,Ode=4,h5=function(r){te(e,r);function e(t,n,i,a){var s=r.call(this)||this;s.z2=Rde,s.textConfig={inside:!0},je(s).seriesIndex=n.seriesIndex;var o=new Et({z2:Ode,silent:t.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,t,n,i,a),s}return e.prototype.updateData=function(t,n,i,a,s){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;je(o).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),h=he({},c);h.label=null;var f=n.getVisual("style");f.lineJoin="bevel";var d=n.getVisual("decal");d&&(f.decal=mg(d,s));var p=Qf(l.getModel("itemStyle"),h,!0);he(h,p),L(ea,function(x){var y=o.ensureState(x),_=l.getModel([x,"itemStyle"]);y.style=_.getItemStyle();var S=Qf(_,h);S&&(y.shape=S)}),t?(o.setShape(h),o.shape.r=c.r0,gr(o,{shape:{r:c.r}},i,n.dataIndex)):(It(o,{shape:h},i),bo(o)),o.useStyle(f),this._updateLabel(i);var v=l.getShallow("cursor");v&&o.attr("cursor",v),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var g=u.get("focus"),m=g==="relative"?Ky(n.getAncestorsIndices(),n.getDescendantIndices()):g==="ancestor"?n.getAncestorsIndices():g==="descendant"?n.getDescendantIndices():g;Tr(this,m,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var n=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),h=this,f=h.getTextContent(),d=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,v=a.get("show")&&!(p!=null&&Math.abs(o)<p);f.ignore=!v,L(e1,function(m){var x=m==="normal"?i.getModel("label"):i.getModel([m,"label"]),y=m==="normal",_=y?f:f.ensureState(m),S=t.getFormattedLabel(d,m);y&&(S=S||n.node.name),_.style=or(x,{},null,m!=="normal",!0),S&&(_.style.text=S);var w=x.get("show");w!=null&&!y&&(_.ignore=!w);var T=g(x,"position"),A=y?h:h.states[m],C=A.style.fill;A.textConfig={outsideFill:x.get("color")==="inherit"?C:null,inside:T!=="outside"};var k,E=g(x,"distance")||0,D=g(x,"align"),I=g(x,"rotate"),P=Math.PI*.5,F=Math.PI*1.5,V=Wa(I==="tangential"?Math.PI/2-l:l),z=V>P&&!Jy(V-P)&&V<F;T==="outside"?(k=s.r+E,D=z?"right":"left"):!D||D==="center"?(o===2*Math.PI&&s.r0===0?k=0:k=(s.r+s.r0)/2,D="center"):D==="left"?(k=s.r0+E,D=z?"right":"left"):D==="right"&&(k=s.r-E,D=z?"left":"right"),_.style.align=D,_.style.verticalAlign=g(x,"verticalAlign")||"middle",_.x=k*u+s.cx,_.y=k*c+s.cy;var G=0;I==="radial"?G=Wa(-l)+(z?Math.PI:0):I==="tangential"?G=Wa(Math.PI/2-l)+(z?Math.PI:0):Mt(I)&&(G=I*Math.PI/180),_.rotation=Wa(G)});function g(m,x){var y=m.get(x);return y??a.get(x)}f.dirtyStyle()},e}(ta),gM="sunburstRootToNode",f5="sunburstHighlight",Fde="sunburstUnhighlight";function Nde(r){r.registerAction({type:gM,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(i,a){var s=p1(e,[gM],i);if(s){var o=i.getViewRoot();o&&(e.direction=rR(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),r.registerAction({type:f5,update:"none"},function(e,t,n){e=he({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var s=p1(e,[f5],a);s&&(e.dataIndex=s.node.dataIndex)}n.dispatchAction(he(e,{type:"highlight"}))}),r.registerAction({type:Fde,update:"updateView"},function(e,t,n){e=he({},e),n.dispatchAction(he(e,{type:"downplay"}))})}var Bde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){var s=this;this.seriesModel=t,this.api=i,this.ecModel=n;var o=t.getData(),l=o.tree.root,u=t.getViewRoot(),c=this.group,h=t.get("renderLabelForZeroData"),f=[];u.eachNode(function(x){f.push(x)});var d=this._oldChildren||[];p(f,d),m(l,u),this._initEvents(),this._oldChildren=f;function p(x,y){if(x.length===0&&y.length===0)return;new Zu(y,x,_,_).add(S).update(S).remove(Qe(S,null)).execute();function _(w){return w.getId()}function S(w,T){var A=w==null?null:x[w],C=T==null?null:y[T];v(A,C)}}function v(x,y){if(!h&&x&&!x.getValue()&&(x=null),x!==l&&y!==l){if(y&&y.piece)x?(y.piece.updateData(!1,x,t,n,i),o.setItemGraphicEl(x.dataIndex,y.piece)):g(y);else if(x){var _=new h5(x,t,n,i);c.add(_),o.setItemGraphicEl(x.dataIndex,_)}}}function g(x){x&&x.piece&&(c.remove(x.piece),x.piece=null)}function m(x,y){y.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,x,t,n,i):(s.virtualPiece=new h5(x,t,n,i),c.add(s.virtualPiece)),y.piece.off("click"),s.virtualPiece.on("click",function(_){s._rootToNode(y.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")t._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";rT(u,c)}}i=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:gM,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="sunburst",e}(tr),Vde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};q$(i);var a=this._levelModels=ge(t.levels||[],function(l){return new Gt(l,this,n)},this),s=tR.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(u,c){var h=s.getNodeByDataIndex(c),f=a[h.depth];return f&&(u.parentModel=f),u})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=h2(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){t$(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(lr);function q$(r){var e=0;L(r.children,function(n){q$(n);var i=n.value;ve(i)&&(i=i[0]),e+=i});var t=r.value;ve(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ve(r.value)?r.value[0]=t:r.value=t}var d5=Math.PI/180;function zde(r,e,t){e.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");ve(a)||(a=[0,a]),ve(i)||(i=[i,i]);var s=t.getWidth(),o=t.getHeight(),l=Math.min(s,o),u=_e(i[0],s),c=_e(i[1],o),h=_e(a[0],l/2),f=_e(a[1],l/2),d=-n.get("startAngle")*d5,p=n.get("minAngle")*d5,v=n.getData().tree.root,g=n.getViewRoot(),m=g.depth,x=n.get("sort");x!=null&&Z$(g,x);var y=0;L(g.children,function(V){!isNaN(V.getValue())&&y++});var _=g.getValue(),S=Math.PI/(_||y)*2,w=g.depth>0,T=g.height-(w?-1:1),A=(f-h)/(T||1),C=n.get("clockwise"),k=n.get("stillShowZeroSum"),E=C?1:-1,D=function(V,z){if(V){var G=z;if(V!==v){var O=V.getValue(),ee=_===0&&k?S:O*S;ee<p&&(ee=p),G=z+E*ee;var Q=V.depth-m-(w?-1:1),N=h+A*Q,Y=h+A*(Q+1),W=n.getLevelModel(V);if(W){var K=W.get("r0",!0),ne=W.get("r",!0),fe=W.get("radius",!0);fe!=null&&(K=fe[0],ne=fe[1]),K!=null&&(N=_e(K,l/2)),ne!=null&&(Y=_e(ne,l/2))}V.setLayout({angle:ee,startAngle:z,endAngle:G,clockwise:C,cx:u,cy:c,r0:N,r:Y})}if(V.children&&V.children.length){var ae=0;L(V.children,function(re){ae+=D(re,z+ae)})}return G-z}};if(w){var I=h,P=h+A,F=Math.PI*2;v.setLayout({angle:F,startAngle:d,endAngle:d+F,clockwise:C,cx:u,cy:c,r0:I,r:P})}D(g,d)})}function Z$(r,e){var t=r.children||[];r.children=Hde(t,e),t.length&&L(r.children,function(n){Z$(n,e)})}function Hde(r,e){if(Ve(e)){var t=ge(r,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return t.sort(function(i,a){return e(i.params,a.params)}),ge(t,function(i){return r[i.index]})}else{var n=e==="asc";return r.sort(function(i,a){var s=(i.getValue()-a.getValue())*(n?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(n?-1:1):s})}}function Gde(r){var e={};function t(n,i,a){for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",e);return n.depth>1&&Ae(o)&&(o=iD(o,(n.depth-1)/(a-1)*.5)),o}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,n,a.root.height));var u=i.ensureUniqueItemVisual(s.dataIndex,"style");he(u,l)})})}function $de(r){r.registerChartView(Bde),r.registerSeriesModel(Vde),r.registerLayout(Qe(zde,"sunburst")),r.registerProcessor(Qe(Bb,"sunburst")),r.registerVisual(Gde),Nde(r)}var p5={color:"fill",borderColor:"stroke"},Ude={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Vu=At(),Wde=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,n){return sc(null,this)},e.prototype.getDataParams=function(t,n,i){var a=r.prototype.getDataParams.call(this,t,n);return i&&(a.info=Vu(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(lr);function Yde(r,e){return e=e||[0,0],ge(["x","y"],function(t,n){var i=this.getAxis(t),a=e[n],s=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function Xde(r){var e=r.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Ee(Yde,r)}}}function Kde(r,e){return e=e||[0,0],ge([0,1],function(t){var n=e[t],i=r[t]/2,a=[],s=[];return a[t]=n-i,s[t]=n+i,a[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(s)[t])},this)}function jde(r){var e=r.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:r.getZoom()},api:{coord:function(t){return r.dataToPoint(t)},size:Ee(Kde,r)}}}function qde(r,e){var t=this.getAxis(),n=e instanceof Array?e[0]:e,i=(r instanceof Array?r[0]:r)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(n-i)-t.dataToCoord(n+i))}function Zde(r){var e=r.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Ee(qde,r)}}}function Jde(r,e){return e=e||[0,0],ge(["Radius","Angle"],function(t,n){var i="get"+t+"Axis",a=this[i](),s=e[n],o=r[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function Qde(r){var e=r.getRadiusAxis(),t=r.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),s=t.dataToAngle(i[1]),o=r.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:Ee(Jde,r)}}}function epe(r){var e=r.getRect(),t=r.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)}}}}function J$(r,e,t,n){return r&&(r.legacy||r.legacy!==!1&&!t&&!n&&e!=="tspan"&&(e==="text"||Me(r,"text")))}function Q$(r,e,t){var n=r,i,a,s;if(e==="text")s=n;else{s={},Me(n,"text")&&(s.text=n.text),Me(n,"rich")&&(s.rich=n.rich),Me(n,"textFill")&&(s.fill=n.textFill),Me(n,"textStroke")&&(s.stroke=n.textStroke),Me(n,"fontFamily")&&(s.fontFamily=n.fontFamily),Me(n,"fontSize")&&(s.fontSize=n.fontSize),Me(n,"fontStyle")&&(s.fontStyle=n.fontStyle),Me(n,"fontWeight")&&(s.fontWeight=n.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=Me(n,"textPosition");t?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),Me(n,"textPosition")&&(i.position=n.textPosition),Me(n,"textOffset")&&(i.offset=n.textOffset),Me(n,"textRotation")&&(i.rotation=n.textRotation),Me(n,"textDistance")&&(i.distance=n.textDistance)}return v5(s,r),L(s.rich,function(l){v5(l,l)}),{textConfig:i,textContent:a}}function v5(r,e){e&&(e.font=e.textFont||e.font,Me(e,"textStrokeWidth")&&(r.lineWidth=e.textStrokeWidth),Me(e,"textAlign")&&(r.align=e.textAlign),Me(e,"textVerticalAlign")&&(r.verticalAlign=e.textVerticalAlign),Me(e,"textLineHeight")&&(r.lineHeight=e.textLineHeight),Me(e,"textWidth")&&(r.width=e.textWidth),Me(e,"textHeight")&&(r.height=e.textHeight),Me(e,"textBackgroundColor")&&(r.backgroundColor=e.textBackgroundColor),Me(e,"textPadding")&&(r.padding=e.textPadding),Me(e,"textBorderColor")&&(r.borderColor=e.textBorderColor),Me(e,"textBorderWidth")&&(r.borderWidth=e.textBorderWidth),Me(e,"textBorderRadius")&&(r.borderRadius=e.textBorderRadius),Me(e,"textBoxShadowColor")&&(r.shadowColor=e.textBoxShadowColor),Me(e,"textBoxShadowBlur")&&(r.shadowBlur=e.textBoxShadowBlur),Me(e,"textBoxShadowOffsetX")&&(r.shadowOffsetX=e.textBoxShadowOffsetX),Me(e,"textBoxShadowOffsetY")&&(r.shadowOffsetY=e.textBoxShadowOffsetY))}function g5(r,e,t){var n=r;n.textPosition=n.textPosition||t.position||"inside",t.offset!=null&&(n.textOffset=t.offset),t.rotation!=null&&(n.textRotation=t.rotation),t.distance!=null&&(n.textDistance=t.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||"#000";m5(n,e);var s=n.textFill==null;return i?s&&(n.textFill=t.insideFill||"#fff",!n.textStroke&&t.insideStroke&&(n.textStroke=t.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=r.fill||t.outsideFill||"#000"),!n.textStroke&&t.outsideStroke&&(n.textStroke=t.outsideStroke)),n.text=e.text,n.rich=e.rich,L(e.rich,function(o){m5(o,o)}),n}function m5(r,e){e&&(Me(e,"fill")&&(r.textFill=e.fill),Me(e,"stroke")&&(r.textStroke=e.fill),Me(e,"lineWidth")&&(r.textStrokeWidth=e.lineWidth),Me(e,"font")&&(r.font=e.font),Me(e,"fontStyle")&&(r.fontStyle=e.fontStyle),Me(e,"fontWeight")&&(r.fontWeight=e.fontWeight),Me(e,"fontSize")&&(r.fontSize=e.fontSize),Me(e,"fontFamily")&&(r.fontFamily=e.fontFamily),Me(e,"align")&&(r.textAlign=e.align),Me(e,"verticalAlign")&&(r.textVerticalAlign=e.verticalAlign),Me(e,"lineHeight")&&(r.textLineHeight=e.lineHeight),Me(e,"width")&&(r.textWidth=e.width),Me(e,"height")&&(r.textHeight=e.height),Me(e,"backgroundColor")&&(r.textBackgroundColor=e.backgroundColor),Me(e,"padding")&&(r.textPadding=e.padding),Me(e,"borderColor")&&(r.textBorderColor=e.borderColor),Me(e,"borderWidth")&&(r.textBorderWidth=e.borderWidth),Me(e,"borderRadius")&&(r.textBorderRadius=e.borderRadius),Me(e,"shadowColor")&&(r.textBoxShadowColor=e.shadowColor),Me(e,"shadowBlur")&&(r.textBoxShadowBlur=e.shadowBlur),Me(e,"shadowOffsetX")&&(r.textBoxShadowOffsetX=e.shadowOffsetX),Me(e,"shadowOffsetY")&&(r.textBoxShadowOffsetY=e.shadowOffsetY),Me(e,"textShadowColor")&&(r.textShadowColor=e.textShadowColor),Me(e,"textShadowBlur")&&(r.textShadowBlur=e.textShadowBlur),Me(e,"textShadowOffsetX")&&(r.textShadowOffsetX=e.textShadowOffsetX),Me(e,"textShadowOffsetY")&&(r.textShadowOffsetY=e.textShadowOffsetY))}var eU={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},y5=gt(eU);xl(_l,function(r,e){return r[e]=1,r},{});_l.join(", ");var wT=["","style","shape","extra"],wg=At();function xR(r,e,t,n,i){var a=r+"Animation",s=Ig(r,n,i)||{},o=wg(e).userDuring;return s.duration>0&&(s.during=o?Ee(ape,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=r),he(s,t[a]),s}function jw(r,e,t,n){n=n||{};var i=n.dataIndex,a=n.isInit,s=n.clearStyle,o=t.isAnimationEnabled(),l=wg(r),u=e.style;l.userDuring=e.during;var c={},h={};if(ope(r,e,h),b5("shape",e,h),b5("extra",e,h),!a&&o&&(spe(r,e,c),x5("shape",r,e,c),x5("extra",r,e,c),lpe(r,e,u,c)),h.style=u,tpe(r,h,s),npe(r,e),o)if(a){var f={};L(wT,function(p){var v=p?e[p]:e;v&&v.enterFrom&&(p&&(f[p]=f[p]||{}),he(p?f[p]:f,v.enterFrom))});var d=xR("enter",r,e,t,i);d.duration>0&&r.animateFrom(f,d)}else rpe(r,e,i||0,t,c);tU(r,e),u?r.dirty():r.markRedraw()}function tU(r,e){for(var t=wg(r).leaveToProps,n=0;n<wT.length;n++){var i=wT[n],a=i?e[i]:e;a&&a.leaveTo&&(t||(t=wg(r).leaveToProps={}),i&&(t[i]=t[i]||{}),he(i?t[i]:t,a.leaveTo))}}function p2(r,e,t,n){if(r){var i=r.parent,a=wg(r).leaveToProps;if(a){var s=xR("update",r,e,t,0);s.done=function(){i.remove(r)},r.animateTo(a,s)}else i.remove(r)}}function vp(r){return r==="all"}function tpe(r,e,t){var n=e.style;if(!r.isGroup&&n){if(t){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(r.style)}}r.setStyle(n)}e&&(e.style=null,e&&r.attr(e),e.style=n)}function rpe(r,e,t,n,i){if(i){var a=xR("update",r,e,n,t);a.duration>0&&r.animateFrom(i,a)}}function npe(r,e){Me(e,"silent")&&(r.silent=e.silent),Me(e,"ignore")&&(r.ignore=e.ignore),r instanceof Is&&Me(e,"invisible")&&(r.invisible=e.invisible),r instanceof dt&&Me(e,"autoBatch")&&(r.autoBatch=e.autoBatch)}var Fo={},ipe={setTransform:function(r,e){return Fo.el[r]=e,this},getTransform:function(r){return Fo.el[r]},setShape:function(r,e){var t=Fo.el,n=t.shape||(t.shape={});return n[r]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(r){var e=Fo.el.shape;if(e)return e[r]},setStyle:function(r,e){var t=Fo.el,n=t.style;return n&&(n[r]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(r){var e=Fo.el.style;if(e)return e[r]},setExtra:function(r,e){var t=Fo.el.extra||(Fo.el.extra={});return t[r]=e,this},getExtra:function(r){var e=Fo.el.extra;if(e)return e[r]}};function ape(){var r=this,e=r.el;if(e){var t=wg(e).userDuring,n=r.userDuring;if(t!==n){r.el=r.userDuring=null;return}Fo.el=e,n(ipe)}}function x5(r,e,t,n){var i=t[r];if(i){var a=e[r],s;if(a){var o=t.transition,l=i.transition;if(l)if(!s&&(s=n[r]={}),vp(l))he(s,a);else for(var u=qt(l),c=0;c<u.length;c++){var h=u[c],f=a[h];s[h]=f}else if(vp(o)||lt(o,r)>=0){!s&&(s=n[r]={});for(var d=gt(a),c=0;c<d.length;c++){var h=d[c],f=a[h];upe(i[h],f)&&(s[h]=f)}}}}}function b5(r,e,t){var n=e[r];if(n)for(var i=t[r]={},a=gt(n),s=0;s<a.length;s++){var o=a[s];i[o]=Sy(n[o])}}function spe(r,e,t){for(var n=e.transition,i=vp(n)?_l:qt(n||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=r[s];t[s]=o}}}function ope(r,e,t){for(var n=0;n<y5.length;n++){var i=y5[n],a=eU[i],s=e[i];s&&(t[a[0]]=s[0],t[a[1]]=s[1])}for(var n=0;n<_l.length;n++){var o=_l[n];e[o]!=null&&(t[o]=e[o])}}function lpe(r,e,t,n){if(t){var i=r.style,a;if(i){var s=t.transition,o=e.transition;if(s&&!vp(s)){var l=qt(s);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],h=i[c];a[c]=h}}else if(r.getAnimationStyleProps&&(vp(o)||vp(s)||lt(o,"style")>=0)){var f=r.getAnimationStyleProps(),d=f?f.style:null;if(d){!a&&(a=n.style={});for(var p=gt(t),u=0;u<p.length;u++){var c=p[u];if(d[c]){var h=i[c];a[c]=h}}}}}}}function upe(r,e){return ki(r)?r!==e:r!=null&&isFinite(r)}var rU=At(),cpe=["percent","easing","shape","style","extra"];function nU(r){r.stopAnimation("keyframe"),r.attr(rU(r))}function ST(r,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ve(e)){L(e,function(o){ST(r,o,t)});return}var n=e.keyframes,i=e.duration;if(t&&i==null){var a=Ig("enter",t,0);i=a&&a.duration}if(!(!n||!i)){var s=rU(r);L(wT,function(o){if(!(o&&!r[o])){var l;n.sort(function(u,c){return u.percent-c.percent}),L(n,function(u){var c=r.animators,h=o?u[o]:u;if(h){var f=gt(h);if(o||(f=Ot(f,function(v){return lt(cpe,v)<0})),!!f.length){l||(l=r.animate(o,e.loop,!0),l.scope="keyframe");for(var d=0;d<c.length;d++)c[d]!==l&&c[d].targetName===l.targetName&&c[d].stopTracks(f);o&&(s[o]=s[o]||{});var p=o?s[o]:s;L(f,function(v){p[v]=((o?r[o]:r)||{})[v]}),l.whenWithKeys(i*u.percent,h,f,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var zu="emphasis",Sh="normal",bR="blur",_R="select",$h=[Sh,zu,bR,_R],Wk={normal:["itemStyle"],emphasis:[zu,"itemStyle"],blur:[bR,"itemStyle"],select:[_R,"itemStyle"]},Yk={normal:["label"],emphasis:[zu,"label"],blur:[bR,"label"],select:[_R,"label"]},hpe=["x","y"],fpe="e\0\0",ts={normal:{},emphasis:{},blur:{},select:{}},dpe={cartesian2d:Xde,geo:jde,single:Zde,polar:Qde,calendar:epe};function mM(r){return r instanceof dt}function yM(r){return r instanceof Is}function ppe(r,e){e.copyTransform(r),yM(e)&&yM(r)&&(e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e.invisible=r.invisible,e.ignore=r.ignore,mM(e)&&mM(r)&&e.setShape(r.shape))}var vpe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this._progressiveEls=null;var s=this._data,o=t.getData(),l=this.group,u=_5(t,o,n,i);s||l.removeAll(),o.diff(s).add(function(h){Xk(i,null,h,u(h,a),t,l,o)}).remove(function(h){var f=s.getItemGraphicEl(h);f&&p2(f,Vu(f).option,t)}).update(function(h,f){var d=s.getItemGraphicEl(f);Xk(i,d,h,u(h,a),t,l,o)}).execute();var c=t.get("clip",!0)?Fb(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,n,i,a,s){var o=n.getData(),l=_5(n,o,i,a),u=this._progressiveEls=[];function c(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var h=t.start;h<t.end;h++){var f=Xk(null,null,h,l(h,s),n,this.group,o);f&&(f.traverse(c),u.push(f))}},e.prototype.eachRendered=function(t){Zh(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,n,i,a){var s=n.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},e.type="custom",e}(tr);function wR(r){var e=r.type,t;if(e==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=sU(n);t=UA(a,null,i,n.layout||"center"),Vu(t).customPathData=a}else if(e==="image")t=new Yn({}),Vu(t).customImagePath=r.style.image;else if(e==="text")t=new Et({});else if(e==="group")t=new Ke;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=cP(e);if(!s){var o="";Rt(o)}t=new s}return Vu(t).customGraphicType=e,t.name=r.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function SR(r,e,t,n,i,a,s){nU(e);var o=i&&i.normal.cfg;o&&e.setTextConfig(o),n&&n.transition==null&&(n.transition=hpe);var l=n&&n.style;if(l){if(e.type==="text"){var u=l;Me(u,"textFill")&&(u.fill=u.textFill),Me(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,h=mM(e)?l.decal:null;r&&h&&(h.dirty=!0,c=mg(h,r)),l.__decalPattern=c}if(yM(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}jw(e,n,a,{dataIndex:t,isInit:s,clearStyle:!0}),ST(e,n.keyframeAnimation,a)}function iU(r,e,t,n,i){var a=e.isGroup?null:e,s=i&&i[r].cfg;if(a){var o=a.ensureState(r);if(n===!1){var l=a.getState(r);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),wp(a)}}function gpe(r,e,t){if(!r.isGroup){var n=r,i=t.currentZ,a=t.currentZLevel;n.z=i,n.zlevel=a;var s=e.z2;s!=null&&(n.z2=s||0);for(var o=0;o<$h.length;o++)mpe(n,e,$h[o])}}function mpe(r,e,t){var n=t===Sh,i=n?e:TT(e,t),a=i?i.z2:null,s;a!=null&&(s=n?r:r.ensureState(t),s.z2=a||0)}function _5(r,e,t,n){var i=r.get("renderItem"),a=r.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):dpe[a.type](a));for(var o=ze({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:_,style:w,ordinalRawValue:S,styleEmphasis:T,visual:k,barLayout:E,currentSeriesIndices:D,font:I},s.api||{}),l={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:ype(r.getData())},u,c,h={},f={},d={},p={},v=0;v<$h.length;v++){var g=$h[v];d[g]=r.getModel(Wk[g]),p[g]=r.getModel(Yk[g])}function m(P){return P===u?c||(c=e.getItemModel(P)):e.getItemModel(P)}function x(P,F){return e.hasItemOption?P===u?h[F]||(h[F]=m(P).getModel(Wk[F])):m(P).getModel(Wk[F]):d[F]}function y(P,F){return e.hasItemOption?P===u?f[F]||(f[F]=m(P).getModel(Yk[F])):m(P).getModel(Yk[F]):p[F]}return function(P,F){return u=P,c=null,h={},f={},i&&i(ze({dataIndexInside:P,dataIndex:e.getRawIndex(P),actionType:F?F.type:null},l),o)};function _(P,F){return F==null&&(F=u),e.getStore().get(e.getDimensionIndex(P||0),F)}function S(P,F){F==null&&(F=u),P=P||0;var V=e.getDimensionInfo(P);if(!V){var z=e.getDimensionIndex(P);return z>=0?e.getStore().get(z,F):void 0}var G=e.get(V.name,F),O=V&&V.ordinalMeta;return O?O.categories[G]:G}function w(P,F){F==null&&(F=u);var V=e.getItemVisual(F,"style"),z=V&&V.fill,G=V&&V.opacity,O=x(F,Sh).getItemStyle();z!=null&&(O.fill=z),G!=null&&(O.opacity=G);var ee={inheritColor:Ae(z)?z:"#000"},Q=y(F,Sh),N=or(Q,null,ee,!1,!0);N.text=Q.getShallow("show")?Je(r.getFormattedLabel(F,Sh),xg(e,F)):null;var Y=eT(Q,ee,!1);return C(P,O),O=g5(O,N,Y),P&&A(O,P),O.legacy=!0,O}function T(P,F){F==null&&(F=u);var V=x(F,zu).getItemStyle(),z=y(F,zu),G=or(z,null,null,!0,!0);G.text=z.getShallow("show")?vl(r.getFormattedLabel(F,zu),r.getFormattedLabel(F,Sh),xg(e,F)):null;var O=eT(z,null,!0);return C(P,V),V=g5(V,G,O),P&&A(V,P),V.legacy=!0,V}function A(P,F){for(var V in F)Me(F,V)&&(P[V]=F[V])}function C(P,F){P&&(P.textFill&&(F.textFill=P.textFill),P.textPosition&&(F.textPosition=P.textPosition))}function k(P,F){if(F==null&&(F=u),Me(p5,P)){var V=e.getItemVisual(F,"style");return V?V[p5[P]]:null}if(Me(Ude,P))return e.getItemVisual(F,P)}function E(P){if(a.type==="cartesian2d"){var F=a.getBaseAxis();return oae(ze({axis:F},P))}}function D(){return t.getCurrentSeriesIndices()}function I(P){return hP(P,t)}}function ype(r){var e={};return L(r.dimensions,function(t){var n=r.getDimensionInfo(t);if(!n.isExtraCoord){var i=n.coordDim,a=e[i]=e[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(t)}}),e}function Xk(r,e,t,n,i,a,s){if(!n){a.remove(e);return}var o=TR(r,e,t,n,i,a);return o&&s.setItemGraphicEl(t,o),o&&Tr(o,n.focus,n.blurScope,n.emphasisDisabled),o}function TR(r,e,t,n,i,a){var s=-1,o=e;e&&aU(e,n,i)&&(s=lt(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=wR(n),o&&ppe(o,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),ts.normal.cfg=ts.normal.conOpt=ts.emphasis.cfg=ts.emphasis.conOpt=ts.blur.cfg=ts.blur.conOpt=ts.select.cfg=ts.select.conOpt=null,ts.isLegacy=!1,bpe(u,t,n,i,l,ts),xpe(u,t,n,i,l),SR(r,u,t,n,ts,i,l),Me(n,"info")&&(Vu(u).info=n.info);for(var c=0;c<$h.length;c++){var h=$h[c];if(h!==Sh){var f=TT(n,h),d=AR(n,f,h);iU(h,u,f,d,ts)}}return gpe(u,n,i),n.type==="group"&&_pe(r,u,t,n,i),s>=0?a.replaceAt(u,s):a.add(u),u}function aU(r,e,t){var n=Vu(r),i=e.type,a=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&Ape(a)&&sU(a)!==n.customPathData||i==="image"&&Me(s,"image")&&s.image!==n.customImagePath}function xpe(r,e,t,n,i){var a=t.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var s=r.getClipPath();s&&aU(s,a,n)&&(s=null),s||(s=wR(a),r.setClipPath(s)),SR(null,s,e,a,null,n,i)}}function bpe(r,e,t,n,i,a){if(!r.isGroup){w5(t,null,a),w5(t,zu,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var c=r.getTextContent();if(s===!1)c&&r.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=wR(s),r.setTextContent(c)),SR(null,c,e,s,null,n,i);for(var h=s&&s.style,f=0;f<$h.length;f++){var d=$h[f];if(d!==Sh){var p=a[d].conOpt;iU(d,c,p,AR(s,p,d),null)}}h?c.dirty():c.markRedraw()}}}}function w5(r,e,t){var n=e?TT(r,e):r,i=e?AR(r,n,zu):r.style,a=r.type,s=n?n.textConfig:null,o=r.textContent,l=o?e?TT(o,e):o:null;if(i&&(t.isLegacy||J$(i,a,!!s,!!l))){t.isLegacy=!0;var u=Q$(i,a,!e);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var h=e?t[e]:t.normal;h.cfg=s,h.conOpt=l}function TT(r,e){return e?r?r[e]:null:r}function AR(r,e,t){var n=e&&e.style;return n==null&&t===zu&&r&&(n=r.styleEmphasis),n}function _pe(r,e,t,n,i){var a=n.children,s=a?a.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){Spe({api:r,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:i,group:e});return}u&&e.removeAll();for(var c=0;c<s;c++){var h=a[c],f=e.childAt(c);h?(h.ignore==null&&(h.ignore=!1),TR(r,f,t,h,i,e)):f.ignore=!0}for(var d=e.childCount()-1;d>=c;d--){var p=e.childAt(d);wpe(e,p,i)}}}function wpe(r,e,t){e&&p2(e,Vu(r).option,t)}function Spe(r){new Zu(r.oldChildren,r.newChildren,S5,S5,r).add(T5).update(T5).remove(Tpe).execute()}function S5(r,e){var t=r&&r.name;return t??fpe+e}function T5(r,e){var t=this.context,n=r!=null?t.newChildren[r]:null,i=e!=null?t.oldChildren[e]:null;TR(t.api,i,t.dataIndex,n,t.seriesModel,t.group)}function Tpe(r){var e=this.context,t=e.oldChildren[r];t&&p2(t,Vu(t).option,e.seriesModel)}function sU(r){return r&&(r.pathData||r.d)}function Ape(r){return r&&(Me(r,"pathData")||Me(r,"d"))}function Cpe(r){r.registerChartView(vpe),r.registerSeriesModel(Wde)}var zf=At(),A5=Ye,Kk=Ee,CR=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,n,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new Ke,this.createPointerEl(o,u,e,t),this.createLabelEl(o,u,e,t),n.getZr().add(o);else{var f=Qe(C5,t,h);this.updatePointerEl(o,u,f),this.updateLabelEl(o,u,f,t)}E5(o,t,!0),this._renderHandle(a)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var n=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=KP(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},r.prototype.makeElOption=function(e,t,n,i,a){},r.prototype.createPointerEl=function(e,t,n,i){var a=t.pointer;if(a){var s=zf(e).pointerEl=new Op[a.type](A5(t.pointer));e.add(s)}},r.prototype.createLabelEl=function(e,t,n,i){if(t.label){var a=zf(e).labelEl=new Et(A5(t.label));e.add(a),k5(a,i)}},r.prototype.updatePointerEl=function(e,t,n){var i=zf(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),n(i,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,n,i){var a=zf(e).labelEl;a&&(a.setStyle(t.label.style),n(a,{x:t.label.x,y:t.label.y}),k5(a,i))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=Db(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Xu(u.event)},onmousedown:Kk(this._onHandleDragMove,this,0,0),drift:Kk(this._onHandleDragMove,this),ondragend:Kk(this._onHandleDragEnd,this)}),n.add(i)),E5(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ve(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Bg(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},r.prototype._moveHandleToValue=function(e,t){C5(this._axisPointerModel,!t&&this._moveAnimation,this._handle,jk(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(jk(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(jk(i)),zf(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,i=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),s1(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},r}();function C5(r,e,t,n){oU(zf(t).lastProp,n)||(zf(t).lastProp=n,e?It(t,n,r):(t.stopAnimation(),t.attr(n)))}function oU(r,e){if(Ue(r)&&Ue(e)){var t=!0;return L(e,function(n,i){t=t&&oU(r[i],n)}),!!t}else return r===e}function k5(r,e){r[e.get(["label","show"])?"show":"hide"]()}function jk(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function E5(r,e,t){var n=e.get("z"),i=e.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=t)})}function kR(r){var e=r.get("type"),t=r.getModel(e+"Style"),n;return e==="line"?(n=t.getLineStyle(),n.fill=null):e==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function lU(r,e,t,n,i){var a=t.get("value"),s=uU(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=Rg(o.get("padding")||0),u=o.getFont(),c=wb(s,u),h=i.position,f=c.width+l[1]+l[3],d=c.height+l[0]+l[2],p=i.align;p==="right"&&(h[0]-=f),p==="center"&&(h[0]-=f/2);var v=i.verticalAlign;v==="bottom"&&(h[1]-=d),v==="middle"&&(h[1]-=d/2),kpe(h,f,d,n);var g=o.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),r.label={x:h[0],y:h[1],style:or(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function kpe(r,e,t,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+e,i)-e,r[1]=Math.min(r[1]+t,a)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function uU(r,e,t,n,i){r=e.scale.parse(r);var a=e.scale.getLabel({value:r},{precision:i.precision}),s=i.formatter;if(s){var o={value:NP(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};L(n,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,h=u&&u.getDataParams(c);h&&o.seriesData.push(h)}),Ae(s)?a=s.replace("{value}",a):Ve(s)&&(a=s(o))}return a}function ER(r,e,t){var n=Ya();return Pp(n,n,t.rotation),bl(n,n,t.position),mo([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function cU(r,e,t,n,i,a){var s=qi.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),lU(e,n,i,a,{position:ER(n.axis,r,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function DR(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function hU(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}function D5(r,e,t,n,i,a){return{cx:r,cy:e,r0:t,r:n,startAngle:i,endAngle:a,clockwise:!0}}var Epe=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.grid,u=a.get("type"),c=M5(l,o).getOtherAxis(o).getGlobalExtent(),h=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var f=kR(a),d=Dpe[u](o,h,c);d.style=f,t.graphicKey=d.type,t.pointer=d}var p=JD(l.model,i);cU(n,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=JD(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=ER(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),u=M5(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,h=[t.x,t.y];h[c]+=n[c],h[c]=Math.min(l[1],h[c]),h[c]=Math.max(l[0],h[c]);var f=(u[1]+u[0])/2,d=[f,f];d[c]=h[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:d,tooltipOption:p[c]}},e}(CR);function M5(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var Dpe={line:function(r,e,t){var n=DR([e,t[0]],[e,t[1]],I5(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=Math.max(1,r.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:hU([e-n/2,t[0]],[n,i],I5(r))}}};function I5(r){return r.dim==="x"?0:1}var Mpe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(vt),Iu=At(),Ipe=L;function fU(r,e,t){if(!pt.node){var n=e.getZr();Iu(n).records||(Iu(n).records={}),Lpe(n,e);var i=Iu(n).records[r]||(Iu(n).records[r]={});i.handler=t}}function Lpe(r,e){if(Iu(r).initialized)return;Iu(r).initialized=!0,t("click",Qe(L5,"click")),t("mousemove",Qe(L5,"mousemove")),t("globalout",Rpe);function t(n,i){r.on(n,function(a){var s=Ope(e);Ipe(Iu(r).records,function(o){o&&i(o,a,s.dispatchAction)}),Ppe(s.pendings,e)})}}function Ppe(r,e){var t=r.showTip.length,n=r.hideTip.length,i;t?i=r.showTip[t-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function Rpe(r,e,t){r.handler("leave",null,t)}function L5(r,e,t,n){e.handler(r,t,n)}function Ope(r){var e={showTip:[],hideTip:[]},t=function(n){var i=e[n.type];i?i.push(n):(n.dispatchAction=t,r.dispatchAction(n))};return{dispatchAction:t,pendings:e}}function xM(r,e){if(!pt.node){var t=e.getZr(),n=(Iu(t).records||{})[r];n&&(Iu(t).records[r]=null)}}var Fpe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=n.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";fU("axisPointer",i,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,n){xM("axisPointer",n)},e.prototype.dispose=function(t,n){xM("axisPointer",n)},e.type="axisPointer",e}(br);function dU(r,e){var t=[],n=r.seriesIndex,i;if(n==null||!(i=e.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),s=bp(a,r);if(s==null||s<0||ve(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),h=c.dim,f=u.dim,d=h==="x"||h==="radius"?1:0,p=a.mapDimension(f),v=[];v[d]=a.get(p,s),v[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(v)||[]}else t=l.dataToPoint(a.getValues(ge(l.dimensions,function(m){return a.mapDimension(m)}),s))||[];else if(o){var g=o.getBoundingRect().clone();g.applyTransform(o.transform),t=[g.x+g.width/2,g.y+g.height/2]}return{point:t,el:o}}var P5=At();function Npe(r,e,t){var n=r.currTrigger,i=[r.x,r.y],a=r,s=r.dispatchAction||Ee(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){qw(i)&&(i=dU({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=qw(i),u=a.axesInfo,c=o.axesInfo,h=n==="leave"||qw(i),f={},d={},p={list:[],map:{}},v={showPointer:Qe(Vpe,d),showTooltip:Qe(zpe,p)};L(o.coordSysMap,function(m,x){var y=l||m.containPoint(i);L(o.coordSysAxesInfo[x],function(_,S){var w=_.axis,T=Upe(u,_);if(!h&&y&&(!u||T)){var A=T&&T.value;A==null&&!l&&(A=w.pointToData(i)),A!=null&&R5(_,A,v,!1,f)}})});var g={};return L(c,function(m,x){var y=m.linkGroup;y&&!d[x]&&L(y.axesInfo,function(_,S){var w=d[S];if(_!==m&&w){var T=w.value;y.mapper&&(T=m.axis.scale.parse(y.mapper(T,O5(_),O5(m)))),g[m.key]=T}})}),L(g,function(m,x){R5(c[x],m,v,!0,f)}),Hpe(d,c,f),Gpe(p,i,r,s),$pe(c,s,t),f}}function R5(r,e,t,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var s=Bpe(e,r),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&he(i,o[0]),!n&&r.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(r,e,o),t.showTooltip(r,s,l)}}function Bpe(r,e){var t=e.axis,n=t.dim,i=r,a=[],s=Number.MAX_VALUE,o=-1;return L(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),h,f;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,r,t);f=d.dataIndices,h=d.nestestValue}else{if(f=l.getData().indicesOfNearest(c[0],r,t.type==="category"?.5:null),!f.length)return;h=l.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var p=r-h,v=Math.abs(p);v<=s&&((v<s||p>=0&&o<0)&&(s=v,o=p,i=h,a.length=0),L(f,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function Vpe(r,e,t,n){r[e.key]={value:t,payloadBatch:n}}function zpe(r,e,t,n){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=d1(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Hpe(r,e,t){var n=t.axesInfo=[];L(e,function(i,a){var s=i.axisPointerModel.option,o=r[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function Gpe(r,e,t,n){if(qw(e)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function $pe(r,e,t){var n=t.getZr(),i="axisPointerLastHighlights",a=P5(n)[i]||{},s=P5(n)[i]={};L(r,function(u,c){var h=u.axisPointerModel.option;h.status==="show"&&u.triggerEmphasis&&L(h.seriesDataIndices,function(f){var d=f.seriesIndex+" | "+f.dataIndex;s[d]=f})});var o=[],l=[];L(a,function(u,c){!s[c]&&l.push(u)}),L(s,function(u,c){!a[c]&&o.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function Upe(r,e){for(var t=0;t<(r||[]).length;t++){var n=r[t];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function O5(r){var e=r.axis.model,t={},n=t.axisDim=r.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=e.componentIndex,t.axisName=t[n+"AxisName"]=e.name,t.axisId=t[n+"AxisId"]=e.id,t}function qw(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function Gb(r){Vp.registerAxisPointerClass("CartesianAxisPointer",Epe),r.registerComponentModel(Mpe),r.registerComponentView(Fpe),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ve(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=ele(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Npe)}function Wpe(r){ht(HG),ht(Gb)}var Ype=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),c=u.getExtent(),h=o.dataToCoord(n),f=a.get("type");if(f&&f!=="none"){var d=kR(a),p=Kpe[f](o,l,h,c);p.style=d,t.graphicKey=p.type,t.pointer=p}var v=a.get(["label","margin"]),g=Xpe(n,i,a,l,v);lU(t,i,a,s,g)},e}(CR);function Xpe(r,e,t,n,i){var a=e.axis,s=a.dataToCoord(r),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,h;if(a.dim==="radius"){var f=Ya();Pp(f,f,o),bl(f,f,[n.cx,n.cy]),u=mo([s,-i],f);var d=e.getModel("axisLabel").get("rotate")||0,p=qi.innerTextLayout(o,d*Math.PI/180,-1);c=p.textAlign,h=p.textVerticalAlign}else{var v=l[1];u=n.coordToPoint([v+i,s]);var g=n.cx,m=n.cy;c=Math.abs(u[0]-g)/v<.3?"center":u[0]>g?"left":"right",h=Math.abs(u[1]-m)/v<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:h}}var Kpe={line:function(r,e,t,n){return r.dim==="angle"?{type:"Line",shape:DR(e.coordToPoint([n[0],t]),e.coordToPoint([n[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(r,e,t,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:D5(e.cx,e.cy,n[0],n[1],(-t-i/2)*a,(-t+i/2)*a)}:{type:"Sector",shape:D5(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}},jpe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var n,i=this.ecModel;return i.eachComponent(t,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(vt),MR=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Jr).models[0]},e.type="polarAxis",e}(vt);tn(MR,Pb);var qpe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(MR),Zpe=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(MR),IR=function(r){te(e,r);function e(t,n){return r.call(this,"radius",t,n)||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e}(Ao);IR.prototype.dataToRadius=Ao.prototype.dataToCoord;IR.prototype.radiusToData=Ao.prototype.coordToData;var Jpe=At(),LR=function(r){te(e,r);function e(t,n){return r.call(this,"angle",t,n||[0,360])||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),i=t.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=t.dataToCoord(o+1)-t.dataToCoord(o),u=Math.abs(l),c=wb(o==null?"":o+"",n.getFont(),"center","top"),h=Math.max(c.height,7),f=h/u;isNaN(f)&&(f=1/0);var d=Math.max(0,Math.floor(f)),p=Jpe(t.model),v=p.lastAutoInterval,g=p.lastTickCount;return v!=null&&g!=null&&Math.abs(v-d)<=1&&Math.abs(g-s)<=1&&v>d?d=v:(p.lastTickCount=s,p.lastAutoInterval=d),d},e}(Ao);LR.prototype.dataToAngle=Ao.prototype.dataToCoord;LR.prototype.angleToData=Ao.prototype.coordToData;var pU=["radius","angle"],Qpe=function(){function r(e){this.dimensions=pU,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new IR,this._angleAxis=new LR,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},r.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},r.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===e&&t.push(n),i.scale.type===e&&t.push(i),t},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},r.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},r.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},r.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var u=Math.atan2(-n,t)/Math.PI*180,c=u<s?1:-1;u<s||u>o;)u+=c*360;return[l,u]},r.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI,i=Math.cos(n)*t+this.cx,a=-Math.sin(n)*t+this.cy;return[i,a]},r.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var i=e.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(o,l){var u=o-this.cx,c=l-this.cy,h=u*u+c*c,f=this.r,d=this.r0;return f!==d&&h-s<=f*f&&h+s>=d*d}}},r.prototype.convertToPixel=function(e,t,n){var i=F5(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=F5(t);return i===this?this.pointToData(n):null},r}();function F5(r){var e=r.seriesModel,t=r.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function eve(r,e,t){var n=e.get("center"),i=t.getWidth(),a=t.getHeight();r.cx=_e(n[0],i),r.cy=_e(n[1],a);var s=r.getRadiusAxis(),o=Math.min(i,a)/2,l=e.get("radius");l==null?l=[0,"100%"]:ve(l)||(l=[0,l]);var u=[_e(l[0],o),_e(l[1],o)];s.inverse?s.setExtent(u[1],u[0]):s.setExtent(u[0],u[1])}function tve(r,e){var t=this,n=t.getAngleAxis(),i=t.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(o){if(o.coordinateSystem===t){var l=o.getData();L(hT(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),L(hT(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),yg(n.scale,n.model),yg(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),s=360/n.scale.count();n.inverse?a[1]+=s:a[1]-=s,n.setExtent(a[0],a[1])}}function rve(r){return r.mainType==="angleAxis"}function N5(r,e){var t;if(r.type=e.get("type"),r.scale=o2(e),r.onBand=e.get("boundaryGap")&&r.type==="category",r.inverse=e.get("inverse"),rve(e)){r.inverse=r.inverse!==e.get("clockwise");var n=e.get("startAngle"),i=(t=e.get("endAngle"))!==null&&t!==void 0?t:n+(r.inverse?-360:360);r.setExtent(n,i)}e.axis=r,r.model=e}var nve={dimensions:pU,create:function(r,e){var t=[];return r.eachComponent("polar",function(n,i){var a=new Qpe(i+"");a.update=tve;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");N5(s,l),N5(o,u),eve(a,n,e),t.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",Jr).models[0];n.coordinateSystem=i.coordinateSystem}}),t}},ive=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function tw(r,e,t){e[1]>e[0]&&(e=e.slice().reverse());var n=r.coordToPoint([e[0],t]),i=r.coordToPoint([e[1],t]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function rw(r){var e=r.getRadiusAxis();return e.inverse?0:1}function B5(r){var e=r[0],t=r[r.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&r.pop()}var ave=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=ge(i.getViewLabels(),function(c){c=Ye(c);var h=i.scale,f=h.type==="ordinal"?h.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(f),c});B5(u),B5(o),L(ive,function(c){t.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&sve[c](this.group,t,a,o,l,s,u)},this)}},e.type="angleAxis",e}(Vp),sve={axisLine:function(r,e,t,n,i,a){var s=e.getModel(["axisLine","lineStyle"]),o=t.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),c=rw(t),h=c?0:1,f,d=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[h]===0?f=new Op[d]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):f=new Ab({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[h]},style:s.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,r.add(f)},axisTick:function(r,e,t,n,i,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[rw(t)],u=ge(n,function(c){return new Sn({shape:tw(t,[l,l+o],c.coord)})});r.add(As(u,{style:ze(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[rw(t)],c=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)c.push(new Sn({shape:tw(t,[u,u+l],i[h][f].coord)}));r.add(As(c,{style:ze(o.getModel("lineStyle").getLineStyle(),ze(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,e,t,n,i,a,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");L(s,function(h,f){var d=l,p=h.tickValue,v=a[rw(t)],g=t.coordToPoint([v+u,h.coord]),m=t.cx,x=t.cy,y=Math.abs(g[0]-m)/v<.3?"center":g[0]>m?"left":"right",_=Math.abs(g[1]-x)/v<.3?"middle":g[1]>x?"top":"bottom";if(o&&o[p]){var S=o[p];Ue(S)&&S.textStyle&&(d=new Gt(S.textStyle,l,l.ecModel))}var w=new Et({silent:qi.isLabelSilent(e),style:or(d,{x:g[0],y:g[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:y,verticalAlign:_})});if(r.add(w),c){var T=qi.makeAxisEventDataBase(e);T.targetType="axisLabel",T.value=h.rawLabel,je(w).eventData=T}},this)},splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=0;h<n.length;h++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new Sn({shape:tw(t,a,n[h].coord)}))}for(var h=0;h<c.length;h++)r.add(As(c[h],{style:ze({stroke:l[h%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(r,e,t,n,i,a){if(i.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Sn({shape:tw(t,a,i[u][c].coord)}));r.add(As(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(r,e,t,n,i,a){if(n.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=Math.PI/180,f=-n[0].coord*h,d=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),v=e.get("clockwise"),g=1,m=n.length;g<=m;g++){var x=g===m?n[0].coord:n[g].coord,y=u++%l.length;c[y]=c[y]||[],c[y].push(new ta({shape:{cx:t.cx,cy:t.cy,r0:d,r:p,startAngle:f,endAngle:-x*h,clockwise:v},silent:!0})),f=-x*h}for(var g=0;g<c.length;g++)r.add(As(c[g],{style:ze({fill:l[g%l.length]},o.getAreaStyle()),silent:!0}))}}},ove=["axisLine","axisTickLabel","axisName"],lve=["splitLine","splitArea","minorSplitLine"],uve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,a=this._axisGroup=new Ke;this.group.add(a);var s=t.axis,o=s.polar,l=o.getAngleAxis(),u=s.getTicksCoords(),c=s.getMinorTicksCoords(),h=l.getExtent()[0],f=s.getExtent(),d=hve(o,t,h),p=new qi(t,d);L(ove,p.add,p),a.add(p.getGroup()),Eb(i,a,t),L(lve,function(v){t.get([v,"show"])&&!s.scale.isBlank()&&cve[v](this.group,t,o,h,f,u,c)},this)}},e.type="radiusAxis",e}(Vp),cve={splitLine:function(r,e,t,n,i,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,c=t.getAngleAxis(),h=Math.PI/180,f=c.getExtent(),d=Math.abs(f[1]-f[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],v=0;v<a.length;v++){var g=u++%l.length;p[g]=p[g]||[],p[g].push(new Op[d]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[v].coord,0),startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:c.inverse}}))}for(var v=0;v<p.length;v++)r.add(As(p[v],{style:ze({stroke:l[v%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(r,e,t,n,i,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var h=0;h<s[c].length;h++)u.push(new ac({shape:{cx:t.cx,cy:t.cy,r:s[c][h].coord}}));r.add(As(u,{style:ze({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(r,e,t,n,i,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=a[0].coord,f=1;f<a.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new ta({shape:{cx:t.cx,cy:t.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=a[f].coord}for(var f=0;f<c.length;f++)r.add(As(c[f],{style:ze({fill:l[f%l.length]},o.getAreaStyle()),silent:!0}))}}};function hve(r,e,t){return{position:[r.cx,r.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function vU(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function gU(r,e){return e.dim+r.model.componentIndex}function fve(r,e,t){var n={},i=dve(Ot(e.getSeriesByType(r),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=gU(o,l),c=vU(a),h=i[u][c],f=h.offset,d=h.width,p=o.getOtherAxis(l),v=a.coordinateSystem.cx,g=a.coordinateSystem.cy,m=a.get("barMinHeight")||0,x=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var y=s.mapDimension(p.dim),_=s.mapDimension(l.dim),S=Hh(s,y),w=l.dim!=="radius"||!a.get("roundCap",!0),T=p.model,A=T.get("startValue"),C=p.dataToCoord(A||0),k=0,E=s.count();k<E;k++){var D=s.get(y,k),I=s.get(_,k),P=D>=0?"p":"n",F=C;S&&(n[c][I]||(n[c][I]={p:C,n:C}),F=n[c][I][P]);var V=void 0,z=void 0,G=void 0,O=void 0;if(p.dim==="radius"){var ee=p.dataToCoord(D)-C,Q=l.dataToCoord(I);Math.abs(ee)<m&&(ee=(ee<0?-1:1)*m),V=F,z=F+ee,G=Q-f,O=G-d,S&&(n[c][I][P]=z)}else{var N=p.dataToCoord(D,w)-C,Y=l.dataToCoord(I);Math.abs(N)<x&&(N=(N<0?-1:1)*x),V=Y+f,z=V+d,G=F,O=F+N,S&&(n[c][I][P]=O)}s.setItemLayout(k,{cx:v,cy:g,r0:V,r:z,startAngle:-G*Math.PI/180,endAngle:-O*Math.PI/180,clockwise:G>=O})}}})}function dve(r){var e={};L(r,function(n,i){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=gU(s,o),u=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),h=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;e[l]=h;var d=vU(n);f[d]||h.autoWidthCount++,f[d]=f[d]||{width:0,maxWidth:0};var p=_e(n.get("barWidth"),c),v=_e(n.get("barMaxWidth"),c),g=n.get("barGap"),m=n.get("barCategoryGap");p&&!f[d].width&&(p=Math.min(h.remainedWidth,p),f[d].width=p,h.remainedWidth-=p),v&&(f[d].maxWidth=v),g!=null&&(h.gap=g),m!=null&&(h.categoryGap=m)});var t={};return L(e,function(n,i){t[i]={};var a=n.stacks,s=n.bandWidth,o=_e(n.categoryGap,s),l=_e(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,h=(u-o)/(c+(c-1)*l);h=Math.max(h,0),L(a,function(v,g){var m=v.maxWidth;m&&m<h&&(m=Math.min(m,u),v.width&&(m=Math.min(m,v.width)),u-=m,v.width=m,c--)}),h=(u-o)/(c+(c-1)*l),h=Math.max(h,0);var f=0,d;L(a,function(v,g){v.width||(v.width=h),d=v,f+=v.width*(1+l)}),d&&(f-=d.width*l);var p=-f/2;L(a,function(v,g){t[i][g]=t[i][g]||{offset:p,width:v.width},p+=v.width*(1+l)})}),t}var pve={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},vve={splitNumber:5},gve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(br);function mve(r){ht(Gb),Vp.registerAxisPointerClass("PolarAxisPointer",Ype),r.registerCoordinateSystem("polar",nve),r.registerComponentModel(jpe),r.registerComponentView(gve),bg(r,"angle",qpe,pve),bg(r,"radius",Zpe,vve),r.registerComponentView(ave),r.registerComponentView(uve),r.registerLayout(Qe(fve,"bar"))}function bM(r,e){e=e||{};var t=r.coordinateSystem,n=r.axis,i={},a=n.position,s=n.orient,o=t.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[s];var h={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=h[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Un(e.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var f=e.rotate;return f==null&&(f=r.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-f:f,i.z2=1,i}var yve=["axisLine","axisTickLabel","axisName"],xve=["splitArea","splitLine"],bve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,n,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new Ke;var l=bM(t),u=new qi(t,l);L(yve,u.add,u),s.add(this._axisGroup),s.add(u.getGroup()),L(xve,function(c){t.get([c,"show"])&&_ve[c](this,this.group,this._axisGroup,t)},this),Eb(o,this._axisGroup,t),r.prototype.render.call(this,t,n,i,a)},e.prototype.remove=function(){BG(this)},e.type="singleAxis",e}(Vp),_ve={splitLine:function(r,e,t,n){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var l=s.get("width"),u=n.coordinateSystem.getRect(),c=i.isHorizontal(),h=[],f=0,d=i.getTicksCoords({tickModel:a}),p=[],v=[],g=0;g<d.length;++g){var m=i.toGlobalCoord(d[g].coord);c?(p[0]=m,p[1]=u.y,v[0]=m,v[1]=u.y+u.height):(p[0]=u.x,p[1]=m,v[0]=u.x+u.width,v[1]=m);var x=new Sn({shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},silent:!0});vg(x.shape,l);var y=f++%o.length;h[y]=h[y]||[],h[y].push(x)}for(var _=s.getLineStyle(["color"]),g=0;g<h.length;++g)e.add(As(h[g],{style:ze({stroke:o[g%o.length]},_),silent:!0}))}},splitArea:function(r,e,t,n){NG(r,t,n,n)}},Zw=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(vt);tn(Zw,Pb.prototype);var wve=function(r){te(e,r);function e(t,n,i,a,s){var o=r.call(this,t,n,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},e}(Ao),mU=["single"],Sve=function(){function r(e,t,n){this.type="single",this.dimension="single",this.dimensions=mU,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var i=this.dimension,a=new wve(i,o2(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();L(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),yg(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(e,t){this._rect=vn({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),i=n?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),this._updateAxisTransform(t,n?e.x:e.y)},r.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),i=n[0]+n[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+t}:function(s){return i-s+t},e.toLocalCoord=a?function(s){return s-t}:function(s){return i-s+t}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},r.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},r.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),i=[],a=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[a]=t.toGlobalCoord(t.dataToCoord(+e)),i[1-a]=a===0?n.y+n.height/2:n.x+n.width/2,i},r.prototype.convertToPixel=function(e,t,n){var i=V5(t);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=V5(t);return i===this?this.pointToData(n):null},r}();function V5(r){var e=r.seriesModel,t=r.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function Tve(r,e){var t=[];return r.eachComponent("singleAxis",function(n,i){var a=new Sve(n,r,e);a.name="single_"+i,a.resize(n,e),n.coordinateSystem=a,t.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",Jr).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),t}var Ave={create:Tve,dimensions:mU},z5=["x","y"],Cve=["width","height"],kve=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,i,a,s){var o=i.axis,l=o.coordinateSystem,u=qk(l,1-AT(o)),c=l.dataToPoint(n)[0],h=a.get("type");if(h&&h!=="none"){var f=kR(a),d=Eve[h](o,c,u);d.style=f,t.graphicKey=d.type,t.pointer=d}var p=bM(i);cU(n,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,n,i){var a=bM(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=ER(n.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,i,a){var s=i.axis,o=s.coordinateSystem,l=AT(s),u=qk(o,l),c=[t.x,t.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var h=qk(o,1-l),f=(h[1]+h[0])/2,d=[f,f];return d[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e}(CR),Eve={line:function(r,e,t){var n=DR([e,t[0]],[e,t[1]],AT(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=r.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:hU([e-n/2,t[0]],[n,i],AT(r))}}};function AT(r){return r.isHorizontal()?0:1}function qk(r,e){var t=r.getRect();return[t[z5[e]],t[z5[e]]+t[Cve[e]]]}var Dve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}(br);function Mve(r){ht(Gb),Vp.registerAxisPointerClass("SingleAxisPointer",kve),r.registerComponentView(Dve),r.registerComponentView(bve),r.registerComponentModel(Zw),bg(r,"single",Zw,Zw.defaultOption),r.registerCoordinateSystem("single",Ave)}var Ive=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,i){var a=Og(t);r.prototype.init.apply(this,arguments),H5(t,a)},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),H5(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(vt);function H5(r,e){var t=r.cellSize,n;ve(t)?n=t:n=r.cellSize=[t,t],n.length===1&&(n[1]=n[0]);var i=ge([0,1],function(a){return Zte(e,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});zh(r,e,{type:"box",ignoreSize:i})}var Lve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){var a=this.group;a.removeAll();var s=t.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=n.getLocaleModel();this._renderDayRect(t,o,a),this._renderLines(t,o,l,a),this._renderYearText(t,o,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,o,l,a)},e.prototype._renderDayRect=function(t,n,i){for(var a=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToRect([u],!1).tl,h=new Tt({shape:{x:c[0],y:c[1],width:o,height:l},cursor:"default",style:s});i.add(h)}},e.prototype._renderLines=function(t,n,i,a){var s=this,o=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=n.start,f=0;h.time<=n.end.time;f++){p(h.formatedDate),f===0&&(h=o.getDateInfo(n.start.y+"-"+n.start.m));var d=h.date;d.setMonth(d.getMonth()+1),h=o.getDateInfo(d)}p(o.getNextNDay(n.end.time,1).formatedDate);function p(v){s._firstDayOfMonth.push(o.getDateInfo(v)),s._firstDayPoints.push(o.dataToRect([v],!1).tl);var g=s._getLinePointsOfOneWeek(t,v,i);s._tlpoints.push(g[0]),s._blpoints.push(g[g.length-1]),u&&s._drawSplitline(g,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,i),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,i),l,a)},e.prototype._getEdgesPoints=function(t,n,i){var a=[t[0].slice(),t[t.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-n/2,a[1][s]=a[1][s]+n/2,a},e.prototype._drawSplitline=function(t,n,i){var a=new aa({z2:20,shape:{points:t},style:n});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,n,i){for(var a=t.coordinateSystem,s=a.getDateInfo(n),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),c=a.dataToRect([u.time],!1);o[2*u.day]=c.tl,o[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,n){return Ae(t)&&t?Kte(t,n):Ve(t)?t(n):n.nameMap},e.prototype._yearTextPositionControl=function(t,n,i,a,s){var o=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,n,i,a){var s=t.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,h=(u[0][1]+u[1][1])/2,f=i==="horizontal"?0:1,d={top:[c,u[f][1]],bottom:[c,u[1-f][1]],left:[u[1-f][0],h],right:[u[f][0],h]},p=n.start.y;+n.end.y>+n.start.y&&(p=p+"-"+n.end.y);var v=s.get("formatter"),g={start:n.start.y,end:n.end.y,nameMap:p},m=this._formatterLabel(v,g),x=new Et({z2:30,style:or(s,{text:m}),silent:s.get("silent")});x.attr(this._yearTextPositionControl(x,d[l],i,l,o)),a.add(x)}},e.prototype._monthTextPositionControl=function(t,n,i,a,s){var o="left",l="top",u=t[0],c=t[1];return i==="horizontal"?(c=c+s,n&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,n&&(l="middle"),a==="start"&&(o="right")),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(t,n,i,a){var s=t.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),h=[this._tlpoints,this._blpoints];(!o||Ae(o))&&(o&&(n=ED(o)||n),o=n.get(["time","monthAbbr"])||[]);var f=u==="start"?0:1,d=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",v=s.get("silent"),g=0;g<h[f].length-1;g++){var m=h[f][g].slice(),x=this._firstDayOfMonth[g];if(p){var y=this._firstDayPoints[g];m[d]=(y[d]+h[0][g+1][d])/2}var _=s.get("formatter"),S=o[+x.m-1],w={yyyy:x.y,yy:(x.y+"").slice(2),MM:x.m,M:+x.m,nameMap:S},T=this._formatterLabel(_,w),A=new Et({z2:30,style:he(or(s,{text:T}),this._monthTextPositionControl(m,p,i,u,l)),silent:v});a.add(A)}}},e.prototype._weekTextPositionControl=function(t,n,i,a,s){var o="center",l="middle",u=t[0],c=t[1],h=i==="start";return n==="horizontal"?(u=u+a+(h?1:-1)*s[0]/2,o=h?"right":"left"):(c=c+a+(h?1:-1)*s[1]/2,l=h?"bottom":"top"),{x:u,y:c,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(t,n,i,a,s){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),h=o.get("margin"),f=l.getFirstDayOfWeek();if(!c||Ae(c)){c&&(n=ED(c)||n);var d=n.get(["time","dayOfWeekShort"]);c=d||ge(n.get(["time","dayOfWeekAbbr"]),function(w){return w[0]})}var p=l.getNextNDay(i.end.time,7-i.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];h=_e(h,Math.min(v[1],v[0])),u==="start"&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var g=o.get("silent"),m=0;m<7;m++){var x=l.getNextNDay(p,m),y=l.dataToRect([x.time],!1).center,_=m;_=Math.abs((m+f)%7);var S=new Et({z2:30,style:he(or(o,{text:c[_]}),this._weekTextPositionControl(y,a,u,h,v)),silent:g});s.add(S)}}},e.type="calendar",e}(br),Zk=864e5,Pve=function(){function r(e,t,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=e}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(e){e=wl(e);var t=e.getFullYear(),n=e.getMonth()+1,i=n<10?"0"+n:""+n,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:s,day:o,time:e.getTime(),formatedDate:t+"-"+i+"-"+s,date:e}},r.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},r.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];L([0,1],function(h){c(a,h)&&(s[i[h]]=a[h]*o[h])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=vn(s,l);L([0,1],function(h){c(a,h)||(a[h]=u[i[h]]/o[h])});function c(h,f){return h[f]!=null&&h[f]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(e,t){ve(e)&&(e=e[0]),t==null&&(t=!0);var n=this.getDateInfo(e),i=this._rangeInfo,a=n.formatedDate;if(t&&!(n.time>=i.start.time&&n.time<i.end.time+Zk))return[NaN,NaN];var s=n.day,o=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},r.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},r.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,i):this._getDateByWeeksAndDay(t,n-1,i)},r.prototype.convertToPixel=function(e,t,n){var i=G5(t);return i===this?i.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var i=G5(t);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ve(e)&&e.length===1&&(e=e[0]),ve(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);t=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},r.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],n;t[0].time>t[1].time&&(n=!0,t.reverse());var i=Math.floor(t[1].time/Zk)-Math.floor(t[0].time/Zk)+1,a=new Date(t[0].time),s=a.getDate(),o=t[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-t[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+t[0].day+6)/7),h=n?-c+1:c-1;return n&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:c,nthWeek:h,fweek:t[0].day,lweek:t[1].day}},r.prototype._getDateByWeeksAndDay=function(e,t,n){var i=this._getRangeInfo(n);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var a=(e-1)*7-i.fweek+t,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},r.create=function(e,t){var n=[];return e.eachComponent("calendar",function(i){var a=new r(i);n.push(a),i.coordinateSystem=a}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},r.dimensions=["time","value"],r}();function G5(r){var e=r.calendarModel,t=r.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}function Rve(r){r.registerComponentModel(Ive),r.registerComponentView(Lve),r.registerCoordinateSystem("calendar",Pve)}function Ove(r,e){var t=r.existing;if(e.id=r.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var n=e.parentOption;n?e.parentId=n.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function $5(r,e){var t;return L(e,function(n){r[n]!=null&&r[n]!=="auto"&&(t=!0)}),t}function Fve(r,e,t){var n=he({},t),i=r[e],a=t.$action||"merge";a==="merge"?i?(tt(i,n,!0),zh(i,n,{ignoreSize:!0}),u7(t,i),nw(t,i),nw(t,i,"shape"),nw(t,i,"style"),nw(t,i,"extra"),t.clipPath=i.clipPath):r[e]=n:a==="replace"?r[e]=n:a==="remove"&&i&&(r[e]=null)}var yU=["transition","enterFrom","leaveTo"],Nve=yU.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function nw(r,e,t){if(t&&(!r[t]&&e[t]&&(r[t]={}),r=r[t],e=e[t]),!(!r||!e))for(var n=t?yU:Nve,i=0;i<n.length;i++){var a=n[i];r[a]==null&&e[a]!=null&&(r[a]=e[a])}}function Bve(r,e){if(r&&(r.hv=e.hv=[$5(e,["left","right"]),$5(e,["top","bottom"])],r.type==="group")){var t=r,n=e;t.width==null&&(t.width=n.width=0),t.height==null&&(t.height=n.height=0)}}var Vve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,t,n),this.option.elements=i},e.prototype.optionUpdated=function(t,n){var i=this.option,a=(n?i:t).elements,s=i.elements=n?[]:i.elements,o=[];this._flatten(a,o,null);var l=aH(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];L(l,function(c,h){var f=c.newOption;f&&(u.push(f),Ove(c,f),Fve(s,h,f),Bve(s[h],f))},this),i.elements=Ot(s,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,n,i){L(t,function(a){if(a){i&&(a.parentOption=i),n.push(a);var s=a.children;s&&s.length&&this._flatten(s,n,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(vt),U5={path:null,compoundPath:null,group:Ke,image:Yn,text:Et},ys=At(),zve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=Le()},e.prototype.render=function(t,n,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,s=t.get("z"),o=t.get("zlevel");L(n,function(l){var u=fn(l.id,null),c=u!=null?i.get(u):null,h=fn(l.parentId,null),f=h!=null?i.get(h):a,d=l.type,p=l.style;d==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var v=l.textContent,g=l.textConfig;if(p&&J$(p,d,!!g,!!v)){var m=Q$(p,d,!0);!g&&m.textConfig&&(g=l.textConfig=m.textConfig),!v&&m.textContent&&(v=m.textContent)}var x=Hve(l),y=l.$action||"merge",_=y==="merge",S=y==="replace";if(_){var w=!c,T=c;w?T=W5(u,f,l.type,i):(T&&(ys(T).isNew=!1),nU(T)),T&&(jw(T,x,t,{isInit:w}),Y5(T,l,s,o))}else if(S){Jw(c,l,i,t);var A=W5(u,f,l.type,i);A&&(jw(A,x,t,{isInit:!0}),Y5(A,l,s,o))}else y==="remove"&&(tU(c,l),Jw(c,l,i,t));var C=i.get(u);if(C&&v)if(_){var k=C.getTextContent();k?k.attr(v):C.setTextContent(new Et(v))}else S&&C.setTextContent(new Et(v));if(C){var E=l.clipPath;if(E){var D=E.type,I=void 0,w=!1;if(_){var P=C.getClipPath();w=!P||ys(P).type!==D,I=w?_M(D):P}else S&&(w=!0,I=_M(D));C.setClipPath(I),jw(I,E,t,{isInit:w}),ST(I,E.keyframeAnimation,t)}var F=ys(C);C.setTextConfig(g),F.option=l,Gve(C,t,l),Rp({el:C,componentModel:t,itemName:C.name,itemTooltipOption:l.tooltip}),ST(C,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,n){for(var i=t.option.elements,a=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var h=i[c],f=fn(h.id,null),d=f!=null?s.get(f):null;if(!(!d||!d.isGroup)){var p=d.parent,v=p===a,g=ys(d),m=ys(p);g.width=_e(g.option.width,v?o:m.width)||0,g.height=_e(g.option.height,v?l:m.height)||0}}for(var c=i.length-1;c>=0;c--){var h=i[c],f=fn(h.id,null),d=f!=null?s.get(f):null;if(d){var p=d.parent,m=ys(p),x=p===a?{width:o,height:l}:{width:m.width,height:m.height},y={},_=JA(d,h,x,null,{hv:h.hv,boundingMode:h.bounding},y);if(!ys(d).isNew&&_){for(var S=h.transition,w={},T=0;T<u.length;T++){var A=u[T],C=y[A];S&&(vp(S)||lt(S,A)>=0)?w[A]=C:d[A]=C}It(d,w,t,0)}else d.attr(y)}}},e.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(i){Jw(i,ys(i).option,n,t._lastGraphicModel)}),this._elMap=Le()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(br);function _M(r){var e=Me(U5,r)?U5[r]:cP(r),t=new e({});return ys(t).type=r,t}function W5(r,e,t,n){var i=_M(t);return e.add(i),n.set(r,i),ys(i).id=r,ys(i).isNew=!0,i}function Jw(r,e,t,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){Jw(a,e,t,n)}),p2(r,e,n),t.removeKey(ys(r).id))}function Y5(r,e,t,n){r.isGroup||L([["cursor",Is.prototype.cursor],["zlevel",n||0],["z",t||0],["z2",0]],function(i){var a=i[0];Me(e,a)?r[a]=Je(e[a],i[1]):r[a]==null&&(r[a]=i[1])}),L(gt(e),function(i){if(i.indexOf("on")===0){var a=e[i];r[i]=Ve(a)?a:null}}),Me(e,"draggable")&&(r.draggable=e.draggable),e.name!=null&&(r.name=e.name),e.id!=null&&(r.id=e.id)}function Hve(r){return r=he({},r),L(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(l7),function(e){delete r[e]}),r}function Gve(r,e,t){var n=je(r).eventData;!r.silent&&!r.ignore&&!n&&(n=je(r).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:r.name}),n&&(n.info=t.info)}function $ve(r){r.registerComponentModel(Vve),r.registerComponentView(zve),r.registerPreprocessor(function(e){var t=e.graphic;ve(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var X5=["x","y","radius","angle","single"],Uve=["cartesian2d","polar","singleAxis"];function Wve(r){var e=r.get("coordinateSystem");return lt(Uve,e)>=0}function Th(r){return r+"Axis"}function Yve(r,e){var t=Le(),n=[],i=Le();r.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||o(c)});var a;do a=!1,r.eachComponent("dataZoom",s);while(a);function s(c){!i.get(c.uid)&&l(c)&&(o(c),a=!0)}function o(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var h=!1;return c.eachTargetAxis(function(f,d){var p=t.get(f);p&&p[d]&&(h=!0)}),h}function u(c){c.eachTargetAxis(function(h,f){(t.get(h)||t.set(h,[]))[f]=!0})}return n}function xU(r){var e=r.ecModel,t={infoList:[],infoMap:Le()};return r.eachTargetAxis(function(n,i){var a=e.getComponent(Th(n),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=t.infoMap.get(o);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(a)}}}),t}var Jk=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},r}(),x1=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,n,i){var a=K5(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var n=K5(t);tt(this.option,t,!0),tt(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;L([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=Le(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return L(X5,function(i){var a=this.getReferringComponents(Th(i),NQ);if(a.specified){n=!0;var s=new Jk;L(a.models,function(o){s.add(o.componentIndex)}),t.set(i,s)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(t,n){var i=this.ecModel,a=!0;if(a){var s=n==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(o,"single")}function l(u,c){var h=u[0];if(h){var f=new Jk;if(f.add(h.componentIndex),t.set(c,f),a=!1,c==="x"||c==="y"){var d=h.getReferringComponents("grid",Jr).models[0];d&&L(u,function(p){h.componentIndex!==p.componentIndex&&d===p.getReferringComponents("grid",Jr).models[0]&&f.add(p.componentIndex)})}}}a&&L(X5,function(u){if(a){var c=i.findComponents({mainType:Th(u),filter:function(f){return f.get("type",!0)==="category"}});if(c[0]){var h=new Jk;h.add(c[0].componentIndex),t.set(u,h),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var n=this._rangePropMode,i=this.get("rangeMode");L([["start","startValue"],["end","endValue"]],function(a,s){var o=t[a[0]]!=null,l=t[a[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":i?n[s]=i[s]:o&&(n[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,i){t==null&&(t=this.ecModel.getComponent(Th(n),i))},this),t},e.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(i,a){L(i.indexList,function(s){t.call(n,a,s)})})},e.prototype.getAxisProxy=function(t,n){var i=this.getAxisModel(t,n);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,n){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[n])return this.ecModel.getComponent(Th(t),n)},e.prototype.setRawRange=function(t){var n=this.option,i=this.settledOption;L([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(n[a[0]]=i[a[0]]=t[a[0]],n[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var n=this.option;L(["start","startValue","end","endValue"],function(i){n[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,n){if(t==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(vt);function K5(r){var e={};return L(["start","end","startValue","endValue","throttle"],function(t){r.hasOwnProperty(t)&&(e[t]=r[t])}),e}var Xve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(x1),PR=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i,a){this.dataZoomModel=t,this.ecModel=n,this.api=i},e.type="dataZoom",e}(br),Kve=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(PR),Tv=L,j5=Es,jve=function(){function r(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(e){return this._dataZoomModel===e},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Wve(t)){var n=Th(this._dimName),i=t.getReferringComponents(n,Jr).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return Ye(this._minMaxSpan)},r.prototype.calculateDataWindow=function(e){var t=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;Tv(["start","end"],function(f,d){var p=e[f],v=e[f+"Value"];a[d]==="percent"?(p==null&&(p=s[d]),v=i.parse(zt(p,s,t))):(u=!0,v=v==null?t[d]:i.parse(v),p=zt(v,t,s)),l[d]=v==null||isNaN(v)?t[d]:v,o[d]=p==null||isNaN(p)?s[d]:p}),j5(l),j5(o);var c=this._minMaxSpan;u?h(l,o,t,s,!1):h(o,l,s,t,!0);function h(f,d,p,v,g){var m=g?"Span":"ValueSpan";zp(0,f,p,"all",c["min"+m],c["max"+m]);for(var x=0;x<2;x++)d[x]=zt(f[x],p,v,!0),g&&(d[x]=i.parse(d[x]))}return{valueWindow:l,percentWindow:o}},r.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=qve(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;Tv(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var h=u.getStore(),f=ge(c,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var p,v,g,m=0;m<c.length;m++){var x=h.get(f[m],d),y=!isNaN(x),_=x<s[0],S=x>s[1];if(y&&!_&&!S)return!0;y&&(g=!0),_&&(p=!0),S&&(v=!0)}return g&&p&&v})}else Tv(c,function(d){if(a==="empty")l.setData(u=u.map(d,function(v){return o(v)?v:NaN}));else{var p={};p[d]=s,u.selectRange(p)}});Tv(c,function(d){u.setApproximateExtent(s,d)})}});function o(l){return l>=s[0]&&l<=s[1]}},r.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;Tv(["min","max"],function(i){var a=t.get(i+"Span"),s=t.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=zt(n[0]+s,n,[0,100],!0):a!=null&&(s=zt(a,[0,100],n,!0)-n[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=s},this)},r.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var i=Zz(n,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r}();function qve(r,e,t){var n=[1/0,-1/0];Tv(t,function(s){Dae(n,s.getData(),e)});var i=r.getAxisModel(),a=N9(i.axis.scale,i,n).calculate();return[a.min,a.max]}var Zve={getTargetSeries:function(r){function e(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=r.getComponent(Th(s),o);i(s,o,l,a)})})}e(function(i,a,s,o){s.__dzAxisProxy=null});var t=[];e(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new jve(i,a,o,r),t.push(s.__dzAxisProxy))});var n=Le();return L(t,function(i){L(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,e){r.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).reset(t)}),t.eachTargetAxis(function(n,i){t.getAxisProxy(n,i).filterData(t,e)})}),r.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function Jve(r){r.registerAction("dataZoom",function(e,t){var n=Yve(t,e);L(n,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var q5=!1;function RR(r){q5||(q5=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,Zve),Jve(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Qve(r){r.registerComponentModel(Xve),r.registerComponentView(Kve),RR(r)}var _s=function(){function r(){}return r}(),bU={};function Av(r,e){bU[r]=e}function _U(r){return bU[r]}var e0e=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;L(this.option.feature,function(n,i){var a=_U(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),tt(n,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(vt);function t0e(r,e,t){var n=e.getBoxLayoutParams(),i=e.get("padding"),a={width:t.getWidth(),height:t.getHeight()},s=vn(n,a,i);dp(e.get("orient"),r,e.get("itemGap"),s.width,s.height),JA(r,n,a,i)}function wU(r,e){var t=Rg(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),r=new Tt({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),r}var r0e=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){var s=this.group;if(s.removeAll(),!t.get("show"))return;var o=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),h=[];L(u,function(p,v){h.push(v)}),new Zu(this._featureNames||[],h).add(f).update(f).remove(Qe(f,null)).execute(),this._featureNames=h;function f(p,v){var g=h[p],m=h[v],x=u[g],y=new Gt(x,t,t.ecModel),_;if(a&&a.newTitle!=null&&a.featureName===g&&(x.title=a.newTitle),g&&!m){if(n0e(g))_={onclick:y.option.onclick,featureName:g};else{var S=_U(g);if(!S)return;_=new S}c[g]=_}else if(_=c[m],!_)return;_.uid=Pg("toolbox-feature"),_.model=y,_.ecModel=n,_.api=i;var w=_ instanceof _s;if(!g&&m){w&&_.dispose&&_.dispose(n,i);return}if(!y.get("show")||w&&_.unusable){w&&_.remove&&_.remove(n,i);return}d(y,_,g),y.setIconStatus=function(T,A){var C=this.option,k=this.iconPaths;C.iconStatus=C.iconStatus||{},C.iconStatus[T]=A,k[T]&&(A==="emphasis"?ju:qu)(k[T])},_ instanceof _s&&_.render&&_.render(y,n,i,a)}function d(p,v,g){var m=p.getModel("iconStyle"),x=p.getModel(["emphasis","iconStyle"]),y=v instanceof _s&&v.getIcons?v.getIcons():p.get("icon"),_=p.get("title")||{},S,w;Ae(y)?(S={},S[g]=y):S=y,Ae(_)?(w={},w[g]=_):w=_;var T=p.iconPaths={};L(S,function(A,C){var k=Db(A,{},{x:-o/2,y:-o/2,width:o,height:o});k.setStyle(m.getItemStyle());var E=k.ensureState("emphasis");E.style=x.getItemStyle();var D=new Et({style:{text:w[C],align:x.get("textAlign"),borderRadius:x.get("textBorderRadius"),padding:x.get("textPadding"),fill:null,font:hP({fontStyle:x.get("textFontStyle"),fontFamily:x.get("textFontFamily"),fontSize:x.get("textFontSize"),fontWeight:x.get("textFontWeight")},n)},ignore:!0});k.setTextContent(D),Rp({el:k,componentModel:t,itemName:C,formatterParamsExtra:{title:w[C]}}),k.__title=w[C],k.on("mouseover",function(){var I=x.getItemStyle(),P=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";D.setStyle({fill:x.get("textFill")||I.fill||I.stroke||"#000",backgroundColor:x.get("textBackgroundColor")}),k.setTextConfig({position:x.get("textPosition")||P}),D.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",C])!=="emphasis"&&i.leaveEmphasis(this),D.hide()}),(p.get(["iconStatus",C])==="emphasis"?ju:qu)(k),s.add(k),k.on("click",Ee(v.onclick,v,n,i,C)),T[C]=k})}t0e(s,t,i),s.add(wU(s.getBoundingRect(),t)),l||s.eachChild(function(p){var v=p.__title,g=p.ensureState("emphasis"),m=g.textConfig||(g.textConfig={}),x=p.getTextContent(),y=x&&x.ensureState("emphasis");if(y&&!Ve(y)&&v){var _=y.style||(y.style={}),S=wb(v,Et.makeFont(_)),w=p.x+s.x,T=p.y+s.y+o,A=!1;T+S.height>i.getHeight()&&(m.position="top",A=!0);var C=A?-5-S.height:o+10;w+S.width/2>i.getWidth()?(m.position=["100%",C],_.align="right"):w-S.width/2<0&&(m.position=[0,C],_.align="left")}})},e.prototype.updateView=function(t,n,i,a){L(this._features,function(s){s instanceof _s&&s.updateView&&s.updateView(s.model,n,i,a)})},e.prototype.remove=function(t,n){L(this._features,function(i){i instanceof _s&&i.remove&&i.remove(t,n)}),this.group.removeAll()},e.prototype.dispose=function(t,n){L(this._features,function(i){i instanceof _s&&i.dispose&&i.dispose(t,n)})},e.type="toolbox",e}(br);function n0e(r){return r.indexOf("my")===0}var i0e=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=pt.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||s){var f=l.split(","),d=f[0].indexOf("base64")>-1,p=s?decodeURIComponent(f[1]):f[1];d&&(p=window.atob(p));var v=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var g=p.length,m=new Uint8Array(g);g--;)m[g]=p.charCodeAt(g);var x=new Blob([m]);window.navigator.msSaveOrOpenBlob(x,v)}else{var y=document.createElement("iframe");document.body.appendChild(y);var _=y.contentWindow,S=_.document;S.open("image/svg+xml","replace"),S.write(p),S.close(),_.focus(),S.execCommand("SaveAs",!0,v),document.body.removeChild(y)}}else{var w=i.get("lang"),T='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',A=window.open();A.document.write(T),A.document.title=a}},e.getDefaultOption=function(t){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e}(_s),Z5="__ec_magicType_stack__",a0e=[["line","bar"],["stack"]],s0e=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),i={};return L(t.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},e.getDefaultOption=function(t){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(t,n,i){var a=this.model,s=a.get(["seriesIndex",i]);if(J5[i]){var o={series:[]},l=function(h){var f=h.subType,d=h.id,p=J5[i](f,d,h,a);p&&(ze(p,h.option),o.series.push(p));var v=h.coordinateSystem;if(v&&v.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=v.getAxesByScale("ordinal")[0];if(g){var m=g.dim,x=m+"Axis",y=h.getReferringComponents(x,Jr).models[0],_=y.componentIndex;o[x]=o[x]||[];for(var S=0;S<=_;S++)o[x][_]=o[x][_]||{};o[x][_].boundaryGap=i==="bar"}}};L(a0e,function(h){lt(h,i)>=0&&L(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=i;i==="stack"&&(u=tt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:u,featureName:"magicType"})}},e}(_s),J5={line:function(r,e,t,n){if(r==="bar")return tt({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,e,t,n){if(r==="line")return tt({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,e,t,n){var i=t.get("stack")===Z5;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),tt({id:e,stack:i?"":Z5},n.get(["option","stack"])||{},!0)}};Il({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,e){e.mergeOption(r.newOption)});var v2=new Array(60).join("-"),Sg="	";function o0e(r){var e={},t=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:n}}function l0e(r){var e=[];return L(r,function(t,n){var i=t.categoryAxis,a=t.valueAxis,s=a.dim,o=[" "].concat(ge(t.series,function(d){return d.name})),l=[i.model.getCategories()];L(t.series,function(d){var p=d.getRawData();l.push(d.getRawData().mapArray(p.mapDimension(s),function(v){return v}))});for(var u=[o.join(Sg)],c=0;c<l[0].length;c++){for(var h=[],f=0;f<l.length;f++)h.push(l[f][c]);u.push(h.join(Sg))}e.push(u.join(`
`))}),e.join(`

`+v2+`

`)}function u0e(r){return ge(r,function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=t.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];n.push((o?o+Sg:"")+i.join(Sg))}),n.join(`
`)}).join(`

`+v2+`

`)}function c0e(r){var e=o0e(r);return{value:Ot([l0e(e.seriesGroupByCategoryAxis),u0e(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+v2+`

`),meta:e.meta}}function CT(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function h0e(r){var e=r.slice(0,r.indexOf(`
`));if(e.indexOf(Sg)>=0)return!0}var wM=new RegExp("["+Sg+"]+","g");function f0e(r){for(var e=r.split(/\n+/g),t=CT(e.shift()).split(wM),n=[],i=ge(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var s=CT(e[a]).split(wM);n.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:n}}function d0e(r){for(var e=r.split(/\n+/g),t=CT(e.shift()),n=[],i=0;i<e.length;i++){var a=CT(e[i]);if(a){var s=a.split(wM),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:t,data:n}}function p0e(r,e){var t=r.split(new RegExp(`
*`+v2+`
*`,"g")),n={series:[]};return L(t,function(i,a){if(h0e(i)){var s=f0e(i),o=e[a],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=d0e(i);n.series.push(s)}}),n}var v0e=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),d=c0e(t);if(Ve(h)){var p=h(n.getOption());Ae(p)?u.innerHTML=p:dg(p)&&u.appendChild(p)}else{c.readOnly=a.get("readOnly");var v=c.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=a.get("textColor"),v.borderColor=a.get("textareaBorderColor"),v.backgroundColor=a.get("textareaColor"),c.value=d.value,u.appendChild(c)}var g=d.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),_=document.createElement("div");x+=";background-color:"+a.get("buttonColor"),x+=";color:"+a.get("buttonTextColor");var S=this;function w(){i.removeChild(s),S._dom=null}eD(y,"click",w),eD(_,"click",function(){if(f==null&&h!=null||f!=null&&h==null){w();return}var T;try{Ve(f)?T=f(u,n.getOption()):T=p0e(c.value,g)}catch(A){throw w(),new Error("Data view format error "+A)}T&&n.dispatchAction({type:"changeDataView",newOption:T}),w()}),y.innerHTML=l[1],_.innerHTML=l[2],_.style.cssText=y.style.cssText=x,!a.get("readOnly")&&m.appendChild(_),m.appendChild(y),s.appendChild(o),s.appendChild(u),s.appendChild(m),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},e.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.getDefaultOption=function(t){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},e}(_s);function g0e(r,e){return ge(r,function(t,n){var i=e&&e[n];if(Ue(i)&&!ve(i)){var a=Ue(t)&&!ve(t);a||(t={value:t});var s=i.name!=null&&t.name==null;return t=ze(t,i),s&&delete t.name,t}else return t})}Il({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,e){var t=[];L(r.newOption.series,function(n){var i=e.getSeriesByName(n.name)[0];if(!i)t.push(he({type:"scatter"},n));else{var a=i.get("data");t.push({name:n.name,data:g0e(n.data,a)})}}),e.mergeOption(ze({series:t},r.newOption))});var SU=L,TU=At();function m0e(r,e){var t=OR(r);SU(e,function(n,i){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s[i])break}if(a<0){var o=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function y0e(r){var e=OR(r),t=e[e.length-1];e.length>1&&e.pop();var n={};return SU(t,function(i,a){for(var s=e.length-1;s>=0;s--)if(i=e[s][a],i){n[a]=i;break}}),n}function x0e(r){TU(r).snapshots=null}function b0e(r){return OR(r).length}function OR(r){var e=TU(r);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var _0e=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){x0e(t),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return n},e}(_s);Il({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,e){e.resetOption("recreate")});var w0e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],FR=function(){function r(e,t,n){var i=this;this._targetInfoList=[];var a=Q5(t,e);L(S0e,function(s,o){(!n||!n.include||lt(n.include,o)>=0)&&s(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var s=Qk[n.brushType](0,a,i);n.__rangeOffset={offset:n6[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},r.prototype.matchOutputRanges=function(e,t,n){L(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&L(a.coordSyses,function(s){var o=Qk[i.brushType](1,s,i.range,!0);n(i,o.values,s,t)})},this)},r.prototype.setInputRanges=function(e,t){L(e,function(n){var i=this.findTargetInfo(n,t);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=Qk[n.brushType](0,i.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?n6[n.brushType](a.values,s.offset,T0e(a.xyMinMax,s.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(e,t){return ge(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:L$(i),isTargetByCursor:R$(i,e,n.coordSysModel),getLinearBrushOtherExtent:P$(i)}})},r.prototype.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return i===!0||i&&lt(i.coordSyses,t.coordinateSystem)>=0},r.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=Q5(t,e),a=0;a<n.length;a++){var s=n[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<e6.length;l++)if(e6[l](i,s))return s}return!0},r}();function SM(r){return r[0]>r[1]&&r.reverse(),r}function Q5(r,e){return Ay(r,e,{includeMainTypes:w0e})}var S0e={grid:function(r,e){var t=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=Le(),s={},o={};!t&&!n&&!i||(L(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),L(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),L(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];L(u.getCartesians(),function(h,f){(lt(t,h.getAxis("x").model)>=0||lt(n,h.getAxis("y").model)>=0)&&c.push(h)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:t6.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(r,e){L(r.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:t6.geo})})}},e6=[function(r,e){var t=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===e.gridModel},function(r,e){var t=r.geoModel;return t&&t===e.geoModel}],t6={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,e=r.getBoundingRect().clone();return e.applyTransform(fp(r)),e}},Qk={lineX:Qe(r6,0),lineY:Qe(r6,1),rect:function(r,e,t,n){var i=r?e.pointToData([t[0][0],t[1][0]],n):e.dataToPoint([t[0][0],t[1][0]],n),a=r?e.pointToData([t[0][1],t[1][1]],n):e.dataToPoint([t[0][1],t[1][1]],n),s=[SM([i[0],a[0]]),SM([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(r,e,t,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=ge(t,function(s){var o=r?e.pointToData(s,n):e.dataToPoint(s,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function r6(r,e,t,n){var i=t.getAxis(["x","y"][r]),a=SM(ge([0,1],function(o){return e?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),s=[];return s[r]=a,s[1-r]=[NaN,NaN],{values:a,xyMinMax:s}}var n6={lineX:Qe(i6,0),lineY:Qe(i6,1),rect:function(r,e,t){return[[r[0][0]-t[0]*e[0][0],r[0][1]-t[0]*e[0][1]],[r[1][0]-t[1]*e[1][0],r[1][1]-t[1]*e[1][1]]]},polygon:function(r,e,t){return ge(r,function(n,i){return[n[0]-t[0]*e[i][0],n[1]-t[1]*e[i][1]]})}};function i6(r,e,t,n){return[e[0]-n[r]*t[0],e[1]-n[r]*t[1]]}function T0e(r,e){var t=a6(r),n=a6(e),i=[t[0]/n[0],t[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function a6(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var TM=L,A0e=LQ("toolbox-dataZoom_"),C0e=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i,a){this._brushController||(this._brushController=new uR(i.getZr()),this._brushController.on("brush",Ee(this._onBrush,this)).mount()),D0e(t,n,this,a,i),E0e(t,n)},e.prototype.onclick=function(t,n,i){k0e[i].call(this)},e.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var n=t.areas;if(!t.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new FR(NR(this.model),a,{include:["grid"]});s.matchOutputRanges(n,a,function(u,c,h){if(h.type==="cartesian2d"){var f=u.brushType;f==="rect"?(o("x",h,c[0]),o("y",h,c[1])):o({lineX:"x",lineY:"y"}[f],h,c)}}),m0e(a,i),this._dispatchZoomAction(i);function o(u,c,h){var f=c.getAxis(u),d=f.model,p=l(u,d,a),v=p.findRepresentativeAxisProxy(d).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(h=zp(0,h.slice(),f.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:h[0],endValue:h[1]})}function l(u,c,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var p=d.getAxisModel(u,c.componentIndex);p&&(f=d)}),f}},e.prototype._dispatchZoomAction=function(t){var n=[];TM(t,function(i,a){n.push(Ye(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(t){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},e}(_s),k0e={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(y0e(this.ecModel))}};function NR(r){var e={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function E0e(r,e){r.setIconStatus("back",b0e(e)>1?"emphasis":"normal")}function D0e(r,e,t,n,i){var a=t._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),t._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var s=new FR(NR(r),e,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}nre("dataZoom",function(r){var e=r.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var n=e.getModel(t),i=[],a=NR(n),s=Ay(r,a);TM(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),TM(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,c){var h=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:A0e+u+h};f[c]=h,i.push(f)}return i});function M0e(r){r.registerComponentModel(e0e),r.registerComponentView(r0e),Av("saveAsImage",i0e),Av("magicType",s0e),Av("dataView",v0e),Av("dataZoom",C0e),Av("restore",_0e),ht(Qve)}var I0e=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(vt);function AU(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function CU(r){if(pt.domSupported){for(var e=document.documentElement.style,t=0,n=r.length;t<n;t++)if(r[t]in e)return r[t]}}var kU=CU(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),L0e=CU(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function EU(r,e){if(!r)return e;e=s7(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function P0e(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var R0e=EU(L0e,"transition"),BR=EU(kU,"transform"),O0e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(pt.transform3dSupported?"will-change:transform;":"");function F0e(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function N0e(r,e,t){if(!Ae(t)||t==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");e=Sp(e);var a=F0e(t),s=Math.max(Math.round(i)*1.5,6),o="",l=BR+":",u;lt(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,h=s+i,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),d=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2)*100)/100;o+=";"+a+":-"+d+"px";var p=e+" solid "+i+"px;",v=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+n+";"];return'<div style="'+v.join("")+'"></div>'}function B0e(r,e){var t="cubic-bezier(0.23,1,0.32,1)",n=" "+r/2+"s "+t,i="opacity"+n+",visibility"+n;return e||(n=" "+r+"s "+t,i+=pt.transformSupported?","+BR+n:",left"+n+",top"+n),R0e+":"+i}function s6(r,e,t){var n=r.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!pt.transformSupported)return t?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=pt.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+BR+":"+s+";":[["top",0],["left",0],[kU,s]]}function V0e(r){var e=[],t=r.get("fontSize"),n=r.getTextColor();n&&e.push("color:"+n),e.push("font:"+r.getFont());var i=Je(r.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var a=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return a&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),L(["decoration","align"],function(u){var c=r.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function z0e(r,e,t){var n=[],i=r.get("transitionDuration"),a=r.get("backgroundColor"),s=r.get("shadowBlur"),o=r.get("shadowColor"),l=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),c=r.getModel("textStyle"),h=z7(r,"html"),f=l+"px "+u+"px "+s+"px "+o;return n.push("box-shadow:"+f),e&&i&&n.push(B0e(i,t)),a&&n.push("background-color:"+a),L(["width","color","radius"],function(d){var p="border-"+d,v=s7(p),g=r.get(v);g!=null&&n.push(p+":"+g+(d==="color"?"":"px"))}),n.push(V0e(c)),h!=null&&n.push("padding:"+Rg(h).join("px ")+"px"),n.join(";")+";"}function o6(r,e,t,n,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&oJ(r,s,t,n,i)}else{r[0]=n,r[1]=i;var o=a&&a.getViewportRootOffset();o&&(r[0]+=o.offsetLeft,r[1]+=o.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var H0e=function(){function r(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,pt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=e.getZr(),a=t.appendTo,s=a&&(Ae(a)?document.querySelector(a):dg(a)?a:Ve(a)&&a(e.getDom()));o6(this._styleCoord,i,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(n),this._api=e,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=i.handler,c=i.painter.getViewportRoot();ss(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=P0e(t,"position"),i=t.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=O0e+z0e(e,!this._firstShow,this._longHide)+s6(a[0],a[1],!0)+("border-color:"+Sp(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,n,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(Ae(a)&&n.get("trigger")==="item"&&!AU(n)&&(o=N0e(n,i,a)),Ae(e))s.innerHTML=e+o;else if(e){s.innerHTML="",ve(e)||(e=[e]);for(var l=0;l<e.length;l++)dg(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},r.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(o6(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var i=this.el.style,a=s6(n[0],n[1]);L(a,function(s){i[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",pt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ee(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},r}(),G0e=function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),u6(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,n,i,a){var s=this;Ue(e)&&Rt(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new Et({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:z7(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),L(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),L(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=l6(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},r.prototype.moveTo=function(e,t){var n=this.el;if(n){var i=this._styleCoord;u6(i,this._zr,e,t),e=i[0],t=i[1];var a=n.style,s=_c(a.borderWidth||0),o=l6(a);n.x=e+s+o.left,n.y=t+s+o.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ee(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function _c(r){return Math.max(0,r)}function l6(r){var e=_c(r.shadowBlur||0),t=_c(r.shadowOffsetX||0),n=_c(r.shadowOffsetY||0);return{left:_c(e-t),right:_c(e+t),top:_c(e-n),bottom:_c(e+n)}}function u6(r,e,t,n){r[0]=t,r[1]=n,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var $0e=new Tt({shape:{x:-1,y:-1,width:2,height:2}}),U0e=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){if(!(pt.node||!n.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=VQ(i.get("renderMode"));this._tooltipContent=a==="richText"?new G0e(n):new H0e(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,n,i){if(!(pt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Bg(this,"_updatePosition",50,"fixRate"):s1(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");fU("itemTooltip",this._api,Ee(function(i,a,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,n,i,a){if(!(a.from===this.uid||pt.node||!i.getDom())){var s=c6(a,i);this._ticket="";var o=a.dataByCoordSys,l=K0e(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=$0e;c.x=a.x,c.y=a.y,c.update(),je(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,i,a))return;var h=dU(a,n),f=h.point[0],d=h.point[1];f!=null&&d!=null&&this._tryShow({offsetX:f,offsetY:d,target:h.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,n,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(c6(a,i))},e.prototype._manuallyAxisShowTip=function(t,n,i,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var c=u.getData(),h=Sm([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,n){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){var o=je(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;qf(i,function(c){if(je(c).dataIndex!=null)return l=c,!0;if(je(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(t,l,n):u?this._showComponentItemTooltip(t,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(t,n){var i=t.get("showDelay");n=Ee(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},e.prototype._showAxisTooltip=function(t,n){var i=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=Sm([n.tooltipOption],a),l=this._renderMode,u=[],c=In("section",{blocks:[],noHeader:!0}),h=[],f=new BC;L(t,function(x){L(x.dataByAxis,function(y){var _=i.getComponent(y.axisDim+"Axis",y.axisIndex),S=y.value;if(!(!_||S==null)){var w=uU(S,_.axis,i,y.seriesDataIndices,y.valueLabelOpt),T=In("section",{header:w,noHeader:!uo(w),sortBlocks:!0,blocks:[]});c.blocks.push(T),L(y.seriesDataIndices,function(A){var C=i.getSeriesByIndex(A.seriesIndex),k=A.dataIndexInside,E=C.getDataParams(k);if(!(E.dataIndex<0)){E.axisDim=y.axisDim,E.axisIndex=y.axisIndex,E.axisType=y.axisType,E.axisId=y.axisId,E.axisValue=NP(_.axis,{value:S}),E.axisValueLabel=w,E.marker=f.makeTooltipMarker("item",Sp(E.color),l);var D=qN(C.formatTooltip(k,!0,null)),I=D.frag;if(I){var P=Sm([C],a).get("valueFormatter");T.blocks.push(P?he({valueFormatter:P},I):I)}D.text&&h.push(D.text),u.push(E)}})}})}),c.blocks.reverse(),h.reverse();var d=n.position,p=o.get("order"),v=r3(c,f,l,p,i.get("useUTC"),o.get("textStyle"));v&&h.unshift(v);var g=l==="richText"?`

`:"<br/>",m=h.join(g);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,m,u,Math.random()+"",s[0],s[1],d,null,f)})},e.prototype._showSeriesItemTooltip=function(t,n,i){var a=this._ecModel,s=je(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,h=s.dataType,f=u.getData(h),d=this._renderMode,p=t.positionDefault,v=Sm([f.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=v.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(c,h),x=new BC;m.marker=x.makeTooltipMarker("item",Sp(m.color),d);var y=qN(u.formatTooltip(c,!1,h)),_=v.get("order"),S=v.get("valueFormatter"),w=y.frag,T=w?r3(S?he({valueFormatter:S},w):w,x,d,_,a.get("useUTC"),v.get("textStyle")):y.text,A="item_"+u.name+"_"+c;this._showOrMove(v,function(){this._showTooltipContent(v,T,m,A,t.offsetX,t.offsetY,t.position,t.target,x)}),i({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,n,i){var a=this._renderMode==="html",s=je(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(Ae(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Ye(l),l.content=Wi(l.content));var h=[l],f=this._ecModel.getComponent(s.componentMainType,s.componentIndex);f&&h.push(f),h.push({formatter:l.content});var d=t.positionDefault,p=Sm(h,this._tooltipModel,d?{position:d}:null),v=p.get("content"),g=Math.random()+"",m=new BC;this._showOrMove(p,function(){var x=Ye(p.get("formatterParams")||{});this._showTooltipContent(p,v,x,g,t.offsetX,t.offsetY,t.position,n,m)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,n,i,a,s,o,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var h=this._tooltipContent;h.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var d=n,p=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor")),v=p.color;if(f)if(Ae(f)){var g=t.ecModel.get("useUTC"),m=ve(i)?i[0]:i,x=m&&m.axisType&&m.axisType.indexOf("time")>=0;d=f,x&&(d=XA(m.axisValue,d,g)),d=o7(d,i,!0)}else if(Ve(f)){var y=Ee(function(_,S){_===this._ticket&&(h.setContent(S,c,t,v,l),this._updatePosition(t,l,s,o,h,i,u))},this);this._ticket=a,d=f(i,a,y)}else d=f;h.setContent(d,c,t,v,l),h.show(t,v),this._updatePosition(t,l,s,o,h,i,u)}},e.prototype._getNearestPoint=function(t,n,i,a){if(i==="axis"||ve(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!ve(n))return{color:a||n.color||n.borderColor}},e.prototype._updatePosition=function(t,n,i,a,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||t.get("position");var h=s.getSize(),f=t.get("align"),d=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Ve(n)&&(n=n([i,a],o,s.el,p,{viewSize:[u,c],contentSize:h.slice()})),ve(n))i=_e(n[0],u),a=_e(n[1],c);else if(Ue(n)){var v=n;v.width=h[0],v.height=h[1];var g=vn(v,{width:u,height:c});i=g.x,a=g.y,f=null,d=null}else if(Ae(n)&&l){var m=X0e(n,p,h,t.get("borderWidth"));i=m[0],a=m[1]}else{var m=W0e(i,a,s,u,c,f?null:20,d?null:20);i=m[0],a=m[1]}if(f&&(i-=h6(f)?h[0]/2:f==="right"?h[0]:0),d&&(a-=h6(d)?h[1]/2:d==="bottom"?h[1]:0),AU(t)){var m=Y0e(i,a,s,u,c);i=m[0],a=m[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&L(i,function(o,l){var u=o.dataByAxis||[],c=t[l]||{},h=c.dataByAxis||[];s=s&&u.length===h.length,s&&L(u,function(f,d){var p=h[d]||{},v=f.seriesDataIndices||[],g=p.seriesDataIndices||[];s=s&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&v.length===g.length,s&&L(v,function(m,x){var y=g[x];s=s&&m.seriesIndex===y.seriesIndex&&m.dataIndex===y.dataIndex}),a&&L(f.seriesDataIndices,function(m){var x=m.seriesIndex,y=n[x],_=a[x];y&&_&&_.data!==y.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,n){pt.node||!n.getDom()||(s1(this,"_updatePosition"),this._tooltipContent.dispose(),xM("itemTooltip",n))},e.type="tooltip",e}(br);function Sm(r,e,t){var n=e.ecModel,i;t?(i=new Gt(t,n,n),i=new Gt(e.option,i,n)):i=e;for(var a=r.length-1;a>=0;a--){var s=r[a];s&&(s instanceof Gt&&(s=s.get("tooltip",!0)),Ae(s)&&(s={formatter:s}),s&&(i=new Gt(s,i,n)))}return i}function c6(r,e){return r.dispatchAction||Ee(e.dispatchAction,e)}function W0e(r,e,t,n,i,a,s){var o=t.getSize(),l=o[0],u=o[1];return a!=null&&(r+l+a+2>n?r-=l+a:r+=a),s!=null&&(e+u+s>i?e-=u+s:e+=s),[r,e]}function Y0e(r,e,t,n,i){var a=t.getSize(),s=a[0],o=a[1];return r=Math.min(r+s,n)-s,e=Math.min(e+o,i)-o,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function X0e(r,e,t,n){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=e.width,c=e.height;switch(r){case"inside":o=e.x+u/2-i/2,l=e.y+c/2-a/2;break;case"top":o=e.x+u/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+u/2-i/2,l=e.y+c+s;break;case"left":o=e.x-i-s,l=e.y+c/2-a/2;break;case"right":o=e.x+u+s,l=e.y+c/2-a/2}return[o,l]}function h6(r){return r==="center"||r==="middle"}function K0e(r,e,t){var n=JL(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Sb(e,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=je(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function j0e(r){ht(Gb),r.registerComponentModel(I0e),r.registerComponentView(U0e),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Wr),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Wr)}var q0e=["rect","polygon","keep","clear"];function Z0e(r,e){var t=qt(r?r.brush:[]);if(t.length){var n=[];L(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=r&&r.toolbox;ve(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),J0e(o),e&&!o.length&&o.push.apply(o,q0e)}}function J0e(r){var e={};L(r,function(t){e[t]=1}),r.length=0,L(e,function(t,n){r.push(n)})}var f6=L;function d6(r){if(r){for(var e in r)if(r.hasOwnProperty(e))return!0}}function AM(r,e,t){var n={};return f6(e,function(a){var s=n[a]=i();f6(r[a],function(o,l){if(En.isValidType(l)){var u={type:l,visual:o};t&&t(u,a),s[l]=new En(u),l==="opacity"&&(u=Ye(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new En(u))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function DU(r,e,t){var n;L(t,function(i){e.hasOwnProperty(i)&&d6(e[i])&&(n=!0)}),n&&L(t,function(i){e.hasOwnProperty(i)&&d6(e[i])?r[i]=Ye(e[i]):delete r[i]})}function Q0e(r,e,t,n,i,a){var s={};L(r,function(h){var f=En.prepareVisualTypes(e[h]);s[h]=f});var o;function l(h){return kP(t,o,h)}function u(h,f){q7(t,o,h,f)}t.each(c);function c(h,f){o=h;var d=t.getRawDataItem(o);if(!(d&&d.visualMap===!1))for(var p=n.call(i,h),v=e[p],g=s[p],m=0,x=g.length;m<x;m++){var y=g[m];v[y]&&v[y].applyVisual(h,l,u)}}}function ege(r,e,t,n){var i={};return L(r,function(a){var s=En.prepareVisualTypes(e[a]);i[a]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function u(S){return kP(o,h,S)}function c(S,w){q7(o,h,S,w)}for(var h,f=o.getStore();(h=s.next())!=null;){var d=o.getRawDataItem(h);if(!(d&&d.visualMap===!1))for(var p=n!=null?f.get(l,h):h,v=t(p),g=e[v],m=i[v],x=0,y=m.length;x<y;x++){var _=m[x];g[_]&&g[_].applyVisual(p,u,c)}}}}}function tge(r){var e=r.brushType,t={point:function(n){return p6[e].point(n,t,r)},rect:function(n){return p6[e].rect(n,t,r)}};return t}var p6={lineX:v6(0),lineY:v6(1),rect:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])},rect:function(r,e,t){return r&&t.boundingRect.intersect(r)}},polygon:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])&&Bf(t.range,r[0],r[1])},rect:function(r,e,t){var n=t.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,s=r.width,o=r.height,l=n[0];if(Bf(n,i,a)||Bf(n,i+s,a)||Bf(n,i,a+o)||Bf(n,i+s,a+o)||at.create(r).contain(l[0],l[1])||zm(i,a,i+s,a,n)||zm(i,a,i,a+o,n)||zm(i+s,a,i+s,a+o,n)||zm(i,a+o,i+s,a+o,n))return!0}}};function v6(r){var e=["x","y"],t=["width","height"];return{point:function(n,i,a){if(n){var s=a.range,o=n[r];return Tm(o,s)}},rect:function(n,i,a){if(n){var s=a.range,o=[n[e[r]],n[e[r]]+n[t[r]]];return o[1]<o[0]&&o.reverse(),Tm(o[0],s)||Tm(o[1],s)||Tm(s[0],o)||Tm(s[1],o)}}}}function Tm(r,e){return e[0]<=r&&r<=e[1]}var g6=["inBrush","outOfBrush"],eE="__ecBrushSelect",CM="__ecInBrushSelectEvent";function MU(r){r.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new FR(e.option,r);t.setInputRanges(e.areas,r)})}function rge(r,e,t){var n=[],i,a;r.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),MU(r),r.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:Ye(s.areas),selected:[]};n.push(l);var u=s.option,c=u.brushLink,h=[],f=[],d=[],p=!1;o||(i=u.throttleType,a=u.throttleDelay);var v=ge(s.areas,function(S){var w=sge[S.brushType],T=ze({boundingRect:w?w(S):void 0},S);return T.selectors=tge(T),T}),g=AM(s.option,g6,function(S){S.mappingMethod="fixed"});ve(c)&&L(c,function(S){h[S]=1});function m(S){return c==="all"||!!h[S]}function x(S){return!!S.length}r.eachSeries(function(S,w){var T=d[w]=[];S.subType==="parallel"?y(S,w):_(S,w,T)});function y(S,w){var T=S.coordinateSystem;p=p||T.hasAxisBrushed(),m(w)&&T.eachActiveState(S.getData(),function(A,C){A==="active"&&(f[C]=1)})}function _(S,w,T){if(!(!S.brushSelector||age(s,w))&&(L(v,function(C){s.brushTargetManager.controlSeries(C,S,r)&&T.push(C),p=p||x(T)}),m(w)&&x(T))){var A=S.getData();A.each(function(C){m6(S,T,A,C)&&(f[C]=1)})}}r.eachSeries(function(S,w){var T={seriesId:S.id,seriesIndex:w,seriesName:S.name,dataIndex:[]};l.selected.push(T);var A=d[w],C=S.getData(),k=m(w)?function(E){return f[E]?(T.dataIndex.push(C.getRawIndex(E)),"inBrush"):"outOfBrush"}:function(E){return m6(S,A,C,E)?(T.dataIndex.push(C.getRawIndex(E)),"inBrush"):"outOfBrush"};(m(w)?p:x(A))&&Q0e(g6,g,C,k)})}),nge(e,i,a,n,t)}function nge(r,e,t,n,i){if(i){var a=r.getZr();if(!a[CM]){a[eE]||(a[eE]=ige);var s=Bg(a,eE,t,e);s(r,n)}}}function ige(r,e){if(!r.isDisposed()){var t=r.getZr();t[CM]=!0,r.dispatchAction({type:"brushSelect",batch:e}),t[CM]=!1}}function m6(r,e,t,n){for(var i=0,a=e.length;i<a;i++){var s=e[i];if(r.brushSelector(n,t,s.selectors,s))return!0}}function age(r,e){var t=r.option.seriesIndex;return t!=null&&t!=="all"&&(ve(t)?lt(t,e)<0:e!==t)}var sge={rect:function(r){return y6(r.range)},polygon:function(r){for(var e,t=r.range,n=0,i=t.length;n<i;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[n];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&y6(e)}};function y6(r){return new at(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var oge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this._brushController=new uR(n.getZr())).on("brush",Ee(this._onBrush,this)).mount()},e.prototype.render=function(t,n,i,a){this.model=t,this._updateController(t,n,i,a)},e.prototype.updateTransform=function(t,n,i,a){MU(n),this._updateController(t,n,i,a)},e.prototype.updateVisual=function(t,n,i,a){this.updateTransform(t,n,i,a)},e.prototype.updateView=function(t,n,i,a){this._updateController(t,n,i,a)},e.prototype._updateController=function(t,n,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Ye(i),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Ye(i),$from:n})},e.type="brush",e}(br),lge="#ddd",uge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&DU(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:lge},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=ge(t,function(n){return x6(this.option,n)},this))},e.prototype.setBrushOption=function(t){this.brushOption=x6(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(vt);function x6(r,e){return tt({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new Gt(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},e,!0)}var cge=["rect","polygon","lineX","lineY","keep","clear"],hge=function(r){te(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,i){var a,s,o;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,L(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,n,i){this.render(t,n,i)},e.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),i={};return L(t.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},e.prototype.onclick=function(t,n,i){var a=this._brushType,s=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var n={show:!0,type:cge.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return n},e}(_s);function fge(r){r.registerComponentView(oge),r.registerComponentModel(uge),r.registerPreprocessor(Z0e),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,rge),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Wr),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Wr),Av("brush",hge)}var dge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(vt),pge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),u=Je(t.get("textBaseline"),t.get("textVerticalAlign")),c=new Et({style:or(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),f=t.get("subtext"),d=new Et({style:or(o,{text:f,fill:o.getTextColor(),y:h.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),v=t.get("sublink"),g=t.get("triggerEvent",!0);c.silent=!p&&!g,d.silent=!v&&!g,p&&c.on("click",function(){rT(p,"_"+t.get("target"))}),v&&d.on("click",function(){rT(v,"_"+t.get("subtarget"))}),je(c).eventData=je(d).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),f&&a.add(d);var m=a.getBoundingRect(),x=t.getBoxLayoutParams();x.width=m.width,x.height=m.height;var y=vn(x,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?y.x+=y.width:l==="center"&&(y.x+=y.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?y.y+=y.height:u==="middle"&&(y.y+=y.height/2),u=u||"top"),a.x=y.x,a.y=y.y,a.markRedraw();var _={align:l,verticalAlign:u};c.setStyle(_),d.setStyle(_),m=a.getBoundingRect();var S=y.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var T=new Tt({shape:{x:m.x-S[3],y:m.y-S[0],width:m.width+S[1]+S[3],height:m.height+S[0]+S[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});a.add(T)}},e.type="title",e}(br);function vge(r){r.registerComponentModel(dge),r.registerComponentView(pge)}var b6=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,n=t.data||[],i=t.axisType,a=this._names=[],s;i==="category"?(s=[],L(n,function(u,c){var h=fn(Dg(u),""),f;Ue(u)?(f=Ye(u),f.value=c):f=c,s.push(f),a.push(h)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new ji([{name:"value",type:o}],this);l.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(vt),IU=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Jh(b6.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(b6);tn(IU,e2.prototype);var gge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(br),mge=function(r){te(e,r);function e(t,n,i,a){var s=r.call(this,t,n,i)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Ao),tE=Math.PI,_6=At(),yge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.api=n},e.prototype.render=function(t,n,i){if(this.model=t,this.api=i,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return In("nameValue",{noName:!0,value:c})},L(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,t)},this),this._renderAxisLabel(a,o,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,n){var i=t.get(["label","position"]),a=t.get("orient"),s=bge(t,n),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":Ae(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:tE/2},h=a==="vertical"?s.height:s.width,f=t.getModel("controlStyle"),d=f.get("show",!0),p=d?f.get("itemSize"):0,v=d?f.get("itemGap"):0,g=p+v,m=t.get(["label","rotate"])||0;m=m*tE/180;var x,y,_,S=f.get("position",!0),w=d&&f.get("showPlayBtn",!0),T=d&&f.get("showPrevBtn",!0),A=d&&f.get("showNextBtn",!0),C=0,k=h;S==="left"||S==="bottom"?(w&&(x=[0,0],C+=g),T&&(y=[C,0],C+=g),A&&(_=[k-p,0],k-=g)):(w&&(x=[k-p,0],k-=g),T&&(y=[0,0],C+=g),A&&(_=[k-p,0],k-=g));var E=[C,k];return t.get("inverse")&&E.reverse(),{viewRect:s,mainLength:h,orient:a,rotation:c[a],labelRotation:m,labelPosOpt:o,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:x,prevBtnPosition:y,nextBtnPosition:_,axisExtent:E,controlSize:p,controlGap:v}},e.prototype._position=function(t,n){var i=this._mainGroup,a=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var o=Ya(),l=s.x,u=s.y+s.height;bl(o,o,[-l,-u]),Pp(o,o,-tE/2),bl(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var c=x(s),h=x(i.getBoundingRect()),f=x(a.getBoundingRect()),d=[i.x,i.y],p=[a.x,a.y];p[0]=d[0]=c[0][0];var v=t.labelPosOpt;if(v==null||Ae(v)){var g=v==="+"?0:1;y(d,h,c,1,g),y(p,f,c,1,1-g)}else{var g=v>=0?0:1;y(d,h,c,1,g),p[1]=d[1]+v}i.setPosition(d),a.setPosition(p),i.rotation=a.rotation=t.rotation,m(i),m(a);function m(_){_.originX=c[0][0]-_.x,_.originY=c[1][0]-_.y}function x(_){return[[_.x,_.x+_.width],[_.y,_.y+_.height]]}function y(_,S,w,T,A){_[T]+=w[T][A]-S[T][A]}},e.prototype._createAxis=function(t,n){var i=n.getData(),a=n.get("axisType"),s=xge(n,a);s.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new mge("value",s,t.axisExtent,a);return l.model=n,l},e.prototype._createGroup=function(t){var n=this[t]=new Ke;return this.group.add(n),n},e.prototype._renderAxisLine=function(t,n,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new Sn({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:he({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new Sn({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:ze({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},e.prototype._renderAxisTick=function(t,n,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],L(l,function(u){var c=i.dataToCoord(u.value),h=o.getItemModel(u.value),f=h.getModel("itemStyle"),d=h.getModel(["emphasis","itemStyle"]),p=h.getModel(["progress","itemStyle"]),v={x:c,y:0,onclick:Ee(s._changeTimeline,s,u.value)},g=w6(h,f,n,v);g.ensureState("emphasis").style=d.getItemStyle(),g.ensureState("progress").style=p.getItemStyle(),hp(g);var m=je(g);h.get("tooltip")?(m.dataIndex=u.value,m.dataModel=a):m.dataIndex=m.dataModel=null,s._tickSymbols.push(g)})},e.prototype._renderAxisLabel=function(t,n,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],L(u,function(c){var h=c.tickValue,f=l.getItemModel(h),d=f.getModel("label"),p=f.getModel(["emphasis","label"]),v=f.getModel(["progress","label"]),g=i.dataToCoord(c.tickValue),m=new Et({x:g,y:0,rotation:t.labelRotation-t.rotation,onclick:Ee(s._changeTimeline,s,h),silent:!1,style:or(d,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});m.ensureState("emphasis").style=or(p),m.ensureState("progress").style=or(v),n.add(m),hp(m),_6(m).dataIndex=h,s._tickLabels.push(m)})}},e.prototype._renderControl=function(t,n,i,a){var s=t.controlSize,o=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),h=a.get("inverse",!0);f(t.nextBtnPosition,"next",Ee(this._changeTimeline,this,h?"-":"+")),f(t.prevBtnPosition,"prev",Ee(this._changeTimeline,this,h?"+":"-")),f(t.playPosition,c?"stop":"play",Ee(this._handlePlayClick,this,!c),!0);function f(d,p,v,g){if(d){var m=xo(Je(a.get(["controlStyle",p+"BtnSize"]),s),s),x=[0,-m/2,m,m],y=_ge(a,p+"Icon",x,{x:d[0],y:d[1],originX:s/2,originY:0,rotation:g?-o:0,rectHover:!0,style:l,onclick:v});y.ensureState("emphasis").style=u,n.add(y),hp(y)}}},e.prototype._renderCurrentPointer=function(t,n,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,c={onCreate:function(h){h.draggable=!0,h.drift=Ee(u._handlePointerDrag,u),h.ondragend=Ee(u._handlePointerDragend,u),S6(h,u._progressLine,o,i,a,!0)},onUpdate:function(h){S6(h,u._progressLine,o,i,a)}};this._currentPointer=w6(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,n){var i=this._toAxisCoord(t)[0],a=this._axis,s=Es(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var n=this._mainGroup.getLocalTransform();return mo(t,n,!0)},e.prototype._findNearestTick=function(t){var n=this.model.getData(),i=1/0,a,s=this._axis;return n.each(["value"],function(o,l){var u=s.dataToCoord(o),c=Math.abs(u-t);c<i&&(i=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();t==="+"?t=n+1:t==="-"&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<t);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",_6(i[a]).dataIndex<=t)},e.type="timeline.slider",e}(gge);function xge(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new s2({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new OP({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new Ju}}function bge(r,e){return vn(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},r.get("padding"))}function _ge(r,e,t,n){var i=n.style,a=Db(r.get(["controlStyle",e]),n||{},new at(t[0],t[1],t[2],t[3]));return i&&a.setStyle(i),a}function w6(r,e,t,n,i,a){var s=e.get("color");if(i)i.setColor(s),t.add(i),a&&a.onUpdate(i);else{var o=r.get("symbol");i=Qr(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),t.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),n=tt({rectHover:!0,z2:100},n,!0);var u=Vg(r.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=Fp(r.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var h=r.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function S6(r,e,t,n,i,a){if(!r.dragging){var s=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",t));if(a||!s.get("animation",!0))r.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function wge(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,n){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),ze({currentIndex:i.option.currentIndex},e)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)})}function Sge(r){var e=r&&r.timeline;ve(e)||(e=e?[e]:[]),L(e,function(t){t&&Tge(t)})}function Tge(r){var e=r.type,t={number:"value",time:"time"};if(t[e]&&(r.axisType=t[e],delete r.type),T6(r),Hf(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});Hf(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!Hf(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}L(r.data||[],function(i){Ue(i)&&!ve(i)&&(!Hf(i,"value")&&Hf(i,"name")&&(i.value=i.name),T6(i))})}function T6(r){var e=r.itemStyle||(r.itemStyle={}),t=e.emphasis||(e.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};L(n,function(s,o){!a[o]&&!Hf(i,o)&&(i[o]=s)}),t.label&&!Hf(n,"emphasis")&&(n.emphasis=t.label,delete t.label)}function Hf(r,e){return r.hasOwnProperty(e)}function Age(r){r.registerComponentModel(IU),r.registerComponentView(yge),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),wge(r),r.registerPreprocessor(Sge)}function VR(r,e){if(!r)return!1;for(var t=ve(r)?r:[r],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1}function iw(r){xp(r,"label",["show"])}var aw=At(),ec=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(pt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,i,a){var s=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),u=aw(o)[s];if(!l||!l.data){aw(o)[s]=null;return}u?u._mergeOption(l,n,!0):(a&&iw(l),L(l.data,function(c){c instanceof Array?(iw(c[0]),iw(c[1])):iw(c)}),u=this.createMarkerModelFromSeries(l,this,n),he(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),aw(o)[s]=u},this)},e.prototype.formatTooltip=function(t,n,i){var a=this.getData(),s=this.getRawValue(t),o=a.getName(t);return In("section",{header:this.name,blocks:[In("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var i=e2.prototype.getDataParams.call(this,t,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(t,n){return aw(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(vt);tn(ec,e2.prototype);var Cge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(ec);function kM(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function kge(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function sw(r,e,t,n,i,a){var s=[],o=Hh(e,n),l=o?e.getCalculationInfo("stackResultDimension"):n,u=zR(e,l,r),c=e.indicesOfNearest(l,u)[0];s[i]=e.get(t,c),s[a]=e.get(l,c);var h=e.get(n,c),f=hl(e.get(n,c));return f=Math.min(f,20),f>=0&&(s[a]=+s[a].toFixed(f)),[s,h]}var rE={min:Qe(sw,"min"),max:Qe(sw,"max"),average:Qe(sw,"average"),median:Qe(sw,"median")};function b1(r,e){if(e){var t=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!kge(e)&&!ve(e.coord)&&ve(i)){var a=LU(e,t,n,r);if(e=Ye(e),e.type&&rE[e.type]&&a.baseAxis&&a.valueAxis){var s=lt(i,a.baseAxis.dim),o=lt(i,a.valueAxis.dim),l=rE[e.type](t,a.baseDataDim,a.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ve(i))e.coord=[];else for(var u=e.coord,c=0;c<2;c++)rE[u[c]]&&(u[c]=zR(t,t.mapDimension(i[c]),u[c]));return e}}function LU(r,e,t,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?e.getDimension(r.valueIndex):r.valueDim,i.valueAxis=t.getAxis(Ege(n,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function Ege(r,e){var t=r.getData().getDimensionInfo(e);return t&&t.coordDim}function _1(r,e){return r&&r.containData&&e.coord&&!kM(e)?r.containData(e.coord):!0}function Dge(r,e,t){return r&&r.containZone&&e.coord&&t.coord&&!kM(e)&&!kM(t)?r.containZone(e.coord,t.coord):!0}function PU(r,e){return r?function(t,n,i,a){var s=a<2?t.coord&&t.coord[a]:t.value;return Ih(s,e[a])}:function(t,n,i,a){return Ih(t.value,e[a])}}function zR(r,e,t){if(t==="average"){var n=0,i=0;return r.each(e,function(a,s){isNaN(a)||(n+=a,i++)}),n/i}else return t==="median"?r.getMedian(e):r.getDataExtent(e)[t==="max"?1:0]}var nE=At(),HR=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=Le()},e.prototype.render=function(t,n,i){var a=this,s=this.markerGroupMap;s.each(function(o){nE(o).keep=!1}),n.eachSeries(function(o){var l=ec.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,n,i)}),s.each(function(o){!nE(o).keep&&a.group.remove(o.group)})},e.prototype.markKeep=function(t){nE(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var i=this;L(t,function(a){var s=ec.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?TH(l):aP(l))})}})},e.type="marker",e}(br);function A6(r,e,t){var n=e.coordinateSystem;r.each(function(i){var a=r.getItemModel(i),s,o=_e(a.get("x"),t.getWidth()),l=_e(a.get("y"),t.getHeight());if(!isNaN(o)&&!isNaN(l))s=[o,l];else if(e.getMarkerPosition)s=e.getMarkerPosition(r.getValues(r.dimensions,i));else if(n){var u=r.get(n.dimensions[0],i),c=r.get(n.dimensions[1],i);s=n.dataToPoint([u,c])}isNaN(o)||(s[0]=o),isNaN(l)||(s[1]=l),r.setItemLayout(i,s)})}var Mge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=ec.getMarkerModelFromSeries(a,"markPoint");s&&(A6(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new Ob),h=Ige(s,t,n);n.setData(h),A6(n.getData(),t,a),h.each(function(f){var d=h.getItemModel(f),p=d.getShallow("symbol"),v=d.getShallow("symbolSize"),g=d.getShallow("symbolRotate"),m=d.getShallow("symbolOffset"),x=d.getShallow("symbolKeepAspect");if(Ve(p)||Ve(v)||Ve(g)||Ve(m)){var y=n.getRawValue(f),_=n.getDataParams(f);Ve(p)&&(p=p(y,_)),Ve(v)&&(v=v(y,_)),Ve(g)&&(g=g(y,_)),Ve(m)&&(m=m(y,_))}var S=d.getModel("itemStyle").getItemStyle(),w=Ib(l,"color");S.fill||(S.fill=w),h.setItemVisual(f,{symbol:p,symbolSize:v,symbolRotate:g,symbolOffset:m,symbolKeepAspect:x,style:S})}),c.updateData(h),this.group.add(c.group),h.eachItemGraphicEl(function(f){f.traverse(function(d){je(d).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markPoint",e}(HR);function Ige(r,e,t){var n;r?n=ge(r&&r.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return he(he({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new ji(n,t),a=ge(t.get("data"),Qe(b1,e));r&&(a=Ot(a,Qe(_1,r)));var s=PU(!!r,n);return i.initData(a,null,s),i}function Lge(r){r.registerComponentModel(Cge),r.registerComponentView(Mge),r.registerPreprocessor(function(e){VR(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var Pge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(ec),ow=At(),Rge=function(r,e,t,n){var i=r.getData(),a;if(ve(n))a=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=e.getAxis(n.yAxis!=null?"y":"x"),l=Un(n.yAxis,n.xAxis);else{var u=LU(n,i,e,r);o=u.valueAxis;var c=A9(i,u.valueDataDim);l=zR(i,c,s)}var h=o.dim==="x"?0:1,f=1-h,d=Ye(n),p={coord:[]};d.type=null,d.coord=[],d.coord[f]=-1/0,p.coord[f]=1/0;var v=t.get("precision");v>=0&&Mt(l)&&(l=+l.toFixed(Math.min(v,20))),d.coord[h]=p.coord[h]=l,a=[d,p,{type:s,valueIndex:n.valueIndex,value:l}]}else a=[]}var g=[b1(r,a[0]),b1(r,a[1]),he({},a[2])];return g[2].type=g[2].type||null,tt(g[2],g[0]),tt(g[2],g[1]),g};function kT(r){return!isNaN(r)&&!isFinite(r)}function C6(r,e,t,n){var i=1-r,a=n.dimensions[r];return kT(e[i])&&kT(t[i])&&e[r]===t[r]&&n.getAxis(a).containData(e[r])}function Oge(r,e){if(r.type==="cartesian2d"){var t=e[0].coord,n=e[1].coord;if(t&&n&&(C6(1,t,n,r)||C6(0,t,n,r)))return!0}return _1(r,e[0])&&_1(r,e[1])}function iE(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=_e(s.get("x"),i.getWidth()),u=_e(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition)o=n.getMarkerPosition(r.getValues(r.dimensions,e));else{var c=a.dimensions,h=r.get(c[0],e),f=r.get(c[1],e);o=a.dataToPoint([h,f])}if(Bp(a,"cartesian2d")){var d=a.getAxis("x"),p=a.getAxis("y"),c=a.dimensions;kT(r.get(c[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[t?0:1]):kT(r.get(c[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[t?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}r.setItemLayout(e,o)}var Fge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=ec.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=ow(s).from,u=ow(s).to;l.each(function(c){iE(l,c,!0,a,i),iE(u,c,!1,a,i)}),o.each(function(c){o.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new lR);this.group.add(c.group);var h=Nge(s,t,n),f=h.from,d=h.to,p=h.line;ow(n).from=f,ow(n).to=d,n.setData(p);var v=n.get("symbol"),g=n.get("symbolSize"),m=n.get("symbolRotate"),x=n.get("symbolOffset");ve(v)||(v=[v,v]),ve(g)||(g=[g,g]),ve(m)||(m=[m,m]),ve(x)||(x=[x,x]),h.from.each(function(_){y(f,_,!0),y(d,_,!1)}),p.each(function(_){var S=p.getItemModel(_).getModel("lineStyle").getLineStyle();p.setItemLayout(_,[f.getItemLayout(_),d.getItemLayout(_)]),S.stroke==null&&(S.stroke=f.getItemVisual(_,"style").fill),p.setItemVisual(_,{fromSymbolKeepAspect:f.getItemVisual(_,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(_,"symbolOffset"),fromSymbolRotate:f.getItemVisual(_,"symbolRotate"),fromSymbolSize:f.getItemVisual(_,"symbolSize"),fromSymbol:f.getItemVisual(_,"symbol"),toSymbolKeepAspect:d.getItemVisual(_,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(_,"symbolOffset"),toSymbolRotate:d.getItemVisual(_,"symbolRotate"),toSymbolSize:d.getItemVisual(_,"symbolSize"),toSymbol:d.getItemVisual(_,"symbol"),style:S})}),c.updateData(p),h.line.eachItemGraphicEl(function(_){je(_).dataModel=n,_.traverse(function(S){je(S).dataModel=n})});function y(_,S,w){var T=_.getItemModel(S);iE(_,S,w,t,a);var A=T.getModel("itemStyle").getItemStyle();A.fill==null&&(A.fill=Ib(l,"color")),_.setItemVisual(S,{symbolKeepAspect:T.get("symbolKeepAspect"),symbolOffset:Je(T.get("symbolOffset",!0),x[w?0:1]),symbolRotate:Je(T.get("symbolRotate",!0),m[w?0:1]),symbolSize:Je(T.get("symbolSize"),g[w?0:1]),symbol:Je(T.get("symbol",!0),v[w?0:1]),style:A})}this.markKeep(c),c.group.silent=n.get("silent")||t.get("silent")},e.type="markLine",e}(HR);function Nge(r,e,t){var n;r?n=ge(r&&r.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return he(he({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new ji(n,t),a=new ji(n,t),s=new ji([],t),o=ge(t.get("data"),Qe(Rge,e,r,t));r&&(o=Ot(o,Qe(Oge,r)));var l=PU(!!r,n);return i.initData(ge(o,function(u){return u[0]}),null,l),a.initData(ge(o,function(u){return u[1]}),null,l),s.initData(ge(o,function(u){return u[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function Bge(r){r.registerComponentModel(Pge),r.registerComponentView(Fge),r.registerPreprocessor(function(e){VR(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var Vge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(ec),lw=At(),zge=function(r,e,t,n){var i=n[0],a=n[1];if(!(!i||!a)){var s=b1(r,i),o=b1(r,a),l=s.coord,u=o.coord;l[0]=Un(l[0],-1/0),l[1]=Un(l[1],-1/0),u[0]=Un(u[0],1/0),u[1]=Un(u[1],1/0);var c=HL([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function ET(r){return!isNaN(r)&&!isFinite(r)}function k6(r,e,t,n){var i=1-r;return ET(e[i])&&ET(t[i])}function Hge(r,e){var t=e.coord[0],n=e.coord[1],i={coord:t,x:e.x0,y:e.y0},a={coord:n,x:e.x1,y:e.y1};return Bp(r,"cartesian2d")?t&&n&&(k6(1,t,n)||k6(0,t,n))?!0:Dge(r,i,a):_1(r,i)||_1(r,a)}function E6(r,e,t,n,i){var a=n.coordinateSystem,s=r.getItemModel(e),o,l=_e(s.get(t[0]),i.getWidth()),u=_e(s.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition){var c=r.getValues(["x0","y0"],e),h=r.getValues(["x1","y1"],e),f=a.clampData(c),d=a.clampData(h),p=[];t[0]==="x0"?p[0]=f[0]>d[0]?h[0]:c[0]:p[0]=f[0]>d[0]?c[0]:h[0],t[1]==="y0"?p[1]=f[1]>d[1]?h[1]:c[1]:p[1]=f[1]>d[1]?c[1]:h[1],o=n.getMarkerPosition(p,t,!0)}else{var v=r.get(t[0],e),g=r.get(t[1],e),m=[v,g];a.clampData&&a.clampData(m,m),o=a.dataToPoint(m,!0)}if(Bp(a,"cartesian2d")){var x=a.getAxis("x"),y=a.getAxis("y"),v=r.get(t[0],e),g=r.get(t[1],e);ET(v)?o[0]=x.toGlobalCoord(x.getExtent()[t[0]==="x0"?0:1]):ET(g)&&(o[1]=y.toGlobalCoord(y.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var D6=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],Gge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,i){n.eachSeries(function(a){var s=ec.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=ge(D6,function(h){return E6(o,l,h,a,i)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,n,i,a){var s=t.coordinateSystem,o=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new Ke});this.group.add(c.group),this.markKeep(c);var h=$ge(s,t,n);n.setData(h),h.each(function(f){var d=ge(D6,function(A){return E6(h,f,A,t,a)}),p=s.getAxis("x").scale,v=s.getAxis("y").scale,g=p.getExtent(),m=v.getExtent(),x=[p.parse(h.get("x0",f)),p.parse(h.get("x1",f))],y=[v.parse(h.get("y0",f)),v.parse(h.get("y1",f))];Es(x),Es(y);var _=!(g[0]>x[1]||g[1]<x[0]||m[0]>y[1]||m[1]<y[0]),S=!_;h.setItemLayout(f,{points:d,allClipped:S});var w=h.getItemModel(f).getModel("itemStyle").getItemStyle(),T=Ib(l,"color");w.fill||(w.fill=T,Ae(w.fill)&&(w.fill=US(w.fill,.4))),w.stroke||(w.stroke=T),h.setItemVisual(f,"style",w)}),h.diff(lw(c).data).add(function(f){var d=h.getItemLayout(f);if(!d.allClipped){var p=new ra({shape:{points:d.points}});h.setItemGraphicEl(f,p),c.group.add(p)}}).update(function(f,d){var p=lw(c).data.getItemGraphicEl(d),v=h.getItemLayout(f);v.allClipped?p&&c.group.remove(p):(p?It(p,{shape:{points:v.points}},n,f):p=new ra({shape:{points:v.points}}),h.setItemGraphicEl(f,p),c.group.add(p))}).remove(function(f){var d=lw(c).data.getItemGraphicEl(f);c.group.remove(d)}).execute(),h.eachItemGraphicEl(function(f,d){var p=h.getItemModel(d),v=h.getItemVisual(d,"style");f.useStyle(h.getItemVisual(d,"style")),ci(f,Mn(p),{labelFetcher:n,labelDataIndex:d,defaultText:h.getName(d)||"",inheritColor:Ae(v.fill)?US(v.fill,1):"#000"}),ui(f,p),Tr(f,null,null,p.get(["emphasis","disabled"])),je(f).dataModel=n}),lw(c).data=h,c.group.silent=n.get("silent")||t.get("silent")},e.type="markArea",e}(HR);function $ge(r,e,t){var n,i,a=["x0","y0","x1","y1"];if(r){var s=ge(r&&r.dimensions,function(u){var c=e.getData(),h=c.getDimensionInfo(c.mapDimension(u))||{};return he(he({},h),{name:u,ordinalMeta:null})});i=ge(a,function(u,c){return{name:u,type:s[c%2].type}}),n=new ji(i,t)}else i=[{name:"value",type:"float"}],n=new ji(i,t);var o=ge(t.get("data"),Qe(zge,e,r,t));r&&(o=Ot(o,Qe(Hge,r)));var l=r?function(u,c,h,f){var d=u.coord[Math.floor(f/2)][f%2];return Ih(d,i[f])}:function(u,c,h,f){return Ih(u.value,i[f])};return n.initData(o,null,l),n.hasItemOption=!0,n}function Uge(r){r.registerComponentModel(Vge),r.registerComponentView(Gge),r.registerPreprocessor(function(e){VR(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var Wge=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},EM=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,i=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),ve(n)&&L(n,function(a,s){Ae(a)&&(a={type:a}),n[s]=tt(a,Wge(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var h=l.legendVisualProvider,f=h.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(f)),f.length?n=n.concat(f):c=!0}else c=!0;c&&ZL(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,s=Le(),o=ge(a,function(l){return(Ae(l)||Mt(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Gt(l,this,this.ecModel))},this);this._data=Ot(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;L(a,function(s){n[s.get("name")]=!1})}n[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,n=this.option.selected;L(t,function(i){n[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;L(t,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&lt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(vt),vv=Qe,DM=L,uw=Ke,RU=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new uw),this.group.add(this._selectorGroup=new uw),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,t,n,i,l,o,u);var c=t.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),d=vn(c,h,f),p=this.layoutInner(t,s,d,a,l,u),v=vn(ze({width:p.width,height:p.height},c),h,f);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=wU(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,i,a,s,o,l){var u=this.getContentGroup(),c=Le(),h=n.get("selectedMode"),f=[];i.eachRawSeries(function(d){!d.get("legendHoverLink")&&f.push(d.id)}),DM(n.getData(),function(d,p){var v=d.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var g=new uw;g.newline=!0,u.add(g);return}var m=i.getSeriesByName(v)[0];if(!c.get(v))if(m){var x=m.getData(),y=x.getVisual("legendLineStyle")||{},_=x.getVisual("legendIcon"),S=x.getVisual("style"),w=this._createItem(m,v,p,d,n,t,y,S,_,h,a);w.on("click",vv(M6,v,null,a,f)).on("mouseover",vv(MM,m.name,null,a,f)).on("mouseout",vv(IM,m.name,null,a,f)),i.ssr&&w.eachChild(function(T){var A=je(T);A.seriesIndex=m.seriesIndex,A.dataIndex=p,A.ssrType="legend"}),c.set(v,!0)}else i.eachRawSeries(function(T){if(!c.get(v)&&T.legendVisualProvider){var A=T.legendVisualProvider;if(!A.containName(v))return;var C=A.indexOfName(v),k=A.getItemVisual(C,"style"),E=A.getItemVisual(C,"legendIcon"),D=Xa(k.fill);D&&D[3]===0&&(D[3]=.2,k=he(he({},k),{fill:Bu(D,"rgba")}));var I=this._createItem(T,v,p,d,n,t,{},k,E,h,a);I.on("click",vv(M6,null,v,a,f)).on("mouseover",vv(MM,null,v,a,f)).on("mouseout",vv(IM,null,v,a,f)),i.ssr&&I.eachChild(function(P){var F=je(P);F.seriesIndex=T.seriesIndex,F.dataIndex=p,F.ssrType="legend"}),c.set(v,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},e.prototype._createSelector=function(t,n,i,a,s){var o=this.getSelectorGroup();DM(t,function(u){var c=u.type,h=new Et({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(h);var f=n.getModel("selectorLabel"),d=n.getModel(["emphasis","selectorLabel"]);ci(h,{normal:f,emphasis:d},{defaultText:u.title}),hp(h)})},e.prototype._createItem=function(t,n,i,a,s,o,l,u,c,h,f){var d=t.visualDrawType,p=s.get("itemWidth"),v=s.get("itemHeight"),g=s.isSelected(n),m=a.get("symbolRotate"),x=a.get("symbolKeepAspect"),y=a.get("icon");c=y||c||"roundRect";var _=Yge(c,a,l,u,d,g,f),S=new uw,w=a.getModel("textStyle");if(Ve(t.getLegendIcon)&&(!y||y==="inherit"))S.add(t.getLegendIcon({itemWidth:p,itemHeight:v,icon:c,iconRotate:m,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:x}));else{var T=y==="inherit"&&t.getData().getVisual("symbol")?m==="inherit"?t.getData().getVisual("symbolRotate"):m:0;S.add(Xge({itemWidth:p,itemHeight:v,icon:c,iconRotate:T,itemStyle:_.itemStyle,symbolKeepAspect:x}))}var A=o==="left"?p+5:-5,C=o,k=s.get("formatter"),E=n;Ae(k)&&k?E=k.replace("{name}",n??""):Ve(k)&&(E=k(n));var D=g?w.getTextColor():a.get("inactiveColor");S.add(new Et({style:or(w,{text:E,x:A,y:v/2,fill:D,align:C,verticalAlign:"middle"},{inheritColor:D})}));var I=new Tt({shape:S.getBoundingRect(),style:{fill:"transparent"}}),P=a.getModel("tooltip");return P.get("show")&&Rp({el:I,componentModel:s,itemName:n,itemTooltipOption:P.option}),S.add(I),S.eachChild(function(F){F.silent=!0}),I.silent=!h,this.getContentGroup().add(S),hp(S),S.__legendDataIndex=i,S},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();dp(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){dp("horizontal",u,t.get("selectorItemGap",!0));var f=u.getBoundingRect(),d=[-f.x,-f.y],p=t.get("selectorButtonGap",!0),v=t.getOrient().index,g=v===0?"width":"height",m=v===0?"height":"width",x=v===0?"y":"x";o==="end"?d[v]+=c[g]+p:h[v]+=f[g]+p,d[1-v]+=c[m]/2-f[m]/2,u.x=d[0],u.y=d[1],l.x=h[0],l.y=h[1];var y={x:0,y:0};return y[g]=c[g]+p+f[g],y[m]=Math.max(c[m],f[m]),y[x]=Math.min(0,f[x]+d[1-v]),y}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(br);function Yge(r,e,t,n,i,a,s){function o(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),DM(g,function(x,y){g[y]==="inherit"&&(g[y]=m[y])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",h=l.getShallow("decal");u.decal=!h||h==="inherit"?n.decal:mg(h,s),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:t).opacity),o(u,n);var f=e.getModel("lineStyle"),d=f.getLineStyle();if(o(d,t),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),d.stroke==="auto"&&(d.stroke=n.fill),!a){var p=e.get("inactiveBorderWidth"),v=u[c];u.lineWidth=p==="auto"?n.lineWidth>0&&v?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),d.stroke=f.get("inactiveColor"),d.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function Xge(r){var e=r.icon||"roundRect",t=Qr(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function M6(r,e,t,n){IM(r,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:r??e}),MM(r,e,t,n)}function OU(r){for(var e=r.getZr().storage.getDisplayList(),t,n=0,i=e.length;n<i&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function MM(r,e,t,n){OU(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:n})}function IM(r,e,t,n){OU(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:n})}function Kge(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function Am(r,e,t){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];t.eachComponent({mainType:"legend",query:e},function(o){n?o[r]():o[r](e.name),I6(o,i),a.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){L(i,function(l,u){o[l?"select":"unSelect"](u)}),I6(o,s)}),n?{selected:s,legendIndex:a}:{name:e.name,selected:s}}function I6(r,e){var t=e||{};return L(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);Me(t,i)?t[i]=t[i]&&a:t[i]=a}}),t}function jge(r){r.registerAction("legendToggleSelect","legendselectchanged",Qe(Am,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",Qe(Am,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",Qe(Am,"inverseSelect")),r.registerAction("legendSelect","legendselected",Qe(Am,"select")),r.registerAction("legendUnSelect","legendunselected",Qe(Am,"unSelect"))}function FU(r){r.registerComponentModel(EM),r.registerComponentView(RU),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Kge),r.registerSubTypeDefaulter("legend",function(){return"plain"}),jge(r)}var qge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,i){var a=Og(t);r.prototype.init.call(this,t,n,i),L6(this,t,a)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),L6(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Jh(EM.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(EM);function L6(r,e,t){var n=r.getOrient(),i=[1,1];i[n.index]=0,zh(e,t,{type:"box",ignoreSize:!!i})}var P6=Ke,aE=["width","height"],sE=["x","y"],Zge=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new P6),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new P6)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,i,a,s,o,l){var u=this;r.prototype.renderInner.call(this,t,n,i,a,s,o,l);var c=this._controllerGroup,h=n.get("pageIconSize",!0),f=ve(h)?h:[h,h];p("pagePrev",0);var d=n.getModel("pageTextStyle");c.add(new Et({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,g){var m=v+"DataIndex",x=Db(n.get("pageIcons",!0)[n.getOrient().name][g],{onclick:Ee(u._pageGo,u,m,n,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});x.name=v,c.add(x)}},e.prototype.layoutInner=function(t,n,i,a,s,o){var l=this.getSelectorGroup(),u=t.getOrient().index,c=aE[u],h=sE[u],f=aE[1-u],d=sE[1-u];s&&dp("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),v=l.getBoundingRect(),g=[-v.x,-v.y],m=Ye(i);s&&(m[c]=i[c]-v[c]-p);var x=this._layoutContentAndController(t,a,m,u,c,f,d,h);if(s){if(o==="end")g[u]+=x[c]+p;else{var y=v[c]+p;g[u]-=y,x[h]-=y}x[c]+=v[c]+p,g[1-u]+=x[d]+x[f]/2-v[f]/2,x[f]=Math.max(x[f],v[f]),x[d]=Math.min(x[d],v[d]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return x},e.prototype._layoutContentAndController=function(t,n,i,a,s,o,l,u){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;dp(t.get("orient"),c,t.get("itemGap"),a?i.width:null,a?null:i.height),dp("horizontal",f,t.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),p=f.getBoundingRect(),v=this._showController=d[s]>i[s],g=[-d.x,-d.y];n||(g[a]=c[u]);var m=[0,0],x=[-p.x,-p.y],y=Je(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(v){var _=t.get("pageButtonPosition",!0);_==="end"?x[a]+=i[s]-p[s]:m[a]+=p[s]+y}x[1-a]+=d[o]/2-p[o]/2,c.setPosition(g),h.setPosition(m),f.setPosition(x);var S={x:0,y:0};if(S[s]=v?i[s]:d[s],S[o]=Math.max(d[o],p[o]),S[l]=Math.min(0,p[l]+x[1-a]),h.__rectSize=i[s],v){var w={x:0,y:0};w[s]=Math.max(i[s]-p[s]-y,0),w[o]=S[o],h.setClipPath(new Tt({shape:w})),h.__rectSize=w[s]}else f.eachChild(function(A){A.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(t);return T.pageIndex!=null&&It(c,{x:T.contentPosition[0],y:T.contentPosition[1]},v?t:null),this._updatePageInfoView(t,T),S},e.prototype._pageGo=function(t,n,i){var a=this._getPageInfo(n)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var i=this._controllerGroup;L(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=n[h]!=null,d=i.childOfName(c);d&&(d.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),d.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;a&&s&&a.setStyle("text",Ae(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=aE[s],l=sE[s],u=this._findTargetItemIndex(n),c=i.children(),h=c[u],f=c.length,d=f?1:0,p={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var v=_(h);p.contentPosition[s]=-v.s;for(var g=u+1,m=v,x=v,y=null;g<=f;++g)y=_(c[g]),(!y&&x.e>m.s+a||y&&!S(y,m.s))&&(x.i>m.i?m=x:m=y,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),x=y;for(var g=u-1,m=v,x=v,y=null;g>=-1;--g)y=_(c[g]),(!y||!S(x,y.s))&&m.i<x.i&&(x=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=y;return p;function _(w){if(w){var T=w.getBoundingRect(),A=T[l]+w[l];return{s:A,e:A+T[o],i:w.__legendDataIndex}}}function S(w,T){return w.e>=T&&w.s<=T+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(n=o)}),n??a},e.type="legend.scroll",e}(RU);function Jge(r){r.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(n)})})}function Qge(r){ht(FU),r.registerComponentModel(qge),r.registerComponentView(Zge),Jge(r)}function eme(r){ht(FU),ht(Qge)}var tme=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Jh(x1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(x1),GR=At();function rme(r,e,t){GR(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function nme(r,e){for(var t=GR(r).coordSysRecordMap,n=t.keys(),i=0;i<n.length;i++){var a=n[i],s=t.get(a),o=s.dataZoomInfoMap;if(o){var l=e.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||NU(t,s))}}}function NU(r,e){if(e){r.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function ime(r,e){var t={model:e,containsPoint:Qe(sme,e),dispatchAction:Qe(ame,r),dataZoomInfoMap:null,controller:null},n=t.controller=new zb(r.getZr());return L(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var s=[];t.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],u=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&t.dispatchAction(s)})}),t}function ame(r,e){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function sme(r,e,t,n){return r.coordinateSystem.containPoint([t,n])}function ome(r){var e,t="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return r.each(function(a){var s=a.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;n[t+o]>n[t+e]&&(e=o),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function lme(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(e,t){var n=GR(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=Le());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=xU(a);L(s.infoList,function(o){var l=o.model.uid,u=i.get(l)||i.set(l,ime(t,o.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Le());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){NU(i,a);return}var c=ome(l);s.enable(c.controlType,c.opt),s.setPointerChecker(a.containsPoint),Bg(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var ume=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,n,i){if(r.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),rme(i,t,{pan:Ee(oE.pan,this),zoom:Ee(oE.zoom,this),scrollMove:Ee(oE.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){nme(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(PR),oE={zoom:function(r,e,t,n){var i=this.range,a=i.slice(),s=r.axisModels[0];if(s){var o=lE[e](null,[n.originX,n.originY],s,t,r),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(zp(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:R6(function(r,e,t,n,i,a){var s=lE[n]([a.oldX,a.oldY],[a.newX,a.newY],e,i,t);return s.signal*(r[1]-r[0])*s.pixel/s.pixelLength}),scrollMove:R6(function(r,e,t,n,i,a){var s=lE[n]([0,0],[a.scrollDelta,a.scrollDelta],e,i,t);return s.signal*(r[1]-r[0])*a.scrollDelta})};function R6(r){return function(e,t,n,i){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var l=r(s,o,e,t,n,i);if(zp(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var lE={grid:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(s.pixel=e[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(r,e,t,n,i){var a=t.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return r=r?o.pointToCoord(r):[0,0],e=o.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-r[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(r,e,t,n,i){var a=t.axis,s=i.model.coordinateSystem.getRect(),o={};return r=r||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function BU(r){RR(r),r.registerComponentModel(tme),r.registerComponentView(ume),lme(r)}var cme=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Jh(x1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(x1),Cm=Tt,O6=7,hme=1,uE=30,fme=7,km="horizontal",F6="vertical",dme=5,pme=["line","bar","candlestick","scatter"],vme={easing:"cubicOut",duration:100,delay:0},gme=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,n){this.api=n,this._onBrush=Ee(this._onBrush,this),this._onBrushEnd=Ee(this._onBrushEnd,this)},e.prototype.render=function(t,n,i,a){if(r.prototype.render.apply(this,arguments),Bg(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){s1(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Ke;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,i=t.get("brushSelect"),a=i?fme:0,s=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},l=this._orient===km?{right:o.width-s.x-s.width,top:o.height-uE-O6-a,width:s.width,height:uE}:{right:O6,top:s.y,width:uE,height:s.height},u=Og(t.option);L(["right","top","width","height"],function(h){u[h]==="ph"&&(u[h]=l[h])});var c=vn(u,o);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===F6&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===km&&!s?{scaleY:l?1:-1,scaleX:1}:i===km&&s?{scaleY:l?1:-1,scaleX:-1}:i===F6&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([o]);t.x=n.x-u.x,t.y=n.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=t.get("brushSelect");i.add(new Cm({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new Cm({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Ee(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var n=this._size,i=this._shadowSize||[],a=t.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var h=s.getDataExtent(l),f=(h[1]-h[0])*.3;h=[h[0]-f,h[1]+f];var d=[0,n[1]],p=[0,n[0]],v=[[n[0],0],[0,0]],g=[],m=p[1]/(s.count()-1),x=0,y=Math.round(s.count()/n[0]),_;s.each([l],function(C,k){if(y>0&&k%y){x+=m;return}var E=C==null||isNaN(C)||C==="",D=E?0:zt(C,h,d,!0);E&&!_&&k?(v.push([v[v.length-1][0],0]),g.push([g[g.length-1][0],0])):!E&&_&&(v.push([x,0]),g.push([x,0])),v.push([x,D]),g.push([x,D]),x+=m,_=E}),u=this._shadowPolygonPts=v,c=this._shadowPolylinePts=g}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var S=this.dataZoomModel;function w(C){var k=S.getModel(C?"selectedDataBackground":"dataBackground"),E=new Ke,D=new ra({shape:{points:u},segmentIgnoreThreshold:1,style:k.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),I=new aa({shape:{points:c},segmentIgnoreThreshold:1,style:k.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return E.add(D),E.add(I),E}for(var T=0;T<3;T++){var A=w(T===1);this._displayables.sliderGroup.add(A),this._displayables.dataShadowSegs.push(A)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(s,o){var l=t.getAxisProxy(s,o).getTargetSeriesModels();L(l,function(u){if(!i&&!(n!==!0&&lt(pme,u.get("type"))<0)){var c=a.getComponent(Th(s),o).axis,h=mme(s),f,d=u.coordinateSystem;h!=null&&d.getOtherAxis&&(f=d.getOtherAxis(c).inverse),h=u.getData().mapDimension(h),i={thisAxis:c,series:u,thisDim:s,otherDim:h,otherAxisInverse:f}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,h=l.get("brushSelect"),f=n.filler=new Cm({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(f),s.add(new Cm({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:hme,fill:"rgba(0,0,0,0)"}})),L([0,1],function(y){var _=l.get("handleIcon");!aT[_]&&_.indexOf("path://")<0&&_.indexOf("image://")<0&&(_="path://"+_);var S=Qr(_,-1,0,2,2,null,!0);S.attr({cursor:N6(this._orient),draggable:!0,drift:Ee(this._onDragMove,this,y),ondragend:Ee(this._onDragEnd,this),onmouseover:Ee(this._showDataInfo,this,!0),onmouseout:Ee(this._showDataInfo,this,!1),z2:5});var w=S.getBoundingRect(),T=l.get("handleSize");this._handleHeight=_e(T,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,S.setStyle(l.getModel("handleStyle").getItemStyle()),S.style.strokeNoScale=!0,S.rectHover=!0,S.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),hp(S);var A=l.get("handleColor");A!=null&&(S.style.fill=A),s.add(i[y]=S);var C=l.getModel("textStyle"),k=l.get("handleLabel")||{},E=k.show||!1;t.add(a[y]=new Et({silent:!0,invisible:!E,style:or(C,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:C.getTextColor(),font:C.getFont()}),z2:10}))},this);var d=f;if(h){var p=_e(l.get("moveHandleSize"),o[1]),v=n.moveHandle=new Tt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:p}}),g=p*.8,m=n.moveHandleIcon=Qr(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);m.silent=!0,m.y=o[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var x=Math.min(o[1]/2,Math.max(p,10));d=n.moveZone=new Tt({invisible:!0,shape:{y:o[1]-x,height:p+x}}),d.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),s.add(v),s.add(m),s.add(d)}d.attr({draggable:!0,cursor:N6(this._orient),drift:Ee(this._onDragMove,this,"all"),ondragstart:Ee(this._showDataInfo,this,!0),ondragend:Ee(this._onDragEnd,this),onmouseover:Ee(this._showDataInfo,this,!0),onmouseout:Ee(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[zt(t[0],[0,100],n,!0),zt(t[1],[0,100],n,!0)]},e.prototype._updateInterval=function(t,n){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];zp(n,a,s,i.get("zoomLock")?"all":t,o.minSpan!=null?zt(o.minSpan,l,s,!0):null,o.maxSpan!=null?zt(o.maxSpan,l,s,!0):null);var u=this._range,c=this._range=Es([zt(a[0],s,l,!0),zt(a[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var n=this._displayables,i=this._handleEnds,a=Es(i.slice()),s=this._size;L([0,1],function(d){var p=n.handles[d],v=this._handleHeight;p.attr({scaleX:v/2,scaleY:v/2,x:i[d]+(d?-1:1),y:s[1]/2-v/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],s[0]],c=0;c<l.length;c++){var h=l[c],f=h.getClipPath();f||(f=new Tt,h.setClipPath(f)),f.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,h=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var f=Es(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(p){var v=fp(i.handles[p].parent,this.group),g=WA(p===0?"right":"left",v),m=this._handleWidth/2+dme,x=mo([f[p]+(p===0?-m:m),this._size[1]/2],v);a[p].setStyle({x:x[0],y:x[1],verticalAlign:s===km?"middle":g,align:s===km?g:"center",text:o[p]})}},e.prototype._formatLabel=function(t,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=t==null||isNaN(t)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return Ve(a)?a(t,o):Ae(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(t){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=t||this._dragging?s:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,n,i,a){this._dragging=!0,Xu(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=mo([n,i],s,!0),l=this._updateInterval(t,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var n=t.offsetX,i=t.offsetY;this._brushStart=new nt(n,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=Es([zt(i.x,s,o,!0),zt(i.x+i.width,s,o,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Xu(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,n){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new Cm({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,n),c=l.transformCoordToLocal(o.x,o.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:h[1]})},e.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?vme:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var t,n=xU(this.dataZoomModel).infoList;if(!t&&n.length){var i=n[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var a=this.api.getWidth(),s=this.api.getHeight();t={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return t},e.type="dataZoom.slider",e}(PR);function mme(r){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[r]}function N6(r){return r==="vertical"?"ns-resize":"ew-resize"}function VU(r){r.registerComponentModel(cme),r.registerComponentView(gme),RR(r)}function yme(r){ht(BU),ht(VU)}var zU={get:function(r,e,t){var n=Ye((xme[r]||{})[e]);return t&&ve(n)?n[n.length-1]:n}},xme={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},B6=En.mapVisual,bme=En.eachVisual,_me=ve,V6=L,wme=Es,Sme=zt,DT=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,n){var i=this.option;!n&&DU(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var n=this.stateList;t=Ee(t,this),this.controllerVisuals=AM(this.option.controller,n,t),this.targetVisuals=AM(this.option.target,n,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,n=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,a){n.push(a)}):n=qt(t),n},e.prototype.eachTargetSeries=function(t,n){L(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(n,a)},this)},e.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(i){i===t&&(n=!0)}),n},e.prototype.formatValueText=function(t,n,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;i=i||["<",">"],ve(t)&&(t=t.slice(),u=!0);var c=n?t:u?[h(t[0]),h(t[1])]:h(t);if(Ae(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Ve(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===o[0]?i[0]+" "+c[1]:t[1]===o[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function h(f){return f===o[0]?"min":f===o[1]?"max":(+f).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,n=wme([t.min,t.max]);this._dataExtent=n},e.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(n!=null)return t.getDimensionIndex(n);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=t.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});tt(a,i),tt(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),c.call(this,s);function l(h){_me(n.color)&&!h.inRange&&(h.inRange={color:n.color.slice().reverse()}),h.inRange=h.inRange||{color:t.get("gradientColor")}}function u(h,f,d){var p=h[f],v=h[d];p&&!v&&(v=h[d]={},V6(p,function(g,m){if(En.isValidType(m)){var x=zU.get(m,"inactive",o);x!=null&&(v[m]=x,m==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function c(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,d=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),v=this.getItemSymbol(),g=v||"roundRect";V6(this.stateList,function(m){var x=this.itemSize,y=h[m];y||(y=h[m]={color:o?p:[p]}),y.symbol==null&&(y.symbol=f&&Ye(f)||(o?g:[g])),y.symbolSize==null&&(y.symbolSize=d&&Ye(d)||(o?x[0]:[x[0],x[0]])),y.symbol=B6(y.symbol,function(w){return w==="none"?g:w});var _=y.symbolSize;if(_!=null){var S=-1/0;bme(_,function(w){w>S&&(S=w)}),y.symbolSize=B6(_,function(w){return Sme(w,[0,S],[0,x[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(vt),z6=[20,140],Tme=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=z6[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=z6[1])},e.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):ve(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},e.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),L(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),n=Es((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},e.prototype.getValueState=function(t){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=t)&&(n[1]>=i[1]||t<=n[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){t[0]<=o&&o<=t[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},e.prototype.getVisualMeta=function(t){var n=H6(this,"outOfRange",this.getExtent()),i=H6(this,"inRange",this.option.range.slice()),a=[];function s(d,p){a.push({value:d,color:t(d,p)})}for(var o=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&s(n[l],"outOfRange");for(var h=1;o<u;o++,h=0)h&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var h=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(h&&(a.length&&s(a[a.length-1].value,"outOfRange"),h=0),s(n[l],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Jh(DT.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(DT);function H6(r,e,t){if(t[0]===t[1])return t.slice();for(var n=200,i=(t[1]-t[0])/n,a=t[0],s=[],o=0;o<=n&&a<t[1];o++)s.push(a),a+=i;return s.push(t[1]),s}var HU=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n},e.prototype.render=function(t,n,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,n,i,a)},e.prototype.renderBackground=function(t){var n=this.visualMapModel,i=Rg(n.get("padding")||0),a=t.getBoundingRect();t.add(new Tt({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,n,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function u(d){return o[d]}function c(d,p){o[d]=p}var h=s.controllerVisuals[a||s.getValueState(t)],f=En.prepareVisualTypes(h);return L(f,function(d){var p=h[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",p=h.__alphaForOpacity),En.dependsOn(d,n)&&p&&p.applyVisual(t,u,c)}),o[n]},e.prototype.positionGroup=function(t){var n=this.visualMapModel,i=this.api;JA(t,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,n,i,a){},e.type="visualMap",e}(br),G6=[["left","right","width"],["top","bottom","height"]];function GU(r,e,t){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},s=n.orient==="horizontal"?1:0,o=G6[s],l=[0,null,10],u={},c=0;c<3;c++)u[G6[1-s][c]]=l[c],u[o[c]]=c===2?t[0]:n[o[c]];var h=[["x","width",3],["y","height",0]][s],f=vn(u,a,n.padding);return o[(f.margin[h[2]]||0)+f[h[0]]+f[h[1]]*.5<a[h[1]]*.5?0:1]}function Qw(r,e){return L(r||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),r}var No=zt,Ame=L,$6=Math.min,cE=Math.max,Cme=12,kme=6,Eme=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,n){r.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=Ee(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ee(this._hideIndicator,this)},e.prototype.doRender=function(t,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(n);var i=t.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},e.prototype._renderEndsText=function(t,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],u),h=this._applyTransform(i===0?"bottom":"top",u),f=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new Et({style:or(d,{x:c[0],y:c[1],verticalAlign:f==="horizontal"?"middle":h,align:f==="horizontal"?h:"center",text:a})}))}},e.prototype._renderBar=function(t){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,s=this._orient,o=this._useHandle,l=GU(n,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new Ke;u.add(c),c.add(i.outOfRange=U6()),c.add(i.inRange=U6(null,o?Y6(this._orient):null,Ee(this._dragHandle,this,"all",!1),Ee(this._dragHandle,this,"all",!0))),c.setClipPath(new Tt({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=n.textStyleModel.getTextRect("å½"),f=cE(h.width,h.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,a,f,s),this._createHandle(n,u,1,a,f,s)),this._createIndicator(n,u,a,f,s),t.add(u)},e.prototype._createHandle=function(t,n,i,a,s,o){var l=Ee(this._dragHandle,this,i,!1),u=Ee(this._dragHandle,this,i,!0),c=xo(t.get("handleSize"),a[0]),h=Qr(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=Y6(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){Xu(m.event)}}),h.x=a[0]/2,h.useStyle(t.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Kf(h,!0),n.add(h);var d=this.visualMapModel.textStyleModel,p=new Et({cursor:f,draggable:!0,drift:l,onmousemove:function(m){Xu(m.event)},ondragend:u,style:or(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var v=[c,0],g=this._shapes;g.handleThumbs[i]=h,g.handleLabelPoints[i]=v,g.handleLabels[i]=p},e.prototype._createIndicator=function(t,n,i,a,s){var o=xo(t.get("indicatorSize"),i[0]),l=Qr(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Yn){var c=l.style;l.useStyle(he({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var h=this.visualMapModel.textStyleModel,f=new Et({silent:!0,invisible:!0,style:or(h,{x:0,y:0,text:""})});this.group.add(f);var d=[(s==="horizontal"?a/2:kme)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=f,p.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():W6(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[No(n[0],i,a,!0),No(n[1],i,a,!0)]},e.prototype._updateInterval=function(t,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];zp(n,a,s,t,0);var o=i.getExtent();this._dataInterval=[No(a[0],s,o,!0),No(a[1],s,o,!0)]},e.prototype._updateView=function(t){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,s=[0,n.itemSize[1]],o=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),u=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(t,n,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],u=this._createBarPoints(i,l);return{barColor:new kb(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,n){var i=100,a=[],s=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=t[0]+s*o;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return a.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),a},e.prototype._createBarPoints=function(t,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-n[1],t[1]]]},e.prototype._createBarGroup=function(t){var n=this._orient,i=this.visualMapModel.get("inverse");return new Ke(n==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);Ame([0,1],function(h){var f=s[h];f.setStyle("fill",n.handlesColor[h]),f.y=t[h];var d=No(t[h],[0,l[1]],u,!0),p=this.getControllerVisual(d,"symbolSize");f.scaleX=f.scaleY=p/l[0],f.x=l[0]-p/2;var v=mo(i.handleLabelPoints[h],fp(f,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-p)/2:(l[0]-p)/-2;v[1]+=g}o[h].setStyle({x:v[0],y:v[1],text:a.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,n,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,h=c.indicator;if(h){h.attr("invisible",!1);var f={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",f),p=this.getControllerVisual(t,"symbolSize"),v=No(t,o,u,!0),g=l[0]-p/2,m={x:h.x,y:h.y};h.y=v,h.x=g;var x=mo(c.indicatorLabelPoint,fp(h,this.group)),y=c.indicatorLabel;y.attr("invisible",!1);var _=this._applyTransform("left",c.mainGroup),S=this._orient,w=S==="horizontal";y.setStyle({text:(i||"")+s.formatValueText(n),verticalAlign:w?_:"middle",align:w?"center":_});var T={x:g,y:v,style:{fill:d}},A={style:{x:x[0],y:x[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var C={duration:100,easing:"cubicInOut",additive:!0};h.x=m.x,h.y=m.y,h.animateTo(T,C),y.animateTo(A,C)}else h.attr(T),y.attr(A);this._firstShowIndicator=!1;var k=this._shapes.handleLabels;if(k)for(var E=0;E<k.length;E++)this.api.enterBlur(k[E])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(n){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);a[1]=$6(cE(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();t=$6(cE(s[0],t),s[1]);var l=Dme(i,o,s),u=[t-l,t+l],c=No(t,s,o,!0),h=[No(u[0],s,o,!0),No(u[1],s,o,!0)];u[0]<s[0]&&(h[0]=-1/0),u[1]>s[1]&&(h[1]=1/0),n&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",l):h[1]===1/0?this._showIndicator(c,h[0],"> ",l):this._showIndicator(c,c,"â ",l));var f=this._hoverLinkDataIndices,d=[];(n||W6(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var p=OQ(f,d);this._dispatchHighDown("downplay",Qw(p[0],i)),this._dispatchHighDown("highlight",Qw(p[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(qf(t.target,function(l){var u=je(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(n.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Qw(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,n,i,a){var s=fp(n,a?null:this.group);return ve(t)?mo(t,s,i):WA(t,s,i)},e.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(HU);function U6(r,e,t,n){return new ra({shape:{points:r},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){Xu(i.event)},ondragend:n})}function Dme(r,e,t){var n=Cme/2,i=r.get("hoverLinkDataSize");return i&&(n=No(i,e,t,!0)/2),n}function W6(r){var e=r.get("hoverLinkOnHandle");return!!(e??r.get("realtime"))}function Y6(r){return r==="vertical"?"ns-resize":"ew-resize"}var Mme={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Ime=function(r,e){e.eachComponent({mainType:"visualMap",query:r},function(t){t.setSelected(r.selected)})},Lme=[{createOnAllSeries:!0,reset:function(r,e){var t=[];return e.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||t.push(ege(n.stateList,n.targetVisuals,Ee(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),t}},{createOnAllSeries:!0,reset:function(r,e){var t=r.getData(),n=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(Ee(Pme,null,r,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(t);s>=0&&(a.dimension=s,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function Pme(r,e,t,n){for(var i=e.targetVisuals[n],a=En.prepareVisualTypes(i),s={color:Ib(r.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,h,f)}return s.color;function h(d){return s[d]}function f(d,p){s[d]=p}}var X6=L;function Rme(r){var e=r&&r.visualMap;ve(e)||(e=e?[e]:[]),X6(e,function(t){if(t){gv(t,"splitList")&&!gv(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&ve(n)&&X6(n,function(i){Ue(i)&&(gv(i,"start")&&!gv(i,"min")&&(i.min=i.start),gv(i,"end")&&!gv(i,"max")&&(i.max=i.end))})}})}function gv(r,e){return r&&r.hasOwnProperty&&r.hasOwnProperty(e)}var K6=!1;function $U(r){K6||(K6=!0,r.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),r.registerAction(Mme,Ime),L(Lme,function(e){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,e)}),r.registerPreprocessor(Rme))}function UU(r){r.registerComponentModel(Tme),r.registerComponentView(Eme),$U(r)}var Ome=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Fme[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=Ye(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=ge(this._pieceList,function(l){return l=Ye(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,n={},i=En.listVisualTypes(),a=this.isCategory();L(t.pieces,function(o){L(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),L(n,function(o,l){var u=!1;L(this.stateList,function(c){u=u||s(t,c,l)||s(t.target,c,l)},this),!u&&L(this.stateList,function(c){(t[c]||(t[c]={}))[l]=zU.get(l,c==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}r.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,n){var i=this.option,a=this._pieceList,s=(n?i:t).selected||{};if(i.selected=s,L(a,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),i.selectedMode==="single"){var o=!1;L(a,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(o?s[c]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Ye(t)},e.prototype.getValueState=function(t){var n=En.findPieceIndex(t,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var c=En.findPieceIndex(l,i);c===t&&s.push(u)},this),n.push({seriesId:a.id,dataIndex:s})},this),n},e.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(t.value!=null)n=t.value;else{var i=t.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var n=[],i=["",""],a=this;function s(c,h){var f=a.getRepresentValue({interval:c});h||(h=a.getValueState(f));var d=t(f,h);c[0]===-1/0?i[0]=d:c[1]===1/0?i[1]=d:n.push({value:c[0],color:d},{value:c[1],color:d})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return L(o,function(c){var h=c.interval;h&&(h[0]>u&&s([u,h[0]],"outOfRange"),s(h.slice()),u=h[1])},this),{stops:n,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=Jh(DT.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(DT),Fme={splitNumber:function(r){var e=this.option,t=Math.min(e.precision,20),n=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<i;o+=a,s++){var l=s===i-1?n[1]:o+a;r.push({interval:[o,l],close:[1,1]})}e.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),GF(r),L(r,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(r){var e=this.option;L(e.categories,function(t){r.push({text:this.formatValueText(t,!0),value:t})},this),j6(e,r)},pieces:function(r){var e=this.option;L(e.pieces,function(t,n){Ue(t)||(t={value:t});var i={text:"",index:n};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&s[h]==null;d++)s[h]=t[f[d]],o[h]=l[d],c[h]=d===2;s[h]==null&&(s[h]=u[h])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=En.retrieveVisuals(t),r.push(i)},this),j6(e,r),GF(r),L(r,function(t){var n=t.close,i=[["<","â¤"][n[1]],[">","â¥"][n[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function j6(r,e){var t=r.inverse;(r.orient==="vertical"?!t:t)&&e.reverse()}var Nme=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,s=a.getFont(),o=a.getTextColor(),l=this._getItemAlign(),u=n.itemSize,c=this._getViewData(),h=c.endsText,f=Un(n.get("showLabel",!0),!h),d=!n.get("selectedMode");h&&this._renderEndsText(t,h[0],u,f,l),L(c.viewPieceList,function(p){var v=p.piece,g=new Ke;g.onclick=Ee(this._onItemClick,this,v),this._enableHoverLink(g,p.indexInModelPieceList);var m=n.getRepresentValue(v);if(this._createItemSymbol(g,m,[0,0,u[0],u[1]],d),f){var x=this.visualMapModel.getValueState(m);g.add(new Et({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:s,fill:o,opacity:x==="outOfRange"?.5:1},silent:d}))}t.add(g)},this),h&&this._renderEndsText(t,h[1],u,f,l),dp(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,n){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:Qw(o.findTargetDataIndices(n),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if(n.orient==="vertical")return GU(t,this.api,t.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,n,i,a,s){if(n){var o=new Ke,l=this.visualMapModel.textStyleModel;o.add(new Et({style:or(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:n})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,n=ge(t.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),s=t.get("inverse");return(a==="horizontal"?s:!s)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},e.prototype._createItemSymbol=function(t,n,i,a){var s=Qr(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));s.silent=a,t.add(s)},e.prototype._onItemClick=function(t){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var s=Ye(i.selected),o=n.getSelectedMapKey(t);a==="single"||a===!0?(s[o]=!0,L(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e}(HU);function WU(r){r.registerComponentModel(Ome),r.registerComponentView(Nme),$U(r)}function Bme(r){ht(UU),ht(WU)}var Vme={label:{enabled:!0},decal:{show:!1}},q6=At(),zme={};function Hme(r,e){var t=r.getModel("aria");if(!t.get("enabled"))return;var n=Ye(Vme);tt(n.label,r.getLocaleModel().get("aria"),!1),tt(t.option,n,!1),i(),a();function i(){var u=t.getModel("decal"),c=u.get("show");if(c){var h=Le();r.eachSeries(function(f){if(!f.isColorBySeries()){var d=h.get(f.type);d||(d={},h.set(f.type,d)),q6(f).scope=d}}),r.eachRawSeries(function(f){if(r.isSeriesFiltered(f))return;if(Ve(f.enableAriaDecal)){f.enableAriaDecal();return}var d=f.getData();if(f.isColorBySeries()){var x=ID(f.ecModel,f.name,zme,r.getSeriesCount()),y=d.getVisual("decal");d.setVisual("decal",_(y,x))}else{var p=f.getRawData(),v={},g=q6(f).scope;d.each(function(S){var w=d.getRawIndex(S);v[w]=S});var m=p.count();p.each(function(S){var w=v[S],T=p.getName(S)||S+"",A=ID(f.ecModel,T,g,m),C=d.getItemVisual(w,"decal");d.setItemVisual(w,"decal",_(C,A))})}function _(S,w){var T=S?he(he({},w),S):w;return T.dirty=!0,T}})}}function a(){var u=e.getZr().dom;if(u){var c=r.getLocaleModel().get("aria"),h=t.getModel("label");if(h.option=ze(h.option,c),!!h.get("enabled")){if(u.setAttribute("role","img"),h.get("description")){u.setAttribute("aria-label",h.get("description"));return}var f=r.getSeriesCount(),d=h.get(["data","maxCount"])||10,p=h.get(["series","maxCount"])||10,v=Math.min(f,p),g;if(!(f<1)){var m=o();if(m){var x=h.get(["general","withTitle"]);g=s(x,{title:m})}else g=h.get(["general","withoutTitle"]);var y=[],_=f>1?h.get(["series","multiple","prefix"]):h.get(["series","single","prefix"]);g+=s(_,{seriesCount:f}),r.eachSeries(function(A,C){if(C<v){var k=void 0,E=A.get("name"),D=E?"withName":"withoutName";k=f>1?h.get(["series","multiple",D]):h.get(["series","single",D]),k=s(k,{seriesId:A.seriesIndex,seriesName:A.get("name"),seriesType:l(A.subType)});var I=A.getData();if(I.count()>d){var P=h.get(["data","partialData"]);k+=s(P,{displayCnt:d})}else k+=h.get(["data","allData"]);for(var F=h.get(["data","separator","middle"]),V=h.get(["data","separator","end"]),z=h.get(["data","excludeDimensionId"]),G=[],O=0;O<I.count();O++)if(O<d){var ee=I.getName(O),Q=z?Ot(I.getValues(O),function(Y,W){return lt(z,W)===-1}):I.getValues(O),N=h.get(["data",ee?"withName":"withoutName"]);G.push(s(N,{name:ee,value:Q.join(F)}))}k+=G.join(F)+V,y.push(k)}});var S=h.getModel(["series","multiple","separator"]),w=S.get("middle"),T=S.get("end");g+=y.join(w)+T,u.setAttribute("aria-label",g)}}}}function s(u,c){if(!Ae(u))return u;var h=u;return L(c,function(f,d){h=h.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),f)}),h}function o(){var u=r.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=r.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function Gme(r){if(!(!r||!r.aria)){var e=r.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},L(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function $me(r){r.registerPreprocessor(Gme),r.registerVisual(r.PRIORITY.VISUAL.ARIA,Hme)}var Z6={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Ume=function(){function r(e){var t=this._condVal=Ae(e)?new RegExp(e):JZ(e)?e:null;if(t==null){var n="";Rt(n)}}return r.prototype.evaluate=function(e){var t=typeof e;return Ae(t)?this._condVal.test(e):Mt(t)?this._condVal.test(e+""):!1},r}(),Wme=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),Yme=function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},r}(),Xme=function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},r}(),Kme=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),jme=function(){function r(){}return r.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,n=t(this.valueGetterParam),i=e?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:n))return!1;return!0},r}();function $R(r,e){if(r===!0||r===!1){var t=new Wme;return t.value=r,t}var n="";return YU(r)||Rt(n),r.and?J6("and",r,e):r.or?J6("or",r,e):r.not?qme(r,e):Zme(r,e)}function J6(r,e,t){var n=e[r],i="";ve(n)||Rt(i),n.length||Rt(i);var a=r==="and"?new Yme:new Xme;return a.children=ge(n,function(s){return $R(s,t)}),a.children.length||Rt(i),a}function qme(r,e){var t=r.not,n="";YU(t)||Rt(n);var i=new Kme;return i.child=$R(t,e),i.child||Rt(n),i}function Zme(r,e){for(var t="",n=e.prepareGetValue(r),i=[],a=gt(r),s=r.parser,o=s?k7(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=Me(Z6,u)?Z6[u]:u,h=r[u],f=o?o(h):h,d=Bre(c,f)||c==="reg"&&new Ume(f);d||Rt(t),i.push(d)}}i.length||Rt(t);var p=new jme;return p.valueGetterParam=n,p.valueParser=o,p.getValue=e.getValue,p.subCondList=i,p}function YU(r){return Ue(r)&&!ki(r)}var Jme=function(){function r(e,t){this._cond=$R(e,t)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function Qme(r,e){return new Jme(r,e)}var eye={type:"echarts:filter",transform:function(r){for(var e=r.upstream,t,n=Qme(r.config,{valueGetterAttrMap:Le({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;Me(o,"dimension")||Rt(l);var c=e.getDimensionInfo(u);return c||Rt(l),{dimIdx:c.index}},getValue:function(o){return e.retrieveValueFromItem(t,o.dimIdx)}}),i=[],a=0,s=e.count();a<s;a++)t=e.getRawDataItem(a),n.evaluate()&&i.push(t);return{data:i}}},tye={type:"echarts:sort",transform:function(r){var e=r.upstream,t=r.config,n="",i=qt(t);i.length||Rt(n);var a=[];L(i,function(c){var h=c.dimension,f=c.order,d=c.parser,p=c.incomparable;if(h==null&&Rt(n),f!=="asc"&&f!=="desc"&&Rt(n),p&&p!=="min"&&p!=="max"){var v="";Rt(v)}if(f!=="asc"&&f!=="desc"){var g="";Rt(g)}var m=e.getDimensionInfo(h);m||Rt(n);var x=d?k7(d):null;d&&!x&&Rt(n),a.push({dimIdx:m.index,parser:x,comparator:new D7(f,p)})});var s=e.sourceFormat;s!==Ei&&s!==Fs&&Rt(n);for(var o=[],l=0,u=e.count();l<u;l++)o.push(e.getRawDataItem(l));return o.sort(function(c,h){for(var f=0;f<a.length;f++){var d=a[f],p=e.retrieveValueFromItem(c,d.dimIdx),v=e.retrieveValueFromItem(h,d.dimIdx);d.parser&&(p=d.parser(p),v=d.parser(v));var g=d.comparator.evaluate(p,v);if(g!==0)return g}return 0}),{data:o}}};function rye(r){r.registerTransform(eye),r.registerTransform(tye)}var nye=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,n,i){r.prototype.init.call(this,t,n,i),this._sourceManager=new P7(this),e3(this)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),e3(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:ml},e}(vt),iye=function(r){te(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(br);function aye(r){r.registerComponentModel(nye),r.registerComponentView(iye)}var Lo=Sl.CMD;function Vv(r,e){return Math.abs(r-e)<1e-5}function LM(r){var e=r.data,t=r.len(),n=[],i,a=0,s=0,o=0,l=0;function u(I,P){i&&i.length>2&&n.push(i),i=[I,P]}function c(I,P,F,V){Vv(I,F)&&Vv(P,V)||i.push(I,P,F,V,F,V)}function h(I,P,F,V,z,G){var O=Math.abs(P-I),ee=Math.tan(O/4)*4/3,Q=P<I?-1:1,N=Math.cos(I),Y=Math.sin(I),W=Math.cos(P),K=Math.sin(P),ne=N*z+F,fe=Y*G+V,ae=W*z+F,re=K*G+V,ie=z*ee*Q,se=G*ee*Q;i.push(ne-ie*Y,fe+se*N,ae+ie*K,re-se*W,ae,re)}for(var f,d,p,v,g=0;g<t;){var m=e[g++],x=g===1;switch(x&&(a=e[g],s=e[g+1],o=a,l=s,(m===Lo.L||m===Lo.C||m===Lo.Q)&&(i=[o,l])),m){case Lo.M:a=o=e[g++],s=l=e[g++],u(o,l);break;case Lo.L:f=e[g++],d=e[g++],c(a,s,f,d),a=f,s=d;break;case Lo.C:i.push(e[g++],e[g++],e[g++],e[g++],a=e[g++],s=e[g++]);break;case Lo.Q:f=e[g++],d=e[g++],p=e[g++],v=e[g++],i.push(a+2/3*(f-a),s+2/3*(d-s),p+2/3*(f-p),v+2/3*(d-v),p,v),a=p,s=v;break;case Lo.A:var y=e[g++],_=e[g++],S=e[g++],w=e[g++],T=e[g++],A=e[g++]+T;g+=1;var C=!e[g++];f=Math.cos(T)*S+y,d=Math.sin(T)*w+_,x?(o=f,l=d,u(o,l)):c(a,s,f,d),a=Math.cos(A)*S+y,s=Math.sin(A)*w+_;for(var k=(C?-1:1)*Math.PI/2,E=T;C?E>A:E<A;E+=k){var D=C?Math.max(E+k,A):Math.min(E+k,A);h(E,D,y,_,S,w)}break;case Lo.R:o=a=e[g++],l=s=e[g++],f=o+e[g++],d=l+e[g++],u(f,l),c(f,l,f,d),c(f,d,o,d),c(o,d,o,l),c(o,l,f,l);break;case Lo.Z:i&&c(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&n.push(i),n}function PM(r,e,t,n,i,a,s,o,l,u){if(Vv(r,t)&&Vv(e,n)&&Vv(i,s)&&Vv(a,o)){l.push(s,o);return}var c=2/u,h=c*c,f=s-r,d=o-e,p=Math.sqrt(f*f+d*d);f/=p,d/=p;var v=t-r,g=n-e,m=i-s,x=a-o,y=v*v+g*g,_=m*m+x*x;if(y<h&&_<h){l.push(s,o);return}var S=f*v+d*g,w=-f*m-d*x,T=y-S*S,A=_-w*w;if(T<h&&S>=0&&A<h&&w>=0){l.push(s,o);return}var C=[],k=[];Bh(r,t,i,s,.5,C),Bh(e,n,a,o,.5,k),PM(C[0],k[0],C[1],k[1],C[2],k[2],C[3],k[3],l,u),PM(C[4],k[4],C[5],k[5],C[6],k[6],C[7],k[7],l,u)}function sye(r,e){var t=LM(r),n=[];e=e||1;for(var i=0;i<t.length;i++){var a=t[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var c=a[u++],h=a[u++],f=a[u++],d=a[u++],p=a[u++],v=a[u++];PM(o,l,c,h,f,d,p,v,s,e),o=p,l=v}n.push(s)}return n}function XU(r,e,t){var n=r[e],i=r[1-e],a=Math.abs(n/i),s=Math.ceil(Math.sqrt(a*t)),o=Math.floor(t/s);o===0&&(o=1,s=t);for(var l=[],u=0;u<s;u++)l.push(o);var c=s*o,h=t-c;if(h>0)for(var u=0;u<h;u++)l[u%s]+=1;return l}function Q6(r,e,t){for(var n=r.r0,i=r.r,a=r.startAngle,s=r.endAngle,o=Math.abs(s-a),l=o*i,u=i-n,c=l>Math.abs(u),h=XU([l,u],c?0:1,e),f=(c?o:u)/h.length,d=0;d<h.length;d++)for(var p=(c?u:o)/h[d],v=0;v<h[d];v++){var g={};c?(g.startAngle=a+f*d,g.endAngle=a+f*(d+1),g.r0=n+p*v,g.r=n+p*(v+1)):(g.startAngle=a+p*v,g.endAngle=a+p*(v+1),g.r0=n+f*d,g.r=n+f*(d+1)),g.clockwise=r.clockwise,g.cx=r.cx,g.cy=r.cy,t.push(g)}}function oye(r,e,t){for(var n=r.width,i=r.height,a=n>i,s=XU([n,i],a?0:1,e),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",h=r[o]/s.length,f=0;f<s.length;f++)for(var d=r[l]/s[f],p=0;p<s[f];p++){var v={};v[u]=f*h,v[c]=p*d,v[o]=h,v[l]=d,v.x+=r.x,v.y+=r.y,t.push(v)}}function e8(r,e,t,n){return r*n-t*e}function lye(r,e,t,n,i,a,s,o){var l=t-r,u=n-e,c=s-i,h=o-a,f=e8(c,h,l,u);if(Math.abs(f)<1e-6)return null;var d=r-i,p=e-a,v=e8(d,p,c,h)/f;return v<0||v>1?null:new nt(v*l+r,v*u+e)}function uye(r,e,t){var n=new nt;nt.sub(n,t,e),n.normalize();var i=new nt;nt.sub(i,r,e);var a=i.dot(n);return a}function mv(r,e){var t=r[r.length-1];t&&t[0]===e[0]&&t[1]===e[1]||r.push(e)}function cye(r,e,t){for(var n=r.length,i=[],a=0;a<n;a++){var s=r[a],o=r[(a+1)%n],l=lye(s[0],s[1],o[0],o[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:uye(l,e,t),pt:l,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(g,m){return g.projPt-m.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var h=u;u=c,c=h}for(var f=[u.pt.x,u.pt.y],d=[c.pt.x,c.pt.y],p=[f],v=[d],a=u.idx+1;a<=c.idx;a++)mv(p,r[a].slice());mv(p,d),mv(p,f);for(var a=c.idx+1;a<=u.idx+n;a++)mv(v,r[a%n].slice());return mv(v,f),mv(v,d),[{points:p},{points:v}]}function t8(r){var e=r.points,t=[],n=[];VA(e,t,n);var i=new at(t[0],t[1],n[0]-t[0],n[1]-t[1]),a=i.width,s=i.height,o=i.x,l=i.y,u=new nt,c=new nt;return a>s?(u.x=c.x=o+a/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=o,c.x=o+a),cye(e,u,c)}function MT(r,e,t,n){if(t===1)n.push(e);else{var i=Math.floor(t/2),a=r(e);MT(r,a[0],i,n),MT(r,a[1],t-i,n)}return n}function hye(r,e){for(var t=[],n=0;n<e;n++)t.push(oP(r));return t}function fye(r,e){e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel}function dye(r){for(var e=[],t=0;t<r.length;)e.push([r[t++],r[t++]]);return e}function pye(r,e){var t=[],n=r.shape,i;switch(r.type){case"rect":oye(n,e,t),i=Tt;break;case"sector":Q6(n,e,t),i=ta;break;case"circle":Q6({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,t),i=ta;break;default:var a=r.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=ge(sye(r.getUpdatedPathProxy(),s),function(m){return dye(m)}),l=o.length;if(l===0)MT(t8,{points:o[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:o[u]});else{var c=0,h=ge(o,function(m){var x=[],y=[];VA(m,x,y);var _=(y[1]-x[1])*(y[0]-x[0]);return c+=_,{poly:m,area:_}});h.sort(function(m,x){return x.area-m.area});for(var f=e,u=0;u<l;u++){var d=h[u];if(f<=0)break;var p=u===l-1?f:Math.ceil(d.area/c*e);p<0||(MT(t8,{points:d.poly},p,t),f-=p)}}i=ra;break}if(!i)return hye(r,e);for(var v=[],u=0;u<t.length;u++){var g=new i;g.setShape(t[u]),fye(r,g),v.push(g)}return v}function vye(r,e){var t=r.length,n=e.length;if(t===n)return[r,e];for(var i=[],a=[],s=t<n?r:e,o=Math.min(t,n),l=Math.abs(n-t)/6,u=(o-2)/6,c=Math.ceil(l/u)+1,h=[s[0],s[1]],f=l,d=2;d<o;){var p=s[d-2],v=s[d-1],g=s[d++],m=s[d++],x=s[d++],y=s[d++],_=s[d++],S=s[d++];if(f<=0){h.push(g,m,x,y,_,S);continue}for(var w=Math.min(f,c-1)+1,T=1;T<=w;T++){var A=T/w;Bh(p,g,x,_,A,i),Bh(v,m,y,S,A,a),p=i[3],v=a[3],h.push(i[1],a[1],i[2],a[2],p,v),g=i[5],m=a[5],x=i[6],y=a[6]}f-=w-1}return s===r?[h,e]:[r,h]}function r8(r,e){for(var t=r.length,n=r[t-2],i=r[t-1],a=[],s=0;s<e.length;)a[s++]=n,a[s++]=i;return a}function gye(r,e){for(var t,n,i,a=[],s=[],o=0;o<Math.max(r.length,e.length);o++){var l=r[o],u=e[o],c=void 0,h=void 0;l?u?(t=vye(l,u),c=t[0],h=t[1],n=c,i=h):(h=r8(i||l,l),c=l):(c=r8(n||u,u),h=u),a.push(c),s.push(h)}return[a,s]}function n8(r){for(var e=0,t=0,n=0,i=r.length,a=0,s=i-2;a<i;s=a,a+=2){var o=r[s],l=r[s+1],u=r[a],c=r[a+1],h=o*c-u*l;e+=h,t+=(o+u)*h,n+=(l+c)*h}return e===0?[r[0]||0,r[1]||0]:[t/e/3,n/e/3,e]}function mye(r,e,t,n){for(var i=(r.length-2)/6,a=1/0,s=0,o=r.length,l=o-2,u=0;u<i;u++){for(var c=u*6,h=0,f=0;f<o;f+=2){var d=f===0?c:(c+f-2)%l+2,p=r[d]-t[0],v=r[d+1]-t[1],g=e[f]-n[0],m=e[f+1]-n[1],x=g-p,y=m-v;h+=x*x+y*y}h<a&&(a=h,s=u)}return s}function yye(r){for(var e=[],t=r.length,n=0;n<t;n+=2)e[n]=r[t-n-2],e[n+1]=r[t-n-1];return e}function xye(r,e,t,n){for(var i=[],a,s=0;s<r.length;s++){var o=r[s],l=e[s],u=n8(o),c=n8(l);a==null&&(a=u[2]<0!=c[2]<0);var h=[],f=[],d=0,p=1/0,v=[],g=o.length;a&&(o=yye(o));for(var m=mye(o,l,u,c)*6,x=g-2,y=0;y<x;y+=2){var _=(m+y)%x+2;h[y+2]=o[_]-u[0],h[y+3]=o[_+1]-u[1]}h[0]=o[m]-u[0],h[1]=o[m+1]-u[1];for(var S=n/t,w=-n/2;w<=n/2;w+=S){for(var T=Math.sin(w),A=Math.cos(w),C=0,y=0;y<o.length;y+=2){var k=h[y],E=h[y+1],D=l[y]-c[0],I=l[y+1]-c[1],P=D*A-I*T,F=D*T+I*A;v[y]=P,v[y+1]=F;var V=P-k,z=F-E;C+=V*V+z*z}if(C<p){p=C,d=w;for(var G=0;G<v.length;G++)f[G]=v[G]}}i.push({from:h,to:f,fromCp:u,toCp:c,rotation:-d})}return i}function IT(r){return r.__isCombineMorphing}var KU="__mOriginal_";function LT(r,e,t){var n=KU+e,i=r[n]||r[e];r[n]||(r[n]=r[e]);var a=t.replace,s=t.after,o=t.before;r[e]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),s&&s.apply(this,l),u}}function Oy(r,e){var t=KU+e;r[t]&&(r[e]=r[t],r[t]=null)}function i8(r,e){for(var t=0;t<r.length;t++)for(var n=r[t],i=0;i<n.length;){var a=n[i],s=n[i+1];n[i++]=e[0]*a+e[2]*s+e[4],n[i++]=e[1]*a+e[3]*s+e[5]}}function jU(r,e){var t=r.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),i=gye(LM(t),LM(n)),a=i[0],s=i[1],o=r.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}o&&i8(a,o),l&&i8(s,l),LT(e,"updateTransform",{replace:u}),e.transform=null;var c=xye(a,s,10,Math.PI),h=[];LT(e,"buildPath",{replace:function(f){for(var d=e.__morphT,p=1-d,v=[],g=0;g<c.length;g++){var m=c[g],x=m.from,y=m.to,_=m.rotation*d,S=m.fromCp,w=m.toCp,T=Math.sin(_),A=Math.cos(_);Rw(v,S,w,d);for(var C=0;C<x.length;C+=2){var k=x[C],E=x[C+1],D=y[C],I=y[C+1],P=k*p+D*d,F=E*p+I*d;h[C]=P*A-F*T+v[0],h[C+1]=P*T+F*A+v[1]}var V=h[0],z=h[1];f.moveTo(V,z);for(var C=2;C<x.length;){var D=h[C++],I=h[C++],G=h[C++],O=h[C++],ee=h[C++],Q=h[C++];V===D&&z===I&&G===ee&&O===Q?f.lineTo(ee,Q):f.bezierCurveTo(D,I,G,O,ee,Q),V=ee,z=Q}}}})}function UR(r,e,t){if(!r||!e)return e;var n=t.done,i=t.during;jU(r,e),e.__morphT=0;function a(){Oy(e,"buildPath"),Oy(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},ze({during:function(s){e.dirtyShape(),i&&i(s)},done:function(){a(),n&&n()}},t)),e}function bye(r,e,t,n,i,a){var s=16;r=i===t?0:Math.round(32767*(r-t)/(i-t)),e=a===n?0:Math.round(32767*(e-n)/(a-n));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,h=0;(r&u)>0&&(c=1),(e&u)>0&&(h=1),o+=u*u*(3*c^h),h===0&&(c===1&&(r=u-1-r,e=u-1-e),l=r,r=e,e=l)}return o}function PT(r){var e=1/0,t=1/0,n=-1/0,i=-1/0,a=ge(r,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),h=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(h,t),n=Math.max(c,n),i=Math.max(h,i),[c,h]}),s=ge(a,function(o,l){return{cp:o,z:bye(o[0],o[1],e,t,n,i),path:r[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function qU(r){return pye(r.path,r.count)}function RM(){return{fromIndividuals:[],toIndividuals:[],count:0}}function _ye(r,e,t){var n=[];function i(S){for(var w=0;w<S.length;w++){var T=S[w];IT(T)?i(T.childrenRef()):T instanceof dt&&n.push(T)}}i(r);var a=n.length;if(!a)return RM();var s=t.dividePath||qU,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),RM();n=PT(n),o=PT(o);for(var l=t.done,u=t.during,c=t.individualDelay,h=new Mu,f=0;f<a;f++){var d=n[f],p=o[f];p.parent=e,p.copyTransform(h),c||jU(d,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function v(S){for(var w=0;w<o.length;w++)o[w].addSelfToZr(S)}LT(e,"addSelfToZr",{after:function(S){v(S)}}),LT(e,"removeSelfFromZr",{after:function(S){for(var w=0;w<o.length;w++)o[w].removeSelfFromZr(S)}});function g(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Oy(e,"addSelfToZr"),Oy(e,"removeSelfFromZr")}var m=o.length;if(c)for(var x=m,y=function(){x--,x===0&&(g(),l&&l())},f=0;f<m;f++){var _=c?ze({delay:(t.delay||0)+c(f,m,n[f],o[f]),done:y},t):t;UR(n[f],o[f],_)}else e.__morphT=0,e.animateTo({__morphT:1},ze({during:function(S){for(var w=0;w<m;w++){var T=o[w];T.__morphT=e.__morphT,T.dirtyShape()}u&&u(S)},done:function(){g();for(var S=0;S<r.length;S++)Oy(r[S],"updateTransform");l&&l()}},t));return e.__zr&&v(e.__zr),{fromIndividuals:n,toIndividuals:o,count:m}}function wye(r,e,t){var n=e.length,i=[],a=t.dividePath||qU;function s(d){for(var p=0;p<d.length;p++){var v=d[p];IT(v)?s(v.childrenRef()):v instanceof dt&&i.push(v)}}if(IT(r)){s(r.childrenRef());var o=i.length;if(o<n)for(var l=0,u=o;u<n;u++)i.push(oP(i[l++%o]));i.length=n}else{i=a({path:r,count:n});for(var c=r.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),RM()}i=PT(i),e=PT(e);for(var h=t.individualDelay,u=0;u<n;u++){var f=h?ze({delay:(t.delay||0)+h(u,n,i[u],e[u])},t):t;UR(i[u],e[u],f)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function a8(r){return ve(r[0])}function s8(r,e){for(var t=[],n=r.length,i=0;i<n;i++)t.push({one:r[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,s=void 0;for(s=0;s<a;s++)t[s%n].many.push(e[i][s])}for(var o=0,i=n-1;i>=0;i--)if(!t[i].many.length){var l=t[o].many;if(l.length<=1)if(o)o=0;else return t;var a=l.length,u=Math.ceil(a/2);t[i].many=l.slice(u,a),t[o].many=l.slice(0,u),o++}return t}var Sye={clone:function(r){for(var e=[],t=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=oP(r.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function hE(r,e,t,n,i,a){if(!r.length||!e.length)return;var s=Ig("update",n,i);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;a8(r)&&(u=r,c=e),a8(e)&&(u=e,c=r);function h(m,x,y,_,S){var w=m.many,T=m.one;if(w.length===1&&!S){var A=x?w[0]:T,C=x?T:w[0];if(IT(A))h({many:[A],one:C},!0,y,_,!0);else{var k=o?ze({delay:o(y,_)},l):l;UR(A,C,k),a(A,C,A,C,k)}}else for(var E=ze({dividePath:Sye[t],individualDelay:o&&function(z,G,O,ee){return o(z+y,_)}},l),D=x?_ye(w,T,E):wye(T,w,E),I=D.fromIndividuals,P=D.toIndividuals,F=I.length,V=0;V<F;V++){var k=o?ze({delay:o(V,F)},l):l;a(I[V],P[V],x?w[V]:m.one,x?m.one:w[V],k)}}for(var f=u?u===r:r.length>e.length,d=u?s8(c,u):s8(f?e:r,[f?r:e]),p=0,v=0;v<d.length;v++)p+=d[v].many.length;for(var g=0,v=0;v<d.length;v++)h(d[v],f,g,p),g+=d[v].many.length}function Pf(r){if(!r)return[];if(ve(r)){for(var e=[],t=0;t<r.length;t++)e.push(Pf(r[t]));return e}var n=[];return r.traverse(function(i){i instanceof dt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var ZU=1e4,Tye=0,o8=1,l8=2,Aye=At();function Cye(r,e){for(var t=r.dimensions,n=0;n<t.length;n++){var i=r.getDimensionInfo(t[n]);if(i&&i.otherDims[e]===0)return t[n]}}function kye(r,e,t){var n=r.getDimensionInfo(t),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,e);return i&&i.categories[a]||a+""}}function u8(r,e,t,n){var i=n?"itemChildGroupId":"itemGroupId",a=Cye(r,i);if(a){var s=kye(r,e,a);return s}var o=r.getRawDataItem(e),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return t||r.getId(e)}function c8(r){var e=[];return L(r,function(t){var n=t.data,i=t.dataGroupId;if(!(n.count()>ZU))for(var a=n.getIndices(),s=0;s<a.length;s++)e.push({data:n,groupId:u8(n,s,i,!1),childGroupId:u8(n,s,i,!0),divide:t.divide,dataIndex:s})}),e}function fE(r,e,t){r.traverse(function(n){n instanceof dt&&gr(n,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function dE(r){if(r.parent){var e=r.getComputedTransform();r.setLocalTransform(e),r.parent.remove(r)}}function yv(r){r.stopAnimation(),r.isGroup&&r.traverse(function(e){e.stopAnimation()})}function Eye(r,e,t){var n=Ig("update",t,e);n&&r.traverse(function(i){if(i instanceof Is){var a=_te(i);a&&i.animateFrom({style:a},n)}})}function Dye(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++){var i=r[n],a=e[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function JU(r,e,t){var n=c8(r),i=c8(e);function a(y,_,S,w,T){(S||y)&&_.animateFrom({style:S&&S!==y?he(he({},S.style),y.style):y.style},T)}var s=!1,o=Tye,l=Le(),u=Le();n.forEach(function(y){y.groupId&&l.set(y.groupId,!0),y.childGroupId&&u.set(y.childGroupId,!0)});for(var c=0;c<i.length;c++){var h=i[c].groupId;if(u.get(h)){o=o8;break}var f=i[c].childGroupId;if(f&&l.get(f)){o=l8;break}}function d(y,_){return function(S){var w=S.data,T=S.dataIndex;return _?w.getId(T):y?o===o8?S.childGroupId:S.groupId:o===l8?S.childGroupId:S.groupId}}var p=Dye(n,i),v={};if(!p)for(var c=0;c<i.length;c++){var g=i[c],m=g.data.getItemGraphicEl(g.dataIndex);m&&(v[m.id]=!0)}function x(y,_){var S=n[_],w=i[y],T=w.data.hostModel,A=S.data.getItemGraphicEl(S.dataIndex),C=w.data.getItemGraphicEl(w.dataIndex);if(A===C){C&&Eye(C,w.dataIndex,T);return}A&&v[A.id]||C&&(yv(C),A?(yv(A),dE(A),s=!0,hE(Pf(A),Pf(C),w.divide,T,y,a)):fE(C,T,y))}new Zu(n,i,d(!0,p),d(!1,p),null,"multiple").update(x).updateManyToOne(function(y,_){var S=i[y],w=S.data,T=w.hostModel,A=w.getItemGraphicEl(S.dataIndex),C=Ot(ge(_,function(k){return n[k].data.getItemGraphicEl(n[k].dataIndex)}),function(k){return k&&k!==A&&!v[k.id]});A&&(yv(A),C.length?(L(C,function(k){yv(k),dE(k)}),s=!0,hE(Pf(C),Pf(A),S.divide,T,y,a)):fE(A,T,S.dataIndex))}).updateOneToMany(function(y,_){var S=n[_],w=S.data.getItemGraphicEl(S.dataIndex);if(!(w&&v[w.id])){var T=Ot(ge(y,function(C){return i[C].data.getItemGraphicEl(i[C].dataIndex)}),function(C){return C&&C!==w}),A=i[y[0]].data.hostModel;T.length&&(L(T,function(C){return yv(C)}),w?(yv(w),dE(w),s=!0,hE(Pf(w),Pf(T),S.divide,A,y[0],a)):L(T,function(C){return fE(C,A,y[0])}))}}).updateManyToMany(function(y,_){new Zu(_,y,function(S){return n[S].data.getId(n[S].dataIndex)},function(S){return i[S].data.getId(i[S].dataIndex)}).update(function(S,w){x(y[S],_[w])}).execute()}).execute(),s&&L(e,function(y){var _=y.data,S=_.hostModel,w=S&&t.getViewOfSeriesModel(S),T=Ig("update",S,0);w&&S.isAnimationEnabled()&&T&&T.duration>0&&w.group.traverse(function(A){A instanceof dt&&!A.animators.length&&A.animateFrom({style:{opacity:0}},T)})})}function h8(r){var e=r.getModel("universalTransition").get("seriesKey");return e||r.id}function f8(r){return ve(r)?r.sort().join(","):r}function Tc(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function Mye(r,e){var t=Le(),n=Le(),i=Le();return L(r.oldSeries,function(a,s){var o=r.oldDataGroupIds[s],l=r.oldData[s],u=h8(a),c=f8(u);n.set(c,{dataGroupId:o,data:l}),ve(u)&&L(u,function(h){i.set(h,{key:c,dataGroupId:o,data:l})})}),L(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=h8(a),u=f8(l),c=n.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:Tc(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:Tc(o),data:o}]});else if(ve(l)){var h=[];L(l,function(p){var v=n.get(p);v.data&&h.push({dataGroupId:v.dataGroupId,divide:Tc(v.data),data:v.data})}),h.length&&t.set(u,{oldSeries:h,newSeries:[{dataGroupId:s,data:o,divide:Tc(o)}]})}else{var f=i.get(l);if(f){var d=t.get(f.key);d||(d={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:Tc(f.data)}],newSeries:[]},t.set(f.key,d)),d.newSeries.push({dataGroupId:s,data:o,divide:Tc(o)})}}}}),t}function d8(r,e){for(var t=0;t<r.length;t++){var n=e.seriesIndex!=null&&e.seriesIndex===r[t].seriesIndex||e.seriesId!=null&&e.seriesId===r[t].id;if(n)return t}}function Iye(r,e,t,n){var i=[],a=[];L(qt(r.from),function(s){var o=d8(e.oldSeries,s);o>=0&&i.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:Tc(e.oldData[o]),groupIdDim:s.dimension})}),L(qt(r.to),function(s){var o=d8(t.updatedSeries,s);if(o>=0){var l=t.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:Tc(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&JU(i,a,n)}function Lye(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){L(qt(n.seriesTransition),function(i){L(qt(i.to),function(a){for(var s=n.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][Yw]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(e,t,n){var i=Aye(t);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)L(qt(a),function(d){Iye(d,i,n,t)});else{var s=Mye(i,n);L(s.keys(),function(d){var p=s.get(d);JU(p.oldSeries,p.newSeries,t)})}L(n.updatedSeries,function(d){d[Yw]&&(d[Yw]=!1)})}for(var o=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],h=0;h<o.length;h++){var f=o[h].getData();f.count()<ZU&&(l.push(o[h]),u.push(o[h].get("dataGroupId")),c.push(f))}})}ht([Gse]);ht([Nse]);ht([loe,Soe,Poe,fle,Sle,uue,Nue,bce,Gce,Kce,nhe,Zhe,wfe,Pfe,jfe,Qfe,ude,gde,kde,Pde,$de,Cpe]);ht(Wpe);ht(mve);ht(qG);ht(Mve);ht(O$);ht(Rve);ht($ve);ht(M0e);ht(j0e);ht(Gb);ht(fge);ht(vge);ht(Age);ht(Lge);ht(Bge);ht(Uge);ht(eme);ht(yme);ht(BU);ht(VU);ht(Bme);ht(UU);ht(WU);ht($me);ht(rye);ht(aye);ht(Lye);ht(nse);const p8=()=>({httpPost:async(t,n)=>new Promise(async(i,a)=>{await dF.post(GE.baseEnd+t,n,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")}}).then(s=>{i(s.data)}).catch(s=>{s.response.status===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),a(s)})}),httpGet:t=>new Promise(async(n,i)=>{await dF.get(GE.baseEnd+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("authToken")}}).then(a=>{n(a.data)}).catch(a=>{a.response.status===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),i(a)})})});var Pye=({dt:r})=>`
.p-togglebutton {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    overflow: hidden;
    position: relative;
    color: ${r("togglebutton.color")};
    background: ${r("togglebutton.background")};
    border: 1px solid ${r("togglebutton.border.color")};
    padding: ${r("togglebutton.padding")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${r("togglebutton.transition.duration")}, color ${r("togglebutton.transition.duration")}, border-color ${r("togglebutton.transition.duration")},
        outline-color ${r("togglebutton.transition.duration")}, box-shadow ${r("togglebutton.transition.duration")};
    border-radius: ${r("togglebutton.border.radius")};
    outline-color: transparent;
    font-weight: ${r("togglebutton.font.weight")};
}

.p-togglebutton-content {
    display: inline-flex;
    flex: 1 1 auto;
    align-items: center;
    justify-content: center;
    gap: ${r("togglebutton.gap")};
    padding: ${r("togglebutton.content.padding")};
    background: transparent;
    border-radius: ${r("togglebutton.content.border.radius")};
    transition: background ${r("togglebutton.transition.duration")}, color ${r("togglebutton.transition.duration")}, border-color ${r("togglebutton.transition.duration")},
            outline-color ${r("togglebutton.transition.duration")}, box-shadow ${r("togglebutton.transition.duration")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
    background: ${r("togglebutton.hover.background")};
    color: ${r("togglebutton.hover.color")};
}

.p-togglebutton.p-togglebutton-checked {
    background: ${r("togglebutton.checked.background")};
    border-color: ${r("togglebutton.checked.border.color")};
    color: ${r("togglebutton.checked.color")};
}

.p-togglebutton-checked .p-togglebutton-content {
    background: ${r("togglebutton.content.checked.background")};
    box-shadow: ${r("togglebutton.content.checked.shadow")};
}

.p-togglebutton:focus-visible {
    box-shadow: ${r("togglebutton.focus.ring.shadow")};
    outline: ${r("togglebutton.focus.ring.width")} ${r("togglebutton.focus.ring.style")} ${r("togglebutton.focus.ring.color")};
    outline-offset: ${r("togglebutton.focus.ring.offset")};
}

.p-togglebutton.p-invalid {
    border-color: ${r("togglebutton.invalid.border.color")};
}

.p-togglebutton:disabled {
    opacity: 1;
    cursor: default;
    background: ${r("togglebutton.disabled.background")};
    border-color: ${r("togglebutton.disabled.border.color")};
    color: ${r("togglebutton.disabled.color")};
}

.p-togglebutton-label,
.p-togglebutton-icon {
    position: relative;
    transition: none;
}

.p-togglebutton-icon {
    color: ${r("togglebutton.icon.color")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
    color: ${r("togglebutton.icon.hover.color")};
}

.p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
    color: ${r("togglebutton.icon.checked.color")};
}

.p-togglebutton:disabled .p-togglebutton-icon {
    color: ${r("togglebutton.icon.disabled.color")};
}

.p-togglebutton-sm {
    padding: ${r("togglebutton.sm.padding")};
    font-size: ${r("togglebutton.sm.font.size")};
}

.p-togglebutton-sm .p-togglebutton-content {
    padding: ${r("togglebutton.content.sm.padding")};
}

.p-togglebutton-lg {
    padding: ${r("togglebutton.lg.padding")};
    font-size: ${r("togglebutton.lg.font.size")};
}

.p-togglebutton-lg .p-togglebutton-content {
    padding: ${r("togglebutton.content.lg.padding")};
}
`,Rye={root:function(e){var t=e.instance,n=e.props;return["p-togglebutton p-component",{"p-togglebutton-checked":t.active,"p-invalid":t.$invalid,"p-togglebutton-sm p-inputfield-sm":n.size==="small","p-togglebutton-lg p-inputfield-lg":n.size==="large"}]},content:"p-togglebutton-content",icon:"p-togglebutton-icon",label:"p-togglebutton-label"},Oye=ia.extend({name:"togglebutton",style:Pye,classes:Rye}),Fye={name:"BaseToggleButton",extends:PL,props:{onIcon:String,offIcon:String,onLabel:{type:String,default:"Yes"},offLabel:{type:String,default:"No"},iconPos:{type:String,default:"left"},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null},size:{type:String,default:null}},style:Oye,provide:function(){return{$pcToggleButton:this,$parentInstance:this}}};function w1(r){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w1(r)}function Nye(r,e,t){return(e=Bye(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bye(r){var e=Vye(r,"string");return w1(e)=="symbol"?e:e+""}function Vye(r,e){if(w1(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var QU={name:"ToggleButton",extends:Fye,inheritAttrs:!1,emits:["change"],methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{active:this.active,disabled:this.disabled}})},onChange:function(e){!this.disabled&&!this.readonly&&(this.writeValue(!this.d_value,e),this.$emit("change",e))},onBlur:function(e){var t,n;(t=(n=this.formField).onBlur)===null||t===void 0||t.call(n,e)}},computed:{active:function(){return this.d_value===!0},hasLabel:function(){return Nf(this.onLabel)&&Nf(this.offLabel)},label:function(){return this.hasLabel?this.d_value?this.onLabel:this.offLabel:"Â "},dataP:function(){return EA(Nye({checked:this.active,invalid:this.$invalid},this.size,this.size))}},directives:{ripple:bb}},zye=["tabindex","disabled","aria-pressed","aria-label","aria-labelledby","data-p-checked","data-p-disabled","data-p"],Hye=["data-p"];function Gye(r,e,t,n,i,a){var s=yb("ripple");return Ts((pe(),xe("button",le({type:"button",class:r.cx("root"),tabindex:r.tabindex,disabled:r.disabled,"aria-pressed":r.d_value,onClick:e[0]||(e[0]=function(){return a.onChange&&a.onChange.apply(a,arguments)}),onBlur:e[1]||(e[1]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)})},a.getPTOptions("root"),{"aria-label":r.ariaLabel,"aria-labelledby":r.ariaLabelledby,"data-p-checked":a.active,"data-p-disabled":r.disabled,"data-p":a.dataP}),[me("span",le({class:r.cx("content")},a.getPTOptions("content"),{"data-p":a.dataP}),[ot(r.$slots,"default",{},function(){return[ot(r.$slots,"icon",{value:r.d_value,class:$a(r.cx("icon"))},function(){return[r.onIcon||r.offIcon?(pe(),xe("span",le({key:0,class:[r.cx("icon"),r.d_value?r.onIcon:r.offIcon]},a.getPTOptions("icon")),null,16)):it("",!0)]}),me("span",le({class:r.cx("label")},a.getPTOptions("label")),ct(a.label),17)]})],16,Hye)],16,zye)),[[s]])}QU.render=Gye;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var eW;function Ne(){return eW.apply(null,arguments)}function $ye(r){eW=r}function _o(r){return r instanceof Array||Object.prototype.toString.call(r)==="[object Array]"}function gp(r){return r!=null&&Object.prototype.toString.call(r)==="[object Object]"}function Zt(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function WR(r){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(r).length===0;var e;for(e in r)if(Zt(r,e))return!1;return!0}function ha(r){return r===void 0}function tc(r){return typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]"}function $b(r){return r instanceof Date||Object.prototype.toString.call(r)==="[object Date]"}function tW(r,e){var t=[],n,i=r.length;for(n=0;n<i;++n)t.push(e(r[n],n));return t}function Ah(r,e){for(var t in e)Zt(e,t)&&(r[t]=e[t]);return Zt(e,"toString")&&(r.toString=e.toString),Zt(e,"valueOf")&&(r.valueOf=e.valueOf),r}function Pl(r,e,t,n){return TW(r,e,t,n,!0).utc()}function Uye(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kt(r){return r._pf==null&&(r._pf=Uye()),r._pf}var OM;Array.prototype.some?OM=Array.prototype.some:OM=function(r){var e=Object(this),t=e.length>>>0,n;for(n=0;n<t;n++)if(n in e&&r.call(this,e[n],n,e))return!0;return!1};function YR(r){var e=null,t=!1,n=r._d&&!isNaN(r._d.getTime());if(n&&(e=kt(r),t=OM.call(e.parsedDateParts,function(i){return i!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),r._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(r))r._isValid=n;else return n;return r._isValid}function g2(r){var e=Pl(NaN);return r!=null?Ah(kt(e),r):kt(e).userInvalidated=!0,e}var v8=Ne.momentProperties=[],pE=!1;function XR(r,e){var t,n,i,a=v8.length;if(ha(e._isAMomentObject)||(r._isAMomentObject=e._isAMomentObject),ha(e._i)||(r._i=e._i),ha(e._f)||(r._f=e._f),ha(e._l)||(r._l=e._l),ha(e._strict)||(r._strict=e._strict),ha(e._tzm)||(r._tzm=e._tzm),ha(e._isUTC)||(r._isUTC=e._isUTC),ha(e._offset)||(r._offset=e._offset),ha(e._pf)||(r._pf=kt(e)),ha(e._locale)||(r._locale=e._locale),a>0)for(t=0;t<a;t++)n=v8[t],i=e[n],ha(i)||(r[n]=i);return r}function Ub(r){XR(this,r),this._d=new Date(r._d!=null?r._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),pE===!1&&(pE=!0,Ne.updateOffset(this),pE=!1)}function wo(r){return r instanceof Ub||r!=null&&r._isAMomentObject!=null}function rW(r){Ne.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+r)}function Ns(r,e){var t=!0;return Ah(function(){if(Ne.deprecationHandler!=null&&Ne.deprecationHandler(null,r),t){var n=[],i,a,s,o=arguments.length;for(a=0;a<o;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(s in arguments[0])Zt(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}rW(r+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var g8={};function nW(r,e){Ne.deprecationHandler!=null&&Ne.deprecationHandler(r,e),g8[r]||(rW(e),g8[r]=!0)}Ne.suppressDeprecationWarnings=!1;Ne.deprecationHandler=null;function Rl(r){return typeof Function<"u"&&r instanceof Function||Object.prototype.toString.call(r)==="[object Function]"}function Wye(r){var e,t;for(t in r)Zt(r,t)&&(e=r[t],Rl(e)?this[t]=e:this["_"+t]=e);this._config=r,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function FM(r,e){var t=Ah({},r),n;for(n in e)Zt(e,n)&&(gp(r[n])&&gp(e[n])?(t[n]={},Ah(t[n],r[n]),Ah(t[n],e[n])):e[n]!=null?t[n]=e[n]:delete t[n]);for(n in r)Zt(r,n)&&!Zt(e,n)&&gp(r[n])&&(t[n]=Ah({},t[n]));return t}function KR(r){r!=null&&this.set(r)}var NM;Object.keys?NM=Object.keys:NM=function(r){var e,t=[];for(e in r)Zt(r,e)&&t.push(e);return t};var Yye={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Xye(r,e,t){var n=this._calendar[r]||this._calendar.sameElse;return Rl(n)?n.call(e,t):n}function Tl(r,e,t){var n=""+Math.abs(r),i=e-n.length,a=r>=0;return(a?t?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var jR=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,cw=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,vE={},Zv={};function rt(r,e,t,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),r&&(Zv[r]=i),e&&(Zv[e[0]]=function(){return Tl(i.apply(this,arguments),e[1],e[2])}),t&&(Zv[t]=function(){return this.localeData().ordinal(i.apply(this,arguments),r)})}function Kye(r){return r.match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"")}function jye(r){var e=r.match(jR),t,n;for(t=0,n=e.length;t<n;t++)Zv[e[t]]?e[t]=Zv[e[t]]:e[t]=Kye(e[t]);return function(i){var a="",s;for(s=0;s<n;s++)a+=Rl(e[s])?e[s].call(i,r):e[s];return a}}function eS(r,e){return r.isValid()?(e=iW(e,r.localeData()),vE[e]=vE[e]||jye(e),vE[e](r)):r.localeData().invalidDate()}function iW(r,e){var t=5;function n(i){return e.longDateFormat(i)||i}for(cw.lastIndex=0;t>=0&&cw.test(r);)r=r.replace(cw,n),cw.lastIndex=0,t-=1;return r}var qye={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Zye(r){var e=this._longDateFormat[r],t=this._longDateFormat[r.toUpperCase()];return e||!t?e:(this._longDateFormat[r]=t.match(jR).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[r])}var Jye="Invalid date";function Qye(){return this._invalidDate}var e1e="%d",t1e=/\d{1,2}/;function r1e(r){return this._ordinal.replace("%d",r)}var n1e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i1e(r,e,t,n){var i=this._relativeTime[t];return Rl(i)?i(r,e,t,n):i.replace(/%d/i,r)}function a1e(r,e){var t=this._relativeTime[r>0?"future":"past"];return Rl(t)?t(e):t.replace(/%s/i,e)}var m8={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Bs(r){return typeof r=="string"?m8[r]||m8[r.toLowerCase()]:void 0}function qR(r){var e={},t,n;for(n in r)Zt(r,n)&&(t=Bs(n),t&&(e[t]=r[n]));return e}var s1e={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function o1e(r){var e=[],t;for(t in r)Zt(r,t)&&e.push({unit:t,priority:s1e[t]});return e.sort(function(n,i){return n.priority-i.priority}),e}var aW=/\d/,Za=/\d\d/,sW=/\d{3}/,ZR=/\d{4}/,m2=/[+-]?\d{6}/,Cr=/\d\d?/,oW=/\d\d\d\d?/,lW=/\d\d\d\d\d\d?/,y2=/\d{1,3}/,JR=/\d{1,4}/,x2=/[+-]?\d{1,6}/,Gg=/\d+/,b2=/[+-]?\d+/,l1e=/Z|[+-]\d\d:?\d\d/gi,_2=/Z|[+-]\d\d(?::?\d\d)?/gi,u1e=/[+-]?\d+(\.\d{1,3})?/,Wb=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$g=/^[1-9]\d?/,QR=/^([1-9]\d|\d)/,RT;RT={};function We(r,e,t){RT[r]=Rl(e)?e:function(n,i){return n&&t?t:e}}function c1e(r,e){return Zt(RT,r)?RT[r](e._strict,e._locale):new RegExp(h1e(r))}function h1e(r){return Hu(r.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function Hu(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ws(r){return r<0?Math.ceil(r)||0:Math.floor(r)}function Ft(r){var e=+r,t=0;return e!==0&&isFinite(e)&&(t=ws(e)),t}var BM={};function dr(r,e){var t,n=e,i;for(typeof r=="string"&&(r=[r]),tc(e)&&(n=function(a,s){s[e]=Ft(a)}),i=r.length,t=0;t<i;t++)BM[r[t]]=n}function Yb(r,e){dr(r,function(t,n,i,a){i._w=i._w||{},e(t,i._w,i,a)})}function f1e(r,e,t){e!=null&&Zt(BM,r)&&BM[r](e,t._a,t,r)}function w2(r){return r%4===0&&r%100!==0||r%400===0}var Ai=0,Lu=1,ul=2,An=3,ho=4,Pu=5,ed=6,d1e=7,p1e=8;rt("Y",0,0,function(){var r=this.year();return r<=9999?Tl(r,4):"+"+r});rt(0,["YY",2],0,function(){return this.year()%100});rt(0,["YYYY",4],0,"year");rt(0,["YYYYY",5],0,"year");rt(0,["YYYYYY",6,!0],0,"year");We("Y",b2);We("YY",Cr,Za);We("YYYY",JR,ZR);We("YYYYY",x2,m2);We("YYYYYY",x2,m2);dr(["YYYYY","YYYYYY"],Ai);dr("YYYY",function(r,e){e[Ai]=r.length===2?Ne.parseTwoDigitYear(r):Ft(r)});dr("YY",function(r,e){e[Ai]=Ne.parseTwoDigitYear(r)});dr("Y",function(r,e){e[Ai]=parseInt(r,10)});function Fy(r){return w2(r)?366:365}Ne.parseTwoDigitYear=function(r){return Ft(r)+(Ft(r)>68?1900:2e3)};var uW=Ug("FullYear",!0);function v1e(){return w2(this.year())}function Ug(r,e){return function(t){return t!=null?(cW(this,r,t),Ne.updateOffset(this,e),this):S1(this,r)}}function S1(r,e){if(!r.isValid())return NaN;var t=r._d,n=r._isUTC;switch(e){case"Milliseconds":return n?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return n?t.getUTCSeconds():t.getSeconds();case"Minutes":return n?t.getUTCMinutes():t.getMinutes();case"Hours":return n?t.getUTCHours():t.getHours();case"Date":return n?t.getUTCDate():t.getDate();case"Day":return n?t.getUTCDay():t.getDay();case"Month":return n?t.getUTCMonth():t.getMonth();case"FullYear":return n?t.getUTCFullYear():t.getFullYear();default:return NaN}}function cW(r,e,t){var n,i,a,s,o;if(!(!r.isValid()||isNaN(t))){switch(n=r._d,i=r._isUTC,e){case"Milliseconds":return void(i?n.setUTCMilliseconds(t):n.setMilliseconds(t));case"Seconds":return void(i?n.setUTCSeconds(t):n.setSeconds(t));case"Minutes":return void(i?n.setUTCMinutes(t):n.setMinutes(t));case"Hours":return void(i?n.setUTCHours(t):n.setHours(t));case"Date":return void(i?n.setUTCDate(t):n.setDate(t));case"FullYear":break;default:return}a=t,s=r.month(),o=r.date(),o=o===29&&s===1&&!w2(a)?28:o,i?n.setUTCFullYear(a,s,o):n.setFullYear(a,s,o)}}function g1e(r){return r=Bs(r),Rl(this[r])?this[r]():this}function m1e(r,e){if(typeof r=="object"){r=qR(r);var t=o1e(r),n,i=t.length;for(n=0;n<i;n++)this[t[n].unit](r[t[n].unit])}else if(r=Bs(r),Rl(this[r]))return this[r](e);return this}function y1e(r,e){return(r%e+e)%e}var qr;Array.prototype.indexOf?qr=Array.prototype.indexOf:qr=function(r){var e;for(e=0;e<this.length;++e)if(this[e]===r)return e;return-1};function eO(r,e){if(isNaN(r)||isNaN(e))return NaN;var t=y1e(e,12);return r+=(e-t)/12,t===1?w2(r)?29:28:31-t%7%2}rt("M",["MM",2],"Mo",function(){return this.month()+1});rt("MMM",0,0,function(r){return this.localeData().monthsShort(this,r)});rt("MMMM",0,0,function(r){return this.localeData().months(this,r)});We("M",Cr,$g);We("MM",Cr,Za);We("MMM",function(r,e){return e.monthsShortRegex(r)});We("MMMM",function(r,e){return e.monthsRegex(r)});dr(["M","MM"],function(r,e){e[Lu]=Ft(r)-1});dr(["MMM","MMMM"],function(r,e,t,n){var i=t._locale.monthsParse(r,n,t._strict);i!=null?e[Lu]=i:kt(t).invalidMonth=r});var x1e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),hW="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fW=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,b1e=Wb,_1e=Wb;function w1e(r,e){return r?_o(this._months)?this._months[r.month()]:this._months[(this._months.isFormat||fW).test(e)?"format":"standalone"][r.month()]:_o(this._months)?this._months:this._months.standalone}function S1e(r,e){return r?_o(this._monthsShort)?this._monthsShort[r.month()]:this._monthsShort[fW.test(e)?"format":"standalone"][r.month()]:_o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function T1e(r,e,t){var n,i,a,s=r.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=Pl([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return t?e==="MMM"?(i=qr.call(this._shortMonthsParse,s),i!==-1?i:null):(i=qr.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=qr.call(this._shortMonthsParse,s),i!==-1?i:(i=qr.call(this._longMonthsParse,s),i!==-1?i:null)):(i=qr.call(this._longMonthsParse,s),i!==-1?i:(i=qr.call(this._shortMonthsParse,s),i!==-1?i:null))}function A1e(r,e,t){var n,i,a;if(this._monthsParseExact)return T1e.call(this,r,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=Pl([2e3,n]),t&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!t&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[n].test(r))return n;if(t&&e==="MMM"&&this._shortMonthsParse[n].test(r))return n;if(!t&&this._monthsParse[n].test(r))return n}}function dW(r,e){if(!r.isValid())return r;if(typeof e=="string"){if(/^\d+$/.test(e))e=Ft(e);else if(e=r.localeData().monthsParse(e),!tc(e))return r}var t=e,n=r.date();return n=n<29?n:Math.min(n,eO(r.year(),t)),r._isUTC?r._d.setUTCMonth(t,n):r._d.setMonth(t,n),r}function pW(r){return r!=null?(dW(this,r),Ne.updateOffset(this,!0),this):S1(this,"Month")}function C1e(){return eO(this.year(),this.month())}function k1e(r){return this._monthsParseExact?(Zt(this,"_monthsRegex")||vW.call(this),r?this._monthsShortStrictRegex:this._monthsShortRegex):(Zt(this,"_monthsShortRegex")||(this._monthsShortRegex=b1e),this._monthsShortStrictRegex&&r?this._monthsShortStrictRegex:this._monthsShortRegex)}function E1e(r){return this._monthsParseExact?(Zt(this,"_monthsRegex")||vW.call(this),r?this._monthsStrictRegex:this._monthsRegex):(Zt(this,"_monthsRegex")||(this._monthsRegex=_1e),this._monthsStrictRegex&&r?this._monthsStrictRegex:this._monthsRegex)}function vW(){function r(l,u){return u.length-l.length}var e=[],t=[],n=[],i,a,s,o;for(i=0;i<12;i++)a=Pl([2e3,i]),s=Hu(this.monthsShort(a,"")),o=Hu(this.months(a,"")),e.push(s),t.push(o),n.push(o),n.push(s);e.sort(r),t.sort(r),n.sort(r),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function D1e(r,e,t,n,i,a,s){var o;return r<100&&r>=0?(o=new Date(r+400,e,t,n,i,a,s),isFinite(o.getFullYear())&&o.setFullYear(r)):o=new Date(r,e,t,n,i,a,s),o}function T1(r){var e,t;return r<100&&r>=0?(t=Array.prototype.slice.call(arguments),t[0]=r+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(r)):e=new Date(Date.UTC.apply(null,arguments)),e}function OT(r,e,t){var n=7+e-t,i=(7+T1(r,0,n).getUTCDay()-e)%7;return-i+n-1}function gW(r,e,t,n,i){var a=(7+t-n)%7,s=OT(r,n,i),o=1+7*(e-1)+a+s,l,u;return o<=0?(l=r-1,u=Fy(l)+o):o>Fy(r)?(l=r+1,u=o-Fy(r)):(l=r,u=o),{year:l,dayOfYear:u}}function A1(r,e,t){var n=OT(r.year(),e,t),i=Math.floor((r.dayOfYear()-n-1)/7)+1,a,s;return i<1?(s=r.year()-1,a=i+Gu(s,e,t)):i>Gu(r.year(),e,t)?(a=i-Gu(r.year(),e,t),s=r.year()+1):(s=r.year(),a=i),{week:a,year:s}}function Gu(r,e,t){var n=OT(r,e,t),i=OT(r+1,e,t);return(Fy(r)-n+i)/7}rt("w",["ww",2],"wo","week");rt("W",["WW",2],"Wo","isoWeek");We("w",Cr,$g);We("ww",Cr,Za);We("W",Cr,$g);We("WW",Cr,Za);Yb(["w","ww","W","WW"],function(r,e,t,n){e[n.substr(0,1)]=Ft(r)});function M1e(r){return A1(r,this._week.dow,this._week.doy).week}var I1e={dow:0,doy:6};function L1e(){return this._week.dow}function P1e(){return this._week.doy}function R1e(r){var e=this.localeData().week(this);return r==null?e:this.add((r-e)*7,"d")}function O1e(r){var e=A1(this,1,4).week;return r==null?e:this.add((r-e)*7,"d")}rt("d",0,"do","day");rt("dd",0,0,function(r){return this.localeData().weekdaysMin(this,r)});rt("ddd",0,0,function(r){return this.localeData().weekdaysShort(this,r)});rt("dddd",0,0,function(r){return this.localeData().weekdays(this,r)});rt("e",0,0,"weekday");rt("E",0,0,"isoWeekday");We("d",Cr);We("e",Cr);We("E",Cr);We("dd",function(r,e){return e.weekdaysMinRegex(r)});We("ddd",function(r,e){return e.weekdaysShortRegex(r)});We("dddd",function(r,e){return e.weekdaysRegex(r)});Yb(["dd","ddd","dddd"],function(r,e,t,n){var i=t._locale.weekdaysParse(r,n,t._strict);i!=null?e.d=i:kt(t).invalidWeekday=r});Yb(["d","e","E"],function(r,e,t,n){e[n]=Ft(r)});function F1e(r,e){return typeof r!="string"?r:isNaN(r)?(r=e.weekdaysParse(r),typeof r=="number"?r:null):parseInt(r,10)}function N1e(r,e){return typeof r=="string"?e.weekdaysParse(r)%7||7:isNaN(r)?null:r}function tO(r,e){return r.slice(e,7).concat(r.slice(0,e))}var B1e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mW="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),V1e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),z1e=Wb,H1e=Wb,G1e=Wb;function $1e(r,e){var t=_o(this._weekdays)?this._weekdays:this._weekdays[r&&r!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return r===!0?tO(t,this._week.dow):r?t[r.day()]:t}function U1e(r){return r===!0?tO(this._weekdaysShort,this._week.dow):r?this._weekdaysShort[r.day()]:this._weekdaysShort}function W1e(r){return r===!0?tO(this._weekdaysMin,this._week.dow):r?this._weekdaysMin[r.day()]:this._weekdaysMin}function Y1e(r,e,t){var n,i,a,s=r.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=Pl([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return t?e==="dddd"?(i=qr.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=qr.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=qr.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=qr.call(this._weekdaysParse,s),i!==-1||(i=qr.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=qr.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=qr.call(this._shortWeekdaysParse,s),i!==-1||(i=qr.call(this._weekdaysParse,s),i!==-1)?i:(i=qr.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=qr.call(this._minWeekdaysParse,s),i!==-1||(i=qr.call(this._weekdaysParse,s),i!==-1)?i:(i=qr.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function X1e(r,e,t){var n,i,a;if(this._weekdaysParseExact)return Y1e.call(this,r,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=Pl([2e3,1]).day(n),t&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[n].test(r))return n;if(t&&e==="ddd"&&this._shortWeekdaysParse[n].test(r))return n;if(t&&e==="dd"&&this._minWeekdaysParse[n].test(r))return n;if(!t&&this._weekdaysParse[n].test(r))return n}}function K1e(r){if(!this.isValid())return r!=null?this:NaN;var e=S1(this,"Day");return r!=null?(r=F1e(r,this.localeData()),this.add(r-e,"d")):e}function j1e(r){if(!this.isValid())return r!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return r==null?e:this.add(r-e,"d")}function q1e(r){if(!this.isValid())return r!=null?this:NaN;if(r!=null){var e=N1e(r,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Z1e(r){return this._weekdaysParseExact?(Zt(this,"_weekdaysRegex")||rO.call(this),r?this._weekdaysStrictRegex:this._weekdaysRegex):(Zt(this,"_weekdaysRegex")||(this._weekdaysRegex=z1e),this._weekdaysStrictRegex&&r?this._weekdaysStrictRegex:this._weekdaysRegex)}function J1e(r){return this._weekdaysParseExact?(Zt(this,"_weekdaysRegex")||rO.call(this),r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Zt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=H1e),this._weekdaysShortStrictRegex&&r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Q1e(r){return this._weekdaysParseExact?(Zt(this,"_weekdaysRegex")||rO.call(this),r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Zt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=G1e),this._weekdaysMinStrictRegex&&r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function rO(){function r(c,h){return h.length-c.length}var e=[],t=[],n=[],i=[],a,s,o,l,u;for(a=0;a<7;a++)s=Pl([2e3,1]).day(a),o=Hu(this.weekdaysMin(s,"")),l=Hu(this.weekdaysShort(s,"")),u=Hu(this.weekdays(s,"")),e.push(o),t.push(l),n.push(u),i.push(o),i.push(l),i.push(u);e.sort(r),t.sort(r),n.sort(r),i.sort(r),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function nO(){return this.hours()%12||12}function exe(){return this.hours()||24}rt("H",["HH",2],0,"hour");rt("h",["hh",2],0,nO);rt("k",["kk",2],0,exe);rt("hmm",0,0,function(){return""+nO.apply(this)+Tl(this.minutes(),2)});rt("hmmss",0,0,function(){return""+nO.apply(this)+Tl(this.minutes(),2)+Tl(this.seconds(),2)});rt("Hmm",0,0,function(){return""+this.hours()+Tl(this.minutes(),2)});rt("Hmmss",0,0,function(){return""+this.hours()+Tl(this.minutes(),2)+Tl(this.seconds(),2)});function yW(r,e){rt(r,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}yW("a",!0);yW("A",!1);function xW(r,e){return e._meridiemParse}We("a",xW);We("A",xW);We("H",Cr,QR);We("h",Cr,$g);We("k",Cr,$g);We("HH",Cr,Za);We("hh",Cr,Za);We("kk",Cr,Za);We("hmm",oW);We("hmmss",lW);We("Hmm",oW);We("Hmmss",lW);dr(["H","HH"],An);dr(["k","kk"],function(r,e,t){var n=Ft(r);e[An]=n===24?0:n});dr(["a","A"],function(r,e,t){t._isPm=t._locale.isPM(r),t._meridiem=r});dr(["h","hh"],function(r,e,t){e[An]=Ft(r),kt(t).bigHour=!0});dr("hmm",function(r,e,t){var n=r.length-2;e[An]=Ft(r.substr(0,n)),e[ho]=Ft(r.substr(n)),kt(t).bigHour=!0});dr("hmmss",function(r,e,t){var n=r.length-4,i=r.length-2;e[An]=Ft(r.substr(0,n)),e[ho]=Ft(r.substr(n,2)),e[Pu]=Ft(r.substr(i)),kt(t).bigHour=!0});dr("Hmm",function(r,e,t){var n=r.length-2;e[An]=Ft(r.substr(0,n)),e[ho]=Ft(r.substr(n))});dr("Hmmss",function(r,e,t){var n=r.length-4,i=r.length-2;e[An]=Ft(r.substr(0,n)),e[ho]=Ft(r.substr(n,2)),e[Pu]=Ft(r.substr(i))});function txe(r){return(r+"").toLowerCase().charAt(0)==="p"}var rxe=/[ap]\.?m?\.?/i,nxe=Ug("Hours",!0);function ixe(r,e,t){return r>11?t?"pm":"PM":t?"am":"AM"}var bW={calendar:Yye,longDateFormat:qye,invalidDate:Jye,ordinal:e1e,dayOfMonthOrdinalParse:t1e,relativeTime:n1e,months:x1e,monthsShort:hW,week:I1e,weekdays:B1e,weekdaysMin:V1e,weekdaysShort:mW,meridiemParse:rxe},Lr={},Em={},C1;function axe(r,e){var t,n=Math.min(r.length,e.length);for(t=0;t<n;t+=1)if(r[t]!==e[t])return t;return n}function y8(r){return r&&r.toLowerCase().replace("_","-")}function sxe(r){for(var e=0,t,n,i,a;e<r.length;){for(a=y8(r[e]).split("-"),t=a.length,n=y8(r[e+1]),n=n?n.split("-"):null;t>0;){if(i=S2(a.slice(0,t).join("-")),i)return i;if(n&&n.length>=t&&axe(a,n)>=t-1)break;t--}e++}return C1}function oxe(r){return!!(r&&r.match("^[^/\\\\]*$"))}function S2(r){var e=null,t;if(Lr[r]===void 0&&typeof module<"u"&&module&&module.exports&&oxe(r))try{e=C1._abbr,t=require,t("./locale/"+r),Ph(e)}catch{Lr[r]=null}return Lr[r]}function Ph(r,e){var t;return r&&(ha(e)?t=oc(r):t=iO(r,e),t?C1=t:typeof console<"u"&&console.warn&&console.warn("Locale "+r+" not found. Did you forget to load it?")),C1._abbr}function iO(r,e){if(e!==null){var t,n=bW;if(e.abbr=r,Lr[r]!=null)nW("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Lr[r]._config;else if(e.parentLocale!=null)if(Lr[e.parentLocale]!=null)n=Lr[e.parentLocale]._config;else if(t=S2(e.parentLocale),t!=null)n=t._config;else return Em[e.parentLocale]||(Em[e.parentLocale]=[]),Em[e.parentLocale].push({name:r,config:e}),null;return Lr[r]=new KR(FM(n,e)),Em[r]&&Em[r].forEach(function(i){iO(i.name,i.config)}),Ph(r),Lr[r]}else return delete Lr[r],null}function lxe(r,e){if(e!=null){var t,n,i=bW;Lr[r]!=null&&Lr[r].parentLocale!=null?Lr[r].set(FM(Lr[r]._config,e)):(n=S2(r),n!=null&&(i=n._config),e=FM(i,e),n==null&&(e.abbr=r),t=new KR(e),t.parentLocale=Lr[r],Lr[r]=t),Ph(r)}else Lr[r]!=null&&(Lr[r].parentLocale!=null?(Lr[r]=Lr[r].parentLocale,r===Ph()&&Ph(r)):Lr[r]!=null&&delete Lr[r]);return Lr[r]}function oc(r){var e;if(r&&r._locale&&r._locale._abbr&&(r=r._locale._abbr),!r)return C1;if(!_o(r)){if(e=S2(r),e)return e;r=[r]}return sxe(r)}function uxe(){return NM(Lr)}function aO(r){var e,t=r._a;return t&&kt(r).overflow===-2&&(e=t[Lu]<0||t[Lu]>11?Lu:t[ul]<1||t[ul]>eO(t[Ai],t[Lu])?ul:t[An]<0||t[An]>24||t[An]===24&&(t[ho]!==0||t[Pu]!==0||t[ed]!==0)?An:t[ho]<0||t[ho]>59?ho:t[Pu]<0||t[Pu]>59?Pu:t[ed]<0||t[ed]>999?ed:-1,kt(r)._overflowDayOfYear&&(e<Ai||e>ul)&&(e=ul),kt(r)._overflowWeeks&&e===-1&&(e=d1e),kt(r)._overflowWeekday&&e===-1&&(e=p1e),kt(r).overflow=e),r}var cxe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hxe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fxe=/Z|[+-]\d\d(?::?\d\d)?/,hw=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],dxe=/^\/?Date\((-?\d+)/i,pxe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vxe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _W(r){var e,t,n=r._i,i=cxe.exec(n)||hxe.exec(n),a,s,o,l,u=hw.length,c=gE.length;if(i){for(kt(r).iso=!0,e=0,t=u;e<t;e++)if(hw[e][1].exec(i[1])){s=hw[e][0],a=hw[e][2]!==!1;break}if(s==null){r._isValid=!1;return}if(i[3]){for(e=0,t=c;e<t;e++)if(gE[e][1].exec(i[3])){o=(i[2]||" ")+gE[e][0];break}if(o==null){r._isValid=!1;return}}if(!a&&o!=null){r._isValid=!1;return}if(i[4])if(fxe.exec(i[4]))l="Z";else{r._isValid=!1;return}r._f=s+(o||"")+(l||""),oO(r)}else r._isValid=!1}function gxe(r,e,t,n,i,a){var s=[mxe(r),hW.indexOf(e),parseInt(t,10),parseInt(n,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function mxe(r){var e=parseInt(r,10);return e<=49?2e3+e:e<=999?1900+e:e}function yxe(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xxe(r,e,t){if(r){var n=mW.indexOf(r),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return kt(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function bxe(r,e,t){if(r)return vxe[r];if(e)return 0;var n=parseInt(t,10),i=n%100,a=(n-i)/100;return a*60+i}function wW(r){var e=pxe.exec(yxe(r._i)),t;if(e){if(t=gxe(e[4],e[3],e[2],e[5],e[6],e[7]),!xxe(e[1],t,r))return;r._a=t,r._tzm=bxe(e[8],e[9],e[10]),r._d=T1.apply(null,r._a),r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),kt(r).rfc2822=!0}else r._isValid=!1}function _xe(r){var e=dxe.exec(r._i);if(e!==null){r._d=new Date(+e[1]);return}if(_W(r),r._isValid===!1)delete r._isValid;else return;if(wW(r),r._isValid===!1)delete r._isValid;else return;r._strict?r._isValid=!1:Ne.createFromInputFallback(r)}Ne.createFromInputFallback=Ns("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(r){r._d=new Date(r._i+(r._useUTC?" UTC":""))});function Cv(r,e,t){return r??e??t}function wxe(r){var e=new Date(Ne.now());return r._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function sO(r){var e,t,n=[],i,a,s;if(!r._d){for(i=wxe(r),r._w&&r._a[ul]==null&&r._a[Lu]==null&&Sxe(r),r._dayOfYear!=null&&(s=Cv(r._a[Ai],i[Ai]),(r._dayOfYear>Fy(s)||r._dayOfYear===0)&&(kt(r)._overflowDayOfYear=!0),t=T1(s,0,r._dayOfYear),r._a[Lu]=t.getUTCMonth(),r._a[ul]=t.getUTCDate()),e=0;e<3&&r._a[e]==null;++e)r._a[e]=n[e]=i[e];for(;e<7;e++)r._a[e]=n[e]=r._a[e]==null?e===2?1:0:r._a[e];r._a[An]===24&&r._a[ho]===0&&r._a[Pu]===0&&r._a[ed]===0&&(r._nextDay=!0,r._a[An]=0),r._d=(r._useUTC?T1:D1e).apply(null,n),a=r._useUTC?r._d.getUTCDay():r._d.getDay(),r._tzm!=null&&r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),r._nextDay&&(r._a[An]=24),r._w&&typeof r._w.d<"u"&&r._w.d!==a&&(kt(r).weekdayMismatch=!0)}}function Sxe(r){var e,t,n,i,a,s,o,l,u;e=r._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,s=4,t=Cv(e.GG,r._a[Ai],A1(Ar(),1,4).year),n=Cv(e.W,1),i=Cv(e.E,1),(i<1||i>7)&&(l=!0)):(a=r._locale._week.dow,s=r._locale._week.doy,u=A1(Ar(),a,s),t=Cv(e.gg,r._a[Ai],u.year),n=Cv(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),n<1||n>Gu(t,a,s)?kt(r)._overflowWeeks=!0:l!=null?kt(r)._overflowWeekday=!0:(o=gW(t,n,i,a,s),r._a[Ai]=o.year,r._dayOfYear=o.dayOfYear)}Ne.ISO_8601=function(){};Ne.RFC_2822=function(){};function oO(r){if(r._f===Ne.ISO_8601){_W(r);return}if(r._f===Ne.RFC_2822){wW(r);return}r._a=[],kt(r).empty=!0;var e=""+r._i,t,n,i,a,s,o=e.length,l=0,u,c;for(i=iW(r._f,r._locale).match(jR)||[],c=i.length,t=0;t<c;t++)a=i[t],n=(e.match(c1e(a,r))||[])[0],n&&(s=e.substr(0,e.indexOf(n)),s.length>0&&kt(r).unusedInput.push(s),e=e.slice(e.indexOf(n)+n.length),l+=n.length),Zv[a]?(n?kt(r).empty=!1:kt(r).unusedTokens.push(a),f1e(a,n,r)):r._strict&&!n&&kt(r).unusedTokens.push(a);kt(r).charsLeftOver=o-l,e.length>0&&kt(r).unusedInput.push(e),r._a[An]<=12&&kt(r).bigHour===!0&&r._a[An]>0&&(kt(r).bigHour=void 0),kt(r).parsedDateParts=r._a.slice(0),kt(r).meridiem=r._meridiem,r._a[An]=Txe(r._locale,r._a[An],r._meridiem),u=kt(r).era,u!==null&&(r._a[Ai]=r._locale.erasConvertYear(u,r._a[Ai])),sO(r),aO(r)}function Txe(r,e,t){var n;return t==null?e:r.meridiemHour!=null?r.meridiemHour(e,t):(r.isPM!=null&&(n=r.isPM(t),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function Axe(r){var e,t,n,i,a,s,o=!1,l=r._f.length;if(l===0){kt(r).invalidFormat=!0,r._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,s=!1,e=XR({},r),r._useUTC!=null&&(e._useUTC=r._useUTC),e._f=r._f[i],oO(e),YR(e)&&(s=!0),a+=kt(e).charsLeftOver,a+=kt(e).unusedTokens.length*10,kt(e).score=a,o?a<n&&(n=a,t=e):(n==null||a<n||s)&&(n=a,t=e,s&&(o=!0));Ah(r,t||e)}function Cxe(r){if(!r._d){var e=qR(r._i),t=e.day===void 0?e.date:e.day;r._a=tW([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),sO(r)}}function kxe(r){var e=new Ub(aO(SW(r)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function SW(r){var e=r._i,t=r._f;return r._locale=r._locale||oc(r._l),e===null||t===void 0&&e===""?g2({nullInput:!0}):(typeof e=="string"&&(r._i=e=r._locale.preparse(e)),wo(e)?new Ub(aO(e)):($b(e)?r._d=e:_o(t)?Axe(r):t?oO(r):Exe(r),YR(r)||(r._d=null),r))}function Exe(r){var e=r._i;ha(e)?r._d=new Date(Ne.now()):$b(e)?r._d=new Date(e.valueOf()):typeof e=="string"?_xe(r):_o(e)?(r._a=tW(e.slice(0),function(t){return parseInt(t,10)}),sO(r)):gp(e)?Cxe(r):tc(e)?r._d=new Date(e):Ne.createFromInputFallback(r)}function TW(r,e,t,n,i){var a={};return(e===!0||e===!1)&&(n=e,e=void 0),(t===!0||t===!1)&&(n=t,t=void 0),(gp(r)&&WR(r)||_o(r)&&r.length===0)&&(r=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=t,a._i=r,a._f=e,a._strict=n,kxe(a)}function Ar(r,e,t,n){return TW(r,e,t,n,!1)}var Dxe=Ns("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=Ar.apply(null,arguments);return this.isValid()&&r.isValid()?r<this?this:r:g2()}),Mxe=Ns("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=Ar.apply(null,arguments);return this.isValid()&&r.isValid()?r>this?this:r:g2()});function AW(r,e){var t,n;if(e.length===1&&_o(e[0])&&(e=e[0]),!e.length)return Ar();for(t=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][r](t))&&(t=e[n]);return t}function Ixe(){var r=[].slice.call(arguments,0);return AW("isBefore",r)}function Lxe(){var r=[].slice.call(arguments,0);return AW("isAfter",r)}var Pxe=function(){return Date.now?Date.now():+new Date},Dm=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rxe(r){var e,t=!1,n,i=Dm.length;for(e in r)if(Zt(r,e)&&!(qr.call(Dm,e)!==-1&&(r[e]==null||!isNaN(r[e]))))return!1;for(n=0;n<i;++n)if(r[Dm[n]]){if(t)return!1;parseFloat(r[Dm[n]])!==Ft(r[Dm[n]])&&(t=!0)}return!0}function Oxe(){return this._isValid}function Fxe(){return Co(NaN)}function T2(r){var e=qR(r),t=e.year||0,n=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,s=e.day||0,o=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Rxe(e),this._milliseconds=+c+u*1e3+l*6e4+o*1e3*60*60,this._days=+s+a*7,this._months=+i+n*3+t*12,this._data={},this._locale=oc(),this._bubble()}function tS(r){return r instanceof T2}function VM(r){return r<0?Math.round(-1*r)*-1:Math.round(r)}function Nxe(r,e,t){var n=Math.min(r.length,e.length),i=Math.abs(r.length-e.length),a=0,s;for(s=0;s<n;s++)Ft(r[s])!==Ft(e[s])&&a++;return a+i}function CW(r,e){rt(r,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+Tl(~~(t/60),2)+e+Tl(~~t%60,2)})}CW("Z",":");CW("ZZ","");We("Z",_2);We("ZZ",_2);dr(["Z","ZZ"],function(r,e,t){t._useUTC=!0,t._tzm=lO(_2,r)});var Bxe=/([\+\-]|\d\d)/gi;function lO(r,e){var t=(e||"").match(r),n,i,a;return t===null?null:(n=t[t.length-1]||[],i=(n+"").match(Bxe)||["-",0,0],a=+(i[1]*60)+Ft(i[2]),a===0?0:i[0]==="+"?a:-a)}function uO(r,e){var t,n;return e._isUTC?(t=e.clone(),n=(wo(r)||$b(r)?r.valueOf():Ar(r).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+n),Ne.updateOffset(t,!1),t):Ar(r).local()}function zM(r){return-Math.round(r._d.getTimezoneOffset())}Ne.updateOffset=function(){};function Vxe(r,e,t){var n=this._offset||0,i;if(!this.isValid())return r!=null?this:NaN;if(r!=null){if(typeof r=="string"){if(r=lO(_2,r),r===null)return this}else Math.abs(r)<16&&!t&&(r=r*60);return!this._isUTC&&e&&(i=zM(this)),this._offset=r,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==r&&(!e||this._changeInProgress?DW(this,Co(r-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ne.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:zM(this)}function zxe(r,e){return r!=null?(typeof r!="string"&&(r=-r),this.utcOffset(r,e),this):-this.utcOffset()}function Hxe(r){return this.utcOffset(0,r)}function Gxe(r){return this._isUTC&&(this.utcOffset(0,r),this._isUTC=!1,r&&this.subtract(zM(this),"m")),this}function $xe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var r=lO(l1e,this._i);r!=null?this.utcOffset(r):this.utcOffset(0,!0)}return this}function Uxe(r){return this.isValid()?(r=r?Ar(r).utcOffset():0,(this.utcOffset()-r)%60===0):!1}function Wxe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yxe(){if(!ha(this._isDSTShifted))return this._isDSTShifted;var r={},e;return XR(r,this),r=SW(r),r._a?(e=r._isUTC?Pl(r._a):Ar(r._a),this._isDSTShifted=this.isValid()&&Nxe(r._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Xxe(){return this.isValid()?!this._isUTC:!1}function Kxe(){return this.isValid()?this._isUTC:!1}function kW(){return this.isValid()?this._isUTC&&this._offset===0:!1}var jxe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,qxe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Co(r,e){var t=r,n=null,i,a,s;return tS(r)?t={ms:r._milliseconds,d:r._days,M:r._months}:tc(r)||!isNaN(+r)?(t={},e?t[e]=+r:t.milliseconds=+r):(n=jxe.exec(r))?(i=n[1]==="-"?-1:1,t={y:0,d:Ft(n[ul])*i,h:Ft(n[An])*i,m:Ft(n[ho])*i,s:Ft(n[Pu])*i,ms:Ft(VM(n[ed]*1e3))*i}):(n=qxe.exec(r))?(i=n[1]==="-"?-1:1,t={y:kf(n[2],i),M:kf(n[3],i),w:kf(n[4],i),d:kf(n[5],i),h:kf(n[6],i),m:kf(n[7],i),s:kf(n[8],i)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(s=Zxe(Ar(t.from),Ar(t.to)),t={},t.ms=s.milliseconds,t.M=s.months),a=new T2(t),tS(r)&&Zt(r,"_locale")&&(a._locale=r._locale),tS(r)&&Zt(r,"_isValid")&&(a._isValid=r._isValid),a}Co.fn=T2.prototype;Co.invalid=Fxe;function kf(r,e){var t=r&&parseFloat(r.replace(",","."));return(isNaN(t)?0:t)*e}function x8(r,e){var t={};return t.months=e.month()-r.month()+(e.year()-r.year())*12,r.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+r.clone().add(t.months,"M"),t}function Zxe(r,e){var t;return r.isValid()&&e.isValid()?(e=uO(e,r),r.isBefore(e)?t=x8(r,e):(t=x8(e,r),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function EW(r,e){return function(t,n){var i,a;return n!==null&&!isNaN(+n)&&(nW(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=t,t=n,n=a),i=Co(t,n),DW(this,i,r),this}}function DW(r,e,t,n){var i=e._milliseconds,a=VM(e._days),s=VM(e._months);r.isValid()&&(n=n??!0,s&&dW(r,S1(r,"Month")+s*t),a&&cW(r,"Date",S1(r,"Date")+a*t),i&&r._d.setTime(r._d.valueOf()+i*t),n&&Ne.updateOffset(r,a||s))}var Jxe=EW(1,"add"),Qxe=EW(-1,"subtract");function MW(r){return typeof r=="string"||r instanceof String}function ebe(r){return wo(r)||$b(r)||MW(r)||tc(r)||rbe(r)||tbe(r)||r===null||r===void 0}function tbe(r){var e=gp(r)&&!WR(r),t=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,s=n.length;for(i=0;i<s;i+=1)a=n[i],t=t||Zt(r,a);return e&&t}function rbe(r){var e=_o(r),t=!1;return e&&(t=r.filter(function(n){return!tc(n)&&MW(r)}).length===0),e&&t}function nbe(r){var e=gp(r)&&!WR(r),t=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],t=t||Zt(r,a);return e&&t}function ibe(r,e){var t=r.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function abe(r,e){arguments.length===1&&(arguments[0]?ebe(arguments[0])?(r=arguments[0],e=void 0):nbe(arguments[0])&&(e=arguments[0],r=void 0):(r=void 0,e=void 0));var t=r||Ar(),n=uO(t,this).startOf("day"),i=Ne.calendarFormat(this,n)||"sameElse",a=e&&(Rl(e[i])?e[i].call(this,t):e[i]);return this.format(a||this.localeData().calendar(i,this,Ar(t)))}function sbe(){return new Ub(this)}function obe(r,e){var t=wo(r)?r:Ar(r);return this.isValid()&&t.isValid()?(e=Bs(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function lbe(r,e){var t=wo(r)?r:Ar(r);return this.isValid()&&t.isValid()?(e=Bs(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function ube(r,e,t,n){var i=wo(r)?r:Ar(r),a=wo(e)?e:Ar(e);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,t):!this.isBefore(i,t))&&(n[1]===")"?this.isBefore(a,t):!this.isAfter(a,t))):!1}function cbe(r,e){var t=wo(r)?r:Ar(r),n;return this.isValid()&&t.isValid()?(e=Bs(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(n=t.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function hbe(r,e){return this.isSame(r,e)||this.isAfter(r,e)}function fbe(r,e){return this.isSame(r,e)||this.isBefore(r,e)}function dbe(r,e,t){var n,i,a;if(!this.isValid())return NaN;if(n=uO(r,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=Bs(e),e){case"year":a=rS(this,n)/12;break;case"month":a=rS(this,n);break;case"quarter":a=rS(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return t?a:ws(a)}function rS(r,e){if(r.date()<e.date())return-rS(e,r);var t=(e.year()-r.year())*12+(e.month()-r.month()),n=r.clone().add(t,"months"),i,a;return e-n<0?(i=r.clone().add(t-1,"months"),a=(e-n)/(n-i)):(i=r.clone().add(t+1,"months"),a=(e-n)/(i-n)),-(t+a)||0}Ne.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ne.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function pbe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function vbe(r){if(!this.isValid())return null;var e=r!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?eS(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Rl(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",eS(t,"Z")):eS(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gbe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var r="moment",e="",t,n,i,a;return this.isLocal()||(r=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+r+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(t+n+i+a)}function mbe(r){r||(r=this.isUtc()?Ne.defaultFormatUtc:Ne.defaultFormat);var e=eS(this,r);return this.localeData().postformat(e)}function ybe(r,e){return this.isValid()&&(wo(r)&&r.isValid()||Ar(r).isValid())?Co({to:this,from:r}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xbe(r){return this.from(Ar(),r)}function bbe(r,e){return this.isValid()&&(wo(r)&&r.isValid()||Ar(r).isValid())?Co({from:this,to:r}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function _be(r){return this.to(Ar(),r)}function IW(r){var e;return r===void 0?this._locale._abbr:(e=oc(r),e!=null&&(this._locale=e),this)}var LW=Ns("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(r){return r===void 0?this.localeData():this.locale(r)});function PW(){return this._locale}var FT=1e3,Jv=60*FT,NT=60*Jv,RW=(365*400+97)*24*NT;function Qv(r,e){return(r%e+e)%e}function OW(r,e,t){return r<100&&r>=0?new Date(r+400,e,t)-RW:new Date(r,e,t).valueOf()}function FW(r,e,t){return r<100&&r>=0?Date.UTC(r+400,e,t)-RW:Date.UTC(r,e,t)}function wbe(r){var e,t;if(r=Bs(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?FW:OW,r){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Qv(e+(this._isUTC?0:this.utcOffset()*Jv),NT);break;case"minute":e=this._d.valueOf(),e-=Qv(e,Jv);break;case"second":e=this._d.valueOf(),e-=Qv(e,FT);break}return this._d.setTime(e),Ne.updateOffset(this,!0),this}function Sbe(r){var e,t;if(r=Bs(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?FW:OW,r){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=NT-Qv(e+(this._isUTC?0:this.utcOffset()*Jv),NT)-1;break;case"minute":e=this._d.valueOf(),e+=Jv-Qv(e,Jv)-1;break;case"second":e=this._d.valueOf(),e+=FT-Qv(e,FT)-1;break}return this._d.setTime(e),Ne.updateOffset(this,!0),this}function Tbe(){return this._d.valueOf()-(this._offset||0)*6e4}function Abe(){return Math.floor(this.valueOf()/1e3)}function Cbe(){return new Date(this.valueOf())}function kbe(){var r=this;return[r.year(),r.month(),r.date(),r.hour(),r.minute(),r.second(),r.millisecond()]}function Ebe(){var r=this;return{years:r.year(),months:r.month(),date:r.date(),hours:r.hours(),minutes:r.minutes(),seconds:r.seconds(),milliseconds:r.milliseconds()}}function Dbe(){return this.isValid()?this.toISOString():null}function Mbe(){return YR(this)}function Ibe(){return Ah({},kt(this))}function Lbe(){return kt(this).overflow}function Pbe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}rt("N",0,0,"eraAbbr");rt("NN",0,0,"eraAbbr");rt("NNN",0,0,"eraAbbr");rt("NNNN",0,0,"eraName");rt("NNNNN",0,0,"eraNarrow");rt("y",["y",1],"yo","eraYear");rt("y",["yy",2],0,"eraYear");rt("y",["yyy",3],0,"eraYear");rt("y",["yyyy",4],0,"eraYear");We("N",cO);We("NN",cO);We("NNN",cO);We("NNNN",Ube);We("NNNNN",Wbe);dr(["N","NN","NNN","NNNN","NNNNN"],function(r,e,t,n){var i=t._locale.erasParse(r,n,t._strict);i?kt(t).era=i:kt(t).invalidEra=r});We("y",Gg);We("yy",Gg);We("yyy",Gg);We("yyyy",Gg);We("yo",Ybe);dr(["y","yy","yyy","yyyy"],Ai);dr(["yo"],function(r,e,t,n){var i;t._locale._eraYearOrdinalRegex&&(i=r.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Ai]=t._locale.eraYearOrdinalParse(r,i):e[Ai]=parseInt(r,10)});function Rbe(r,e){var t,n,i,a=this._eras||oc("en")._eras;for(t=0,n=a.length;t<n;++t){switch(typeof a[t].since){case"string":i=Ne(a[t].since).startOf("day"),a[t].since=i.valueOf();break}switch(typeof a[t].until){case"undefined":a[t].until=1/0;break;case"string":i=Ne(a[t].until).startOf("day").valueOf(),a[t].until=i.valueOf();break}}return a}function Obe(r,e,t){var n,i,a=this.eras(),s,o,l;for(r=r.toUpperCase(),n=0,i=a.length;n<i;++n)if(s=a[n].name.toUpperCase(),o=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(o===r)return a[n];break;case"NNNN":if(s===r)return a[n];break;case"NNNNN":if(l===r)return a[n];break}else if([s,o,l].indexOf(r)>=0)return a[n]}function Fbe(r,e){var t=r.since<=r.until?1:-1;return e===void 0?Ne(r.since).year():Ne(r.since).year()+(e-r.offset)*t}function Nbe(){var r,e,t,n=this.localeData().eras();for(r=0,e=n.length;r<e;++r)if(t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return n[r].name;return""}function Bbe(){var r,e,t,n=this.localeData().eras();for(r=0,e=n.length;r<e;++r)if(t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return n[r].narrow;return""}function Vbe(){var r,e,t,n=this.localeData().eras();for(r=0,e=n.length;r<e;++r)if(t=this.clone().startOf("day").valueOf(),n[r].since<=t&&t<=n[r].until||n[r].until<=t&&t<=n[r].since)return n[r].abbr;return""}function zbe(){var r,e,t,n,i=this.localeData().eras();for(r=0,e=i.length;r<e;++r)if(t=i[r].since<=i[r].until?1:-1,n=this.clone().startOf("day").valueOf(),i[r].since<=n&&n<=i[r].until||i[r].until<=n&&n<=i[r].since)return(this.year()-Ne(i[r].since).year())*t+i[r].offset;return this.year()}function Hbe(r){return Zt(this,"_erasNameRegex")||hO.call(this),r?this._erasNameRegex:this._erasRegex}function Gbe(r){return Zt(this,"_erasAbbrRegex")||hO.call(this),r?this._erasAbbrRegex:this._erasRegex}function $be(r){return Zt(this,"_erasNarrowRegex")||hO.call(this),r?this._erasNarrowRegex:this._erasRegex}function cO(r,e){return e.erasAbbrRegex(r)}function Ube(r,e){return e.erasNameRegex(r)}function Wbe(r,e){return e.erasNarrowRegex(r)}function Ybe(r,e){return e._eraYearOrdinalRegex||Gg}function hO(){var r=[],e=[],t=[],n=[],i,a,s,o,l,u=this.eras();for(i=0,a=u.length;i<a;++i)s=Hu(u[i].name),o=Hu(u[i].abbr),l=Hu(u[i].narrow),e.push(s),r.push(o),t.push(l),n.push(s),n.push(o),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}rt(0,["gg",2],0,function(){return this.weekYear()%100});rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function A2(r,e){rt(0,[r,r.length],0,e)}A2("gggg","weekYear");A2("ggggg","weekYear");A2("GGGG","isoWeekYear");A2("GGGGG","isoWeekYear");We("G",b2);We("g",b2);We("GG",Cr,Za);We("gg",Cr,Za);We("GGGG",JR,ZR);We("gggg",JR,ZR);We("GGGGG",x2,m2);We("ggggg",x2,m2);Yb(["gggg","ggggg","GGGG","GGGGG"],function(r,e,t,n){e[n.substr(0,2)]=Ft(r)});Yb(["gg","GG"],function(r,e,t,n){e[n]=Ne.parseTwoDigitYear(r)});function Xbe(r){return NW.call(this,r,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Kbe(r){return NW.call(this,r,this.isoWeek(),this.isoWeekday(),1,4)}function jbe(){return Gu(this.year(),1,4)}function qbe(){return Gu(this.isoWeekYear(),1,4)}function Zbe(){var r=this.localeData()._week;return Gu(this.year(),r.dow,r.doy)}function Jbe(){var r=this.localeData()._week;return Gu(this.weekYear(),r.dow,r.doy)}function NW(r,e,t,n,i){var a;return r==null?A1(this,n,i).year:(a=Gu(r,n,i),e>a&&(e=a),Qbe.call(this,r,e,t,n,i))}function Qbe(r,e,t,n,i){var a=gW(r,e,t,n,i),s=T1(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}rt("Q",0,"Qo","quarter");We("Q",aW);dr("Q",function(r,e){e[Lu]=(Ft(r)-1)*3});function e_e(r){return r==null?Math.ceil((this.month()+1)/3):this.month((r-1)*3+this.month()%3)}rt("D",["DD",2],"Do","date");We("D",Cr,$g);We("DD",Cr,Za);We("Do",function(r,e){return r?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});dr(["D","DD"],ul);dr("Do",function(r,e){e[ul]=Ft(r.match(Cr)[0])});var BW=Ug("Date",!0);rt("DDD",["DDDD",3],"DDDo","dayOfYear");We("DDD",y2);We("DDDD",sW);dr(["DDD","DDDD"],function(r,e,t){t._dayOfYear=Ft(r)});function t_e(r){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return r==null?e:this.add(r-e,"d")}rt("m",["mm",2],0,"minute");We("m",Cr,QR);We("mm",Cr,Za);dr(["m","mm"],ho);var r_e=Ug("Minutes",!1);rt("s",["ss",2],0,"second");We("s",Cr,QR);We("ss",Cr,Za);dr(["s","ss"],Pu);var n_e=Ug("Seconds",!1);rt("S",0,0,function(){return~~(this.millisecond()/100)});rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});rt(0,["SSS",3],0,"millisecond");rt(0,["SSSS",4],0,function(){return this.millisecond()*10});rt(0,["SSSSS",5],0,function(){return this.millisecond()*100});rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});We("S",y2,aW);We("SS",y2,Za);We("SSS",y2,sW);var Ch,VW;for(Ch="SSSS";Ch.length<=9;Ch+="S")We(Ch,Gg);function i_e(r,e){e[ed]=Ft(("0."+r)*1e3)}for(Ch="S";Ch.length<=9;Ch+="S")dr(Ch,i_e);VW=Ug("Milliseconds",!1);rt("z",0,0,"zoneAbbr");rt("zz",0,0,"zoneName");function a_e(){return this._isUTC?"UTC":""}function s_e(){return this._isUTC?"Coordinated Universal Time":""}var ke=Ub.prototype;ke.add=Jxe;ke.calendar=abe;ke.clone=sbe;ke.diff=dbe;ke.endOf=Sbe;ke.format=mbe;ke.from=ybe;ke.fromNow=xbe;ke.to=bbe;ke.toNow=_be;ke.get=g1e;ke.invalidAt=Lbe;ke.isAfter=obe;ke.isBefore=lbe;ke.isBetween=ube;ke.isSame=cbe;ke.isSameOrAfter=hbe;ke.isSameOrBefore=fbe;ke.isValid=Mbe;ke.lang=LW;ke.locale=IW;ke.localeData=PW;ke.max=Mxe;ke.min=Dxe;ke.parsingFlags=Ibe;ke.set=m1e;ke.startOf=wbe;ke.subtract=Qxe;ke.toArray=kbe;ke.toObject=Ebe;ke.toDate=Cbe;ke.toISOString=vbe;ke.inspect=gbe;typeof Symbol<"u"&&Symbol.for!=null&&(ke[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ke.toJSON=Dbe;ke.toString=pbe;ke.unix=Abe;ke.valueOf=Tbe;ke.creationData=Pbe;ke.eraName=Nbe;ke.eraNarrow=Bbe;ke.eraAbbr=Vbe;ke.eraYear=zbe;ke.year=uW;ke.isLeapYear=v1e;ke.weekYear=Xbe;ke.isoWeekYear=Kbe;ke.quarter=ke.quarters=e_e;ke.month=pW;ke.daysInMonth=C1e;ke.week=ke.weeks=R1e;ke.isoWeek=ke.isoWeeks=O1e;ke.weeksInYear=Zbe;ke.weeksInWeekYear=Jbe;ke.isoWeeksInYear=jbe;ke.isoWeeksInISOWeekYear=qbe;ke.date=BW;ke.day=ke.days=K1e;ke.weekday=j1e;ke.isoWeekday=q1e;ke.dayOfYear=t_e;ke.hour=ke.hours=nxe;ke.minute=ke.minutes=r_e;ke.second=ke.seconds=n_e;ke.millisecond=ke.milliseconds=VW;ke.utcOffset=Vxe;ke.utc=Hxe;ke.local=Gxe;ke.parseZone=$xe;ke.hasAlignedHourOffset=Uxe;ke.isDST=Wxe;ke.isLocal=Xxe;ke.isUtcOffset=Kxe;ke.isUtc=kW;ke.isUTC=kW;ke.zoneAbbr=a_e;ke.zoneName=s_e;ke.dates=Ns("dates accessor is deprecated. Use date instead.",BW);ke.months=Ns("months accessor is deprecated. Use month instead",pW);ke.years=Ns("years accessor is deprecated. Use year instead",uW);ke.zone=Ns("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zxe);ke.isDSTShifted=Ns("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Yxe);function o_e(r){return Ar(r*1e3)}function l_e(){return Ar.apply(null,arguments).parseZone()}function zW(r){return r}var Qt=KR.prototype;Qt.calendar=Xye;Qt.longDateFormat=Zye;Qt.invalidDate=Qye;Qt.ordinal=r1e;Qt.preparse=zW;Qt.postformat=zW;Qt.relativeTime=i1e;Qt.pastFuture=a1e;Qt.set=Wye;Qt.eras=Rbe;Qt.erasParse=Obe;Qt.erasConvertYear=Fbe;Qt.erasAbbrRegex=Gbe;Qt.erasNameRegex=Hbe;Qt.erasNarrowRegex=$be;Qt.months=w1e;Qt.monthsShort=S1e;Qt.monthsParse=A1e;Qt.monthsRegex=E1e;Qt.monthsShortRegex=k1e;Qt.week=M1e;Qt.firstDayOfYear=P1e;Qt.firstDayOfWeek=L1e;Qt.weekdays=$1e;Qt.weekdaysMin=W1e;Qt.weekdaysShort=U1e;Qt.weekdaysParse=X1e;Qt.weekdaysRegex=Z1e;Qt.weekdaysShortRegex=J1e;Qt.weekdaysMinRegex=Q1e;Qt.isPM=txe;Qt.meridiem=ixe;function BT(r,e,t,n){var i=oc(),a=Pl().set(n,e);return i[t](a,r)}function HW(r,e,t){if(tc(r)&&(e=r,r=void 0),r=r||"",e!=null)return BT(r,e,t,"month");var n,i=[];for(n=0;n<12;n++)i[n]=BT(r,n,t,"month");return i}function fO(r,e,t,n){typeof r=="boolean"?(tc(e)&&(t=e,e=void 0),e=e||""):(e=r,t=e,r=!1,tc(e)&&(t=e,e=void 0),e=e||"");var i=oc(),a=r?i._week.dow:0,s,o=[];if(t!=null)return BT(e,(t+a)%7,n,"day");for(s=0;s<7;s++)o[s]=BT(e,(s+a)%7,n,"day");return o}function u_e(r,e){return HW(r,e,"months")}function c_e(r,e){return HW(r,e,"monthsShort")}function h_e(r,e,t){return fO(r,e,t,"weekdays")}function f_e(r,e,t){return fO(r,e,t,"weekdaysShort")}function d_e(r,e,t){return fO(r,e,t,"weekdaysMin")}Ph("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(r){var e=r%10,t=Ft(r%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return r+t}});Ne.lang=Ns("moment.lang is deprecated. Use moment.locale instead.",Ph);Ne.langData=Ns("moment.langData is deprecated. Use moment.localeData instead.",oc);var Hl=Math.abs;function p_e(){var r=this._data;return this._milliseconds=Hl(this._milliseconds),this._days=Hl(this._days),this._months=Hl(this._months),r.milliseconds=Hl(r.milliseconds),r.seconds=Hl(r.seconds),r.minutes=Hl(r.minutes),r.hours=Hl(r.hours),r.months=Hl(r.months),r.years=Hl(r.years),this}function GW(r,e,t,n){var i=Co(e,t);return r._milliseconds+=n*i._milliseconds,r._days+=n*i._days,r._months+=n*i._months,r._bubble()}function v_e(r,e){return GW(this,r,e,1)}function g_e(r,e){return GW(this,r,e,-1)}function b8(r){return r<0?Math.floor(r):Math.ceil(r)}function m_e(){var r=this._milliseconds,e=this._days,t=this._months,n=this._data,i,a,s,o,l;return r>=0&&e>=0&&t>=0||r<=0&&e<=0&&t<=0||(r+=b8(HM(t)+e)*864e5,e=0,t=0),n.milliseconds=r%1e3,i=ws(r/1e3),n.seconds=i%60,a=ws(i/60),n.minutes=a%60,s=ws(a/60),n.hours=s%24,e+=ws(s/24),l=ws($W(e)),t+=l,e-=b8(HM(l)),o=ws(t/12),t%=12,n.days=e,n.months=t,n.years=o,this}function $W(r){return r*4800/146097}function HM(r){return r*146097/4800}function y_e(r){if(!this.isValid())return NaN;var e,t,n=this._milliseconds;if(r=Bs(r),r==="month"||r==="quarter"||r==="year")switch(e=this._days+n/864e5,t=this._months+$W(e),r){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(HM(this._months)),r){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+r)}}function lc(r){return function(){return this.as(r)}}var UW=lc("ms"),x_e=lc("s"),b_e=lc("m"),__e=lc("h"),w_e=lc("d"),S_e=lc("w"),T_e=lc("M"),A_e=lc("Q"),C_e=lc("y"),k_e=UW;function E_e(){return Co(this)}function D_e(r){return r=Bs(r),this.isValid()?this[r+"s"]():NaN}function Hp(r){return function(){return this.isValid()?this._data[r]:NaN}}var M_e=Hp("milliseconds"),I_e=Hp("seconds"),L_e=Hp("minutes"),P_e=Hp("hours"),R_e=Hp("days"),O_e=Hp("months"),F_e=Hp("years");function N_e(){return ws(this.days()/7)}var Kl=Math.round,zv={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function B_e(r,e,t,n,i){return i.relativeTime(e||1,!!t,r,n)}function V_e(r,e,t,n){var i=Co(r).abs(),a=Kl(i.as("s")),s=Kl(i.as("m")),o=Kl(i.as("h")),l=Kl(i.as("d")),u=Kl(i.as("M")),c=Kl(i.as("w")),h=Kl(i.as("y")),f=a<=t.ss&&["s",a]||a<t.s&&["ss",a]||s<=1&&["m"]||s<t.m&&["mm",s]||o<=1&&["h"]||o<t.h&&["hh",o]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(f=f||c<=1&&["w"]||c<t.w&&["ww",c]),f=f||u<=1&&["M"]||u<t.M&&["MM",u]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+r>0,f[4]=n,B_e.apply(null,f)}function z_e(r){return r===void 0?Kl:typeof r=="function"?(Kl=r,!0):!1}function H_e(r,e){return zv[r]===void 0?!1:e===void 0?zv[r]:(zv[r]=e,r==="s"&&(zv.ss=e-1),!0)}function G_e(r,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,n=zv,i,a;return typeof r=="object"&&(e=r,r=!1),typeof r=="boolean"&&(t=r),typeof e=="object"&&(n=Object.assign({},zv,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),a=V_e(this,!t,n,i),t&&(a=i.pastFuture(+this,a)),i.postformat(a)}var mE=Math.abs;function xv(r){return(r>0)-(r<0)||+r}function C2(){if(!this.isValid())return this.localeData().invalidDate();var r=mE(this._milliseconds)/1e3,e=mE(this._days),t=mE(this._months),n,i,a,s,o=this.asSeconds(),l,u,c,h;return o?(n=ws(r/60),i=ws(n/60),r%=60,n%=60,a=ws(t/12),t%=12,s=r?r.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",u=xv(this._months)!==xv(o)?"-":"",c=xv(this._days)!==xv(o)?"-":"",h=xv(this._milliseconds)!==xv(o)?"-":"",l+"P"+(a?u+a+"Y":"")+(t?u+t+"M":"")+(e?c+e+"D":"")+(i||n||r?"T":"")+(i?h+i+"H":"")+(n?h+n+"M":"")+(r?h+s+"S":"")):"P0D"}var Wt=T2.prototype;Wt.isValid=Oxe;Wt.abs=p_e;Wt.add=v_e;Wt.subtract=g_e;Wt.as=y_e;Wt.asMilliseconds=UW;Wt.asSeconds=x_e;Wt.asMinutes=b_e;Wt.asHours=__e;Wt.asDays=w_e;Wt.asWeeks=S_e;Wt.asMonths=T_e;Wt.asQuarters=A_e;Wt.asYears=C_e;Wt.valueOf=k_e;Wt._bubble=m_e;Wt.clone=E_e;Wt.get=D_e;Wt.milliseconds=M_e;Wt.seconds=I_e;Wt.minutes=L_e;Wt.hours=P_e;Wt.days=R_e;Wt.weeks=N_e;Wt.months=O_e;Wt.years=F_e;Wt.humanize=G_e;Wt.toISOString=C2;Wt.toString=C2;Wt.toJSON=C2;Wt.locale=IW;Wt.localeData=PW;Wt.toIsoString=Ns("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",C2);Wt.lang=LW;rt("X",0,0,"unix");rt("x",0,0,"valueOf");We("x",b2);We("X",u1e);dr("X",function(r,e,t){t._d=new Date(parseFloat(r)*1e3)});dr("x",function(r,e,t){t._d=new Date(Ft(r))});//! moment.js
Ne.version="2.30.1";$ye(Ar);Ne.fn=ke;Ne.min=Ixe;Ne.max=Lxe;Ne.now=Pxe;Ne.utc=Pl;Ne.unix=o_e;Ne.months=u_e;Ne.isDate=$b;Ne.locale=Ph;Ne.invalid=g2;Ne.duration=Co;Ne.isMoment=wo;Ne.weekdays=h_e;Ne.parseZone=l_e;Ne.localeData=oc;Ne.isDuration=tS;Ne.monthsShort=c_e;Ne.weekdaysMin=d_e;Ne.defineLocale=iO;Ne.updateLocale=lxe;Ne.locales=uxe;Ne.weekdaysShort=f_e;Ne.normalizeUnits=Bs;Ne.relativeTimeRounding=z_e;Ne.relativeTimeThreshold=H_e;Ne.calendarFormat=ibe;Ne.prototype=ke;Ne.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var WW={name:"BlankIcon",extends:xb};function $_e(r,e,t,n,i,a){return pe(),xe("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[me("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1)]),16)}WW.render=$_e;var YW={name:"SearchIcon",extends:xb};function U_e(r,e,t,n,i,a){return pe(),xe("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.pti()),e[0]||(e[0]=[me("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1)]),16)}YW.render=U_e;var W_e=({dt:r})=>`
.p-iconfield {
    position: relative;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (${r("icon.size")} / 2));
    color: ${r("iconfield.icon.color")};
    line-height: 1;
    z-index: 1;
}

.p-iconfield .p-inputicon:first-child {
    inset-inline-start: ${r("form.field.padding.x")};
}

.p-iconfield .p-inputicon:last-child {
    inset-inline-end: ${r("form.field.padding.x")};
}

.p-iconfield .p-inputtext:not(:first-child),
.p-iconfield .p-inputwrapper:not(:first-child) .p-inputtext {
    padding-inline-start: calc((${r("form.field.padding.x")} * 2) + ${r("icon.size")});
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-inline-end: calc((${r("form.field.padding.x")} * 2) + ${r("icon.size")});
}

.p-iconfield:has(.p-inputfield-sm) .p-inputicon {
    font-size: ${r("form.field.sm.font.size")};
    width: ${r("form.field.sm.font.size")};
    height: ${r("form.field.sm.font.size")};
    margin-top: calc(-1 * (${r("form.field.sm.font.size")} / 2));
}

.p-iconfield:has(.p-inputfield-lg) .p-inputicon {
    font-size: ${r("form.field.lg.font.size")};
    width: ${r("form.field.lg.font.size")};
    height: ${r("form.field.lg.font.size")};
    margin-top: calc(-1 * (${r("form.field.lg.font.size")} / 2));
}
`,Y_e={root:"p-iconfield"},X_e=ia.extend({name:"iconfield",style:W_e,classes:Y_e}),K_e={name:"BaseIconField",extends:Dl,style:X_e,provide:function(){return{$pcIconField:this,$parentInstance:this}}},XW={name:"IconField",extends:K_e,inheritAttrs:!1};function j_e(r,e,t,n,i,a){return pe(),xe("div",le({class:r.cx("root")},r.ptmi("root")),[ot(r.$slots,"default")],16)}XW.render=j_e;var q_e={root:"p-inputicon"},Z_e=ia.extend({name:"inputicon",classes:q_e}),J_e={name:"BaseInputIcon",extends:Dl,style:Z_e,props:{class:null},provide:function(){return{$pcInputIcon:this,$parentInstance:this}}},KW={name:"InputIcon",extends:J_e,inheritAttrs:!1,computed:{containerClass:function(){return[this.cx("root"),this.class]}}};function Q_e(r,e,t,n,i,a){return pe(),xe("span",le({class:a.containerClass},r.ptmi("root")),[ot(r.$slots,"default")],16)}KW.render=Q_e;var ewe=({dt:r})=>`
.p-virtualscroller-loader {
    background: ${r("virtualscroller.loader.mask.background")};
    color: ${r("virtualscroller.loader.mask.color")};
}

.p-virtualscroller-loading-icon {
    font-size: ${r("virtualscroller.loader.icon.size")};
    width: ${r("virtualscroller.loader.icon.size")};
    height: ${r("virtualscroller.loader.icon.size")};
}
`,twe=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,_8=ia.extend({name:"virtualscroller",css:twe,style:ewe}),rwe={name:"BaseVirtualScroller",extends:Dl,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:_8,provide:function(){return{$pcVirtualScroller:this,$parentInstance:this}},beforeMount:function(){var e;_8.loadCSS({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function k1(r){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k1(r)}function w8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Mm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(t),!0).forEach(function(n){jW(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):w8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function jW(r,e,t){return(e=nwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function nwe(r){var e=iwe(r,"string");return k1(e)=="symbol"?e:e+""}function iwe(r,e){if(k1(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var qW={name:"VirtualScroller",extends:rwe,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,t){this.lazy&&e!==t&&e!==this.d_loading&&(this.d_loading=e)},items:{handler:function(e,t){(!t||t.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},deep:!0},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){VS(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Ac(this.element),this.defaultHeight=_v(this.element),this.defaultContentWidth=Ac(this.content),this.defaultContentHeight=_v(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),a=this.isHorizontal(),s=i?e.every(function(T){return T>-1}):e>-1;if(s){var o=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,d=this.calculateNumItems(),p=d.numToleratedItems,v=this.getContentPosition(),g=this.itemSize,m=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1?arguments[1]:void 0;return A<=C?0:A},x=function(A,C,k){return A*C+k},y=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.scrollTo({left:A,top:C,behavior:n})},_=i?{rows:0,cols:0}:0,S=!1,w=!1;i?(_={rows:m(e[0],p[0]),cols:m(e[1],p[1])},y(x(_.cols,g[1],v.left),x(_.rows,g[0],v.top)),w=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,S=_.rows!==o.rows||_.cols!==o.cols):(_=m(e,p),a?y(x(_,g,v.left),c):y(f,x(_,g,v.top)),w=this.lastScrollPos!==(a?f:c),S=_!==o),this.isRangeChanged=S,w&&(this.first=_)}},scrollInView:function(e,t){var n=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(t){var a=this.isBoth(),s=this.isHorizontal(),o=a?e.every(function(g){return g>-1}):e>-1;if(o){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:m,top:x,behavior:i})},f=t==="to-start",d=t==="to-end";if(f){if(a)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var p=(c.first-1)*this.itemSize;s?h(p,0):h(0,p)}}else if(d){if(a)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var v=(c.first+1)*this.itemSize;s?h(v,0):h(0,v)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},t=this.first,n=0;if(this.element){var i=this.isBoth(),a=this.isHorizontal(),s=this.element,o=s.scrollTop,l=s.scrollLeft;if(i)t={rows:e(o,this.itemSize[0]),cols:e(l,this.itemSize[1])},n={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols};else{var u=a?l:o;t=e(u,this.itemSize),n=t+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:t,last:n}}},calculateNumItems:function(){var e=this.isBoth(),t=this.isHorizontal(),n=this.itemSize,i=this.getContentPosition(),a=this.element?this.element.offsetWidth-i.left:0,s=this.element?this.element.offsetHeight-i.top:0,o=function(f,d){return Math.ceil(f/(d||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:o(s,n[0]),cols:o(a,n[1])}:o(t?a:s,n),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,t=this.isBoth(),n=this.first,i=this.calculateNumItems(),a=i.numItemsInViewport,s=i.numToleratedItems,o=function(c,h,f){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,d)},l=t?{rows:o(n.rows,a.rows,s[0]),cols:o(n.cols,a.cols,s[1],!0)}:o(n,a,s);this.last=l,this.numItemsInViewport=a,this.d_numToleratedItems=s,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=t?Array.from({length:a.rows}).map(function(){return Array.from({length:a.cols})}):Array.from({length:a})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?t?{rows:0,cols:n.cols}:0:n,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)-1||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var t=e.isBoth(),n=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var a=[Ac(e.element),_v(e.element)],s=a[0],o=a[1];(t||n)&&(e.element.style.width=s<e.defaultWidth?s+"px":e.scrollWidth||e.defaultWidth+"px"),(t||i)&&(e.element.style.height=o<e.defaultHeight?o+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((t=this.items)===null||t===void 0?void 0:t.length)||0,n):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),a=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:n,top:i,bottom:a,x:t+n,y:i+a}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var t=this.isBoth(),n=this.isHorizontal(),i=this.element.parentElement,a=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),s=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),o=function(u,c){return e.element.style[u]=c};t||n?(o("height",s),o("width",a)):o("height",s)}},setSpacerSize:function(){var e=this,t=this.items;if(t){var n=this.isBoth(),i=this.isHorizontal(),a=this.getContentPosition(),s=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Mm(Mm({},e.spacerStyle),jW({},"".concat(l),(u||[]).length*c+h+"px"))};n?(s("height",t,this.itemSize[0],a.y),s("width",this.columns||t[1],this.itemSize[1],a.x)):i?s("width",this.columns||t,this.itemSize,a.x):s("height",t,this.itemSize,a.y)}},setContentPosition:function(e){var t=this;if(this.content&&!this.appendOnly){var n=this.isBoth(),i=this.isHorizontal(),a=e?e.first:this.first,s=function(c,h){return c*h},o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.contentStyle=Mm(Mm({},t.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(n)o(s(a.cols,this.itemSize[1]),s(a.rows,this.itemSize[0]));else{var l=s(a,this.itemSize);i?o(l,0):o(0,l)}}},onScrollPositionChange:function(e){var t=this,n=e.target,i=this.isBoth(),a=this.isHorizontal(),s=this.getContentPosition(),o=function(E,D){return E?E>D?E-D:E:0},l=function(E,D){return Math.floor(E/(D||E))},u=function(E,D,I,P,F,V){return E<=F?F:V?I-P-F:D+F-1},c=function(E,D,I,P,F,V,z,G){if(E<=V)return 0;var O=Math.max(0,z?E<D?I:E-V:E>D?I:E-2*V),ee=t.getLast(O,G);return O>ee?ee-F:O},h=function(E,D,I,P,F,V){var z=D+P+2*F;return E>=F&&(z+=F+1),t.getLast(z,V)},f=o(n.scrollTop,s.top),d=o(n.scrollLeft,s.left),p=i?{rows:0,cols:0}:0,v=this.last,g=!1,m=this.lastScrollPos;if(i){var x=this.lastScrollPos.top<=f,y=this.lastScrollPos.left<=d;if(!this.appendOnly||this.appendOnly&&(x||y)){var _={rows:l(f,this.itemSize[0]),cols:l(d,this.itemSize[1])},S={rows:u(_.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],x),cols:u(_.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],y)};p={rows:c(_.rows,S.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],x),cols:c(_.cols,S.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],y,!0)},v={rows:h(_.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(_.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},g=p.rows!==this.first.rows||v.rows!==this.last.rows||p.cols!==this.first.cols||v.cols!==this.last.cols||this.isRangeChanged,m={top:f,left:d}}}else{var w=a?d:f,T=this.lastScrollPos<=w;if(!this.appendOnly||this.appendOnly&&T){var A=l(w,this.itemSize),C=u(A,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,T);p=c(A,C,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,T),v=h(A,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),g=p!==this.first||v!==this.last||this.isRangeChanged,m=w}}return{first:p,last:v,isRangeChanged:g,scrollPos:m}},onScrollChange:function(e){var t=this.onScrollPositionChange(e),n=t.first,i=t.last,a=t.isRangeChanged,s=t.scrollPos;if(a){var o={first:n,last:i};if(this.setContentPosition(o),this.first=n,this.last=i,this.lastScrollPos=s,this.$emit("scroll-index-change",o),this.lazy&&this.isPageChanged(n)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(n)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):n,last:Math.min(this.step?(this.getPageByFirst(n)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)-1||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var t=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var n=this.onScrollPositionChange(e),i=n.isRangeChanged,a=i||(this.step?this.isPageChanged():!1);a&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){t.onScrollChange(e),t.d_loading&&t.showLoader&&(!t.lazy||t.loading===void 0)&&(t.d_loading=!1,t.page=t.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(VS(e.element)){var t=e.isBoth(),n=e.isVertical(),i=e.isHorizontal(),a=[Ac(e.element),_v(e.element)],s=a[0],o=a[1],l=s!==e.defaultWidth,u=o!==e.defaultHeight,c=t?l||u:i?l:n?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=s,e.defaultHeight=o,e.defaultContentWidth=Ac(e.content),e.defaultContentHeight=_v(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var t=(this.items||[]).length,n=this.isBoth()?this.first.rows+e:this.first+e;return{index:n,count:t,first:n===0,last:n===t-1,even:n%2===0,odd:n%2!==0}},getLoaderOptions:function(e,t){var n=this.loaderArr.length;return Mm({index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0},t)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step&&!this.lazy?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||va(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-virtualscroller-loader-mask":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(t){return e.columns?t:t.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:sz}},awe=["tabindex"];function swe(r,e,t,n,i,a){var s=ei("SpinnerIcon");return r.disabled?(pe(),xe(zr,{key:1},[ot(r.$slots,"default"),ot(r.$slots,"content",{items:r.items,rows:r.items,columns:a.loadedColumns})],64)):(pe(),xe("div",le({key:0,ref:a.elementRef,class:a.containerClass,tabindex:r.tabindex,style:r.style,onScroll:e[0]||(e[0]=function(){return a.onScroll&&a.onScroll.apply(a,arguments)})},r.ptmi("root")),[ot(r.$slots,"content",{styleClass:a.contentClass,items:a.loadedItems,getItemOptions:a.getOptions,loading:i.d_loading,getLoaderOptions:a.getLoaderOptions,itemSize:r.itemSize,rows:a.loadedRows,columns:a.loadedColumns,contentRef:a.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:a.isVertical(),horizontal:a.isHorizontal(),both:a.isBoth()},function(){return[me("div",le({ref:a.contentRef,class:a.contentClass,style:i.contentStyle},r.ptm("content")),[(pe(!0),xe(zr,null,xs(a.loadedItems,function(o,l){return ot(r.$slots,"item",{key:l,item:o,options:a.getOptions(l)})}),128))],16)]}),r.showSpacer?(pe(),xe("div",le({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},r.ptm("spacer")),null,16)):it("",!0),!r.loaderDisabled&&r.showLoader&&i.d_loading?(pe(),xe("div",le({key:1,class:a.loaderClass},r.ptm("loader")),[r.$slots&&r.$slots.loader?(pe(!0),xe(zr,{key:0},xs(i.loaderArr,function(o,l){return ot(r.$slots,"loader",{key:l,options:a.getLoaderOptions(l,a.isBoth()&&{numCols:r.d_numItemsInViewport.cols})})}),128)):it("",!0),ot(r.$slots,"loadingicon",{},function(){return[Ze(s,le({spin:"",class:"p-virtualscroller-loading-icon"},r.ptm("loadingIcon")),null,16)]})],16)):it("",!0)],16,awe))}qW.render=swe;var owe=({dt:r})=>`
.p-select {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: ${r("select.background")};
    border: 1px solid ${r("select.border.color")};
    transition: background ${r("select.transition.duration")}, color ${r("select.transition.duration")}, border-color ${r("select.transition.duration")},
        outline-color ${r("select.transition.duration")}, box-shadow ${r("select.transition.duration")};
    border-radius: ${r("select.border.radius")};
    outline-color: transparent;
    box-shadow: ${r("select.shadow")};
}

.p-select:not(.p-disabled):hover {
    border-color: ${r("select.hover.border.color")};
}

.p-select:not(.p-disabled).p-focus {
    border-color: ${r("select.focus.border.color")};
    box-shadow: ${r("select.focus.ring.shadow")};
    outline: ${r("select.focus.ring.width")} ${r("select.focus.ring.style")} ${r("select.focus.ring.color")};
    outline-offset: ${r("select.focus.ring.offset")};
}

.p-select.p-variant-filled {
    background: ${r("select.filled.background")};
}

.p-select.p-variant-filled:not(.p-disabled):hover {
    background: ${r("select.filled.hover.background")};
}

.p-select.p-variant-filled:not(.p-disabled).p-focus {
    background: ${r("select.filled.focus.background")};
}

.p-select.p-invalid {
    border-color: ${r("select.invalid.border.color")};
}

.p-select.p-disabled {
    opacity: 1;
    background: ${r("select.disabled.background")};
}

.p-select-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: ${r("select.clear.icon.color")};
    inset-inline-end: ${r("select.dropdown.width")};
}

.p-select-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${r("select.dropdown.color")};
    width: ${r("select.dropdown.width")};
    border-start-end-radius: ${r("select.border.radius")};
    border-end-end-radius: ${r("select.border.radius")};
}

.p-select-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    padding: ${r("select.padding.y")} ${r("select.padding.x")};
    text-overflow: ellipsis;
    cursor: pointer;
    color: ${r("select.color")};
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-select-label.p-placeholder {
    color: ${r("select.placeholder.color")};
}

.p-select.p-invalid .p-select-label.p-placeholder {
    color: ${r("select.invalid.placeholder.color")};
}

.p-select:has(.p-select-clear-icon) .p-select-label {
    padding-inline-end: calc(1rem + ${r("select.padding.x")});
}

.p-select.p-disabled .p-select-label {
    color: ${r("select.disabled.color")};
}

.p-select-label-empty {
    overflow: hidden;
    opacity: 0;
}

input.p-select-label {
    cursor: default;
}

.p-select .p-select-overlay {
    min-width: 100%;
}

.p-select-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: ${r("select.overlay.background")};
    color: ${r("select.overlay.color")};
    border: 1px solid ${r("select.overlay.border.color")};
    border-radius: ${r("select.overlay.border.radius")};
    box-shadow: ${r("select.overlay.shadow")};
}

.p-select-header {
    padding: ${r("select.list.header.padding")};
}

.p-select-filter {
    width: 100%;
}

.p-select-list-container {
    overflow: auto;
}

.p-select-option-group {
    cursor: auto;
    margin: 0;
    padding: ${r("select.option.group.padding")};
    background: ${r("select.option.group.background")};
    color: ${r("select.option.group.color")};
    font-weight: ${r("select.option.group.font.weight")};
}

.p-select-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: ${r("select.list.padding")};
    gap: ${r("select.list.gap")};
    display: flex;
    flex-direction: column;
}

.p-select-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: ${r("select.option.padding")};
    border: 0 none;
    color: ${r("select.option.color")};
    background: transparent;
    transition: background ${r("select.transition.duration")}, color ${r("select.transition.duration")}, border-color ${r("select.transition.duration")},
            box-shadow ${r("select.transition.duration")}, outline-color ${r("select.transition.duration")};
    border-radius: ${r("select.option.border.radius")};
}

.p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
    background: ${r("select.option.focus.background")};
    color: ${r("select.option.focus.color")};
}

.p-select-option.p-select-option-selected {
    background: ${r("select.option.selected.background")};
    color: ${r("select.option.selected.color")};
}

.p-select-option.p-select-option-selected.p-focus {
    background: ${r("select.option.selected.focus.background")};
    color: ${r("select.option.selected.focus.color")};
}

.p-select-option-blank-icon {
    flex-shrink: 0;
}

.p-select-option-check-icon {
    position: relative;
    flex-shrink: 0;
    margin-inline-start: ${r("select.checkmark.gutter.start")};
    margin-inline-end: ${r("select.checkmark.gutter.end")};
    color: ${r("select.checkmark.color")};
}

.p-select-empty-message {
    padding: ${r("select.empty.message.padding")};
}

.p-select-fluid {
    display: flex;
    width: 100%;
}

.p-select-sm .p-select-label {
    font-size: ${r("select.sm.font.size")};
    padding-block: ${r("select.sm.padding.y")};
    padding-inline: ${r("select.sm.padding.x")};
}

.p-select-sm .p-select-dropdown .p-icon {
    font-size: ${r("select.sm.font.size")};
    width: ${r("select.sm.font.size")};
    height: ${r("select.sm.font.size")};
}

.p-select-lg .p-select-label {
    font-size: ${r("select.lg.font.size")};
    padding-block: ${r("select.lg.padding.y")};
    padding-inline: ${r("select.lg.padding.x")};
}

.p-select-lg .p-select-dropdown .p-icon {
    font-size: ${r("select.lg.font.size")};
    width: ${r("select.lg.font.size")};
    height: ${r("select.lg.font.size")};
}
`,lwe={root:function(e){var t=e.instance,n=e.props,i=e.state;return["p-select p-component p-inputwrapper",{"p-disabled":n.disabled,"p-invalid":t.$invalid,"p-variant-filled":t.$variant==="filled","p-focus":i.focused,"p-inputwrapper-filled":t.$filled,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-select-open":i.overlayVisible,"p-select-fluid":t.$fluid,"p-select-sm p-inputfield-sm":n.size==="small","p-select-lg p-inputfield-lg":n.size==="large"}]},label:function(e){var t=e.instance,n=e.props;return["p-select-label",{"p-placeholder":!n.editable&&t.label===n.placeholder,"p-select-label-empty":!n.editable&&!t.$slots.value&&(t.label==="p-emptylabel"||t.label.length===0)}]},clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:function(e){var t=e.instance,n=e.props,i=e.state,a=e.option,s=e.focusedOption;return["p-select-option",{"p-select-option-selected":t.isSelected(a)&&n.highlightOnSelect,"p-focus":i.focusedOptionIndex===s,"p-disabled":t.isOptionDisabled(a)}]},optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},uwe=ia.extend({name:"select",style:owe,classes:lwe}),cwe={name:"BaseSelect",extends:hz,props:{options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"14rem"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},labelId:{type:String,default:null},labelClass:{type:[String,Object],default:null},labelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:uwe,provide:function(){return{$pcSelect:this,$parentInstance:this}}};function E1(r){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E1(r)}function hwe(r){return vwe(r)||pwe(r)||dwe(r)||fwe()}function fwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(r,e){if(r){if(typeof r=="string")return GM(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?GM(r,e):void 0}}function pwe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function vwe(r){if(Array.isArray(r))return GM(r)}function GM(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function S8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function T8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(t),!0).forEach(function(n){ZW(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):S8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ZW(r,e,t){return(e=gwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gwe(r){var e=mwe(r,"string");return E1(e)=="symbol"?e:e+""}function mwe(r,e){if(E1(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var JW={name:"Select",extends:cwe,inheritAttrs:!1,emits:["change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,matchMediaOrientationListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1,queryOrientation:null}},watch:{modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.autoUpdateModel(),this.bindLabelClickListener(),this.bindMatchMediaOrientationListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.unbindMatchMediaOrientationListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Ou.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel:function(e){return this.optionLabel?qp(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?qp(e,this.optionValue):e},getOptionRenderKey:function(e,t){return(this.dataKey?qp(e,this.dataKey):this.getOptionLabel(e))+"_"+t},getPTItemOptions:function(e,t,n,i){return this.ptm(i,{context:{option:e,index:n,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(n,t),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?qp(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return qp(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return qp(e,this.optionGroupChildren)},getAriaPosInset:function(e){var t=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(n){return t.isOptionGroup(n)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Gl(this.$refs.focusInput)},hide:function(e){var t=this,n=function(){t.$emit("before-hide"),t.overlayVisible=!1,t.clicked=!1,t.focusedOptionIndex=-1,t.searchValue="",t.resetFilterOnHide&&(t.filterValue=null),e&&Gl(t.$refs.focusInput)};setTimeout(function(){n()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var t,n;this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e),(t=(n=this.formField).onBlur)===null||t===void 0||t.call(n,e)},onKeyDown:function(e){if(this.disabled||Rq()){e.preventDefault();return}var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t&&Oq(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var t=e.target.value;this.searchValue="";var n=this.searchOptions(e,t);!n&&(this.focusedOptionIndex=-1),this.updateModel(e,t),!this.overlayVisible&&Nf(t)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?Pq(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Gl(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===this.$refs.focusInput?Lq(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Gl(t)},onOptionSelect:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(t);this.updateModel(e,i),n&&this.hide(!0)},onOptionMouseMove:function(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange:function(e){var t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){if(!e.isComposing)switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){FL.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t)}e.preventDefault()},onArrowUpKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var n=e.currentTarget;e.shiftKey?n.setSelectionRange(0,e.target.selectionStart):(n.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t){var n=e.currentTarget;if(e.shiftKey)n.setSelectionRange(e.target.selectionStart,n.value.length);else{var i=n.value.length;n.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!t&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t||(this.overlayVisible&&this.hasFocusableElements()?(Gl(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){var t=this;Ou.set("overlay",e,this.$primevue.config.zIndex.overlay),az(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),setTimeout(function(){t.autoFilterFocus&&t.filter&&Gl(t.$refs.filterInput.$el),t.autoUpdateModel()},1)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){var e=this;this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.autoFilterFocus&&this.filter&&!this.editable&&this.$nextTick(function(){e.$refs.filterInput&&Gl(e.$refs.filterInput.$el)}),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Ou.clear(e)},alignOverlay:function(){this.appendTo==="self"?CL(this.overlay,this.$el):this.overlay&&(this.overlay.style.minWidth=xy(this.$el)+"px",kL(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&e.overlay&&!e.$el.contains(t.target)&&!e.overlay.contains(t.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new RL(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!EL()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var t=document.querySelector('label[for="'.concat(this.labelId,'"]'));t&&VS(t)&&(this.labelClickListener=function(){Gl(e.$refs.focusInput)},t.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.labelId,'"]'));e&&VS(e)&&e.removeEventListener("click",this.labelClickListener)}},bindMatchMediaOrientationListener:function(){var e=this;if(!this.matchMediaOrientationListener){var t=matchMedia("(orientation: portrait)");this.queryOrientation=t,this.matchMediaOrientationListener=function(){e.alignOverlay()},this.queryOrientation.addEventListener("change",this.matchMediaOrientationListener)}},unbindMatchMediaOrientationListener:function(){this.matchMediaOrientationListener&&(this.queryOrientation.removeEventListener("change",this.matchMediaOrientationListener),this.queryOrientation=null,this.matchMediaOrientationListener=null)},hasFocusableElements:function(){return zE(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionExactMatched:function(e){var t;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((t=this.getOptionLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase(this.filterLocale))==this.searchValue.toLocaleLowerCase(this.filterLocale)},isOptionStartsWith:function(e){var t;return this.isValidOption(e)&&typeof this.getOptionLabel(e)=="string"&&((t=this.getOptionLabel(e))===null||t===void 0?void 0:t.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Nf(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return DL(this.d_value,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(t){return e.isValidOption(t)})},findLastOptionIndex:function(){var e=this;return hF(this.visibleOptions,function(t){return e.isValidOption(t)})},findNextOptionIndex:function(e){var t=this,n=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return t.isValidOption(i)}):-1;return n>-1?n+e+1:e},findPrevOptionIndex:function(e){var t=this,n=e>0?hF(this.visibleOptions.slice(0,e),function(i){return t.isValidOption(i)}):-1;return n>-1?n:e},findSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(t){return e.isValidSelectedOption(t)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,t){var n=this;this.searchValue=(this.searchValue||"")+t;var i=-1,a=!1;return Nf(this.searchValue)&&(i=this.visibleOptions.findIndex(function(s){return n.isOptionExactMatched(s)}),i===-1&&(i=this.visibleOptions.findIndex(function(s){return n.isOptionStartsWith(s)})),i!==-1&&(a=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500),a},changeFocusedOptionIndex:function(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var n=t!==-1?"".concat(e.$id,"_").concat(t):e.focusedOptionId,i=va(e.list,'li[id="'.concat(n,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(t!==-1?t:e.focusedOptionIndex)})},autoUpdateModel:function(){this.autoOptionFocus&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex()),this.selectOnFocus&&this.autoOptionFocus&&!this.$filled&&this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1)},updateModel:function(e,t){this.writeValue(t,e),this.$emit("change",{originalEvent:e,value:t})},flatOptions:function(e){var t=this;return(e||[]).reduce(function(n,i,a){n.push({optionGroup:i,group:!0,index:a});var s=t.getOptionGroupChildren(i);return s&&s.forEach(function(o){return n.push(o)}),n},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,t){this.list=e,t&&t(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,t=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var n=Iq.filter(t,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],a=[];return i.forEach(function(s){var o=e.getOptionGroupChildren(s),l=o.filter(function(u){return n.includes(u)});l.length>0&&a.push(T8(T8({},s),{},ZW({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",hwe(l))))}),this.flatOptions(a)}return n}return t},hasSelectedOption:function(){return this.$filled},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.d_value||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Nf(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.$id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(t){return!e.isOptionGroup(t)}).length},isClearIconVisible:function(){return this.showClear&&this.d_value!=null&&Nf(this.options)},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:bb},components:{InputText:cz,VirtualScroller:qW,Portal:LL,InputIcon:KW,IconField:XW,TimesIcon:Wq,ChevronDownIcon:lz,SpinnerIcon:sz,SearchIcon:YW,CheckIcon:Yq,BlankIcon:WW}},ywe=["id"],xwe=["name","id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],bwe=["name","id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid","aria-disabled"],_we=["id"],wwe=["id"],Swe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focused","data-p-disabled"];function Twe(r,e,t,n,i,a){var s=ei("SpinnerIcon"),o=ei("InputText"),l=ei("SearchIcon"),u=ei("InputIcon"),c=ei("IconField"),h=ei("CheckIcon"),f=ei("BlankIcon"),d=ei("VirtualScroller"),p=ei("Portal"),v=yb("ripple");return pe(),xe("div",le({ref:"container",id:r.$id,class:r.cx("root"),onClick:e[11]||(e[11]=function(){return a.onContainerClick&&a.onContainerClick.apply(a,arguments)})},r.ptmi("root")),[r.editable?(pe(),xe("input",le({key:0,ref:"focusInput",name:r.name,id:r.labelId||r.inputId,type:"text",class:[r.cx("label"),r.inputClass,r.labelClass],style:[r.inputStyle,r.labelStyle],value:a.editableInputValue,placeholder:r.placeholder,tabindex:r.disabled?-1:r.tabindex,disabled:r.disabled,autocomplete:"off",role:"combobox","aria-label":r.ariaLabel,"aria-labelledby":r.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":r.$id+"_list","aria-activedescendant":i.focused?a.focusedOptionId:void 0,"aria-invalid":r.invalid||void 0,onFocus:e[0]||(e[0]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:e[1]||(e[1]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),onKeydown:e[2]||(e[2]=function(){return a.onKeyDown&&a.onKeyDown.apply(a,arguments)}),onInput:e[3]||(e[3]=function(){return a.onEditableInput&&a.onEditableInput.apply(a,arguments)})},r.ptm("label")),null,16,xwe)):(pe(),xe("span",le({key:1,ref:"focusInput",name:r.name,id:r.labelId||r.inputId,class:[r.cx("label"),r.inputClass,r.labelClass],style:[r.inputStyle,r.labelStyle],tabindex:r.disabled?-1:r.tabindex,role:"combobox","aria-label":r.ariaLabel||(a.label==="p-emptylabel"?void 0:a.label),"aria-labelledby":r.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":r.$id+"_list","aria-activedescendant":i.focused?a.focusedOptionId:void 0,"aria-invalid":r.invalid||void 0,"aria-disabled":r.disabled,onFocus:e[4]||(e[4]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:e[5]||(e[5]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),onKeydown:e[6]||(e[6]=function(){return a.onKeyDown&&a.onKeyDown.apply(a,arguments)})},r.ptm("label")),[ot(r.$slots,"value",{value:r.d_value,placeholder:r.placeholder},function(){var g;return[$n(ct(a.label==="p-emptylabel"?"Â ":(g=a.label)!==null&&g!==void 0?g:"empty"),1)]})],16,bwe)),a.isClearIconVisible?ot(r.$slots,"clearicon",{key:2,class:$a(r.cx("clearIcon")),clearCallback:a.onClearClick},function(){return[(pe(),Ir(zn(r.clearIcon?"i":"TimesIcon"),le({ref:"clearIcon",class:[r.cx("clearIcon"),r.clearIcon],onClick:a.onClearClick},r.ptm("clearIcon"),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):it("",!0),me("div",le({class:r.cx("dropdown")},r.ptm("dropdown")),[r.loading?ot(r.$slots,"loadingicon",{key:0,class:$a(r.cx("loadingIcon"))},function(){return[r.loadingIcon?(pe(),xe("span",le({key:0,class:[r.cx("loadingIcon"),"pi-spin",r.loadingIcon],"aria-hidden":"true"},r.ptm("loadingIcon")),null,16)):(pe(),Ir(s,le({key:1,class:r.cx("loadingIcon"),spin:"","aria-hidden":"true"},r.ptm("loadingIcon")),null,16,["class"]))]}):ot(r.$slots,"dropdownicon",{key:1,class:$a(r.cx("dropdownIcon"))},function(){return[(pe(),Ir(zn(r.dropdownIcon?"span":"ChevronDownIcon"),le({class:[r.cx("dropdownIcon"),r.dropdownIcon],"aria-hidden":"true"},r.ptm("dropdownIcon")),null,16,["class"]))]})],16),Ze(p,{appendTo:r.appendTo},{default:Bt(function(){return[Ze(kA,le({name:"p-connected-overlay",onEnter:a.onOverlayEnter,onAfterEnter:a.onOverlayAfterEnter,onLeave:a.onOverlayLeave,onAfterLeave:a.onOverlayAfterLeave},r.ptm("transition")),{default:Bt(function(){return[i.overlayVisible?(pe(),xe("div",le({key:0,ref:a.overlayRef,class:[r.cx("overlay"),r.panelClass,r.overlayClass],style:[r.panelStyle,r.overlayStyle],onClick:e[9]||(e[9]=function(){return a.onOverlayClick&&a.onOverlayClick.apply(a,arguments)}),onKeydown:e[10]||(e[10]=function(){return a.onOverlayKeyDown&&a.onOverlayKeyDown.apply(a,arguments)})},r.ptm("overlay")),[me("span",le({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return a.onFirstHiddenFocus&&a.onFirstHiddenFocus.apply(a,arguments)})},r.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),ot(r.$slots,"header",{value:r.d_value,options:a.visibleOptions}),r.filter?(pe(),xe("div",le({key:0,class:r.cx("header")},r.ptm("header")),[Ze(c,{unstyled:r.unstyled,pt:r.ptm("pcFilterContainer")},{default:Bt(function(){return[Ze(o,{ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:a.onFilterUpdated,onVnodeUpdated:a.onFilterUpdated,class:$a(r.cx("pcFilter")),placeholder:r.filterPlaceholder,variant:r.variant,unstyled:r.unstyled,role:"searchbox",autocomplete:"off","aria-owns":r.$id+"_list","aria-activedescendant":a.focusedOptionId,onKeydown:a.onFilterKeyDown,onBlur:a.onFilterBlur,onInput:a.onFilterChange,pt:r.ptm("pcFilter"),formControl:{novalidate:!0}},null,8,["value","onVnodeMounted","onVnodeUpdated","class","placeholder","variant","unstyled","aria-owns","aria-activedescendant","onKeydown","onBlur","onInput","pt"]),Ze(u,{unstyled:r.unstyled,pt:r.ptm("pcFilterIconContainer")},{default:Bt(function(){return[ot(r.$slots,"filtericon",{},function(){return[r.filterIcon?(pe(),xe("span",le({key:0,class:r.filterIcon},r.ptm("filterIcon")),null,16)):(pe(),Ir(l,Fq(le({key:1},r.ptm("filterIcon"))),null,16))]})]}),_:3},8,["unstyled","pt"])]}),_:3},8,["unstyled","pt"]),me("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},r.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ct(a.filterResultMessageText),17)],16)):it("",!0),me("div",le({class:r.cx("listContainer"),style:{"max-height":a.virtualScrollerDisabled?r.scrollHeight:""}},r.ptm("listContainer")),[Ze(d,le({ref:a.virtualScrollerRef},r.virtualScrollerOptions,{items:a.visibleOptions,style:{height:r.scrollHeight},tabindex:-1,disabled:a.virtualScrollerDisabled,pt:r.ptm("virtualScroller")}),Nq({content:Bt(function(g){var m=g.styleClass,x=g.contentRef,y=g.items,_=g.getItemOptions,S=g.contentStyle,w=g.itemSize;return[me("ul",le({ref:function(A){return a.listRef(A,x)},id:r.$id+"_list",class:[r.cx("list"),m],style:S,role:"listbox"},r.ptm("list")),[(pe(!0),xe(zr,null,xs(y,function(T,A){return pe(),xe(zr,{key:a.getOptionRenderKey(T,a.getOptionIndex(A,_))},[a.isOptionGroup(T)?(pe(),xe("li",le({key:0,id:r.$id+"_"+a.getOptionIndex(A,_),style:{height:w?w+"px":void 0},class:r.cx("optionGroup"),role:"option",ref_for:!0},r.ptm("optionGroup")),[ot(r.$slots,"optiongroup",{option:T.optionGroup,index:a.getOptionIndex(A,_)},function(){return[me("span",le({class:r.cx("optionGroupLabel"),ref_for:!0},r.ptm("optionGroupLabel")),ct(a.getOptionGroupLabel(T.optionGroup)),17)]})],16,wwe)):Ts((pe(),xe("li",le({key:1,id:r.$id+"_"+a.getOptionIndex(A,_),class:r.cx("option",{option:T,focusedOption:a.getOptionIndex(A,_)}),style:{height:w?w+"px":void 0},role:"option","aria-label":a.getOptionLabel(T),"aria-selected":a.isSelected(T),"aria-disabled":a.isOptionDisabled(T),"aria-setsize":a.ariaSetSize,"aria-posinset":a.getAriaPosInset(a.getOptionIndex(A,_)),onClick:function(k){return a.onOptionSelect(k,T)},onMousemove:function(k){return a.onOptionMouseMove(k,a.getOptionIndex(A,_))},"data-p-selected":a.isSelected(T),"data-p-focused":i.focusedOptionIndex===a.getOptionIndex(A,_),"data-p-disabled":a.isOptionDisabled(T),ref_for:!0},a.getPTItemOptions(T,_,A,"option")),[r.checkmark?(pe(),xe(zr,{key:0},[a.isSelected(T)?(pe(),Ir(h,le({key:0,class:r.cx("optionCheckIcon"),ref_for:!0},r.ptm("optionCheckIcon")),null,16,["class"])):(pe(),Ir(f,le({key:1,class:r.cx("optionBlankIcon"),ref_for:!0},r.ptm("optionBlankIcon")),null,16,["class"]))],64)):it("",!0),ot(r.$slots,"option",{option:T,selected:a.isSelected(T),index:a.getOptionIndex(A,_)},function(){return[me("span",le({class:r.cx("optionLabel"),ref_for:!0},r.ptm("optionLabel")),ct(a.getOptionLabel(T)),17)]})],16,Swe)),[[v]])],64)}),128)),i.filterValue&&(!y||y&&y.length===0)?(pe(),xe("li",le({key:0,class:r.cx("emptyMessage"),role:"option"},r.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[ot(r.$slots,"emptyfilter",{},function(){return[$n(ct(a.emptyFilterMessageText),1)]})],16)):!r.options||r.options&&r.options.length===0?(pe(),xe("li",le({key:1,class:r.cx("emptyMessage"),role:"option"},r.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[ot(r.$slots,"empty",{},function(){return[$n(ct(a.emptyMessageText),1)]})],16)):it("",!0)],16,_we)]}),_:2},[r.$slots.loader?{name:"loader",fn:Bt(function(g){var m=g.options;return[ot(r.$slots,"loader",{options:m})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),ot(r.$slots,"footer",{value:r.d_value,options:a.visibleOptions}),!r.options||r.options&&r.options.length===0?(pe(),xe("span",le({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},r.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ct(a.emptyMessageText),17)):it("",!0),me("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},r.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ct(a.selectedMessageText),17),me("span",le({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[8]||(e[8]=function(){return a.onLastHiddenFocus&&a.onLastHiddenFocus.apply(a,arguments)})},r.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):it("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,ywe)}JW.render=Twe;var Awe={name:"Dropdown",extends:JW,mounted:function(){console.warn("Deprecated since v4. Use Select component instead.")}},Cwe=({dt:r})=>`
.p-colorpicker {
    display: inline-block;
    position: relative;
}

.p-colorpicker-dragging {
    cursor: pointer;
}

.p-colorpicker-preview {
    width: ${r("colorpicker.preview.width")};
    height: ${r("colorpicker.preview.height")};
    padding: 0;
    border: 0 none;
    border-radius: ${r("colorpicker.preview.border.radius")};
    transition: background ${r("colorpicker.transition.duration")}, color ${r("colorpicker.transition.duration")}, border-color ${r("colorpicker.transition.duration")}, outline-color ${r("colorpicker.transition.duration")}, box-shadow ${r("colorpicker.transition.duration")};
    outline-color: transparent;
    cursor: pointer;
}

.p-colorpicker-preview:enabled:focus-visible {
    border-color: ${r("colorpicker.preview.focus.border.color")};
    box-shadow: ${r("colorpicker.preview.focus.ring.shadow")};
    outline: ${r("colorpicker.preview.focus.ring.width")} ${r("colorpicker.preview.focus.ring.style")} ${r("colorpicker.preview.focus.ring.color")};
    outline-offset: ${r("colorpicker.preview.focus.ring.offset")};
}

.p-colorpicker-panel {
    background: ${r("colorpicker.panel.background")};
    border: 1px solid ${r("colorpicker.panel.border.color")};
    border-radius: ${r("colorpicker.panel.border.radius")};
    box-shadow: ${r("colorpicker.panel.shadow")};
    width: 193px;
    height: 166px;
    position: absolute;
    top: 0;
    left: 0;
}

.p-colorpicker-panel-inline {
    box-shadow: none;
    position: static;
}

.p-colorpicker-content {
    position: relative;
}

.p-colorpicker-color-selector {
    width: 150px;
    height: 150px;
    inset-block-start: 8px;
    inset-inline-start: 8px;
    position: absolute;
}

.p-colorpicker-color-background {
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
}

.p-colorpicker-color-handle {
    position: absolute;
    inset-block-start: 0px;
    inset-inline-start: 150px;
    border-radius: 100%;
    width: 10px;
    height: 10px;
    border-width: 1px;
    border-style: solid;
    margin: -5px 0 0 -5px;
    cursor: pointer;
    opacity: 0.85;
    border-color: ${r("colorpicker.handle.color")};
}

.p-colorpicker-hue {
    width: 17px;
    height: 150px;
    inset-block-start: 8px;
    inset-inline-start: 167px;
    position: absolute;
    opacity: 0.85;
    background: linear-gradient(0deg,
        red 0,
        #ff0 17%,
        #0f0 33%,
        #0ff 50%,
        #00f 67%,
        #f0f 83%,
        red);
}

.p-colorpicker-hue-handle {
    position: absolute;
    inset-block-start: 150px;
    inset-inline-start: 0px;
    width: 21px;
    margin-inline-start: -2px;
    margin-block-start: -5px;
    height: 10px;
    border-width: 2px;
    border-style: solid;
    opacity: 0.85;
    cursor: pointer;
    border-color: ${r("colorpicker.handle.color")};
}
`,kwe={root:"p-colorpicker p-component",preview:function(e){var t=e.props;return["p-colorpicker-preview",{"p-disabled":t.disabled}]},panel:function(e){var t=e.instance,n=e.props;return["p-colorpicker-panel",{"p-colorpicker-panel-inline":n.inline,"p-disabled":n.disabled,"p-invalid":t.$invalid}]},colorSelector:"p-colorpicker-color-selector",colorBackground:"p-colorpicker-color-background",colorHandle:"p-colorpicker-color-handle",hue:"p-colorpicker-hue",hueHandle:"p-colorpicker-hue-handle"},Ewe=ia.extend({name:"colorpicker",style:Cwe,classes:kwe}),Dwe={name:"BaseColorPicker",extends:PL,props:{defaultColor:{type:null,default:"ff0000"},inline:{type:Boolean,default:!1},format:{type:String,default:"hex"},tabindex:{type:String,default:null},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},inputId:{type:String,default:null},panelClass:null,overlayClass:null},style:Ewe,provide:function(){return{$pcColorPicker:this,$parentInstance:this}}},nS={name:"ColorPicker",extends:Dwe,inheritAttrs:!1,emits:["change","show","hide"],data:function(){return{overlayVisible:!1}},hsbValue:null,localHue:null,outsideClickListener:null,documentMouseMoveListener:null,documentMouseUpListener:null,scrollHandler:null,resizeListener:null,hueDragging:null,colorDragging:null,selfUpdate:null,picker:null,colorSelector:null,colorHandle:null,hueView:null,hueHandle:null,watch:{modelValue:{immediate:!0,handler:function(e){this.hsbValue=this.toHSB(e),this.selfUpdate?this.selfUpdate=!1:this.updateUI()}}},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindDragListeners(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.picker&&this.autoZIndex&&Ou.clear(this.picker),this.clearRefs()},mounted:function(){this.updateUI()},methods:{pickColor:function(e){var t=this.colorSelector.getBoundingClientRect(),n=t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),i=t.left+document.body.scrollLeft,a=Math.floor(100*Math.max(0,Math.min(150,(e.pageX||e.changedTouches[0].pageX)-i))/150),s=Math.floor(100*(150-Math.max(0,Math.min(150,(e.pageY||e.changedTouches[0].pageY)-n)))/150);this.hsbValue=this.validateHSB({h:this.localHue,s:a,b:s}),this.selfUpdate=!0,this.updateColorHandle(),this.updateInput(),this.updateModel(e)},pickHue:function(e){var t=this.hueView.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.localHue=Math.floor(360*(150-Math.max(0,Math.min(150,(e.pageY||e.changedTouches[0].pageY)-t)))/150),this.hsbValue=this.validateHSB({h:this.localHue,s:100,b:100}),this.selfUpdate=!0,this.updateColorSelector(),this.updateHue(),this.updateModel(e),this.updateInput()},updateModel:function(e){var t=this.d_value;switch(this.format){case"hex":t=this.HSBtoHEX(this.hsbValue);break;case"rgb":t=this.HSBtoRGB(this.hsbValue);break;case"hsb":t=this.hsbValue;break}this.writeValue(t,e),this.$emit("change",{event:e,value:t})},updateColorSelector:function(){if(this.colorSelector){var e=this.validateHSB({h:this.hsbValue.h,s:100,b:100});this.colorSelector.style.backgroundColor="#"+this.HSBtoHEX(e)}},updateColorHandle:function(){this.colorHandle&&(this.colorHandle.style.left=Math.floor(150*this.hsbValue.s/100)+"px",this.colorHandle.style.top=Math.floor(150*(100-this.hsbValue.b)/100)+"px")},updateHue:function(){this.hueHandle&&(this.hueHandle.style.top=Math.floor(150-150*this.hsbValue.h/360)+"px")},updateInput:function(){this.$refs.input&&(this.$refs.input.style.backgroundColor="#"+this.HSBtoHEX(this.hsbValue))},updateUI:function(){this.updateHue(),this.updateColorHandle(),this.updateInput(),this.updateColorSelector()},validateHSB:function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},validateRGB:function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},validateHEX:function(e){var t=6-e.length;if(t>0){for(var n=[],i=0;i<t;i++)n.push("0");n.push(e),e=n.join("")}return e},HEXtoRGB:function(e){var t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:t>>16,g:(t&65280)>>8,b:t&255}},HEXtoHSB:function(e){return this.RGBtoHSB(this.HEXtoRGB(e))},RGBtoHSB:function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),a=i-n;return t.b=i,t.s=i!==0?255*a/i:0,t.s!==0?e.r===i?t.h=(e.g-e.b)/a:e.g===i?t.h=2+(e.b-e.r)/a:t.h=4+(e.r-e.g)/a:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},HSBtoRGB:function(e){var t={r:null,g:null,b:null},n=Math.round(e.h),i=Math.round(e.s*255/100),a=Math.round(e.b*255/100);if(i===0)t={r:a,g:a,b:a};else{var s=a,o=(255-i)*a/255,l=(s-o)*(n%60)/60;n===360&&(n=0),n<60?(t.r=s,t.b=o,t.g=o+l):n<120?(t.g=s,t.b=o,t.r=s-l):n<180?(t.g=s,t.r=o,t.b=o+l):n<240?(t.b=s,t.r=o,t.g=s-l):n<300?(t.b=s,t.g=o,t.r=o+l):n<360?(t.r=s,t.g=o,t.b=s-l):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},RGBtoHEX:function(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var n in t)t[n].length===1&&(t[n]="0"+t[n]);return t.join("")},HSBtoHEX:function(e){return this.RGBtoHEX(this.HSBtoRGB(e))},toHSB:function(e){var t;if(e)switch(this.format){case"hex":t=this.HEXtoHSB(e);break;case"rgb":t=this.RGBtoHSB(e);break;case"hsb":t=e;break}else t=this.HEXtoHSB(this.defaultColor);return this.localHue==null?this.localHue=t.h:t.h=this.localHue,t},onOverlayEnter:function(e){this.updateUI(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&Ou.set("overlay",e,this.baseZIndex,this.$primevue.config.zIndex.overlay),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.clearRefs(),this.$emit("hide")},onOverlayAfterLeave:function(e){this.autoZIndex&&Ou.clear(e)},alignOverlay:function(){this.appendTo==="self"?CL(this.picker,this.$refs.input):kL(this.picker,this.$refs.input)},onInputClick:function(){this.disabled||(this.overlayVisible=!this.overlayVisible)},onInputKeydown:function(e){switch(e.code){case"Space":this.overlayVisible=!this.overlayVisible,e.preventDefault();break;case"Escape":case"Tab":this.overlayVisible=!1;break}},onInputBlur:function(e){var t,n;(t=(n=this.formField).onBlur)===null||t===void 0||t.call(n)},onColorMousedown:function(e){this.disabled||(this.bindDragListeners(),this.onColorDragStart(e))},onColorDragStart:function(e){this.disabled||(this.colorDragging=!0,this.pickColor(e),this.$el.setAttribute("p-colorpicker-dragging","true"),!this.isUnstyled&&fF(this.$el,"p-colorpicker-dragging"),e.preventDefault())},onDrag:function(e){this.colorDragging&&(this.pickColor(e),e.preventDefault()),this.hueDragging&&(this.pickHue(e),e.preventDefault())},onDragEnd:function(){this.colorDragging=!1,this.hueDragging=!1,this.$el.setAttribute("p-colorpicker-dragging","false"),!this.isUnstyled&&Bq(this.$el,"p-colorpicker-dragging"),this.unbindDragListeners()},onHueMousedown:function(e){this.disabled||(this.bindDragListeners(),this.onHueDragStart(e))},onHueDragStart:function(e){this.disabled||(this.hueDragging=!0,this.pickHue(e),!this.isUnstyled&&fF(this.$el,"p-colorpicker-dragging"))},isInputClicked:function(e){return this.$refs.input&&this.$refs.input.isSameNode(e.target)},bindDragListeners:function(){this.bindDocumentMouseMoveListener(),this.bindDocumentMouseUpListener()},unbindDragListeners:function(){this.unbindDocumentMouseMoveListener(),this.unbindDocumentMouseUpListener()},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.overlayVisible&&e.picker&&!e.picker.contains(t.target)&&!e.isInputClicked(t)&&(e.overlayVisible=!1)},document.addEventListener("click",this.outsideClickListener,!0))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener,!0),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new RL(this.$refs.container,function(){e.overlayVisible&&(e.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!EL()&&(e.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentMouseMoveListener:function(){this.documentMouseMoveListener||(this.documentMouseMoveListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.documentMouseMoveListener))},unbindDocumentMouseMoveListener:function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null)},bindDocumentMouseUpListener:function(){this.documentMouseUpListener||(this.documentMouseUpListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.documentMouseUpListener))},unbindDocumentMouseUpListener:function(){this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},pickerRef:function(e){this.picker=e},colorSelectorRef:function(e){this.colorSelector=e},colorHandleRef:function(e){this.colorHandle=e},hueViewRef:function(e){this.hueView=e},hueHandleRef:function(e){this.hueHandle=e},clearRefs:function(){this.picker=null,this.colorSelector=null,this.colorHandle=null,this.hueView=null,this.hueHandle=null},onOverlayClick:function(e){FL.emit("overlay-click",{originalEvent:e,target:this.$el})}},components:{Portal:LL}};function D1(r){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(r)}function A8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function C8(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(t),!0).forEach(function(n){Mwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):A8(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Mwe(r,e,t){return(e=Iwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Iwe(r){var e=Lwe(r,"string");return D1(e)=="symbol"?e:e+""}function Lwe(r,e){if(D1(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Pwe=["id","tabindex","disabled"];function Rwe(r,e,t,n,i,a){var s=ei("Portal");return pe(),xe("div",le({ref:"container",class:r.cx("root")},r.ptmi("root")),[r.inline?it("",!0):(pe(),xe("input",le({key:0,ref:"input",id:r.inputId,type:"text",class:r.cx("preview"),readonly:"",tabindex:r.tabindex,disabled:r.disabled,onClick:e[0]||(e[0]=function(){return a.onInputClick&&a.onInputClick.apply(a,arguments)}),onKeydown:e[1]||(e[1]=function(){return a.onInputKeydown&&a.onInputKeydown.apply(a,arguments)}),onBlur:e[2]||(e[2]=function(){return a.onInputBlur&&a.onInputBlur.apply(a,arguments)})},r.ptm("preview")),null,16,Pwe)),Ze(s,{appendTo:r.appendTo,disabled:r.inline},{default:Bt(function(){return[Ze(kA,le({name:"p-connected-overlay",onEnter:a.onOverlayEnter,onLeave:a.onOverlayLeave,onAfterLeave:a.onOverlayAfterLeave},r.ptm("transition")),{default:Bt(function(){return[r.inline||i.overlayVisible?(pe(),xe("div",le({key:0,ref:a.pickerRef,class:[r.cx("panel"),r.panelClass,r.overlayClass],onClick:e[11]||(e[11]=function(){return a.onOverlayClick&&a.onOverlayClick.apply(a,arguments)})},C8(C8({},r.ptm("panel")),r.ptm("overlay"))),[me("div",le({class:r.cx("content")},r.ptm("content")),[me("div",le({ref:a.colorSelectorRef,class:r.cx("colorSelector"),onMousedown:e[3]||(e[3]=function(o){return a.onColorMousedown(o)}),onTouchstart:e[4]||(e[4]=function(o){return a.onColorDragStart(o)}),onTouchmove:e[5]||(e[5]=function(o){return a.onDrag(o)}),onTouchend:e[6]||(e[6]=function(o){return a.onDragEnd()})},r.ptm("colorSelector")),[me("div",le({class:r.cx("colorBackground")},r.ptm("colorBackground")),[me("div",le({ref:a.colorHandleRef,class:r.cx("colorHandle")},r.ptm("colorHandle")),null,16)],16)],16),me("div",le({ref:a.hueViewRef,class:r.cx("hue"),onMousedown:e[7]||(e[7]=function(o){return a.onHueMousedown(o)}),onTouchstart:e[8]||(e[8]=function(o){return a.onHueDragStart(o)}),onTouchmove:e[9]||(e[9]=function(o){return a.onDrag(o)}),onTouchend:e[10]||(e[10]=function(o){return a.onDragEnd()})},r.ptm("hue")),[me("div",le({ref:a.hueHandleRef,class:r.cx("hueHandle")},r.ptm("hueHandle")),null,16)],16)],16)],16)):it("",!0)]}),_:1},16,["onEnter","onLeave","onAfterLeave"])]}),_:1},8,["appendTo","disabled"])],16)}nS.render=Rwe;var Owe=({dt:r})=>`
.p-progressspinner {
    position: relative;
    margin: 0 auto;
    width: 100px;
    height: 100px;
    display: inline-block;
}

.p-progressspinner::before {
    content: "";
    display: block;
    padding-top: 100%;
}

.p-progressspinner-spin {
    height: 100%;
    transform-origin: center center;
    width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    animation: p-progressspinner-rotate 2s linear infinite;
}

.p-progressspinner-circle {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: 0;
    stroke: ${r("progressspinner.colorOne")};
    animation: p-progressspinner-dash 1.5s ease-in-out infinite, p-progressspinner-color 6s ease-in-out infinite;
    stroke-linecap: round;
}

@keyframes p-progressspinner-rotate {
    100% {
        transform: rotate(360deg);
    }
}
@keyframes p-progressspinner-dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35px;
    }
    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124px;
    }
}
@keyframes p-progressspinner-color {
    100%,
    0% {
        stroke: ${r("progressspinner.colorOne")};
    }
    40% {
        stroke: ${r("progressspinner.colorTwo")};
    }
    66% {
        stroke: ${r("progressspinner.colorThree")};
    }
    80%,
    90% {
        stroke: ${r("progressspinner.colorFour")};
    }
}
`,Fwe={root:"p-progressspinner",spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},Nwe=ia.extend({name:"progressspinner",style:Owe,classes:Fwe}),Bwe={name:"BaseProgressSpinner",extends:Dl,props:{strokeWidth:{type:String,default:"2"},fill:{type:String,default:"none"},animationDuration:{type:String,default:"2s"}},style:Nwe,provide:function(){return{$pcProgressSpinner:this,$parentInstance:this}}},QW={name:"ProgressSpinner",extends:Bwe,inheritAttrs:!1,computed:{svgStyle:function(){return{"animation-duration":this.animationDuration}}}},Vwe=["fill","stroke-width"];function zwe(r,e,t,n,i,a){return pe(),xe("div",le({class:r.cx("root"),role:"progressbar"},r.ptmi("root")),[(pe(),xe("svg",le({class:r.cx("spin"),viewBox:"25 25 50 50",style:a.svgStyle},r.ptm("spin")),[me("circle",le({class:r.cx("circle"),cx:"50",cy:"50",r:"20",fill:r.fill,"stroke-width":r.strokeWidth,strokeMiterlimit:"10"},r.ptm("circle")),null,16,Vwe)],16))],16)}QW.render=zwe;var Hwe=({dt:r})=>`
.p-slider {
    position: relative;
    background: ${r("slider.track.background")};
    border-radius: ${r("slider.track.border.radius")};
}

.p-slider-handle {
    cursor: grab;
    touch-action: none;
    user-select: none;
    display: flex;
    justify-content: center;
    align-items: center;
    height: ${r("slider.handle.height")};
    width: ${r("slider.handle.width")};
    background: ${r("slider.handle.background")};
    border-radius: ${r("slider.handle.border.radius")};
    transition: background ${r("slider.transition.duration")}, color ${r("slider.transition.duration")}, border-color ${r("slider.transition.duration")}, box-shadow ${r("slider.transition.duration")}, outline-color ${r("slider.transition.duration")};
    outline-color: transparent;
}

.p-slider-handle::before {
    content: "";
    width: ${r("slider.handle.content.width")};
    height: ${r("slider.handle.content.height")};
    display: block;
    background: ${r("slider.handle.content.background")};
    border-radius: ${r("slider.handle.content.border.radius")};
    box-shadow: ${r("slider.handle.content.shadow")};
    transition: background ${r("slider.transition.duration")};
}

.p-slider:not(.p-disabled) .p-slider-handle:hover {
    background: ${r("slider.handle.hover.background")};
}

.p-slider:not(.p-disabled) .p-slider-handle:hover::before {
    background: ${r("slider.handle.content.hover.background")};
}

.p-slider-handle:focus-visible {
    box-shadow: ${r("slider.handle.focus.ring.shadow")};
    outline: ${r("slider.handle.focus.ring.width")} ${r("slider.handle.focus.ring.style")} ${r("slider.handle.focus.ring.color")};
    outline-offset: ${r("slider.handle.focus.ring.offset")};
}

.p-slider-range {
    display: block;
    background: ${r("slider.range.background")};
    border-radius: ${r("slider.track.border.radius")};
}

.p-slider.p-slider-horizontal {
    height: ${r("slider.track.size")};
}

.p-slider-horizontal .p-slider-range {
    inset-block-start: 0;
    inset-inline-start: 0;
    height: 100%;
}

.p-slider-horizontal .p-slider-handle {
    inset-block-start: 50%;
    margin-block-start: calc(-1 * calc(${r("slider.handle.height")} / 2));
    margin-inline-start: calc(-1 * calc(${r("slider.handle.width")} / 2));
}

.p-slider-vertical {
    min-height: 100px;
    width: ${r("slider.track.size")};
}

.p-slider-vertical .p-slider-handle {
    inset-inline-start: 50%;
    margin-inline-start: calc(-1 * calc(${r("slider.handle.width")} / 2));
    margin-block-end: calc(-1 * calc(${r("slider.handle.height")} / 2));
}

.p-slider-vertical .p-slider-range {
    inset-block-end: 0;
    inset-inline-start: 0;
    width: 100%;
}
`,Gwe={handle:{position:"absolute"},range:{position:"absolute"}},$we={root:function(e){var t=e.instance,n=e.props;return["p-slider p-component",{"p-disabled":n.disabled,"p-invalid":t.$invalid,"p-slider-horizontal":n.orientation==="horizontal","p-slider-vertical":n.orientation==="vertical"}]},range:"p-slider-range",handle:"p-slider-handle"},Uwe=ia.extend({name:"slider",style:Hwe,classes:$we,inlineStyles:Gwe}),Wwe={name:"BaseSlider",extends:PL,props:{min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Uwe,provide:function(){return{$pcSlider:this,$parentInstance:this}}};function M1(r){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(r)}function Ywe(r,e,t){return(e=Xwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xwe(r){var e=Kwe(r,"string");return M1(e)=="symbol"?e:e+""}function Kwe(r,e){if(M1(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jwe(r){return Qwe(r)||Jwe(r)||Zwe(r)||qwe()}function qwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zwe(r,e){if(r){if(typeof r=="string")return $M(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$M(r,e):void 0}}function Jwe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Qwe(r){if(Array.isArray(r))return $M(r)}function $M(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var Km={name:"Slider",extends:Wwe,inheritAttrs:!1,emits:["change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var e=this.$el.getBoundingClientRect();this.initX=e.left+Vq(),this.initY=e.top+zq(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(e){var t,n=e.touches?e.touches[0].pageX:e.pageX,i=e.touches?e.touches[0].pageY:e.pageY;this.orientation==="horizontal"?$E(this.$el)?t=(this.initX+this.barWidth-n)*100/this.barWidth:t=(n-this.initX)*100/this.barWidth:t=(this.initY+this.barHeight-i)*100/this.barHeight;var a=(this.max-this.min)*(t/100)+this.min;if(this.step){var s=this.range?this.value[this.handleIndex]:this.value,o=a-s;o<0?a=s+Math.ceil(a/this.step-s/this.step)*this.step:o>0&&(a=s+Math.floor(a/this.step-s/this.step)*this.step)}else a=Math.floor(a);this.updateModel(e,a)},updateModel:function(e,t){var n=Math.round(t*100)/100,i;this.range?(i=this.value?jwe(this.value):[],this.handleIndex==0?(n<this.min?n=this.min:n>=this.max&&(n=this.max),i[0]=n):(n>this.max?n=this.max:n<=this.min&&(n=this.min),i[1]=n)):(n<this.min?n=this.min:n>this.max&&(n=this.max),i=n),this.writeValue(i,e),this.$emit("change",i)},onDragStart:function(e,t){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.value[0]===this.max?this.handleIndex=0:this.handleIndex=t,e.currentTarget.focus())},onDrag:function(e){this.dragging&&this.setValue(e)},onDragEnd:function(e){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:e,value:this.value}))},onBarClick:function(e){this.disabled||oo(e.target,"data-pc-section")!=="handle"&&(this.updateDomData(),this.setValue(e))},onMouseDown:function(e,t){this.bindDragListeners(),this.onDragStart(e,t)},onKeyDown:function(e,t){switch(this.handleIndex=t,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,t),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,t),e.preventDefault();break;case"PageDown":this.decrementValue(e,t,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,t,!0),e.preventDefault();break;case"Home":this.updateModel(e,this.min),e.preventDefault();break;case"End":this.updateModel(e,this.max),e.preventDefault();break}},onBlur:function(e,t){var n,i;(n=(i=this.formField).onBlur)===null||n===void 0||n.call(i,e)},decrementValue:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i;this.range?this.step?i=this.value[t]-this.step:i=this.value[t]-1:this.step?i=this.value-this.step:!this.step&&n?i=this.value-10:i=this.value-1,this.updateModel(e,i),e.preventDefault()},incrementValue:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i;this.range?this.step?i=this.value[t]+this.step:i=this.value[t]+1:this.step?i=this.value+this.step:!this.step&&n?i=this.value+10:i=this.value+1,this.updateModel(e,i),e.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)},rangeStyle:function(){if(this.range){var e=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,t=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{"inset-inline-start":t+"%",width:e+"%"}:{bottom:t+"%",height:e+"%"}}else return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{"inset-inline-start":this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},rangeStartHandleStyle:function(){return this.horizontal?{"inset-inline-start":this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{"inset-inline-start":this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}},computed:{value:function(){var e;if(this.range){var t,n,i,a;return[(t=(n=this.d_value)===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:this.min,(i=(a=this.d_value)===null||a===void 0?void 0:a[1])!==null&&i!==void 0?i:this.max]}return(e=this.d_value)!==null&&e!==void 0?e:this.min},horizontal:function(){return this.orientation==="horizontal"},vertical:function(){return this.orientation==="vertical"},handlePosition:function(){return this.value<this.min?0:this.value>this.max?100:(this.value-this.min)*100/(this.max-this.min)},rangeStartPosition:function(){return this.value&&this.value[0]!==void 0?this.value[0]<this.min?0:(this.value[0]-this.min)*100/(this.max-this.min):0},rangeEndPosition:function(){return this.value&&this.value.length===2&&this.value[1]!==void 0?this.value[1]>this.max?100:(this.value[1]-this.min)*100/(this.max-this.min):100},dataP:function(){return EA(Ywe({},this.orientation,this.orientation))}}},eSe=["data-p"],tSe=["data-p"],rSe=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation","data-p"],nSe=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation","data-p"],iSe=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation","data-p"];function aSe(r,e,t,n,i,a){return pe(),xe("div",le({class:r.cx("root"),onClick:e[18]||(e[18]=function(){return a.onBarClick&&a.onBarClick.apply(a,arguments)})},r.ptmi("root"),{"data-p-sliding":!1,"data-p":a.dataP}),[me("span",le({class:r.cx("range"),style:[r.sx("range"),a.rangeStyle()]},r.ptm("range"),{"data-p":a.dataP}),null,16,tSe),r.range?it("",!0):(pe(),xe("span",le({key:0,class:r.cx("handle"),style:[r.sx("handle"),a.handleStyle()],onTouchstartPassive:e[0]||(e[0]=function(s){return a.onDragStart(s)}),onTouchmovePassive:e[1]||(e[1]=function(s){return a.onDrag(s)}),onTouchend:e[2]||(e[2]=function(s){return a.onDragEnd(s)}),onMousedown:e[3]||(e[3]=function(s){return a.onMouseDown(s)}),onKeydown:e[4]||(e[4]=function(s){return a.onKeyDown(s)}),onBlur:e[5]||(e[5]=function(s){return a.onBlur(s)}),tabindex:r.tabindex,role:"slider","aria-valuemin":r.min,"aria-valuenow":r.d_value,"aria-valuemax":r.max,"aria-labelledby":r.ariaLabelledby,"aria-label":r.ariaLabel,"aria-orientation":r.orientation},r.ptm("handle"),{"data-p":a.dataP}),null,16,rSe)),r.range?(pe(),xe("span",le({key:1,class:r.cx("handle"),style:[r.sx("handle"),a.rangeStartHandleStyle()],onTouchstartPassive:e[6]||(e[6]=function(s){return a.onDragStart(s,0)}),onTouchmovePassive:e[7]||(e[7]=function(s){return a.onDrag(s)}),onTouchend:e[8]||(e[8]=function(s){return a.onDragEnd(s)}),onMousedown:e[9]||(e[9]=function(s){return a.onMouseDown(s,0)}),onKeydown:e[10]||(e[10]=function(s){return a.onKeyDown(s,0)}),onBlur:e[11]||(e[11]=function(s){return a.onBlur(s,0)}),tabindex:r.tabindex,role:"slider","aria-valuemin":r.min,"aria-valuenow":r.d_value?r.d_value[0]:null,"aria-valuemax":r.max,"aria-labelledby":r.ariaLabelledby,"aria-label":r.ariaLabel,"aria-orientation":r.orientation},r.ptm("startHandler"),{"data-p":a.dataP}),null,16,nSe)):it("",!0),r.range?(pe(),xe("span",le({key:2,class:r.cx("handle"),style:[r.sx("handle"),a.rangeEndHandleStyle()],onTouchstartPassive:e[12]||(e[12]=function(s){return a.onDragStart(s,1)}),onTouchmovePassive:e[13]||(e[13]=function(s){return a.onDrag(s)}),onTouchend:e[14]||(e[14]=function(s){return a.onDragEnd(s)}),onMousedown:e[15]||(e[15]=function(s){return a.onMouseDown(s,1)}),onKeydown:e[16]||(e[16]=function(s){return a.onKeyDown(s,1)}),onBlur:e[17]||(e[17]=function(s){return a.onBlur(s,1)}),tabindex:r.tabindex,role:"slider","aria-valuemin":r.min,"aria-valuenow":r.d_value?r.d_value[1]:null,"aria-valuemax":r.max,"aria-labelledby":r.ariaLabelledby,"aria-label":r.ariaLabel,"aria-orientation":r.orientation},r.ptm("endHandler"),{"data-p":a.dataP}),null,16,iSe)):it("",!0)],16,eSe)}Km.render=aSe;const sSe=()=>({compressImageToBase64:(e,t={})=>{const n=t.maxWidth||800,i=t.quality||.7;return new Promise((a,s)=>{const o=new Image,l=new FileReader;l.onload=u=>{var c;if(!((c=u.target)!=null&&c.result))return s("No result from FileReader");o.src=u.target.result},o.onload=()=>{const u=document.createElement("canvas"),c=n/o.width;u.width=n,u.height=o.height*c;const h=u.getContext("2d");if(!h)return s("Failed to get canvas context");h.drawImage(o,0,0,u.width,u.height);const f=u.toDataURL("image/jpeg",i);a(f)},l.onerror=s,l.readAsDataURL(e)})}});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var eY=1252,oSe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],dO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},pO=function(r){oSe.indexOf(r)!=-1&&(eY=dO[0]=r)};function lSe(){pO(1252)}var fo=function(r){pO(r)};function tY(){fo(1200),lSe()}function k8(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function uSe(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function rY(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var jm=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?uSe(r.slice(2)):e==254&&t==255?rY(r.slice(2)):e==65279?r.slice(1):r},fw=function(e){return String.fromCharCode(e)},E8=function(e){return String.fromCharCode(e)},UM,kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function D8(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0,u=0;u<r.length;)t=r.charCodeAt(u++),a=t>>2,n=r.charCodeAt(u++),s=(t&3)<<4|n>>4,i=r.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=kh.charAt(a)+kh.charAt(s)+kh.charAt(o)+kh.charAt(l);return e}function qa(r){var e="",t=0,n=0,i=0,a=0,s=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<r.length;)a=kh.indexOf(r.charAt(u++)),s=kh.indexOf(r.charAt(u++)),t=a<<2|s>>4,e+=String.fromCharCode(t),o=kh.indexOf(r.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=kh.indexOf(r.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Ht=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Gp=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Uh(r){return Ht?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function M8(r){return Ht?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var lo=function(e){return Ht?Gp(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function $p(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function vO(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return vO(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var Cc=Ht?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Gp(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function cSe(r){for(var e=[],t=0,n=r.length+250,i=Uh(r.length+255),a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s<128)i[t++]=s;else if(s<2048)i[t++]=192|s>>6&31,i[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++a)&1023;i[t++]=240|s>>8&7,i[t++]=128|s>>2&63,i[t++]=128|o>>6&15|(s&3)<<4,i[t++]=128|o&63}else i[t++]=224|s>>12&15,i[t++]=128|s>>6&63,i[t++]=128|s&63;t>n&&(e.push(i.slice(0,t)),t=0,i=Uh(65535),n=65530)}return e.push(i.slice(0,t)),Cc(e)}var Zi=/\u0000/g,qm=/[\u0001-\u0006]/g;function e0(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function po(r,e){var t=""+r;return t.length>=e?t:Ur("0",e-t.length)+t}function gO(r,e){var t=""+r;return t.length>=e?t:Ur(" ",e-t.length)+t}function VT(r,e){var t=""+r;return t.length>=e?t:t+Ur(" ",e-t.length)}function hSe(r,e){var t=""+Math.round(r);return t.length>=e?t:Ur("0",e-t.length)+t}function fSe(r,e){var t=""+r;return t.length>=e?t:Ur("0",e-t.length)+t}var I8=Math.pow(2,32);function bv(r,e){if(r>I8||r<-I8)return hSe(r,e);var t=Math.round(r);return fSe(t,e)}function zT(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var L8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function dSe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"ä¸å/ä¸å "hh"æ"mm"å"ss"ç§ "',r}var wt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"ä¸å/ä¸å "hh"æ"mm"å"ss"ç§ "'},P8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},pSe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function HT(r,e,t){for(var n=r<0?-1:1,i=r*n,a=0,s=1,o=0,l=1,u=0,c=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*s+a,c=h*u+l,!(i-h<5e-8));)i=1/(i-h),a=s,s=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=a):(c=u,o=s)),!t)return[0,n*o,c];var f=Math.floor(n*o/c);return[f,n*o-f*c,c]}function td(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),a=0,s=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=t?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=t?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),t&&(a=bSe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var nY=new Date(1899,11,31,0,0,0),vSe=nY.getTime(),gSe=new Date(1900,2,1,0,0,0);function iY(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=gSe&&(t+=24*60*60*1e3),(t-(vSe+(r.getTimezoneOffset()-nY.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function mO(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mSe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ySe(r){var e=r<0?12:11,t=mO(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function xSe(r){var e=mO(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function I1(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=ySe(r):e===10?t=r.toFixed(10).substr(0,12):t=xSe(r),mO(mSe(t.toUpperCase()))}function Cp(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):I1(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Ls(14,iY(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function bSe(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function _Se(r,e,t,n){var i="",a=0,s=0,o=t.y,l,u=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return yE[t.m-1][1];case 5:return yE[t.m-1][0];default:return yE[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return L8[t.q][0];default:return L8[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?po(t.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(t.S+t.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=po(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?po(l,u):"";return c}function Eh(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var aY=/%/g;function wSe(r,e,t){var n=e.replace(aY,""),i=e.length-n.length;return $u(r,n,t*Math.pow(10,2*i))+Ur("%",i)}function SSe(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return $u(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function sY(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sY(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var oY=/# (\?+)( ?)\/( ?)(\d+)/;function TSe(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return t+(a===0?"":""+a)+" "+(s===0?Ur(" ",r[1].length+1+r[4].length):gO(s,r[1].length)+r[2]+"/"+r[3]+po(o,r[4].length))}function ASe(r,e,t){return t+(e===0?"":""+e)+Ur(" ",r[1].length+2+r[4].length)}var lY=/^#*0*\.([0#]+)/,uY=/\).*[0#]/,cY=/\(###\) ###\\?-####/;function Ui(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function R8(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function O8(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function CSe(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function kSe(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function as(r,e,t){if(r.charCodeAt(0)===40&&!e.match(uY)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?as("n",n,t):"("+as("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return SSe(r,e,t);if(e.indexOf("%")!==-1)return wSe(r,e,t);if(e.indexOf("E")!==-1)return sY(e,t);if(e.charCodeAt(0)===36)return"$"+as(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+bv(l,e.length);if(e.match(/^[#?]+$/))return i=bv(t,0),i==="0"&&(i=""),i.length>e.length?i:Ui(e.substr(0,e.length-i.length))+i;if(a=e.match(oY))return TSe(a,l,u);if(e.match(/^#+0+$/))return u+bv(l,e.length-e.indexOf("0"));if(a=e.match(lY))return i=R8(t,a[1].length).replace(/^([^\.]+)$/,"$1."+Ui(a[1])).replace(/\.$/,"."+Ui(a[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+Ur("0",Ui(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+R8(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Eh(bv(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+as(r,e,-t):Eh(""+(Math.floor(t)+CSe(t,a[1].length)))+"."+po(O8(t,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return as(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=e0(as(r,e.replace(/[\\-]/g,""),t)),s=0,e0(e0(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<i.length?i.charAt(s++):p==="0"?"0":""}));if(e.match(cY))return i=as(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=HT(l,Math.pow(10,s)-1,!1),i=""+u,c=$u("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=VT(o[2],s),c.length<a[4].length&&(c=Ui(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=HT(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gO(o[1],s)+a[2]+"/"+a[3]+VT(o[2],s):Ur(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=bv(t,0),e.length<=i.length?i:Ui(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=e.indexOf(".")-s,f=e.length-i.length-h;return Ui(e.substr(0,h)+i+e.substr(e.length-f))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=O8(t,a[1].length),t<0?"-"+as(r,e,-t):Eh(kSe(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?po(0,3-p.length):"")+p})+"."+po(s,a[1].length);switch(e){case"###,##0.00":return as(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var d=Eh(bv(l,0));return d!=="0"?u+d:"";case"###,###.00":return as(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return as(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ESe(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return $u(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function DSe(r,e,t){var n=e.replace(aY,""),i=e.length-n.length;return $u(r,n,t*Math.pow(10,2*i))+Ur("%",i)}function hY(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+hY(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),t=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+a):t+="E+"+(s-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+a)%i)+"."+c.substr(a)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Bo(r,e,t){if(r.charCodeAt(0)===40&&!e.match(uY)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Bo("n",n,t):"("+Bo("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return ESe(r,e,t);if(e.indexOf("%")!==-1)return DSe(r,e,t);if(e.indexOf("E")!==-1)return hY(e,t);if(e.charCodeAt(0)===36)return"$"+Bo(r,e.substr(e.charAt(1)==" "?2:1),t);var i,a,s,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+po(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Ui(e.substr(0,e.length-i.length))+i;if(a=e.match(oY))return ASe(a,l,u);if(e.match(/^#+0+$/))return u+po(l,e.length-e.indexOf("0"));if(a=e.match(lY))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Ui(a[1])).replace(/\.$/,"."+Ui(a[1])),i=i.replace(/\.(\d*)$/,function(p,v){return"."+v+Ur("0",Ui(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Eh(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Bo(r,e,-t):Eh(""+t)+"."+Ur("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Bo(r,e.replace(/^#,#*,/,""),t);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=e0(Bo(r,e.replace(/[\\-]/g,""),t)),s=0,e0(e0(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<i.length?i.charAt(s++):p==="0"?"0":""}));if(e.match(cY))return i=Bo(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=HT(l,Math.pow(10,s)-1,!1),i=""+u,c=$u("n",a[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+a[2]+"/"+a[3],c=VT(o[2],s),c.length<a[4].length&&(c=Ui(a[4].substr(a[4].length-c.length))+c),i+=c,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=HT(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gO(o[1],s)+a[2]+"/"+a[3]+VT(o[2],s):Ur(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Ui(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=e.indexOf(".")-s,f=e.length-i.length-h;return Ui(e.substr(0,h)+i+e.substr(e.length-f))}if(a=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Bo(r,e,-t):Eh(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?po(0,3-p.length):"")+p})+"."+po(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var d=Eh(""+l);return d!=="0"?u+d:"";default:if(e.match(/\.[0#?]*$/))return Bo(r,e.slice(0,e.lastIndexOf(".")),t)+Ui(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function $u(r,e,t){return(t|0)===t?Bo(r,e,t):as(r,e,t)}function MSe(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var fY=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Wg(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":zT(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"ä¸":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="ä¸å/ä¸å")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(fY))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function ISe(r,e,t,n){for(var i=[],a="",s=0,o="",l="t",u,c,h,f="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!zT(r,s))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(h=r.charCodeAt(++s))!==34&&s<r.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++s;break;case"\\":var d=r.charAt(++s),p=d==="("||d===")"?d:"t";i[i.length]={t:p,v:d},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(u==null&&(u=td(e,t,r.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=td(e,t),u==null))return"";for(a=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=f),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"ä¸":var v={t:o,v:o};if(u==null&&(u=td(e,t)),r.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",f="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",s+=5,f="h"):r.substr(s,5).toUpperCase()==="ä¸å/ä¸å"?(u!=null&&(v.v=u.H>=12?"ä¸å":"ä¸å"),v.t="T",s+=5,f="h"):(v.t="t",++s),u==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(a=o;r.charAt(s++)!=="]"&&s<r.length;)a+=r.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(fY)){if(u==null&&(u=td(e,t),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Wg(r)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<r.length&&(o=r.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;r.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)a+=r.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=â¬acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++s;break}var g=0,m=0,x;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=f,l="h",g<1&&(g=1);break;case"s":(x=i[s].v.match(/\.0+$/))&&(m=Math.max(m,x[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[s].v.match(/[Hh]/)&&(g=1),g<2&&i[s].v.match(/[Mm]/)&&(g=2),g<3&&i[s].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",_;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=_Se(i[s].t.charCodeAt(0),i[s].v,u,m),i[s].t="t";break;case"n":case"?":for(_=s+1;i[_]!=null&&((o=i[_].t)==="?"||o==="D"||(o===" "||o==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[s].v+=i[_].v,i[_]={v:"",t:";"},++_;y+=i[s].v,s=_-1;break;case"G":i[s].t="t",i[s].v=Cp(e,t);break}var S="",w,T;if(y.length>0){y.charCodeAt(0)==40?(w=e<0&&y.charCodeAt(0)===45?-e:e,T=$u("n",y,w)):(w=e<0&&n>1?-e:e,T=$u("n",y,w),w<0&&i[0]&&i[0].t=="t"&&(T=T.substr(1),i[0].v="-"+i[0].v)),_=T.length-1;var A=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){A=s;break}var C=i.length;if(A===i.length&&T.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(_>=i[s].v.length-1?(_-=i[s].v.length,i[s].v=T.substr(_+1,i[s].v.length)):_<0?i[s].v="":(i[s].v=T.substr(0,_+1),_=-1),i[s].t="t",C=s);_>=0&&C<i.length&&(i[C].v=T.substr(0,_+1)+i[C].v)}else if(A!==i.length&&T.indexOf("E")===-1){for(_=T.indexOf(".")-1,s=A;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(c=i[s].v.indexOf(".")>-1&&s===A?i[s].v.indexOf(".")-1:i[s].v.length-1,S=i[s].v.substr(c+1);c>=0;--c)_>=0&&(i[s].v.charAt(c)==="0"||i[s].v.charAt(c)==="#")&&(S=T.charAt(_--)+S);i[s].v=S,i[s].t="t",C=s}for(_>=0&&C<i.length&&(i[C].v=T.substr(0,_+1)+i[C].v),_=T.indexOf(".")+1,s=A;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==A)){for(c=i[s].v.indexOf(".")>-1&&s===A?i[s].v.indexOf(".")+1:0,S=i[s].v.substr(0,c);c<i[s].v.length;++c)_<T.length&&(S+=T.charAt(_++));i[s].v=S,i[s].t="t",C=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(w=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=$u(i[s].t,i[s].v,w),i[s].t="t");var k="";for(s=0;s!==i.length;++s)i[s]!=null&&(k+=i[s].v);return k}var F8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function N8(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function LSe(r,e){var t=MSe(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(F8),o=t[1].match(F8);return N8(e,s)?[n,t[0]]:N8(e,o)?[n,t[1]]:[n,t[s!=null&&o!=null?2:1]]}return[n,a]}function Ls(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:wt)[r],n==null&&(n=t.table&&t.table[P8[r]]||wt[P8[r]]),n==null&&(n=pSe[r]||"General");break}if(zT(n,0))return Cp(e,t);e instanceof Date&&(e=iY(e,t.date1904));var i=LSe(n,e);if(zT(i[1]))return Cp(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return ISe(i[1],e,t,i[0])}function mp(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(wt[t]==null){e<0&&(e=t);continue}if(wt[t]==r){e=t;break}}e<0&&(e=391)}return wt[e]=r,e}function dY(){wt=dSe()}var PSe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},pY=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function RSe(r){var e=typeof r=="number"?wt[r]:r;return e=e.replace(pY,"(\\d+)"),new RegExp("^"+e+"$")}function OSe(r,e,t){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(pY)||[]).forEach(function(h,f){var d=parseInt(t[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=d;break;case"d":a=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:i=d;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&a==-1?c:u+"T"+c}var FSe=function(){var r={};r.version="1.2.0";function e(){for(var T=0,A=new Array(256),C=0;C!=256;++C)T=C,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,A[C]=T;return typeof Int32Array<"u"?new Int32Array(A):A}var t=e();function n(T){var A=0,C=0,k=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)E[k]=T[k];for(k=0;k!=256;++k)for(C=T[k],A=256+k;A<4096;A+=256)C=E[A]=C>>>8^T[C&255];var D=[];for(k=1;k!=16;++k)D[k-1]=typeof Int32Array<"u"?E.subarray(k*256,k*256+256):E.slice(k*256,k*256+256);return D}var i=n(t),a=i[0],s=i[1],o=i[2],l=i[3],u=i[4],c=i[5],h=i[6],f=i[7],d=i[8],p=i[9],v=i[10],g=i[11],m=i[12],x=i[13],y=i[14];function _(T,A){for(var C=A^-1,k=0,E=T.length;k<E;)C=C>>>8^t[(C^T.charCodeAt(k++))&255];return~C}function S(T,A){for(var C=A^-1,k=T.length-15,E=0;E<k;)C=y[T[E++]^C&255]^x[T[E++]^C>>8&255]^m[T[E++]^C>>16&255]^g[T[E++]^C>>>24]^v[T[E++]]^p[T[E++]]^d[T[E++]]^f[T[E++]]^h[T[E++]]^c[T[E++]]^u[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^a[T[E++]]^t[T[E++]];for(k+=15;E<k;)C=C>>>8^t[(C^T[E++])&255];return~C}function w(T,A){for(var C=A^-1,k=0,E=T.length,D=0,I=0;k<E;)D=T.charCodeAt(k++),D<128?C=C>>>8^t[(C^D)&255]:D<2048?(C=C>>>8^t[(C^(192|D>>6&31))&255],C=C>>>8^t[(C^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,I=T.charCodeAt(k++)&1023,C=C>>>8^t[(C^(240|D>>8&7))&255],C=C>>>8^t[(C^(128|D>>2&63))&255],C=C>>>8^t[(C^(128|I>>6&15|(D&3)<<4))&255],C=C>>>8^t[(C^(128|I&63))&255]):(C=C>>>8^t[(C^(224|D>>12&15))&255],C=C>>>8^t[(C^(128|D>>6&63))&255],C=C>>>8^t[(C^(128|D&63))&255]);return~C}return r.table=t,r.bstr=_,r.buf=S,r.str=w,r}(),$t=function(){var e={};e.version="1.2.1";function t(H,q){for(var X=H.split("/"),j=q.split("/"),Z=0,J=0,ue=Math.min(X.length,j.length);Z<ue;++Z){if(J=X[Z].length-j[Z].length)return J;if(X[Z]!=j[Z])return X[Z]<j[Z]?-1:1}return X.length-j.length}function n(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:n(H.slice(0,-1));var q=H.lastIndexOf("/");return q===-1?H:H.slice(0,q+1)}function i(H){if(H.charAt(H.length-1)=="/")return i(H.slice(0,-1));var q=H.lastIndexOf("/");return q===-1?H:H.slice(q+1)}function a(H,q){typeof q=="string"&&(q=new Date(q));var X=q.getHours();X=X<<6|q.getMinutes(),X=X<<5|q.getSeconds()>>>1,H.write_shift(2,X);var j=q.getFullYear()-1980;j=j<<4|q.getMonth()+1,j=j<<5|q.getDate(),H.write_shift(2,j)}function s(H){var q=H.read_shift(2)&65535,X=H.read_shift(2)&65535,j=new Date,Z=X&31;X>>>=5;var J=X&15;X>>>=4,j.setMilliseconds(0),j.setFullYear(X+1980),j.setMonth(J-1),j.setDate(Z);var ue=q&31;q>>>=5;var ye=q&63;return q>>>=6,j.setHours(q),j.setMinutes(ye),j.setSeconds(ue<<1),j}function o(H){ni(H,0);for(var q={},X=0;H.l<=H.length-4;){var j=H.read_shift(2),Z=H.read_shift(2),J=H.l+Z,ue={};switch(j){case 21589:X=H.read_shift(1),X&1&&(ue.mtime=H.read_shift(4)),Z>5&&(X&2&&(ue.atime=H.read_shift(4)),X&4&&(ue.ctime=H.read_shift(4))),ue.mtime&&(ue.mt=new Date(ue.mtime*1e3));break}H.l=J,q[j]=ue}return q}var l;function u(){return l||(l={})}function c(H,q){if(H[0]==80&&H[1]==75)return uF(H,q);if((H[0]|32)==109&&(H[1]|32)==105)return yq(H,q);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var X=3,j=512,Z=0,J=0,ue=0,ye=0,oe=0,ce=[],de=H.slice(0,512);ni(de,0);var Te=h(de);switch(X=Te[0],X){case 3:j=512;break;case 4:j=4096;break;case 0:if(Te[1]==0)return uF(H,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}j!==512&&(de=H.slice(0,j),ni(de,28));var Pe=H.slice(0,j);f(de,X);var Ge=de.read_shift(4,"i");if(X===3&&Ge!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ge);de.l+=4,ue=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),ye=de.read_shift(4,"i"),Z=de.read_shift(4,"i"),oe=de.read_shift(4,"i"),J=de.read_shift(4,"i");for(var De=-1,Be=0;Be<109&&(De=de.read_shift(4,"i"),!(De<0));++Be)ce[Be]=De;var bt=d(H,j);g(oe,J,bt,j,ce);var Fr=x(bt,ue,ce,j);Fr[ue].name="!Directory",Z>0&&ye!==I&&(Fr[ye].name="!MiniFAT"),Fr[ce[0]].name="!FAT",Fr.fat_addrs=ce,Fr.ssz=j;var Nr={},hi=[],jg=[],qg=[];y(ue,Fr,bt,hi,Z,Nr,jg,ye),p(jg,qg,hi),hi.shift();var Zg={FileIndex:jg,FullPaths:qg};return q&&q.raw&&(Zg.raw={header:Pe,sectors:bt}),Zg}function h(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(P,"Header Signature: "),H.l+=16;var q=H.read_shift(2,"u");return[H.read_shift(2,"u"),q]}function f(H,q){var X=9;switch(H.l+=2,X=H.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function d(H,q){for(var X=Math.ceil(H.length/q)-1,j=[],Z=1;Z<X;++Z)j[Z-1]=H.slice(Z*q,(Z+1)*q);return j[X-1]=H.slice(X*q),j}function p(H,q,X){for(var j=0,Z=0,J=0,ue=0,ye=0,oe=X.length,ce=[],de=[];j<oe;++j)ce[j]=de[j]=j,q[j]=X[j];for(;ye<de.length;++ye)j=de[ye],Z=H[j].L,J=H[j].R,ue=H[j].C,ce[j]===j&&(Z!==-1&&ce[Z]!==Z&&(ce[j]=ce[Z]),J!==-1&&ce[J]!==J&&(ce[j]=ce[J])),ue!==-1&&(ce[ue]=j),Z!==-1&&j!=ce[j]&&(ce[Z]=ce[j],de.lastIndexOf(Z)<ye&&de.push(Z)),J!==-1&&j!=ce[j]&&(ce[J]=ce[j],de.lastIndexOf(J)<ye&&de.push(J));for(j=1;j<oe;++j)ce[j]===j&&(J!==-1&&ce[J]!==J?ce[j]=ce[J]:Z!==-1&&ce[Z]!==Z&&(ce[j]=ce[Z]));for(j=1;j<oe;++j)if(H[j].type!==0){if(ye=j,ye!=ce[ye])do ye=ce[ye],q[j]=q[ye]+"/"+q[j];while(ye!==0&&ce[ye]!==-1&&ye!=ce[ye]);ce[j]=-1}for(q[0]+="/",j=1;j<oe;++j)H[j].type!==2&&(q[j]+="/")}function v(H,q,X){for(var j=H.start,Z=H.size,J=[],ue=j;X&&Z>0&&ue>=0;)J.push(q.slice(ue*D,ue*D+D)),Z-=D,ue=Gf(X,ue*4);return J.length===0?_n(0):Cc(J).slice(0,H.size)}function g(H,q,X,j,Z){var J=I;if(H===I){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var ue=X[H],ye=(j>>>2)-1;if(!ue)return;for(var oe=0;oe<ye&&(J=Gf(ue,oe*4))!==I;++oe)Z.push(J);g(Gf(ue,j-4),q-1,X,j,Z)}}function m(H,q,X,j,Z){var J=[],ue=[];Z||(Z=[]);var ye=j-1,oe=0,ce=0;for(oe=q;oe>=0;){Z[oe]=!0,J[J.length]=oe,ue.push(H[oe]);var de=X[Math.floor(oe*4/j)];if(ce=oe*4&ye,j<4+ce)throw new Error("FAT boundary crossed: "+oe+" 4 "+j);if(!H[de])break;oe=Gf(H[de],ce)}return{nodes:J,data:X8([ue])}}function x(H,q,X,j){var Z=H.length,J=[],ue=[],ye=[],oe=[],ce=j-1,de=0,Te=0,Pe=0,Ge=0;for(de=0;de<Z;++de)if(ye=[],Pe=de+q,Pe>=Z&&(Pe-=Z),!ue[Pe]){oe=[];var De=[];for(Te=Pe;Te>=0;){De[Te]=!0,ue[Te]=!0,ye[ye.length]=Te,oe.push(H[Te]);var Be=X[Math.floor(Te*4/j)];if(Ge=Te*4&ce,j<4+Ge)throw new Error("FAT boundary crossed: "+Te+" 4 "+j);if(!H[Be]||(Te=Gf(H[Be],Ge),De[Te]))break}J[Pe]={nodes:ye,data:X8([oe])}}return J}function y(H,q,X,j,Z,J,ue,ye){for(var oe=0,ce=j.length?2:0,de=q[H].data,Te=0,Pe=0,Ge;Te<de.length;Te+=128){var De=de.slice(Te,Te+128);ni(De,64),Pe=De.read_shift(2),Ge=wO(De,0,Pe-ce),j.push(Ge);var Be={name:Ge,type:De.read_shift(1),color:De.read_shift(1),L:De.read_shift(4,"i"),R:De.read_shift(4,"i"),C:De.read_shift(4,"i"),clsid:De.read_shift(16),state:De.read_shift(4,"i"),start:0,size:0},bt=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);bt!==0&&(Be.ct=_(De,De.l-8));var Fr=De.read_shift(2)+De.read_shift(2)+De.read_shift(2)+De.read_shift(2);Fr!==0&&(Be.mt=_(De,De.l-8)),Be.start=De.read_shift(4,"i"),Be.size=De.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=I,Be.name=""),Be.type===5?(oe=Be.start,Z>0&&oe!==I&&(q[oe].name="!StreamData")):Be.size>=4096?(Be.storage="fat",q[Be.start]===void 0&&(q[Be.start]=m(X,Be.start,q.fat_addrs,q.ssz)),q[Be.start].name=Be.name,Be.content=q[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:oe!==I&&Be.start!==I&&q[oe]&&(Be.content=v(Be,q[oe].data,(q[ye]||{}).data))),Be.content&&ni(Be.content,0),J[Ge]=Be,ue.push(Be)}}function _(H,q){return new Date((Ha(H,q+4)/1e7*Math.pow(2,32)+Ha(H,q)/1e7-11644473600)*1e3)}function S(H,q){return u(),c(l.readFileSync(H),q)}function w(H,q){var X=q&&q.type;switch(X||Ht&&Buffer.isBuffer(H)&&(X="buffer"),X||"base64"){case"file":return S(H,q);case"base64":return c(lo(qa(H)),q);case"binary":return c(lo(H),q)}return c(H,q)}function T(H,q){var X=q||{},j=X.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=j+"/",H.FileIndex[0]={name:j,type:5}),X.CLSID&&(H.FileIndex[0].clsid=X.CLSID),A(H)}function A(H){var q="Sh33tJ5";if(!$t.find(H,"/"+q)){var X=_n(4);X[0]=55,X[1]=X[3]=50,X[2]=54,H.FileIndex.push({name:q,type:2,content:X,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+q),C(H)}}function C(H,q){T(H);for(var X=!1,j=!1,Z=H.FullPaths.length-1;Z>=0;--Z){var J=H.FileIndex[Z];switch(J.type){case 0:j?X=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(J.R*J.L*J.C)&&(X=!0),J.R>-1&&J.L>-1&&J.R==J.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!q)){var ue=new Date(1987,1,19),ye=0,oe=Object.create?Object.create(null):{},ce=[];for(Z=0;Z<H.FullPaths.length;++Z)oe[H.FullPaths[Z]]=!0,H.FileIndex[Z].type!==0&&ce.push([H.FullPaths[Z],H.FileIndex[Z]]);for(Z=0;Z<ce.length;++Z){var de=n(ce[Z][0]);j=oe[de],j||(ce.push([de,{name:i(de).replace("/",""),type:1,clsid:V,ct:ue,mt:ue,content:null}]),oe[de]=!0)}for(ce.sort(function(Ge,De){return t(Ge[0],De[0])}),H.FullPaths=[],H.FileIndex=[],Z=0;Z<ce.length;++Z)H.FullPaths[Z]=ce[Z][0],H.FileIndex[Z]=ce[Z][1];for(Z=0;Z<ce.length;++Z){var Te=H.FileIndex[Z],Pe=H.FullPaths[Z];if(Te.name=i(Pe).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||V,Z===0)Te.C=ce.length>1?1:-1,Te.size=0,Te.type=5;else if(Pe.slice(-1)=="/"){for(ye=Z+1;ye<ce.length&&n(H.FullPaths[ye])!=Pe;++ye);for(Te.C=ye>=ce.length?-1:ye,ye=Z+1;ye<ce.length&&n(H.FullPaths[ye])!=n(Pe);++ye);Te.R=ye>=ce.length?-1:ye,Te.type=1}else n(H.FullPaths[Z+1]||"")==n(Pe)&&(Te.R=Z+1),Te.type=2}}}function k(H,q){var X=q||{};if(X.fileType=="mad")return xq(H,X);switch(C(H),X.fileType){case"zip":return fq(H,X)}var j=function(Ge){for(var De=0,Be=0,bt=0;bt<Ge.FileIndex.length;++bt){var Fr=Ge.FileIndex[bt];if(Fr.content){var Nr=Fr.content.length;Nr>0&&(Nr<4096?De+=Nr+63>>6:Be+=Nr+511>>9)}}for(var hi=Ge.FullPaths.length+3>>2,jg=De+7>>3,qg=De+127>>7,Zg=jg+Be+hi+qg,ef=Zg+127>>7,H2=ef<=109?0:Math.ceil((ef-109)/127);Zg+ef+H2+127>>7>ef;)H2=++ef<=109?0:Math.ceil((ef-109)/127);var Nl=[1,H2,ef,qg,hi,Be,De,0];return Ge.FileIndex[0].size=De<<6,Nl[7]=(Ge.FileIndex[0].start=Nl[0]+Nl[1]+Nl[2]+Nl[3]+Nl[4]+Nl[5])+(Nl[6]+7>>3),Nl}(H),Z=_n(j[7]<<9),J=0,ue=0;{for(J=0;J<8;++J)Z.write_shift(1,F[J]);for(J=0;J<8;++J)Z.write_shift(2,0);for(Z.write_shift(2,62),Z.write_shift(2,3),Z.write_shift(2,65534),Z.write_shift(2,9),Z.write_shift(2,6),J=0;J<3;++J)Z.write_shift(2,0);for(Z.write_shift(4,0),Z.write_shift(4,j[2]),Z.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),Z.write_shift(4,0),Z.write_shift(4,4096),Z.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:I),Z.write_shift(4,j[3]),Z.write_shift(-4,j[1]?j[0]-1:I),Z.write_shift(4,j[1]),J=0;J<109;++J)Z.write_shift(-4,J<j[2]?j[1]+J:-1)}if(j[1])for(ue=0;ue<j[1];++ue){for(;J<236+ue*127;++J)Z.write_shift(-4,J<j[2]?j[1]+J:-1);Z.write_shift(-4,ue===j[1]-1?I:ue+1)}var ye=function(Ge){for(ue+=Ge;J<ue-1;++J)Z.write_shift(-4,J+1);Ge&&(++J,Z.write_shift(-4,I))};for(ue=J=0,ue+=j[1];J<ue;++J)Z.write_shift(-4,z.DIFSECT);for(ue+=j[2];J<ue;++J)Z.write_shift(-4,z.FATSECT);ye(j[3]),ye(j[4]);for(var oe=0,ce=0,de=H.FileIndex[0];oe<H.FileIndex.length;++oe)de=H.FileIndex[oe],de.content&&(ce=de.content.length,!(ce<4096)&&(de.start=ue,ye(ce+511>>9)));for(ye(j[6]+7>>3);Z.l&511;)Z.write_shift(-4,z.ENDOFCHAIN);for(ue=J=0,oe=0;oe<H.FileIndex.length;++oe)de=H.FileIndex[oe],de.content&&(ce=de.content.length,!(!ce||ce>=4096)&&(de.start=ue,ye(ce+63>>6)));for(;Z.l&511;)Z.write_shift(-4,z.ENDOFCHAIN);for(J=0;J<j[4]<<2;++J){var Te=H.FullPaths[J];if(!Te||Te.length===0){for(oe=0;oe<17;++oe)Z.write_shift(4,0);for(oe=0;oe<3;++oe)Z.write_shift(4,-1);for(oe=0;oe<12;++oe)Z.write_shift(4,0);continue}de=H.FileIndex[J],J===0&&(de.start=de.size?de.start-1:I);var Pe=J===0&&X.root||de.name;if(ce=2*(Pe.length+1),Z.write_shift(64,Pe,"utf16le"),Z.write_shift(2,ce),Z.write_shift(1,de.type),Z.write_shift(1,de.color),Z.write_shift(-4,de.L),Z.write_shift(-4,de.R),Z.write_shift(-4,de.C),de.clsid)Z.write_shift(16,de.clsid,"hex");else for(oe=0;oe<4;++oe)Z.write_shift(4,0);Z.write_shift(4,de.state||0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,de.start),Z.write_shift(4,de.size),Z.write_shift(4,0)}for(J=1;J<H.FileIndex.length;++J)if(de=H.FileIndex[J],de.size>=4096)if(Z.l=de.start+1<<9,Ht&&Buffer.isBuffer(de.content))de.content.copy(Z,Z.l,0,de.size),Z.l+=de.size+511&-512;else{for(oe=0;oe<de.size;++oe)Z.write_shift(1,de.content[oe]);for(;oe&511;++oe)Z.write_shift(1,0)}for(J=1;J<H.FileIndex.length;++J)if(de=H.FileIndex[J],de.size>0&&de.size<4096)if(Ht&&Buffer.isBuffer(de.content))de.content.copy(Z,Z.l,0,de.size),Z.l+=de.size+63&-64;else{for(oe=0;oe<de.size;++oe)Z.write_shift(1,de.content[oe]);for(;oe&63;++oe)Z.write_shift(1,0)}if(Ht)Z.l=Z.length;else for(;Z.l<Z.length;)Z.write_shift(1,0);return Z}function E(H,q){var X=H.FullPaths.map(function(oe){return oe.toUpperCase()}),j=X.map(function(oe){var ce=oe.split("/");return ce[ce.length-(oe.slice(-1)=="/"?2:1)]}),Z=!1;q.charCodeAt(0)===47?(Z=!0,q=X[0].slice(0,-1)+q):Z=q.indexOf("/")!==-1;var J=q.toUpperCase(),ue=Z===!0?X.indexOf(J):j.indexOf(J);if(ue!==-1)return H.FileIndex[ue];var ye=!J.match(qm);for(J=J.replace(Zi,""),ye&&(J=J.replace(qm,"!")),ue=0;ue<X.length;++ue)if((ye?X[ue].replace(qm,"!"):X[ue]).replace(Zi,"")==J||(ye?j[ue].replace(qm,"!"):j[ue]).replace(Zi,"")==J)return H.FileIndex[ue];return null}var D=64,I=-2,P="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:P,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(H,q,X){u();var j=k(H,X);l.writeFileSync(q,j)}function O(H){for(var q=new Array(H.length),X=0;X<H.length;++X)q[X]=String.fromCharCode(H[X]);return q.join("")}function ee(H,q){var X=k(H,q);switch(q&&q.type||"buffer"){case"file":return u(),l.writeFileSync(q.filename,X),X;case"binary":return typeof X=="string"?X:O(X);case"base64":return D8(typeof X=="string"?X:O(X));case"buffer":if(Ht)return Buffer.isBuffer(X)?X:Gp(X);case"array":return typeof X=="string"?lo(X):X}return X}var Q;function N(H){try{var q=H.InflateRaw,X=new q;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)Q=H;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function Y(H,q){if(!Q)return oF(H,q);var X=Q.InflateRaw,j=new X,Z=j._processChunk(H.slice(H.l),j._finishFlushFlag);return H.l+=j.bytesRead,Z}function W(H){return Q?Q.deflateRawSync(H):Ct(H)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(H){var q=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(q>>16|q>>8|q)&255}for(var re=typeof Uint8Array<"u",ie=re?new Uint8Array(256):[],se=0;se<256;++se)ie[se]=ae(se);function U(H,q){var X=ie[H&255];return q<=8?X>>>8-q:(X=X<<8|ie[H>>8&255],q<=16?X>>>16-q:(X=X<<8|ie[H>>16&255],X>>>24-q))}function Oe(H,q){var X=q&7,j=q>>>3;return(H[j]|(X<=6?0:H[j+1]<<8))>>>X&3}function Se(H,q){var X=q&7,j=q>>>3;return(H[j]|(X<=5?0:H[j+1]<<8))>>>X&7}function Ie(H,q){var X=q&7,j=q>>>3;return(H[j]|(X<=4?0:H[j+1]<<8))>>>X&15}function we(H,q){var X=q&7,j=q>>>3;return(H[j]|(X<=3?0:H[j+1]<<8))>>>X&31}function be(H,q){var X=q&7,j=q>>>3;return(H[j]|(X<=1?0:H[j+1]<<8))>>>X&127}function Fe(H,q,X){var j=q&7,Z=q>>>3,J=(1<<X)-1,ue=H[Z]>>>j;return X<8-j||(ue|=H[Z+1]<<8-j,X<16-j)||(ue|=H[Z+2]<<16-j,X<24-j)||(ue|=H[Z+3]<<24-j),ue&J}function st(H,q,X){var j=q&7,Z=q>>>3;return j<=5?H[Z]|=(X&7)<<j:(H[Z]|=X<<j&255,H[Z+1]=(X&7)>>8-j),q+3}function pr(H,q,X){var j=q&7,Z=q>>>3;return X=(X&1)<<j,H[Z]|=X,q+1}function _r(H,q,X){var j=q&7,Z=q>>>3;return X<<=j,H[Z]|=X&255,X>>>=8,H[Z+1]=X,q+8}function gn(H,q,X){var j=q&7,Z=q>>>3;return X<<=j,H[Z]|=X&255,X>>>=8,H[Z+1]=X&255,H[Z+2]=X>>>8,q+16}function Ln(H,q){var X=H.length,j=2*X>q?2*X:q+5,Z=0;if(X>=q)return H;if(Ht){var J=M8(j);if(H.copy)H.copy(J);else for(;Z<H.length;++Z)J[Z]=H[Z];return J}else if(re){var ue=new Uint8Array(j);if(ue.set)ue.set(H);else for(;Z<X;++Z)ue[Z]=H[Z];return ue}return H.length=j,H}function rr(H){for(var q=new Array(H),X=0;X<H;++X)q[X]=0;return q}function rn(H,q,X){var j=1,Z=0,J=0,ue=0,ye=0,oe=H.length,ce=re?new Uint16Array(32):rr(32);for(J=0;J<32;++J)ce[J]=0;for(J=oe;J<X;++J)H[J]=0;oe=H.length;var de=re?new Uint16Array(oe):rr(oe);for(J=0;J<oe;++J)ce[Z=H[J]]++,j<Z&&(j=Z),de[J]=0;for(ce[0]=0,J=1;J<=j;++J)ce[J+16]=ye=ye+ce[J-1]<<1;for(J=0;J<oe;++J)ye=H[J],ye!=0&&(de[J]=ce[ye+16]++);var Te=0;for(J=0;J<oe;++J)if(Te=H[J],Te!=0)for(ye=U(de[J],j)>>j-Te,ue=(1<<j+4-Te)-1;ue>=0;--ue)q[ye|ue<<Te]=Te&15|J<<4;return j}var vr=re?new Uint16Array(512):rr(512),nn=re?new Uint16Array(32):rr(32);if(!re){for(var wr=0;wr<512;++wr)vr[wr]=0;for(wr=0;wr<32;++wr)nn[wr]=0}(function(){for(var H=[],q=0;q<32;q++)H.push(5);rn(H,nn,32);var X=[];for(q=0;q<=143;q++)X.push(8);for(;q<=255;q++)X.push(9);for(;q<=279;q++)X.push(7);for(;q<=287;q++)X.push(8);rn(X,vr,288)})();var sa=function(){for(var q=re?new Uint8Array(32768):[],X=0,j=0;X<fe.length-1;++X)for(;j<fe[X+1];++j)q[j]=X;for(;j<32768;++j)q[j]=29;var Z=re?new Uint8Array(259):[];for(X=0,j=0;X<ne.length-1;++X)for(;j<ne[X+1];++j)Z[j]=X;function J(ye,oe){for(var ce=0;ce<ye.length;){var de=Math.min(65535,ye.length-ce),Te=ce+de==ye.length;for(oe.write_shift(1,+Te),oe.write_shift(2,de),oe.write_shift(2,~de&65535);de-- >0;)oe[oe.l++]=ye[ce++]}return oe.l}function ue(ye,oe){for(var ce=0,de=0,Te=re?new Uint16Array(32768):[];de<ye.length;){var Pe=Math.min(65535,ye.length-de);if(Pe<10){for(ce=st(oe,ce,+(de+Pe==ye.length)),ce&7&&(ce+=8-(ce&7)),oe.l=ce/8|0,oe.write_shift(2,Pe),oe.write_shift(2,~Pe&65535);Pe-- >0;)oe[oe.l++]=ye[de++];ce=oe.l*8;continue}ce=st(oe,ce,+(de+Pe==ye.length)+2);for(var Ge=0;Pe-- >0;){var De=ye[de];Ge=(Ge<<5^De)&32767;var Be=-1,bt=0;if((Be=Te[Ge])&&(Be|=de&-32768,Be>de&&(Be-=32768),Be<de))for(;ye[Be+bt]==ye[de+bt]&&bt<250;)++bt;if(bt>2){De=Z[bt],De<=22?ce=_r(oe,ce,ie[De+1]>>1)-1:(_r(oe,ce,3),ce+=5,_r(oe,ce,ie[De-23]>>5),ce+=3);var Fr=De<8?0:De-4>>2;Fr>0&&(gn(oe,ce,bt-ne[De]),ce+=Fr),De=q[de-Be],ce=_r(oe,ce,ie[De]>>3),ce-=3;var Nr=De<4?0:De-2>>1;Nr>0&&(gn(oe,ce,de-Be-fe[De]),ce+=Nr);for(var hi=0;hi<bt;++hi)Te[Ge]=de&32767,Ge=(Ge<<5^ye[de])&32767,++de;Pe-=bt-1}else De<=143?De=De+48:ce=pr(oe,ce,1),ce=_r(oe,ce,ie[De]),Te[Ge]=de&32767,++de}ce=_r(oe,ce,0)-1}return oe.l=(ce+7)/8|0,oe.l}return function(oe,ce){return oe.length<8?J(oe,ce):ue(oe,ce)}}();function Ct(H){var q=_n(50+Math.floor(H.length*1.1)),X=sa(H,q);return q.slice(0,X)}var ur=re?new Uint16Array(32768):rr(32768),Or=re?new Uint16Array(32768):rr(32768),Sr=re?new Uint16Array(128):rr(128),ko=1,sF=1;function uq(H,q){var X=we(H,q)+257;q+=5;var j=we(H,q)+1;q+=5;var Z=Ie(H,q)+4;q+=4;for(var J=0,ue=re?new Uint8Array(19):rr(19),ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,ce=re?new Uint8Array(8):rr(8),de=re?new Uint8Array(8):rr(8),Te=ue.length,Pe=0;Pe<Z;++Pe)ue[K[Pe]]=J=Se(H,q),oe<J&&(oe=J),ce[J]++,q+=3;var Ge=0;for(ce[0]=0,Pe=1;Pe<=oe;++Pe)de[Pe]=Ge=Ge+ce[Pe-1]<<1;for(Pe=0;Pe<Te;++Pe)(Ge=ue[Pe])!=0&&(ye[Pe]=de[Ge]++);var De=0;for(Pe=0;Pe<Te;++Pe)if(De=ue[Pe],De!=0){Ge=ie[ye[Pe]]>>8-De;for(var Be=(1<<7-De)-1;Be>=0;--Be)Sr[Ge|Be<<De]=De&7|Pe<<3}var bt=[];for(oe=1;bt.length<X+j;)switch(Ge=Sr[be(H,q)],q+=Ge&7,Ge>>>=3){case 16:for(J=3+Oe(H,q),q+=2,Ge=bt[bt.length-1];J-- >0;)bt.push(Ge);break;case 17:for(J=3+Se(H,q),q+=3;J-- >0;)bt.push(0);break;case 18:for(J=11+be(H,q),q+=7;J-- >0;)bt.push(0);break;default:bt.push(Ge),oe<Ge&&(oe=Ge);break}var Fr=bt.slice(0,X),Nr=bt.slice(X);for(Pe=X;Pe<286;++Pe)Fr[Pe]=0;for(Pe=j;Pe<30;++Pe)Nr[Pe]=0;return ko=rn(Fr,ur,286),sF=rn(Nr,Or,30),q}function cq(H,q){if(H[0]==3&&!(H[1]&3))return[Uh(q),2];for(var X=0,j=0,Z=M8(q||1<<18),J=0,ue=Z.length>>>0,ye=0,oe=0;!(j&1);){if(j=Se(H,X),X+=3,j>>>1)j>>1==1?(ye=9,oe=5):(X=uq(H,X),ye=ko,oe=sF);else{X&7&&(X+=8-(X&7));var ce=H[X>>>3]|H[(X>>>3)+1]<<8;if(X+=32,ce>0)for(!q&&ue<J+ce&&(Z=Ln(Z,J+ce),ue=Z.length);ce-- >0;)Z[J++]=H[X>>>3],X+=8;continue}for(;;){!q&&ue<J+32767&&(Z=Ln(Z,J+32767),ue=Z.length);var de=Fe(H,X,ye),Te=j>>>1==1?vr[de]:ur[de];if(X+=Te&15,Te>>>=4,!(Te>>>8&255))Z[J++]=Te;else{if(Te==256)break;Te-=257;var Pe=Te<8?0:Te-4>>2;Pe>5&&(Pe=0);var Ge=J+ne[Te];Pe>0&&(Ge+=Fe(H,X,Pe),X+=Pe),de=Fe(H,X,oe),Te=j>>>1==1?nn[de]:Or[de],X+=Te&15,Te>>>=4;var De=Te<4?0:Te-2>>1,Be=fe[Te];for(De>0&&(Be+=Fe(H,X,De),X+=De),!q&&ue<Ge&&(Z=Ln(Z,Ge+100),ue=Z.length);J<Ge;)Z[J]=Z[J-Be],++J}}}return q?[Z,X+7>>>3]:[Z.slice(0,J),X+7>>>3]}function oF(H,q){var X=H.slice(H.l||0),j=cq(X,q);return H.l+=j[1],j[0]}function lF(H,q){if(H)typeof console<"u"&&console.error(q);else throw new Error(q)}function uF(H,q){var X=H;ni(X,0);var j=[],Z=[],J={FileIndex:j,FullPaths:Z};T(J,{root:q.root});for(var ue=X.length-4;(X[ue]!=80||X[ue+1]!=75||X[ue+2]!=5||X[ue+3]!=6)&&ue>=0;)--ue;X.l=ue+4,X.l+=4;var ye=X.read_shift(2);X.l+=6;var oe=X.read_shift(4);for(X.l=oe,ue=0;ue<ye;++ue){X.l+=20;var ce=X.read_shift(4),de=X.read_shift(4),Te=X.read_shift(2),Pe=X.read_shift(2),Ge=X.read_shift(2);X.l+=8;var De=X.read_shift(4),Be=o(X.slice(X.l+Te,X.l+Te+Pe));X.l+=Te+Pe+Ge;var bt=X.l;X.l=De+4,hq(X,ce,de,J,Be),X.l=bt}return J}function hq(H,q,X,j,Z){H.l+=2;var J=H.read_shift(2),ue=H.read_shift(2),ye=s(H);if(J&8257)throw new Error("Unsupported ZIP encryption");for(var oe=H.read_shift(4),ce=H.read_shift(4),de=H.read_shift(4),Te=H.read_shift(2),Pe=H.read_shift(2),Ge="",De=0;De<Te;++De)Ge+=String.fromCharCode(H[H.l++]);if(Pe){var Be=o(H.slice(H.l,H.l+Pe));(Be[21589]||{}).mt&&(ye=Be[21589].mt),((Z||{})[21589]||{}).mt&&(ye=Z[21589].mt)}H.l+=Pe;var bt=H.slice(H.l,H.l+ce);switch(ue){case 8:bt=Y(H,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ue)}var Fr=!1;J&8&&(oe=H.read_shift(4),oe==134695760&&(oe=H.read_shift(4),Fr=!0),ce=H.read_shift(4),de=H.read_shift(4)),ce!=q&&lF(Fr,"Bad compressed size: "+q+" != "+ce),de!=X&&lF(Fr,"Bad uncompressed size: "+X+" != "+de),z2(j,Ge,bt,{unsafe:!0,mt:ye})}function fq(H,q){var X=q||{},j=[],Z=[],J=_n(1),ue=X.compression?8:0,ye=0,oe=0,ce=0,de=0,Te=0,Pe=H.FullPaths[0],Ge=Pe,De=H.FileIndex[0],Be=[],bt=0;for(oe=1;oe<H.FullPaths.length;++oe)if(Ge=H.FullPaths[oe].slice(Pe.length),De=H.FileIndex[oe],!(!De.size||!De.content||Ge=="Sh33tJ5")){var Fr=de,Nr=_n(Ge.length);for(ce=0;ce<Ge.length;++ce)Nr.write_shift(1,Ge.charCodeAt(ce)&127);Nr=Nr.slice(0,Nr.l),Be[Te]=FSe.buf(De.content,0);var hi=De.content;ue==8&&(hi=W(hi)),J=_n(30),J.write_shift(4,67324752),J.write_shift(2,20),J.write_shift(2,ye),J.write_shift(2,ue),De.mt?a(J,De.mt):J.write_shift(4,0),J.write_shift(-4,Be[Te]),J.write_shift(4,hi.length),J.write_shift(4,De.content.length),J.write_shift(2,Nr.length),J.write_shift(2,0),de+=J.length,j.push(J),de+=Nr.length,j.push(Nr),de+=hi.length,j.push(hi),J=_n(46),J.write_shift(4,33639248),J.write_shift(2,0),J.write_shift(2,20),J.write_shift(2,ye),J.write_shift(2,ue),J.write_shift(4,0),J.write_shift(-4,Be[Te]),J.write_shift(4,hi.length),J.write_shift(4,De.content.length),J.write_shift(2,Nr.length),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(4,0),J.write_shift(4,Fr),bt+=J.l,Z.push(J),bt+=Nr.length,Z.push(Nr),++Te}return J=_n(22),J.write_shift(4,101010256),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,Te),J.write_shift(2,Te),J.write_shift(4,bt),J.write_shift(4,de),J.write_shift(2,0),Cc([Cc(j),Cc(Z),J])}var a_={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dq(H,q){if(H.ctype)return H.ctype;var X=H.name||"",j=X.match(/\.([^\.]+)$/);return j&&a_[j[1]]||q&&(j=(X=q).match(/[\.\\]([^\.\\])+$/),j&&a_[j[1]])?a_[j[1]]:"application/octet-stream"}function pq(H){for(var q=D8(H),X=[],j=0;j<q.length;j+=76)X.push(q.slice(j,j+76));return X.join(`\r
`)+`\r
`}function vq(H){var q=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ce){var de=ce.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],j=q.split(`\r
`),Z=0;Z<j.length;++Z){var J=j[Z];if(J.length==0){X.push("");continue}for(var ue=0;ue<J.length;){var ye=76,oe=J.slice(ue,ue+ye);oe.charAt(ye-1)=="="?ye--:oe.charAt(ye-2)=="="?ye-=2:oe.charAt(ye-3)=="="&&(ye-=3),oe=J.slice(ue,ue+ye),ue+=ye,ue<J.length&&(oe+="="),X.push(oe)}}return X.join(`\r
`)}function gq(H){for(var q=[],X=0;X<H.length;++X){for(var j=H[X];X<=H.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+H[++X];q.push(j)}for(var Z=0;Z<q.length;++Z)q[Z]=q[Z].replace(/[=][0-9A-Fa-f]{2}/g,function(J){return String.fromCharCode(parseInt(J.slice(1),16))});return lo(q.join(`\r
`))}function mq(H,q,X){for(var j="",Z="",J="",ue,ye=0;ye<10;++ye){var oe=q[ye];if(!oe||oe.match(/^\s*$/))break;var ce=oe.match(/^(.*?):\s*([^\s].*)$/);if(ce)switch(ce[1].toLowerCase()){case"content-location":j=ce[2].trim();break;case"content-type":J=ce[2].trim();break;case"content-transfer-encoding":Z=ce[2].trim();break}}switch(++ye,Z.toLowerCase()){case"base64":ue=lo(qa(q.slice(ye).join("")));break;case"quoted-printable":ue=gq(q.slice(ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Z)}var de=z2(H,j.slice(X.length),ue,{unsafe:!0});J&&(de.ctype=J)}function yq(H,q){if(O(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=q&&q.root||"",j=(Ht&&Buffer.isBuffer(H)?H.toString("binary"):O(H)).split(`\r
`),Z=0,J="";for(Z=0;Z<j.length;++Z)if(J=j[Z],!!/^Content-Location:/i.test(J)&&(J=J.slice(J.indexOf("file")),X||(X=J.slice(0,J.lastIndexOf("/")+1)),J.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),J.slice(0,X.length)!=X););var ue=(j[1]||"").match(/boundary="(.*?)"/);if(!ue)throw new Error("MAD cannot find boundary");var ye="--"+(ue[1]||""),oe=[],ce=[],de={FileIndex:oe,FullPaths:ce};T(de);var Te,Pe=0;for(Z=0;Z<j.length;++Z){var Ge=j[Z];Ge!==ye&&Ge!==ye+"--"||(Pe++&&mq(de,j.slice(Te,Z),X),Te=Z)}return de}function xq(H,q){var X=q||{},j=X.boundary||"SheetJS";j="------="+j;for(var Z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],J=H.FullPaths[0],ue=J,ye=H.FileIndex[0],oe=1;oe<H.FullPaths.length;++oe)if(ue=H.FullPaths[oe].slice(J.length),ye=H.FileIndex[oe],!(!ye.size||!ye.content||ue=="Sh33tJ5")){ue=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(bt){return"_x"+bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(bt){return"_u"+bt.charCodeAt(0).toString(16)+"_"});for(var ce=ye.content,de=Ht&&Buffer.isBuffer(ce)?ce.toString("binary"):O(ce),Te=0,Pe=Math.min(1024,de.length),Ge=0,De=0;De<=Pe;++De)(Ge=de.charCodeAt(De))>=32&&Ge<128&&++Te;var Be=Te>=Pe*4/5;Z.push(j),Z.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+ue),Z.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),Z.push("Content-Type: "+dq(ye,ue)),Z.push(""),Z.push(Be?vq(de):pq(de))}return Z.push(j+`--\r
`),Z.join(`\r
`)}function bq(H){var q={};return T(q,H),q}function z2(H,q,X,j){var Z=j&&j.unsafe;Z||T(H);var J=!Z&&$t.find(H,q);if(!J){var ue=H.FullPaths[0];q.slice(0,ue.length)==ue?ue=q:(ue.slice(-1)!="/"&&(ue+="/"),ue=(ue+q).replace("//","/")),J={name:i(q),type:2},H.FileIndex.push(J),H.FullPaths.push(ue),Z||$t.utils.cfb_gc(H)}return J.content=X,J.size=X?X.length:0,j&&(j.CLSID&&(J.clsid=j.CLSID),j.mt&&(J.mt=j.mt),j.ct&&(J.ct=j.ct)),J}function _q(H,q){T(H);var X=$t.find(H,q);if(X){for(var j=0;j<H.FileIndex.length;++j)if(H.FileIndex[j]==X)return H.FileIndex.splice(j,1),H.FullPaths.splice(j,1),!0}return!1}function wq(H,q,X){T(H);var j=$t.find(H,q);if(j){for(var Z=0;Z<H.FileIndex.length;++Z)if(H.FileIndex[Z]==j)return H.FileIndex[Z].name=i(X),H.FullPaths[Z]=X,!0}return!1}function Sq(H){C(H,!0)}return e.find=E,e.read=w,e.parse=c,e.write=ee,e.writeFile=G,e.utils={cfb_new:bq,cfb_add:z2,cfb_del:_q,cfb_mov:wq,cfb_gc:Sq,ReadShift:Ny,CheckField:FY,prep_blob:ni,bconcat:Cc,use_zlib:N,_deflateRaw:Ct,_inflateRaw:oF,consts:z},e}();function NSe(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function Al(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function yO(r){for(var e=[],t=Al(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var GT=new Date(1899,11,30,0,0,0);function na(r,e){var t=r.getTime(),n=GT.getTime()+(r.getTimezoneOffset()-GT.getTimezoneOffset())*6e4;return(t-n)/(24*60*60*1e3)}var vY=new Date,BSe=GT.getTime()+(vY.getTimezoneOffset()-GT.getTimezoneOffset())*6e4,B8=vY.getTimezoneOffset();function k2(r){var e=new Date;return e.setTime(r*24*60*60*1e3+BSe),e.getTimezoneOffset()!==B8&&e.setTime(e.getTime()+(e.getTimezoneOffset()-B8)*6e4),e}function VSe(r){var e=0,t=0,n=!1,i=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(t=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[a],10)}return e}var V8=new Date("2017-02-19T19:06:09.000Z"),gY=isNaN(V8.getFullYear())?new Date("2/19/17"):V8,zSe=gY.getFullYear()==2017;function Wn(r,e){var t=new Date(r);if(zSe)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(gY.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function kp(r,e){if(Ht&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return Jm(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return Jm(rY(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return Jm(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return Jm(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"â¬":"Â","â":"Â",Æ:"Â","â":"Â","â¦":"Â","â ":"Â","â¡":"Â","Ë":"Â","â°":"Â",Å :"Â","â¹":"Â",Å:"Â",Å½:"Â","â":"Â","â":"Â","â":"Â","â":"Â","â¢":"Â","â":"Â","â":"Â","Ë":"Â","â¢":"Â",Å¡:"Â","âº":"Â",Å:"Â",Å¾:"Â",Å¸:"Â"};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[â¬âÆââ¦â â¡Ëâ°Å â¹ÅÅ½âââââ¢ââËâ¢Å¡âºÅÅ¾Å¸]/g,function(a){return t[a]||a})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function si(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=si(r[t]));return e}function Ur(r,e){for(var t="";t.length<e;)t+=r;return t}function yo(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return t=-t,a}),!isNaN(e=Number(n)))?e/t:e}var HSe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tg(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return t;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&HSe.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||a>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var GSe=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,i){if(r||typeof n=="string")return t.split(n);for(var a=t.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function mY(r){return r?r.content&&r.type?kp(r.content,!0):r.data?jm(r.data):r.asNodeBuffer&&Ht?jm(r.asNodeBuffer().toString("binary")):r.asBinary?jm(r.asBinary()):r._data&&r._data.getContent?jm(kp(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function yY(r){if(!r)return null;if(r.data)return k8(r.data);if(r.asNodeBuffer&&Ht)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?k8(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function $Se(r){return r&&r.name.slice(-4)===".bin"?yY(r):mY(r)}function ls(r,e){for(var t=r.FullPaths||Al(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<t.length;++a){var s=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return r.files?r.files[t[a]]:r.FileIndex[a]}return null}function xO(r,e){var t=ls(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function ln(r,e,t){if(!t)return $Se(xO(r,e));if(!e)return null;try{return ln(r,e)}catch{return null}}function Ua(r,e,t){if(!t)return mY(xO(r,e));if(!e)return null;try{return Ua(r,e)}catch{return null}}function USe(r,e,t){return yY(xO(r,e))}function z8(r){for(var e=r.FullPaths||Al(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function WSe(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Ht?n=Gp(t):n=cSe(t),$t.utils.cfb_add(r,e,n)}$t.utils.cfb_add(r,e,t)}else r.file(e,t)}function xY(r,e){switch(e.type){case"base64":return $t.read(r,{type:"base64"});case"binary":return $t.read(r,{type:"binary"});case"buffer":case"array":return $t.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Zm(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var i=n.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var bY=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,YSe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,H8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,XSe=/<[^>]*>/g,Mi=bY.match(H8)?H8:XSe,KSe=/<\w*:/,jSe=/<(\/?)\w+:/;function ft(r,e,t){for(var n={},i=0,a=0;i!==r.length&&!((a=r.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=r.slice(0,i)),i===r.length)return n;var s=r.match(YSe),o=0,l="",u=0,c="",h="",f=1;if(s)for(u=0;u!=s.length;++u){for(h=s[u],a=0;a!=h.length&&h.charCodeAt(a)!==61;++a);for(c=h.slice(0,a).trim();h.charCodeAt(a+1)==32;)++a;for(f=(i=h.charCodeAt(a+1))==34||i==39?1:0,l=h.slice(a+1+f,h.length-f),o=0;o!=c.length&&c.charCodeAt(o)!==58;++o);if(o===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),n[c]=l,n[c.toLowerCase()]=l;else{var d=(o===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(o+1);if(n[d]&&c.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function Ol(r){return r.replace(jSe,"<$1")}var _Y={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qSe=yO(_Y),Xt=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(r,function(o,l){return _Y[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return t(i.slice(0,a))+i.slice(a+9,s)+t(i.slice(s+3))}}(),ZSe=/[&<>'"]/g,JSe=/[\u0000-\u001f]/g;function bO(r){var e=r+"";return e.replace(ZSe,function(t){return qSe[t]}).replace(/\n/g,"<br/>").replace(JSe,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var G8=function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}}();function Rr(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function xE(r){for(var e="",t=0,n=0,i=0,a=0,s=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function $8(r){var e=Uh(2*r.length),t,n,i=1,a=0,s=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=t%256,e[a++]=t>>>8;return e.slice(0,a).toString("ucs2")}function U8(r){return Gp(r,"binary").toString("utf8")}var dw="foo bar bazÃ¢ÂÂÃ°ÂÂÂ£",xr=Ht&&(U8(dw)==xE(dw)&&U8||$8(dw)==xE(dw)&&$8)||xE,Jm=Ht?function(r){return Gp(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},L1=function(){var r={};return function(t,n){var i=t+"|"+(n||"");return r[i]?r[i]:r[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),wY=function(){var r=[["nbsp"," "],["middot","Â·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),QSe=function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),eTe=/<\/?(?:vt:)?variant>/g,tTe=/<(?:vt:)([^>]*)>([\s\S]*)</;function W8(r,e){var t=ft(r),n=r.match(QSe(t.baseType))||[],i=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return i}return n.forEach(function(a){var s=a.replace(eTe,"").match(tTe);s&&i.push({v:xr(s[2]),t:s[1]})}),i}var rTe=/(^\s|\s$|\n)/;function nTe(r){return Al(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function iTe(r,e,t){return"<"+r+(t!=null?nTe(t):"")+(e!=null?(e.match(rTe)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function _O(r){if(Ht&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return xr($p(vO(r)));throw new Error("Bad input format: expected Buffer or string")}var P1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,aTe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},sTe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function oTe(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,a=5;a>=0;--a)i=i*256+r[e+a];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function lTe(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)r[t+o]=a&255;r[t+6]=(i&15)<<4|a&15,r[t+7]=i>>4|n}var Y8=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,a=r[0][n].length;i<a;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},X8=Ht?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Gp(e)})):Y8(r)}:Y8,K8=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(Ru(r,i)));return n.join("").replace(Zi,"")},wO=Ht?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Zi,""):K8(r,e,t)}:K8,j8=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},SY=Ht?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):j8(r,e,t)}:j8,q8=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(kv(r,i)));return n.join("")},Xb=Ht?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):q8(e,t,n)}:q8,TY=function(r,e){var t=Ha(r,e);return t>0?Xb(r,e+4,e+4+t-1):""},AY=TY,CY=function(r,e){var t=Ha(r,e);return t>0?Xb(r,e+4,e+4+t-1):""},kY=CY,EY=function(r,e){var t=2*Ha(r,e);return t>0?Xb(r,e+4,e+4+t-1):""},DY=EY,MY=function(e,t){var n=Ha(e,t);return n>0?wO(e,t+4,t+4+n):""},IY=MY,LY=function(r,e){var t=Ha(r,e);return t>0?Xb(r,e+4,e+4+t):""},PY=LY,RY=function(r,e){return oTe(r,e)},$T=RY,OY=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ht&&(AY=function(e,t){if(!Buffer.isBuffer(e))return TY(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},kY=function(e,t){if(!Buffer.isBuffer(e))return CY(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},DY=function(e,t){if(!Buffer.isBuffer(e))return EY(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},IY=function(e,t){if(!Buffer.isBuffer(e))return MY(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},PY=function(e,t){if(!Buffer.isBuffer(e))return LY(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},$T=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):RY(e,t)},OY=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var kv=function(r,e){return r[e]},Ru=function(r,e){return r[e+1]*256+r[e]},uTe=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Ha=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Gf=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},cTe=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function Ny(r,e){var t="",n,i,a=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,Ht&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(Ru(this,u)),u+=2;r*=2;break;case"utf8":t=Xb(this,this.l,this.l+r);break;case"utf16le":r*=2,t=wO(this,this.l,this.l+r);break;case"wstr":return Ny.call(this,r,"dbcs");case"lpstr-ansi":t=AY(this,this.l),r=4+Ha(this,this.l);break;case"lpstr-cp":t=kY(this,this.l),r=4+Ha(this,this.l);break;case"lpwstr":t=DY(this,this.l),r=4+2*Ha(this,this.l);break;case"lpp4":r=4+Ha(this,this.l),t=IY(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ha(this,this.l),t=PY(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(s=kv(this,this.l+r++))!==0;)a.push(fw(s));t=a.join("");break;case"_wstr":for(r=0,t="";(s=Ru(this,this.l+r))!==0;)a.push(fw(s)),r+=2;r+=2,t=a.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=kv(this,u),this.l=u+1,o=Ny.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(fw(Ru(this,u))),u+=2}t=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=kv(this,u),this.l=u+1,o=Ny.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(fw(kv(this,u))),u+=1}t=a.join("");break;default:switch(r){case 1:return n=kv(this,this.l),this.l++,n;case 2:return n=(e==="i"?uTe:Ru)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(r>0?Gf:cTe)(this,this.l),this.l+=4,n):(i=Ha(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=$T(this,this.l):i=$T([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=SY(this,this.l,r);break}}return this.l+=r,t}var hTe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},fTe=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},dTe=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function pTe(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)dTe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,hTe(this,e,this.l);break;case 8:if(n=8,t==="f"){lTe(this,e,this.l);break}case 16:break;case-4:n=4,fTe(this,e,this.l);break}return this.l+=n,this}function FY(r,e){var t=SY(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function ni(r,e){r.l=e,r.read_shift=Ny,r.chk=FY,r.write_shift=pTe}function Di(r,e){r.l+=e}function _n(r){var e=Uh(r);return ni(e,0),e}function uc(r,e,t){if(r){var n,i,a;ni(r,r.l||0);for(var s=r.length,o=0,l=0;r.l<s;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var u=jT[o]||jT[65535];for(n=r.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=r.read_shift(1))&127)<<7*i;l=r.l+a;var c=u.f&&u.f(r,a,t);if(r.l=l,e(c,u,o))return}}}function WM(){var r=[],e=Ht?256:2048,t=function(u){var c=_n(u);return ni(c,0),c},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=t(Math.max(u+1,e)))},s=function(){return i(),Cc(r)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:r}}function By(r,e,t){var n=si(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Z8(r,e,t){var n=si(r);return n.s=By(n.s,e.s,t),n.e=By(n.e,e.s,t),n}function Vy(r,e){if(r.cRel&&r.c<0)for(r=si(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=si(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=yt(r);return!r.cRel&&r.cRel!=null&&(t=mTe(t)),!r.rRel&&r.rRel!=null&&(t=vTe(t)),t}function bE(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Cn(r.s.c)+":"+(r.e.cRel?"":"$")+Cn(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+oi(r.s.r)+":"+(r.e.rRel?"":"$")+oi(r.e.r):Vy(r.s,e.biff)+":"+Vy(r.e,e.biff)}function SO(r){return parseInt(gTe(r),10)-1}function oi(r){return""+(r+1)}function vTe(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gTe(r){return r.replace(/\$(\d+)$/,"$1")}function TO(r){for(var e=yTe(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Cn(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function mTe(r){return r.replace(/^([A-Z])/,"$$$1")}function yTe(r){return r.replace(/^\$([A-Z])/,"$1")}function xTe(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xi(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function yt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Yg(r){var e=r.indexOf(":");return e==-1?{s:Xi(r),e:Xi(r)}:{s:Xi(r.slice(0,e)),e:Xi(r.slice(e+1))}}function Ut(r,e){return typeof e>"u"||typeof e=="number"?Ut(r.s,r.e):(typeof r!="string"&&(r=yt(r)),typeof e!="string"&&(e=yt(e)),r==e?r:r+":"+e)}function Yr(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,a=r.length;for(t=0;n<a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function J8(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Ls(r.z,t?na(e):e)}catch{}try{return r.w=Ls((r.XF||{}).numFmtId||(t?14:0),t?na(e):e)}catch{return""+e}}function rc(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Yp[r.v]||r.v:e==null?J8(r,r.v):J8(r,e))}function Qh(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function NY(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,a=r||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Xi(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var c=Yr(a["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),s==-1&&(u.e.r=s=c.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[h].length;++f)if(!(typeof e[h][f]>"u")){var d={v:e[h][f]},p=s+h,v=o+f;if(u.s.r>p&&(u.s.r=p),u.s.c>v&&(u.s.c=v),u.e.r<p&&(u.e.r=p),u.e.c<v&&(u.e.c=v),e[h][f]&&typeof e[h][f]=="object"&&!Array.isArray(e[h][f])&&!(e[h][f]instanceof Date))d=e[h][f];else if(Array.isArray(d.v)&&(d.f=e[h][f][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||wt[14],n.cellDates?(d.t="d",d.w=Ls(d.z,na(d.v))):(d.t="n",d.v=na(d.v),d.w=Ls(d.z,d.v))):d.t="s";if(i)a[p]||(a[p]=[]),a[p][v]&&a[p][v].z&&(d.z=a[p][v].z),a[p][v]=d;else{var g=yt({c:v,r:p});a[g]&&a[g].z&&(d.z=a[g].z),a[g]=d}}}return u.s.c<1e7&&(a["!ref"]=Ut(u)),a}function Xg(r,e){return NY(null,r,e)}function bTe(r){return r.read_shift(4,"i")}function Ci(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function _Te(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function AO(r,e){var t=r.l,n=r.read_shift(1),i=Ci(r),a=[],s={t:i,h:i};if(n&1){for(var o=r.read_shift(4),l=0;l!=o;++l)a.push(_Te(r));s.r=a}else s.r=[{ich:0,ifnt:0}];return r.l=t+e,s}var wTe=AO;function Vs(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Up(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var STe=Ci;function CO(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var TTe=Ci,YM=CO;function kO(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?$T([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Gf(e,0)>>2;return t?i/100:i}function BY(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var Wp=BY;function Si(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function ATe(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),a=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=yp[i];u&&(e.rgb=O1(u));break;case 2:e.rgb=O1([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function CTe(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function VY(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function kTe(r){return VY(r,1)}function ETe(r){return VY(r,2)}var EO=2,ga=3,pw=11,Q8=12,UT=19,vw=64,DTe=65,MTe=71,ITe=4108,LTe=4126,Hn=80,zY=81,PTe=[Hn,zY],RTe={1:{n:"CodePage",t:EO},2:{n:"Category",t:Hn},3:{n:"PresentationFormat",t:Hn},4:{n:"ByteCount",t:ga},5:{n:"LineCount",t:ga},6:{n:"ParagraphCount",t:ga},7:{n:"SlideCount",t:ga},8:{n:"NoteCount",t:ga},9:{n:"HiddenCount",t:ga},10:{n:"MultimediaClipCount",t:ga},11:{n:"ScaleCrop",t:pw},12:{n:"HeadingPairs",t:ITe},13:{n:"TitlesOfParts",t:LTe},14:{n:"Manager",t:Hn},15:{n:"Company",t:Hn},16:{n:"LinksUpToDate",t:pw},17:{n:"CharacterCount",t:ga},19:{n:"SharedDoc",t:pw},22:{n:"HyperlinksChanged",t:pw},23:{n:"AppVersion",t:ga,p:"version"},24:{n:"DigSig",t:DTe},26:{n:"ContentType",t:Hn},27:{n:"ContentStatus",t:Hn},28:{n:"Language",t:Hn},29:{n:"Version",t:Hn},255:{},2147483648:{n:"Locale",t:UT},2147483651:{n:"Behavior",t:UT},1919054434:{}},OTe={1:{n:"CodePage",t:EO},2:{n:"Title",t:Hn},3:{n:"Subject",t:Hn},4:{n:"Author",t:Hn},5:{n:"Keywords",t:Hn},6:{n:"Comments",t:Hn},7:{n:"Template",t:Hn},8:{n:"LastAuthor",t:Hn},9:{n:"RevNumber",t:Hn},10:{n:"EditTime",t:vw},11:{n:"LastPrinted",t:vw},12:{n:"CreatedDate",t:vw},13:{n:"ModifiedDate",t:vw},14:{n:"PageCount",t:ga},15:{n:"WordCount",t:ga},16:{n:"CharCount",t:ga},17:{n:"Thumbnail",t:MTe},18:{n:"Application",t:Hn},19:{n:"DocSecurity",t:ga},255:{},2147483648:{n:"Locale",t:UT},2147483651:{n:"Behavior",t:UT},1919054434:{}},eV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},FTe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function NTe(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var BTe=NTe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yp=si(BTe),Yp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},HY={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},tV={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function VTe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zTe(r){var e=VTe();if(!r||!r.match)return e;var t={};if((r.match(Mi)||[]).forEach(function(n){var i=ft(n);switch(i[0].replace(KSe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[tV[i.ContentType]]!==void 0&&e[tV[i.ContentType]].push(i.PartName);break}}),e.xmlns!==aTe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Hv={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function XM(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function zy(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(Mi)||[]).forEach(function(i){var a=ft(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:Zm(a.Target,e);t[o]=s,n[a.Id]=s}}),t["!id"]=n,t}var HTe="application/vnd.oasis.opendocument.spreadsheet";function GTe(r,e){for(var t=_O(r),n,i;n=P1.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(i=ft(n[0],!1),i.path=="/"&&i.type!==HTe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Hy=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],$Te=function(){for(var r=new Array(Hy.length),e=0;e<Hy.length;++e){var t=Hy[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function GY(r){var e={};r=xr(r);for(var t=0;t<Hy.length;++t){var n=Hy[t],i=r.match($Te[t]);i!=null&&i.length>0&&(e[n[1]]=Xt(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Wn(e[n[1]]))}return e}var UTe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function $Y(r,e,t,n){var i=[];if(typeof r=="string")i=W8(r,n);else for(var a=0;a<r.length;++a)i=i.concat(r[a].map(function(c){return{v:c}}));var s=typeof e=="string"?W8(e,n).map(function(c){return c.v}):e,o=0,l=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"å·¥ä½è¡¨":case"ÐÐ¸ÑÑÑ":case"Ø£ÙØ±Ø§Ù Ø§ÙØ¹ÙÙ":case"ã¯ã¼ã¯ã·ã¼ã":case"××××× ××ª ×¢××××":case"ArbeitsblÃ¤tter":case"ÃalÄ±Åma SayfalarÄ±":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cÃ¡lculo":case"Planilhas":case"Regneark":case"Hojas de cÃ¡lculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"ååä»ãä¸è¦§":case"Benannte Bereiche":case"Navngivne omrÃ¥der":t.NamedRanges=l,t.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=s.slice(o,o+l);break}o+=l}}function WTe(r,e,t){var n={};return e||(e={}),r=xr(r),UTe.forEach(function(i){var a=(r.match(L1(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=Xt(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=r.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&$Y(n.HeadingPairs,n.TitlesOfParts,e,t),e}var YTe=/<[^>]+>[^<]*/g;function XTe(r,e){var t={},n="",i=r.match(YTe);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=ft(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Xt(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":t[n]=Xt(c);break;case"bool":t[n]=Rr(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(c,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(c);break;case"filetime":case"date":t[n]=Wn(c);break;case"cy":case"error":t[n]=Xt(c);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}var KTe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_E;function jTe(r,e,t){_E||(_E=yO(KTe)),e=_E[e]||e,r[e]=t}function DO(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function UY(r,e,t){var n=r.l,i=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return i}function WY(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function YY(r,e,t){return e===31?WY(r):UY(r,e,t)}function KM(r,e,t){return YY(r,e,t===!1?0:4)}function qTe(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return YY(r,e,0)}function ZTe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var i=r.l;t[n]=r.read_shift(0,"lpwstr").replace(Zi,""),r.l-i&2&&(r.l+=2)}return t}function JTe(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(Zi,"");return t}function QTe(r){var e=r.l,t=WT(r,zY);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=WT(r,ga);return[t,n]}function eAe(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(QTe(r));return t}function rV(r,e){for(var t=r.read_shift(4),n={},i=0;i!=t;++i){var a=r.read_shift(4),s=r.read_shift(4);n[a]=r.read_shift(s,e===1200?"utf16le":"utf8").replace(Zi,"").replace(qm,"!"),e===1200&&s%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function XY(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function tAe(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function WT(r,e,t){var n=r.read_shift(2),i,a=t||{};if(r.l+=2,e!==Q8&&n!==e&&PTe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===Q8?n:e){case 2:return i=r.read_shift(2,"i"),a.raw||(r.l+=2),i;case 3:return i=r.read_shift(4,"i"),i;case 11:return r.read_shift(4)!==0;case 19:return i=r.read_shift(4),i;case 30:return UY(r,n,4).replace(Zi,"");case 31:return WY(r);case 64:return DO(r);case 65:return XY(r);case 71:return tAe(r);case 80:return KM(r,n,!a.raw).replace(Zi,"");case 81:return qTe(r,n).replace(Zi,"");case 4108:return eAe(r);case 4126:case 4127:return n==4127?ZTe(r):JTe(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function nV(r,e){var t=r.l,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0,o=0,l=-1,u={};for(s=0;s!=i;++s){var c=r.read_shift(4),h=r.read_shift(4);a[s]=[c,h+t]}a.sort(function(x,y){return x[1]-y[1]});var f={};for(s=0;s!=i;++s){if(r.l!==a[s][1]){var d=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:r.l+2===a[s][1]&&(r.l+=2,d=!1);break;case 80:r.l<=a[s][1]&&(r.l=a[s][1],d=!1);break;case 4108:r.l<=a[s][1]&&(r.l=a[s][1],d=!1);break}if((!e||s==0)&&r.l<=a[s][1]&&(d=!1,r.l=a[s][1]),d)throw new Error("Read Error: Expected address "+a[s][1]+" at "+r.l+" :"+s)}if(e){var p=e[a[s][0]];if(f[p.n]=WT(r,p.t,{raw:!0}),p.p==="version"&&(f[p.n]=String(f[p.n]>>16)+"."+("0000"+String(f[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(f[p.n]){case 0:f[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fo(o=f[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[p.n])}}else if(a[s][0]===1){if(o=f.CodePage=WT(r,EO),fo(o),l!==-1){var v=r.l;r.l=a[l][1],u=rV(r,o),r.l=v}}else if(a[s][0]===0){if(o===0){l=s,r.l=a[s+1][1];continue}u=rV(r,o)}else{var g=u[a[s][0]],m;switch(r[r.l]){case 65:r.l+=4,m=XY(r);break;case 30:r.l+=4,m=KM(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,m=KM(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,m=r.read_shift(4,"i");break;case 19:r.l+=4,m=r.read_shift(4);break;case 5:r.l+=4,m=r.read_shift(8,"f");break;case 11:r.l+=4,m=Xr(r,4);break;case 64:r.l+=4,m=Wn(DO(r));break;default:throw new Error("unparsed value: "+r[r.l])}f[g]=m}}return r.l=t+n,f}function iV(r,e,t){var n=r.content;if(!n)return{};ni(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),c=n.read_shift(16);if(c!==$t.utils.consts.HEADER_CLSID&&c!==t)throw new Error("Bad PropertySet CLSID "+c);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var h=nV(n,e),f={SystemIdentifier:u};for(var d in h)f[d]=h[d];if(f.FMTID=a,i===1)return f;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var p;try{p=nV(n,null)}catch{}for(d in p)f[d]=p[d];return f.FMTID=[a,s],f}function xc(r,e){return r.read_shift(e),null}function rAe(r,e,t){for(var n=[],i=r.l+e;r.l<i;)n.push(t(r,i-r.l));if(i!==r.l)throw new Error("Slurp error");return n}function Xr(r,e){return r.read_shift(e)===1}function un(r){return r.read_shift(2,"u")}function KY(r,e){return rAe(r,e,un)}function nAe(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function Kb(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=r.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var s=n?r.read_shift(n,i):"";return s}function iAe(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,i=t&8,a=1+(t&1),s=0,o,l={};i&&(s=r.read_shift(2)),n&&(o=r.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",c=e===0?"":r.read_shift(e,u);return i&&(r.l+=4*s),n&&(r.l+=o),l.t=c,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Ep(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function jb(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):Ep(r,n,t)}function Xp(r,e,t){if(t.biff>5)return jb(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function aAe(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function sAe(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var i=r.read_shift((n?e-24:e)>>1,"utf16le").replace(Zi,"");return n&&(r.l+=24),i}function oAe(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=r.read_shift(4);if(i===0)return t+n.replace(/\\/g,"/");var a=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=r.read_shift(a>>1,"utf16le").replace(Zi,"");return t+s}function lAe(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return sAe(r);case"0303000000000000c000000000000046":return oAe(r);default:throw new Error("Unsupported Moniker "+t)}}function gw(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(Zi,""):"";return t}function uAe(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=r.read_shift(2);r.l+=2;var a,s,o,l,u="",c,h;i&16&&(a=gw(r,t-r.l)),i&128&&(s=gw(r,t-r.l)),(i&257)===257&&(o=gw(r,t-r.l)),(i&257)===1&&(l=lAe(r,t-r.l)),i&8&&(u=gw(r,t-r.l)),i&32&&(c=r.read_shift(16)),i&64&&(h=DO(r)),r.l=t;var f=s||o||l||"";f&&u&&(f+="#"+u),f||(f="#"+u),i&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var d={Target:f};return c&&(d.guid=c),h&&(d.time=h),a&&(d.Tooltip=a),d}function jY(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),i=r.read_shift(1);return[e,t,n,i]}function qY(r,e){var t=jY(r);return t[3]=0,t}function Fl(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function cAe(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function hAe(r,e,t){return e===0?"":Xp(r,e,t)}function fAe(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),a=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,a,s]}function ZY(r){var e=r.read_shift(2),t=kO(r);return[e,t]}function dAe(r,e,t){r.l+=4,e-=4;var n=r.l+e,i=Kb(r,e,t),a=r.read_shift(2);if(n-=r.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return r.l+=a,i}function E2(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function JY(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),i=r.read_shift(1);return{s:{c:n,r:e},e:{c:i,r:t}}}var pAe=JY;function QY(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function vAe(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function gAe(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function pi(r){r.l+=2,r.l+=r.read_shift(2)}var mAe={0:pi,4:pi,5:pi,6:pi,7:gAe,8:pi,9:pi,10:pi,11:pi,12:pi,13:vAe,14:pi,15:pi,16:pi,17:pi,18:pi,19:pi,20:pi,21:QY};function yAe(r,e){for(var t=r.l+e,n=[];r.l<t;){var i=r.read_shift(2);r.l-=2;try{n.push(mAe[i](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function mw(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function xAe(r,e){return e===0||r.read_shift(2),1200}function bAe(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,i=Xp(r,0,t);return r.read_shift(e+n-r.l),i}function _Ae(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function wAe(r,e,t){var n=r.read_shift(4),i=r.read_shift(1)&3,a=r.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Kb(r,0,t);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function SAe(r,e){for(var t=r.l+e,n=r.read_shift(4),i=r.read_shift(4),a=[],s=0;s!=i&&r.l<t;++s)a.push(iAe(r));return a.Count=n,a.Unique=i,a}function TAe(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function AAe(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function CAe(r){var e=cAe(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function kAe(r){return r.read_shift(2),r.read_shift(4)}function aV(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var i=r.read_shift(2);t&&t.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function EAe(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),u=r.read_shift(2);return{Pos:[e,t],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:u}}function DAe(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function MAe(){}function IAe(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=Kb(r,0,t),n}function LAe(r){var e=Fl(r);return e.isst=r.read_shift(4),e}function PAe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,i=Fl(r);t.biff==2&&r.l++;var a=jb(r,n-r.l,t);return i.val=a,i}function RAe(r,e,t){var n=r.read_shift(2),i=Xp(r,0,t);return[n,i]}var OAe=Xp;function sV(r,e,t){var n=r.l+e,i=t.biff==8||!t.biff?4:2,a=r.read_shift(i),s=r.read_shift(i),o=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function FAe(r){var e=r.read_shift(2),t=r.read_shift(2),n=ZY(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function NAe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(ZY(r));if(r.l!==t)throw new Error("MulRK read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function BAe(r,e){for(var t=r.l+e-2,n=r.read_shift(2),i=r.read_shift(2),a=[];r.l<t;)a.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var s=r.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function VAe(r,e,t,n){var i={},a=r.read_shift(4),s=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return i.patternType=FTe[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function zAe(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=VAe(r,e,n.fStyle,t),n}function HAe(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function oV(r,e,t){var n=Fl(r);(t.biff==2||e==9)&&++r.l;var i=nAe(r);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function GAe(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=Fl(r),i=Si(r);return n.val=i,n}var lV=hAe;function $Ae(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=Ep(r,a),o=[];n>r.l;)o.push(jb(r));return[a,i,s,o]}function uV(r,e,t){var n=r.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(i=dAe(r,e-2,t)),a.body=i||r.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var UAe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function cV(r,e,t){var n=r.l+e,i=r.read_shift(2),a=r.read_shift(1),s=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),l=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var u=Ep(r,s,t);i&32&&(u=UAe[u.charCodeAt(0)]);var c=n-r.l;t&&t.biff==2&&--c;var h=n==r.l||o===0||!(c>0)?[]:AEe(r,c,t,o);return{chKey:a,Name:u,itab:l,rgce:h}}function eX(r,e,t){if(t.biff<8)return WAe(r,e,t);for(var n=[],i=r.l+e,a=r.read_shift(t.biff>8?4:2);a--!==0;)n.push(fAe(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function WAe(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=Kb(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function YAe(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),i=r.read_shift(2),a=Ep(r,n,t),s=Ep(r,i,t);return[a,s]}function XAe(r,e,t){var n=JY(r);r.l++;var i=r.read_shift(1);return e-=8,[CEe(r,e,t),i,n]}function hV(r,e,t){var n=pAe(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,SEe(r,e,t)]}function KAe(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function jAe(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),s=r.read_shift(2),o=Xp(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:i},o,s,a]}}function qAe(r,e,t){return jAe(r,e,t)}function ZAe(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(E2(r));return t}function JAe(r,e,t){if(t&&t.biff<8)return e2e(r,e,t);var n=QY(r),i=yAe(r,e-22,n[1]);return{cmo:n,ft:i}}var QAe={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var i=r.read_shift(1);return r.l+=i,r.l=t,{fmt:n}}};function e2e(r,e,t){r.l+=4;var n=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var s=[];return s.push((QAe[n]||Di)(r,e,t)),{cmo:[i,n,a],ft:s}}function t2e(r,e,t){var n=r.l,i="";try{r.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?r.l+=6:s=aAe(r,6,t);var o=r.read_shift(2);r.read_shift(2),un(r,2);var l=r.read_shift(2);r.l+=l;for(var u=1;u<r.lens.length-1;++u){if(r.l-n!=r.lens[u])throw new Error("TxO: bad continue record");var c=r[r.l],h=Ep(r,r.lens[u+1]-r.lens[u]-1);if(i+=h,i.length>=(c?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return r.l=n+e,{t:i}}catch{return r.l=n+e,{t:i}}}function r2e(r,e){var t=E2(r);r.l+=16;var n=uAe(r,e-24);return[t,n]}function n2e(r,e){r.read_shift(2);var t=E2(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Zi,""),[t,n]}function i2e(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=eV[t]||t,t=r.read_shift(2),e[1]=eV[t]||t,e}function a2e(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(qY(r));return t}function s2e(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(qY(r));return t}function o2e(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function tX(r,e,t){if(!t.cellStyles)return Di(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),a=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function l2e(r,e){var t={};return e<32||(r.l+=16,t.header=Si(r),t.footer=Si(r),r.l+=2),t}function u2e(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var i=r.read_shift(1);return r.l+=3,i&16&&(n.area=!0),n}var c2e=Fl,h2e=KY,f2e=jb;function d2e(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,i}function p2e(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=Fl(r);++r.l;var i=Xp(r,e-7,t);return n.t="str",n.val=i,n}function v2e(r){var e=Fl(r);++r.l;var t=Si(r);return e.t="n",e.val=t,e}function g2e(r){var e=Fl(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function m2e(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function y2e(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function x2e(r,e,t){var n=r.l+e,i=Fl(r),a=r.read_shift(2),s=Ep(r,a,t);return r.l=n,i.t="str",i.val=s,i}var b2e=[2,3,48,49,131,139,140,245],fV=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=yO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var u=[],c=Uh(1);switch(l.type){case"base64":c=lo(qa(o));break;case"binary":c=lo(o);break;case"buffer":case"array":c=o;break}ni(c,0);var h=c.read_shift(1),f=!!(h&136),d=!1,p=!1;switch(h){case 2:break;case 3:break;case 48:d=!0,f=!0;break;case 49:d=!0,f=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,g=521;h==2&&(v=c.read_shift(2)),c.l+=3,h!=2&&(v=c.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(g=c.read_shift(2));var m=c.read_shift(2),x=l.codepage||1252;h!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(x=r[c[c.l]]),c.l+=1,c.l+=2),p&&(c.l+=36);for(var y=[],_={},S=Math.min(c.length,h==2?521:g-10-(d?264:0)),w=p?32:11;c.l<S&&c[c.l]!=13;)switch(_={},_.name=UM.utils.decode(x,c.slice(c.l,c.l+w)).replace(/[\u0000\r\n].*$/g,""),c.l+=w,_.type=String.fromCharCode(c.read_shift(1)),h!=2&&!p&&(_.offset=c.read_shift(4)),_.len=c.read_shift(1),h==2&&(_.offset=c.read_shift(2)),_.dec=c.read_shift(1),_.name.length&&y.push(_),h!=2&&(c.l+=p?13:14),_.type){case"B":(!d||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var T=0,A=0;for(u[0]=[],A=0;A!=y.length;++A)u[0][A]=y[A].name;for(;v-- >0;){if(c[c.l]===42){c.l+=m;continue}for(++c.l,u[++T]=[],A=0,A=0;A!=y.length;++A){var C=c.slice(c.l,c.l+y[A].len);c.l+=y[A].len,ni(C,0);var k=UM.utils.decode(x,C);switch(y[A].type){case"C":k.trim().length&&(u[T][A]=k.replace(/\s+$/,""));break;case"D":k.length===8?u[T][A]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):u[T][A]=k;break;case"F":u[T][A]=parseFloat(k.trim());break;case"+":case"I":u[T][A]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":u[T][A]=!0;break;case"N":case"F":u[T][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[T][A]="##MEMO##"+(p?parseInt(k.trim(),10):C.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(u[T][A]=+k||0);break;case"@":u[T][A]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[T][A]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[T][A]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][A]=-C.read_shift(-8,"f");break;case"B":if(d&&y[A].len==8){u[T][A]=C.read_shift(8,"f");break}case"G":case"P":C.l+=y[A].len;break;case"0":if(y[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[A].type)}}}if(h!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=y,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Xg(t(o,u),u);return c["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,c}function i(o,l){try{return Qh(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&fo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=WM(),h=tI(o,{header:1,raw:!0,cellDates:!0}),f=h[0],d=h.slice(1),p=o["!cols"]||[],v=0,g=0,m=0,x=1;for(v=0;v<f.length;++v){if(((p[v]||{}).DBF||{}).name){f[v]=p[v].DBF.name,++m;continue}if(f[v]!=null){if(++m,typeof f[v]=="number"&&(f[v]=f[v].toString(10)),typeof f[v]!="string")throw new Error("DBF Invalid column name "+f[v]+" |"+typeof f[v]+"|");if(f.indexOf(f[v])!==v){for(g=0;g<1024;++g)if(f.indexOf(f[v]+"_"+g)==-1){f[v]+="_"+g;break}}}}var y=Yr(o["!ref"]),_=[],S=[],w=[];for(v=0;v<=y.e.c-y.s.c;++v){var T="",A="",C=0,k=[];for(g=0;g<d.length;++g)d[g][v]!=null&&k.push(d[g][v]);if(k.length==0||f[v]==null){_[v]="?";continue}for(g=0;g<k.length;++g){switch(typeof k[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=k[g]instanceof Date?"D":"C";break;default:A="C"}C=Math.max(C,String(k[g]).length),T=T&&T!=A?"C":A}C>250&&(C=250),A=((p[v]||{}).DBF||{}).type,A=="C"&&p[v].DBF.len>C&&(C=p[v].DBF.len),T=="B"&&A=="N"&&(T="N",w[v]=p[v].DBF.dec,C=p[v].DBF.len),S[v]=T=="C"||A=="N"?C:a[T]||0,x+=S[v],_[v]=T}var E=c.next(32);for(E.write_shift(4,318902576),E.write_shift(4,d.length),E.write_shift(2,296+32*m),E.write_shift(2,x),v=0;v<4;++v)E.write_shift(4,0);for(E.write_shift(4,0|(+e[eY]||3)<<8),v=0,g=0;v<f.length;++v)if(f[v]!=null){var D=c.next(32),I=(f[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,I,"sbcs"),D.write_shift(1,_[v]=="?"?"C":_[v],"sbcs"),D.write_shift(4,g),D.write_shift(1,S[v]||a[_[v]]||0),D.write_shift(1,w[v]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),g+=S[v]||a[_[v]]||0}var P=c.next(264);for(P.write_shift(4,13),v=0;v<65;++v)P.write_shift(4,0);for(v=0;v<d.length;++v){var F=c.next(x);for(F.write_shift(1,0),g=0;g<f.length;++g)if(f[g]!=null)switch(_[g]){case"L":F.write_shift(1,d[v][g]==null?63:d[v][g]?84:70);break;case"B":F.write_shift(8,d[v][g]||0,"f");break;case"N":var V="0";for(typeof d[v][g]=="number"&&(V=d[v][g].toFixed(w[g]||0)),m=0;m<S[g]-V.length;++m)F.write_shift(1,32);F.write_shift(1,V,"sbcs");break;case"D":d[v][g]?(F.write_shift(4,("0000"+d[v][g].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(d[v][g].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+d[v][g].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var z=String(d[v][g]!=null?d[v][g]:"").slice(0,S[g]);for(F.write_shift(1,z,"sbcs"),m=0;m<S[g]-z.length;++m)F.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),_2e=function(){var r={AA:"Ã",BA:"Ã",CA:"Ã",DA:195,HA:"Ã",JA:197,AE:"Ã",BE:"Ã",CE:"Ã",HE:"Ã",AI:"Ã",BI:"Ã",CI:"Ã",HI:"Ã",AO:"Ã",BO:"Ã",CO:"Ã",DO:213,HO:"Ã",AU:"Ã",BU:"Ã",CU:"Ã",HU:"Ã",Aa:"Ã ",Ba:"Ã¡",Ca:"Ã¢",Da:227,Ha:"Ã¤",Ja:229,Ae:"Ã¨",Be:"Ã©",Ce:"Ãª",He:"Ã«",Ai:"Ã¬",Bi:"Ã­",Ci:"Ã®",Hi:"Ã¯",Ao:"Ã²",Bo:"Ã³",Co:"Ã´",Do:245,Ho:"Ã¶",Au:"Ã¹",Bu:"Ãº",Cu:"Ã»",Hu:"Ã¼",KC:"Ã",Kc:"Ã§",q:"Ã¦",z:"Å",a:"Ã",j:"Å",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Al(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(f,d){var p=r[d];return typeof p=="number"?E8(p):p},n=function(f,d,p){var v=d.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?f:E8(v)};r["|"]=254;function i(f,d){switch(d.type){case"base64":return a(qa(f),d);case"binary":return a(f,d);case"buffer":return a(Ht&&Buffer.isBuffer(f)?f.toString("binary"):$p(f),d);case"array":return a(kp(f),d)}throw new Error("Unrecognized type "+d.type)}function a(f,d){var p=f.split(/[\n\r]+/),v=-1,g=-1,m=0,x=0,y=[],_=[],S=null,w={},T=[],A=[],C=[],k=0,E;for(+d.codepage>=0&&fo(+d.codepage);m!==p.length;++m){k=0;var D=p[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),I=D.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),P=I[0],F;if(D.length>0)switch(P){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&_.push(D.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,z=!1,G=!1,O=!1,ee=-1,Q=-1;for(x=1;x<I.length;++x)switch(I[x].charAt(0)){case"A":break;case"X":g=parseInt(I[x].slice(1))-1,z=!0;break;case"Y":for(v=parseInt(I[x].slice(1))-1,z||(g=0),E=y.length;E<=v;++E)y[E]=[];break;case"K":F=I[x].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(yo(F))?isNaN(Tg(F).getDate())||(F=Wn(F)):(F=yo(F),S!==null&&Wg(S)&&(F=k2(F))),V=!0;break;case"E":O=!0;var N=t0(I[x].slice(1),{r:v,c:g});y[v][g]=[y[v][g],N];break;case"S":G=!0,y[v][g]=[y[v][g],"S5S"];break;case"G":break;case"R":ee=parseInt(I[x].slice(1))-1;break;case"C":Q=parseInt(I[x].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+D)}if(V&&(y[v][g]&&y[v][g].length==2?y[v][g][0]=F:y[v][g]=F,S=null),G){if(O)throw new Error("SYLK shared formula cannot have own formula");var Y=ee>-1&&y[ee][Q];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");y[v][g][1]=hX(Y[1],{r:v-ee,c:g-Q})}break;case"F":var W=0;for(x=1;x<I.length;++x)switch(I[x].charAt(0)){case"X":g=parseInt(I[x].slice(1))-1,++W;break;case"Y":for(v=parseInt(I[x].slice(1))-1,E=y.length;E<=v;++E)y[E]=[];break;case"M":k=parseInt(I[x].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(I[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=I[x].slice(1).split(" "),E=parseInt(C[0],10);E<=parseInt(C[1],10);++E)k=parseInt(C[2],10),A[E-1]=k===0?{hidden:!0}:{wch:k},Ag(A[E-1]);break;case"C":g=parseInt(I[x].slice(1))-1,A[g]||(A[g]={});break;case"R":v=parseInt(I[x].slice(1))-1,T[v]||(T[v]={}),k>0?(T[v].hpt=k,T[v].hpx=F1(k)):k===0&&(T[v].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+D)}W<1&&(S=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+D)}}return T.length>0&&(w["!rows"]=T),A.length>0&&(w["!cols"]=A),d&&d.sheetRows&&(y=y.slice(0,d.sheetRows)),[y,w]}function s(f,d){var p=i(f,d),v=p[0],g=p[1],m=Xg(v,d);return Al(g).forEach(function(x){m[x]=g[x]}),m}function o(f,d){return Qh(s(f,d),d)}function l(f,d,p,v){var g="C;Y"+(p+1)+";X"+(v+1)+";K";switch(f.t){case"n":g+=f.v||0,f.f&&!f.F&&(g+=";E"+oke(f.f,{r:p,c:v}));break;case"b":g+=f.v?"TRUE":"FALSE";break;case"e":g+=f.w||f.v;break;case"d":g+='"'+(f.w||f.v)+'"';break;case"s":g+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(f,d){d.forEach(function(p,v){var g="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=XT(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=KT(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&f.push(g)})}function c(f,d){d.forEach(function(p,v){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*lX(p.hpx)+";"),g.length>2&&f.push(g+"R"+(v+1))})}function h(f,d){var p=["ID;PWXL;N;E"],v=[],g=Yr(f["!ref"]),m,x=Array.isArray(f),y=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),f["!cols"]&&u(p,f["!cols"]),f["!rows"]&&c(p,f["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var S=g.s.c;S<=g.e.c;++S){var w=yt({r:_,c:S});m=x?(f[_]||[])[S]:f[w],!(!m||m.v==null&&(!m.f||m.F))&&v.push(l(m,f,_,S))}return p.join(y)+y+v.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:s,from_sheet:h}}(),w2e=function(){function r(a,s){switch(s.type){case"base64":return e(qa(a),s);case"binary":return e(a,s);case"buffer":return e(Ht&&Buffer.isBuffer(a)?a.toString("binary"):$p(a),s);case"array":return e(kp(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,u=-1,c=0,h=[];c!==o.length;++c){if(o[c].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var f=o[c].trim().split(","),d=f[0],p=f[1];++c;for(var v=o[c]||"";(v.match(/["]/g)||[]).length&1&&c<o.length-1;)v+=`
`+o[++c];switch(v=v.trim(),+d){case-1:if(v==="BOT"){h[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[l][u]=!0:v==="FALSE"?h[l][u]=!1:isNaN(yo(p))?isNaN(Tg(p).getDate())?h[l][u]=p:h[l][u]=Wn(p):h[l][u]=yo(p),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function t(a,s){return Xg(r(a,s),s)}function n(a,s){return Qh(t(a,s),s)}var i=function(){var a=function(l,u,c,h,f){l.push(u),l.push(c+","+h),l.push('"'+f.replace(/"/g,'""')+'"')},s=function(l,u,c,h){l.push(u+","+c),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],c=Yr(l["!ref"]),h,f=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,c.e.r-c.s.r+1,""),a(u,"TUPLES",0,c.e.c-c.s.c+1,""),a(u,"DATA",0,0,"");for(var d=c.s.r;d<=c.e.r;++d){s(u,-1,0,"BOT");for(var p=c.s.c;p<=c.e.c;++p){var v=yt({r:d,c:p});if(h=f?(l[d]||[])[p]:l[v],!h){s(u,1,0,"");continue}switch(h.t){case"n":var g=h.w;!g&&h.v!=null&&(g=h.v),g==null?h.f&&!h.F?s(u,1,0,"="+h.f):s(u,1,0,""):s(u,0,g,"V");break;case"b":s(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Ls(h.z||wt[14],na(Wn(h.v)))),s(u,0,h.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var m=`\r
`,x=u.join(m);return x}}();return{to_workbook:n,to_sheet:t,from_sheet:i}}(),S2e=function(){function r(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(h,f){for(var d=h.split(`
`),p=-1,v=-1,g=0,m=[];g!==d.length;++g){var x=d[g].trim().split(":");if(x[0]==="cell"){var y=Xi(x[1]);if(m.length<=y.r)for(p=m.length;p<=y.r;++p)m[p]||(m[p]=[]);switch(p=y.r,v=y.c,x[2]){case"t":m[p][v]=r(x[3]);break;case"v":m[p][v]=+x[3];break;case"vtf":var _=x[x.length-1];case"vtc":switch(x[3]){case"nl":m[p][v]=!!+x[4];break;default:m[p][v]=+x[4];break}x[2]=="vtf"&&(m[p][v]=[m[p][v],_])}}}return f&&f.sheetRows&&(m=m.slice(0,f.sheetRows)),m}function n(h,f){return Xg(t(h,f),f)}function i(h,f){return Qh(n(h,f),f)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var f=[],d=[],p,v="",g=Yg(h["!ref"]),m=Array.isArray(h),x=g.s.r;x<=g.e.r;++x)for(var y=g.s.c;y<=g.e.c;++y)if(v=yt({r:x,c:y}),p=m?(h[x]||[])[y]:h[v],!(!p||p.v==null||p.t==="z")){switch(d=["cell",v,"t"],p.t){case"s":case"str":d.push(e(p.v));break;case"n":p.f?(d[2]="vtf",d[3]="n",d[4]=p.v,d[5]=e(p.f)):(d[2]="v",d[3]=p.v);break;case"b":d[2]="vt"+(p.f?"f":"c"),d[3]="nl",d[4]=p.v?"1":"0",d[5]=e(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var _=na(Wn(p.v));d[2]="vtc",d[3]="nd",d[4]=""+_,d[5]=p.w||Ls(p.z||wt[14],_);break;case"e":continue}f.push(d.join(":"))}return f.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function c(h){return[a,s,o,s,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),R1=function(){function r(c,h,f,d,p){p.raw?h[f][d]=c:c===""||(c==="TRUE"?h[f][d]=!0:c==="FALSE"?h[f][d]=!1:isNaN(yo(c))?isNaN(Tg(c).getDate())?h[f][d]=c:h[f][d]=Wn(c):h[f][d]=yo(c))}function e(c,h){var f=h||{},d=[];if(!c||c.length===0)return d;for(var p=c.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var g=10,m=0,x=0;x<=v;++x)m=p[x].indexOf(" "),m==-1?m=p[x].length:m++,g=Math.max(g,m);for(x=0;x<=v;++x){d[x]=[];var y=0;for(r(p[x].slice(0,g).trim(),d,x,y,f),y=1;y<=(p[x].length-g)/10+1;++y)r(p[x].slice(g+(y-1)*10,g+y*10).trim(),d,x,y,f)}return f.sheetRows&&(d=d.slice(0,f.sheetRows)),d}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var h={},f=!1,d=0,p=0;d<c.length;++d)(p=c.charCodeAt(d))==34?f=!f:!f&&p in t&&(h[p]=(h[p]||0)+1);p=[];for(d in h)Object.prototype.hasOwnProperty.call(h,d)&&p.push([h[d],d]);if(!p.length){h=n;for(d in h)Object.prototype.hasOwnProperty.call(h,d)&&p.push([h[d],d])}return p.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),t[p.pop()[1]]||44}function a(c,h){var f=h||{},d="",p=f.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(d=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(d=c.charAt(4),c=c.slice(6)):d=i(c.slice(0,1024)):f&&f.FS?d=f.FS:d=i(c.slice(0,1024));var g=0,m=0,x=0,y=0,_=0,S=d.charCodeAt(0),w=!1,T=0,A=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var C=f.dateNF!=null?RSe(f.dateNF):null;function k(){var E=c.slice(y,_),D={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)D.t="z";else if(f.raw)D.t="s",D.v=E;else if(E.trim().length===0)D.t="s",D.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(D.t="s",D.v=E.slice(2,-1).replace(/""/g,'"')):uke(E)?(D.t="n",D.f=E.slice(1)):(D.t="s",D.v=E);else if(E=="TRUE")D.t="b",D.v=!0;else if(E=="FALSE")D.t="b",D.v=!1;else if(!isNaN(x=yo(E)))D.t="n",f.cellText!==!1&&(D.w=E),D.v=x;else if(!isNaN(Tg(E).getDate())||C&&E.match(C)){D.z=f.dateNF||wt[14];var I=0;C&&E.match(C)&&(E=OSe(E,f.dateNF,E.match(C)||[]),I=1),f.cellDates?(D.t="d",D.v=Wn(E,I)):(D.t="n",D.v=na(Wn(E,I))),f.cellText!==!1&&(D.w=Ls(D.z,D.v instanceof Date?na(D.v):D.v)),f.cellNF||delete D.z}else D.t="s",D.v=E;if(D.t=="z"||(f.dense?(p[g]||(p[g]=[]),p[g][m]=D):p[yt({c:m,r:g})]=D),y=_+1,A=c.charCodeAt(y),v.e.c<m&&(v.e.c=m),v.e.r<g&&(v.e.r=g),T==S)++m;else if(m=0,++g,f.sheetRows&&f.sheetRows<=g)return!0}e:for(;_<c.length;++_)switch(T=c.charCodeAt(_)){case 34:A===34&&(w=!w);break;case S:case 10:case 13:if(!w&&k())break e;break}return _-y>0&&k(),p["!ref"]=Ut(v),p}function s(c,h){return!(h&&h.PRN)||h.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?a(c,h):Xg(e(c,h),h)}function o(c,h){var f="",d=h.type=="string"?[0,0,0,0]:NO(c,h);switch(h.type){case"base64":f=qa(c);break;case"binary":f=c;break;case"buffer":h.codepage==65001?f=c.toString("utf8"):(h.codepage,f=Ht&&Buffer.isBuffer(c)?c.toString("binary"):$p(c));break;case"array":f=kp(c);break;case"string":f=c;break;default:throw new Error("Unrecognized type "+h.type)}return d[0]==239&&d[1]==187&&d[2]==191?f=xr(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=xr(f):h.type=="binary",f.slice(0,19)=="socialcalc:version:"?S2e.to_sheet(h.type=="string"?f:xr(f),h):s(f,h)}function l(c,h){return Qh(o(c,h),h)}function u(c){for(var h=[],f=Yr(c["!ref"]),d,p=Array.isArray(c),v=f.s.r;v<=f.e.r;++v){for(var g=[],m=f.s.c;m<=f.e.c;++m){var x=yt({r:v,c:m});if(d=p?(c[v]||[])[m]:c[x],!d||d.v==null){g.push("          ");continue}for(var y=(d.w||(rc(d),d.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(m===0?" ":""))}h.push(g.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function T2e(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var i=_2e.to_workbook(r,t);return t.WTF=n,i}catch(a){if(t.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return R1.to_workbook(r,e)}}var Gy=function(){function r(N,Y,W){if(N){ni(N,N.l||0);for(var K=W.Enum||ee;N.l<N.length;){var ne=N.read_shift(2),fe=K[ne]||K[65535],ae=N.read_shift(2),re=N.l+ae,ie=fe.f&&fe.f(N,ae,W);if(N.l=re,Y(ie,fe,ne))return}}}function e(N,Y){switch(Y.type){case"base64":return t(lo(qa(N)),Y);case"binary":return t(lo(N),Y);case"buffer":case"array":return t(N,Y)}throw"Unsupported type "+Y.type}function t(N,Y){if(!N)return N;var W=Y||{},K=W.dense?[]:{},ne="Sheet1",fe="",ae=0,re={},ie=[],se=[],U={s:{r:0,c:0},e:{r:0,c:0}},Oe=W.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)W.Enum=ee,r(N,function(be,Fe,st){switch(st){case 0:W.vers=be,be>=4096&&(W.qpro=!0);break;case 6:U=be;break;case 204:be&&(fe=be);break;case 222:fe=be;break;case 15:case 51:W.qpro||(be[1].v=be[1].v.slice(1));case 13:case 14:case 16:st==14&&(be[2]&112)==112&&(be[2]&15)>1&&(be[2]&15)<15&&(be[1].z=W.dateNF||wt[14],W.cellDates&&(be[1].t="d",be[1].v=k2(be[1].v))),W.qpro&&be[3]>ae&&(K["!ref"]=Ut(U),re[ne]=K,ie.push(ne),K=W.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},ae=be[3],ne=fe||"Sheet"+(ae+1),fe="");var pr=W.dense?(K[be[0].r]||[])[be[0].c]:K[yt(be[0])];if(pr){pr.t=be[1].t,pr.v=be[1].v,be[1].z!=null&&(pr.z=be[1].z),be[1].f!=null&&(pr.f=be[1].f);break}W.dense?(K[be[0].r]||(K[be[0].r]=[]),K[be[0].r][be[0].c]=be[1]):K[yt(be[0])]=be[1];break}},W);else if(N[2]==26||N[2]==14)W.Enum=Q,N[2]==14&&(W.qpro=!0,N.l=0),r(N,function(be,Fe,st){switch(st){case 204:ne=be;break;case 22:be[1].v=be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(be[3]>ae&&(K["!ref"]=Ut(U),re[ne]=K,ie.push(ne),K=W.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},ae=be[3],ne="Sheet"+(ae+1)),Oe>0&&be[0].r>=Oe)break;W.dense?(K[be[0].r]||(K[be[0].r]=[]),K[be[0].r][be[0].c]=be[1]):K[yt(be[0])]=be[1],U.e.c<be[0].c&&(U.e.c=be[0].c),U.e.r<be[0].r&&(U.e.r=be[0].r);break;case 27:be[14e3]&&(se[be[14e3][0]]=be[14e3][1]);break;case 1537:se[be[0]]=be[1],be[0]==ae&&(ne=be[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(K["!ref"]=Ut(U),re[fe||ne]=K,ie.push(fe||ne),!se.length)return{SheetNames:ie,Sheets:re};for(var Se={},Ie=[],we=0;we<se.length;++we)re[ie[we]]?(Ie.push(se[we]||ie[we]),Se[se[we]]=re[se[we]]||re[ie[we]]):(Ie.push(se[we]),Se[se[we]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:Se}}function n(N,Y){var W=Y||{};if(+W.codepage>=0&&fo(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var K=WM(),ne=Yr(N["!ref"]),fe=Array.isArray(N),ae=[];$s(K,0,a(1030)),$s(K,6,l(ne));for(var re=Math.min(ne.e.r,8191),ie=ne.s.r;ie<=re;++ie)for(var se=oi(ie),U=ne.s.c;U<=ne.e.c;++U){ie===ne.s.r&&(ae[U]=Cn(U));var Oe=ae[U]+se,Se=fe?(N[ie]||[])[U]:N[Oe];if(!(!Se||Se.t=="z"))if(Se.t=="n")(Se.v|0)==Se.v&&Se.v>=-32768&&Se.v<=32767?$s(K,13,d(ie,U,Se.v)):$s(K,14,v(ie,U,Se.v));else{var Ie=rc(Se);$s(K,15,h(ie,U,Ie.slice(0,239)))}}return $s(K,1),K.end()}function i(N,Y){var W=Y||{};if(+W.codepage>=0&&fo(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var K=WM();$s(K,0,s(N));for(var ne=0,fe=0;ne<N.SheetNames.length;++ne)(N.Sheets[N.SheetNames[ne]]||{})["!ref"]&&$s(K,27,O(N.SheetNames[ne],fe++));var ae=0;for(ne=0;ne<N.SheetNames.length;++ne){var re=N.Sheets[N.SheetNames[ne]];if(!(!re||!re["!ref"])){for(var ie=Yr(re["!ref"]),se=Array.isArray(re),U=[],Oe=Math.min(ie.e.r,8191),Se=ie.s.r;Se<=Oe;++Se)for(var Ie=oi(Se),we=ie.s.c;we<=ie.e.c;++we){Se===ie.s.r&&(U[we]=Cn(we));var be=U[we]+Ie,Fe=se?(re[Se]||[])[we]:re[be];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")$s(K,23,k(Se,we,ae,Fe.v));else{var st=rc(Fe);$s(K,22,T(Se,we,ae,st.slice(0,239)))}}++ae}}return $s(K,1),K.end()}function a(N){var Y=_n(2);return Y.write_shift(2,N),Y}function s(N){var Y=_n(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var W=0,K=0,ne=0,fe=0;fe<N.SheetNames.length;++fe){var ae=N.SheetNames[fe],re=N.Sheets[ae];if(!(!re||!re["!ref"])){++ne;var ie=Yg(re["!ref"]);W<ie.e.r&&(W=ie.e.r),K<ie.e.c&&(K=ie.e.c)}}return W>8191&&(W=8191),Y.write_shift(2,W),Y.write_shift(1,ne),Y.write_shift(1,K),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(N,Y,W){var K={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&W.qpro?(K.s.c=N.read_shift(1),N.l++,K.s.r=N.read_shift(2),K.e.c=N.read_shift(1),N.l++,K.e.r=N.read_shift(2),K):(K.s.c=N.read_shift(2),K.s.r=N.read_shift(2),Y==12&&W.qpro&&(N.l+=2),K.e.c=N.read_shift(2),K.e.r=N.read_shift(2),Y==12&&W.qpro&&(N.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(N){var Y=_n(8);return Y.write_shift(2,N.s.c),Y.write_shift(2,N.s.r),Y.write_shift(2,N.e.c),Y.write_shift(2,N.e.r),Y}function u(N,Y,W){var K=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(K[0].c=N.read_shift(1),K[3]=N.read_shift(1),K[0].r=N.read_shift(2),N.l+=2):(K[2]=N.read_shift(1),K[0].c=N.read_shift(2),K[0].r=N.read_shift(2)),K}function c(N,Y,W){var K=N.l+Y,ne=u(N,Y,W);if(ne[1].t="s",W.vers==20768){N.l++;var fe=N.read_shift(1);return ne[1].v=N.read_shift(fe,"utf8"),ne}return W.qpro&&N.l++,ne[1].v=N.read_shift(K-N.l,"cstr"),ne}function h(N,Y,W){var K=_n(7+W.length);K.write_shift(1,255),K.write_shift(2,Y),K.write_shift(2,N),K.write_shift(1,39);for(var ne=0;ne<K.length;++ne){var fe=W.charCodeAt(ne);K.write_shift(1,fe>=128?95:fe)}return K.write_shift(1,0),K}function f(N,Y,W){var K=u(N,Y,W);return K[1].v=N.read_shift(2,"i"),K}function d(N,Y,W){var K=_n(7);return K.write_shift(1,255),K.write_shift(2,Y),K.write_shift(2,N),K.write_shift(2,W,"i"),K}function p(N,Y,W){var K=u(N,Y,W);return K[1].v=N.read_shift(8,"f"),K}function v(N,Y,W){var K=_n(13);return K.write_shift(1,255),K.write_shift(2,Y),K.write_shift(2,N),K.write_shift(8,W,"f"),K}function g(N,Y,W){var K=N.l+Y,ne=u(N,Y,W);if(ne[1].v=N.read_shift(8,"f"),W.qpro)N.l=K;else{var fe=N.read_shift(2);_(N.slice(N.l,N.l+fe),ne),N.l+=fe}return ne}function m(N,Y,W){var K=Y&32768;return Y&=-32769,Y=(K?N:0)+(Y>=8192?Y-16384:Y),(K?"":"$")+(W?Cn(Y):oi(Y))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(N,Y){ni(N,0);for(var W=[],K=0,ne="",fe="",ae="",re="";N.l<N.length;){var ie=N[N.l++];switch(ie){case 0:W.push(N.read_shift(8,"f"));break;case 1:fe=m(Y[0].c,N.read_shift(2),!0),ne=m(Y[0].r,N.read_shift(2),!1),W.push(fe+ne);break;case 2:{var se=m(Y[0].c,N.read_shift(2),!0),U=m(Y[0].r,N.read_shift(2),!1);fe=m(Y[0].c,N.read_shift(2),!0),ne=m(Y[0].r,N.read_shift(2),!1),W.push(se+U+":"+fe+ne)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(N.read_shift(2));break;case 6:{for(var Oe="";ie=N[N.l++];)Oe+=String.fromCharCode(ie);W.push('"'+Oe.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:re=W.pop(),ae=W.pop(),W.push(["AND","OR"][ie-20]+"("+ae+","+re+")");break;default:if(ie<32&&y[ie])re=W.pop(),ae=W.pop(),W.push(ae+y[ie]+re);else if(x[ie]){if(K=x[ie][1],K==69&&(K=N[N.l++]),K>W.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+W.join("|")+"|");return}var Se=W.slice(-K);W.length-=K,W.push(x[ie][0]+"("+Se.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}W.length==1?Y[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function S(N){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=N.read_shift(2),Y[3]=N[N.l++],Y[0].c=N[N.l++],Y}function w(N,Y){var W=S(N);return W[1].t="s",W[1].v=N.read_shift(Y-4,"cstr"),W}function T(N,Y,W,K){var ne=_n(6+K.length);ne.write_shift(2,N),ne.write_shift(1,W),ne.write_shift(1,Y),ne.write_shift(1,39);for(var fe=0;fe<K.length;++fe){var ae=K.charCodeAt(fe);ne.write_shift(1,ae>=128?95:ae)}return ne.write_shift(1,0),ne}function A(N,Y){var W=S(N);W[1].v=N.read_shift(2);var K=W[1].v>>1;if(W[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return W[1].v=K,W}function C(N,Y){var W=S(N),K=N.read_shift(4),ne=N.read_shift(4),fe=N.read_shift(2);if(fe==65535)return K===0&&ne===3221225472?(W[1].t="e",W[1].v=15):K===0&&ne===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var ae=fe&32768;return fe=(fe&32767)-16446,W[1].v=(1-ae*2)*(ne*Math.pow(2,fe+32)+K*Math.pow(2,fe)),W}function k(N,Y,W,K){var ne=_n(14);if(ne.write_shift(2,N),ne.write_shift(1,W),ne.write_shift(1,Y),K==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var fe=0,ae=0,re=0,ie=0;return K<0&&(fe=1,K=-K),ae=Math.log2(K)|0,K/=Math.pow(2,ae-31),ie=K>>>0,ie&2147483648||(K/=2,++ae,ie=K>>>0),K-=ie,ie|=2147483648,ie>>>=0,K*=Math.pow(2,32),re=K>>>0,ne.write_shift(4,re),ne.write_shift(4,ie),ae+=16383+(fe?32768:0),ne.write_shift(2,ae),ne}function E(N,Y){var W=C(N);return N.l+=Y-14,W}function D(N,Y){var W=S(N),K=N.read_shift(4);return W[1].v=K>>6,W}function I(N,Y){var W=S(N),K=N.read_shift(8,"f");return W[1].v=K,W}function P(N,Y){var W=I(N);return N.l+=Y-10,W}function F(N,Y){return N[N.l+Y-1]==0?N.read_shift(Y,"cstr"):""}function V(N,Y){var W=N[N.l++];W>Y-1&&(W=Y-1);for(var K="";K.length<W;)K+=String.fromCharCode(N[N.l++]);return K}function z(N,Y,W){if(!(!W.qpro||Y<21)){var K=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var ne=N.read_shift(Y-21,"cstr");return[K,ne]}}function G(N,Y){for(var W={},K=N.l+Y;N.l<K;){var ne=N.read_shift(2);if(ne==14e3){for(W[ne]=[0,""],W[ne][0]=N.read_shift(2);N[N.l];)W[ne][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return W}function O(N,Y){var W=_n(5+N.length);W.write_shift(2,14e3),W.write_shift(2,Y);for(var K=0;K<N.length;++K){var ne=N.charCodeAt(K);W[W.l++]=ne>127?95:ne}return W[W.l++]=0,W}var ee={0:{n:"BOF",f:un},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:w},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:P},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function A2e(r){var e={},t=r.match(Mi),n=0,i=!1;if(t)for(;n!=t.length;++n){var a=ft(t[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=dO[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var C2e=function(){var r=L1("t"),e=L1("rPr");function t(a){var s=a.match(r);if(!s)return{t:"s",v:""};var o={t:"s",v:Xt(s[1])},l=a.match(e);return l&&(o.s=A2e(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(t).filter(function(o){return o.v})}}(),k2e=function(){var e=/(\r\n|\n)/g;function t(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&t(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),E2e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,D2e=/<(?:\w+:)?r>/,M2e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function MO(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Xt(xr(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=xr(r),t&&(n.h=bO(n.t))):r.match(D2e)&&(n.r=xr(r),n.t=Xt(xr((r.replace(M2e,"").match(E2e)||[]).join("").replace(Mi,""))),t&&(n.h=k2e(C2e(n.r)))),n):{t:""}}var I2e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,L2e=/<(?:\w+:)?(?:si|sstItem)>/g,P2e=/<\/(?:\w+:)?(?:si|sstItem)>/;function R2e(r,e){var t=[],n="";if(!r)return t;var i=r.match(I2e);if(i){n=i[2].replace(L2e,"").split(P2e);for(var a=0;a!=n.length;++a){var s=MO(n[a].trim(),e);s!=null&&(t[t.length]=s)}i=ft(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}function O2e(r){return[r.read_shift(4),r.read_shift(4)]}function F2e(r,e){var t=[],n=!1;return uc(r,function(a,s,o){switch(o){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function rX(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function Uu(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function N2e(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=Uu(r,4),e.U=Uu(r,4),e.W=Uu(r,4),e}function B2e(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},i=r.read_shift(4),a=[];i-- >0;)a.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=a,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function V2e(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(B2e(r));return e}function z2e(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function H2e(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=Uu(r,4),e.U=Uu(r,4),e.W=Uu(r,4),e}function G2e(r){var e=H2e(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function nX(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function iX(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function $2e(r){var e=Uu(r);switch(e.Minor){case 2:return[e.Minor,U2e(r)];case 3:return[e.Minor,W2e()];case 4:return[e.Minor,Y2e(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function U2e(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=nX(r,t),i=iX(r,r.length-r.l);return{t:"Std",h:n,v:i}}function W2e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Y2e(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(Mi,function(a){var s=ft(a);switch(Ol(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function X2e(r,e){var t={},n=t.EncryptionVersionInfo=Uu(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var i=r.read_shift(4);return e-=4,t.EncryptionHeader=nX(r,i),e-=i,t.EncryptionVerifier=iX(r,e),t}function K2e(r){var e={},t=e.EncryptionVersionInfo=Uu(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function j2e(r){var e=0,t,n=rX(r),i=n.length+1,a,s,o,l,u;for(t=Uh(i),t[0]=n.length,a=1;a!=i;++a)t[a]=n[a-1];for(a=i-1;a>=0;--a)s=t[a],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var aX=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,u=s.length-1;u>=0;--u)for(var c=s[u],h=0;h!=7;++h)c&64&&(o^=t[l]),c*=2,--l;return o};return function(s){for(var o=rX(s),l=a(o),u=o.length,c=Uh(16),h=0;h!=16;++h)c[h]=0;var f,d,p;for((u&1)===1&&(f=l>>8,c[u]=i(r[0],f),--u,f=l&255,d=o[o.length-1],c[u]=i(d,f));u>0;)--u,f=l>>8,c[u]=i(o[u],f),--u,f=l&255,c[u]=i(o[u],f);for(u=15,p=15-o.length;p>0;)f=l>>8,c[u]=i(r[p],f),--u,--p,f=l&255,c[u]=i(o[u],f),--u,--p;return c}}(),q2e=function(r,e,t,n,i){i||(i=e),n||(n=aX(r));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[t],s=(s>>5|s<<3)&255,i[a]=s,++t;return[i,t,n]},Z2e=function(r){var e=0,t=aX(r);return function(n){var i=q2e("",n,e,t);return e=i[1],i[0]}};function J2e(r,e,t,n){var i={key:un(r),verificationBytes:un(r)};return t.password&&(i.verifier=j2e(t.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=Z2e(t.password)),i}function Q2e(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=K2e(r):n.Data=X2e(r,e),n}function eCe(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?Q2e(r,e-2,n):J2e(r,t.biff>=8?e:e-2,t,n),n}var tCe=function(){function r(i,a){switch(a.type){case"base64":return e(qa(i),a);case"binary":return e(i,a);case"buffer":return e(Ht&&Buffer.isBuffer(i)?i.toString("binary"):$p(i),a);case"array":return e(kp(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,h){Array.isArray(o)&&(o[h]=[]);for(var f=/\\\w+\b/g,d=0,p,v=-1;p=f.exec(c);){switch(p[0]){case"\\cell":var g=c.slice(d,f.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var m={v:g,t:"s"};Array.isArray(o)?o[h][v]=m:o[yt({r:h,c:v})]=m}break}d=f.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=Ut(u),o}function t(i,a){return Qh(r(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Yr(i["!ref"]),o,l=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var c=s.s.c;c<=s.e.c;++c)a.push("\\cellx"+(c+1));for(a.push("\\pard\\intbl"),c=s.s.c;c<=s.e.c;++c){var h=yt({r:u,c});o=l?(i[u]||[])[c]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(rc(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function rCe(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function O1(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function nCe(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,u=i+a;switch(l=s/(u>1?2-u:u),i){case e:o=((t-n)/s+6)%6;break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}return[o/6,l,u/2]}function iCe(r){var e=r[0],t=r[1],n=r[2],i=t*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function YT(r,e){if(e===0)return r;var t=nCe(rCe(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),O1(iCe(t))}var sX=6,aCe=15,sCe=1,Yi=sX;function XT(r){return Math.floor((r+Math.round(128/Yi)/256)*Yi)}function KT(r){return Math.floor((r-5)/Yi*100+.5)/100}function jM(r){return Math.round((r*Yi+5)/Yi*256)/256}function wE(r){return jM(KT(XT(r)))}function IO(r){var e=Math.abs(r-wE(r)),t=Yi;if(e>.005)for(Yi=sCe;Yi<aCe;++Yi)Math.abs(r-wE(r))<=e&&(e=Math.abs(r-wE(r)),t=Yi);Yi=t}function Ag(r){r.width?(r.wpx=XT(r.width),r.wch=KT(r.wpx),r.MDW=Yi):r.wpx?(r.wch=KT(r.wpx),r.width=jM(r.wch),r.MDW=Yi):typeof r.wch=="number"&&(r.width=jM(r.wch),r.wpx=XT(r.width),r.MDW=Yi),r.customWidth&&delete r.customWidth}var oCe=96,oX=oCe;function lX(r){return r*96/oX}function F1(r){return r*oX/96}var lCe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function uCe(r,e,t,n){e.Borders=[];var i={},a=!1;(r[0].match(Mi)||[]).forEach(function(s){var o=ft(s);switch(Ol(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Rr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Rr(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function cCe(r,e,t,n){e.Fills=[];var i={},a=!1;(r[0].match(Mi)||[]).forEach(function(s){var o=ft(s);switch(Ol(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function hCe(r,e,t,n){e.Fonts=[];var i={},a=!1;(r[0].match(Mi)||[]).forEach(function(s){var o=ft(s);switch(Ol(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=xr(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Rr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Rr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Rr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Rr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Rr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Rr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Rr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=dO[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Rr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=yp[i.color.index];i.color.index==81&&(l=yp[1]),l||(l=yp[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=YT(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function fCe(r,e,t){e.NumberFmt=[];for(var n=Al(wt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=wt[n[i]];var a=r[0].match(Mi);if(a)for(i=0;i<a.length;++i){var s=ft(a[i]);switch(Ol(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Xt(xr(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}mp(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var yw=["numFmtId","fillId","fontId","borderId","xfId"],xw=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function dCe(r,e,t){e.CellXf=[];var n,i=!1;(r[0].match(Mi)||[]).forEach(function(a){var s=ft(a),o=0;switch(Ol(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<yw.length;++o)n[yw[o]]&&(n[yw[o]]=parseInt(n[yw[o]],10));for(o=0;o<xw.length;++o)n[xw[o]]&&(n[xw[o]]=Rr(n[xw[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Rr(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var pCe=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var c={};if(!o)return c;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(e))&&fCe(h,c,u),(h=o.match(i))&&hCe(h,c,l,u),(h=o.match(n))&&cCe(h,c,l,u),(h=o.match(a))&&uCe(h,c,l,u),(h=o.match(t))&&dCe(h,c,u),c}}();function vCe(r,e){var t=r.read_shift(2),n=Ci(r);return[t,n]}function gCe(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=CTe(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=ATe(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ci(r),n}var mCe=Di;function yCe(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}var xCe=Di;function bCe(r,e,t){var n={};n.NumberFmt=[];for(var i in wt)n.NumberFmt[i]=wt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return uc(r,function(l,u,c){switch(c){case 44:n.NumberFmt[l[0]]=l[1],mp(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=YT(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(c),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(c);else if(u.T<0)a.pop();else if(!s||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}var _Ce=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function wCe(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(Mi)||[]).forEach(function(i){var a=ft(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[_Ce.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function SCe(){}function TCe(){}var ACe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,CCe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,kCe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ECe(r,e,t){e.themeElements={};var n;[["clrScheme",ACe,wCe],["fontScheme",CCe,SCe],["fmtScheme",kCe,TCe]].forEach(function(i){if(!(n=r.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,t)})}var DCe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uX(r,e){(!r||r.length===0)&&(r=MCe());var t,n={};if(!(t=r.match(DCe)))throw new Error("themeElements not found in theme");return ECe(t[0],n,e),n.raw=r,n}function MCe(r,e){var t=[bY];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã´ã·ãã¯"/>',t[t.length]='<a:font script="Hang" typeface="ë§ì ê³ ë"/>',t[t.length]='<a:font script="Hans" typeface="å®ä½"/>',t[t.length]='<a:font script="Hant" typeface="æ°ç´°æé«"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã´ã·ãã¯"/>',t[t.length]='<a:font script="Hang" typeface="ë§ì ê³ ë"/>',t[t.length]='<a:font script="Hans" typeface="å®ä½"/>',t[t.length]='<a:font script="Hant" typeface="æ°ç´°æé«"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function ICe(r,e,t){var n=r.l+e,i=r.read_shift(4);if(i!==124226){if(!t.cellStyles){r.l=n;return}var a=r.slice(r.l);r.l=n;var s;try{s=xY(a,{type:"array"})}catch{return}var o=Ua(s,"theme/theme/theme1.xml",!0);if(o)return uX(o,t)}}function LCe(r){return r.read_shift(4)}function PCe(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=RCe(r,4);break;case 2:e.xclrValue=jY(r);break;case 3:e.xclrValue=LCe(r);break;case 4:r.l+=4;break}return r.l+=8,e}function RCe(r,e){return Di(r,e)}function OCe(r,e){return Di(r,e)}function FCe(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=PCe(r);break;case 6:n[1]=OCe(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function NCe(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var i=r.read_shift(2),a=[];i-- >0;)a.push(FCe(r,t-r.l));return{ixfe:n,ext:a}}function BCe(r,e){e.forEach(function(t){switch(t[0]){}})}function VCe(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Ci(r)}}function zCe(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function HCe(r){return r.l+=4,r.read_shift(4)!=0}function GCe(r,e,t){var n={Types:[],Cell:[],Value:[]},i=t||{},a=[],s=!1,o=2;return uc(r,function(l,u,c){switch(c){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(c),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function $Ce(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var i=!1,a=2,s;return r.replace(Mi,function(o){var l=ft(o);switch(Ol(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function UCe(r){var e=[];if(!r)return e;var t=1;return(r.match(Mi)||[]).forEach(function(n){var i=ft(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function WCe(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=yt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function YCe(r,e,t){var n=[];return uc(r,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function XCe(r,e,t,n){if(!r)return r;var i=n||{},a=!1;uc(r,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function KCe(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function dV(r,e,t,n){var i=Array.isArray(r),a;e.forEach(function(s){var o=Xi(s.ref);if(i?(r[o.r]||(r[o.r]=[]),a=r[o.r][o.c]):a=r[s.ref],!a){a={t:"z"},i?r[o.r][o.c]=a:r[s.ref]=a;var l=Yr(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=Ut(l);u!==r["!ref"]&&(r["!ref"]=u)}a.c||(a.c=[]);var c={a:s.author,t:s.t,r:s.r,T:t};s.h&&(c.h=s.h);for(var h=a.c.length-1;h>=0;--h){if(!t&&a.c[h].T)return;t&&!a.c[h].T&&a.c.splice(h,1)}if(t&&n){for(h=0;h<n.length;++h)if(c.a==n[h].id){c.a=n[h].name||c.a;break}}a.c.push(c)})}function jCe(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],i=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var a=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=ft(o[0]),u={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},c=Xi(l.ref);if(!(e.sheetRows&&e.sheetRows<=c.r)){var h=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!h&&!!h[1]&&MO(h[1])||{r:"",t:"",h:""};u.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),u.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=f.h),n.push(u)}}}}),n}function qCe(r,e){var t=[],n=!1,i={},a=0;return r.replace(Mi,function(o,l){var u=ft(o);switch(Ol(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=r.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),t}function ZCe(r,e){var t=[],n=!1;return r.replace(Mi,function(a){var s=ft(a);switch(Ol(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),t}function JCe(r){var e={};e.iauthor=r.read_shift(4);var t=Wp(r);return e.rfx=t.s,e.ref=yt(t.s),r.l+=16,e}var QCe=Ci;function eke(r,e){var t=[],n=[],i={},a=!1;return uc(r,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),t}var tke="application/vnd.ms-office.vbaProject";function rke(r){var e=$t.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$t.utils.cfb_add(e,i,r.FileIndex[n].content)}}),$t.write(e)}function nke(){return{"!type":"dialog"}}function ike(){return{"!type":"dialog"}}function ake(){return{"!type":"macro"}}function ske(){return{"!type":"macro"}}var t0=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,c=s.length>0?parseInt(s,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+Cn(c)+(l?"":"$")+oi(u)}return function(i,a){return e=a,i.replace(r,t)}}(),cX=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,oke=function(){return function(e,t){return e.replace(cX,function(n,i,a,s,o,l){var u=TO(s)-(a?0:t.c),c=SO(l)-(o?0:t.r),h=c==0?"":o?c+1:"["+c+"]",f=u==0?"":a?u+1:"["+u+"]";return i+"R"+h+"C"+f})}}();function hX(r,e){return r.replace(cX,function(t,n,i,a,s,o){return n+(i=="$"?i+a:Cn(TO(a)+e.c))+(s=="$"?s+o:oi(SO(o)+e.r))})}function lke(r,e,t){var n=Yg(e),i=n.s,a=Xi(t),s={r:a.r-i.r,c:a.c-i.c};return hX(r,s)}function uke(r){return r.length!=1}function pV(r){return r.replace(/_xlfn\./g,"")}function an(r){r.l+=1}function Wh(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function fX(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return dX(r);t.biff==12&&(n=4)}var i=r.read_shift(n),a=r.read_shift(n),s=Wh(r),o=Wh(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function dX(r){var e=Wh(r),t=Wh(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function cke(r,e,t){if(t.biff<8)return dX(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),a=Wh(r),s=Wh(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function pX(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return hke(r);var n=r.read_shift(t&&t.biff==12?4:2),i=Wh(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function hke(r){var e=Wh(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function fke(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function dke(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return pke(r);var i=r.read_shift(n>=12?4:2),a=r.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function pke(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function vke(r,e,t){var n=(r[r.l++]&96)>>5,i=fX(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function gke(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var s=fX(r,a,t);return[n,i,s]}function mke(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function yke(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=8;if(t)switch(t.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,i]}function xke(r,e,t){var n=(r[r.l++]&96)>>5,i=cke(r,e-1,t);return[n,i]}function bke(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function vV(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function _ke(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function wke(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function Ske(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function Tke(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function Ake(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function vX(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function Cke(r){return r.read_shift(2),vX(r)}function kke(r){return r.read_shift(2),vX(r)}function Eke(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=pX(r,0,t);return[n,i]}function Dke(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=dke(r,0,t);return[n,i]}function Mke(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var a=pX(r,0,t);return[n,i,a]}function Ike(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[LEe[i],yX[i],n]}function Lke(r,e,t){var n=r[r.l++],i=r.read_shift(1),a=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:Pke(r);return[i,(a[0]===0?yX:IEe)[a[1]]]}function Pke(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function Rke(r,e,t){r.l+=t&&t.biff==2?3:4}function Oke(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function Fke(r){return r.l++,Yp[r.read_shift(1)]}function Nke(r){return r.l++,r.read_shift(2)}function Bke(r){return r.l++,r.read_shift(1)!==0}function Vke(r){return r.l++,Si(r)}function zke(r,e,t){return r.l++,Kb(r,e-1,t)}function Hke(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Xr(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Yp[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Si(r);break;case 2:t[1]=Xp(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Gke(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((t.biff==12?Wp:E2)(r));return i}function $ke(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=Hke(r,t.biff);return s}function Uke(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,a=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function Wke(r,e,t){if(t.biff==5)return Yke(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),a=r.read_shift(4);return[n,i,a]}function Yke(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function Xke(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function Kke(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function jke(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function qke(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,i]}var Zke=Di,Jke=Di,Qke=Di;function qb(r,e,t){return r.l+=2,[fke(r)]}function LO(r){return r.l+=6,[]}var eEe=qb,tEe=LO,rEe=LO,nEe=qb;function gX(r){return r.l+=2,[un(r),r.read_shift(2)&1]}var iEe=qb,aEe=gX,sEe=LO,oEe=qb,lEe=qb,uEe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cEe(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),a=r.read_shift(2),s=uEe[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:n,c:i,C:a}}function hEe(r){return r.l+=2,[r.read_shift(4)]}function fEe(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function dEe(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function pEe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function vEe(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function gEe(r){return r.l+=4,[0,0]}var gV={1:{n:"PtgExp",f:Oke},2:{n:"PtgTbl",f:Qke},3:{n:"PtgAdd",f:an},4:{n:"PtgSub",f:an},5:{n:"PtgMul",f:an},6:{n:"PtgDiv",f:an},7:{n:"PtgPower",f:an},8:{n:"PtgConcat",f:an},9:{n:"PtgLt",f:an},10:{n:"PtgLe",f:an},11:{n:"PtgEq",f:an},12:{n:"PtgGe",f:an},13:{n:"PtgGt",f:an},14:{n:"PtgNe",f:an},15:{n:"PtgIsect",f:an},16:{n:"PtgUnion",f:an},17:{n:"PtgRange",f:an},18:{n:"PtgUplus",f:an},19:{n:"PtgUminus",f:an},20:{n:"PtgPercent",f:an},21:{n:"PtgParen",f:an},22:{n:"PtgMissArg",f:an},23:{n:"PtgStr",f:zke},26:{n:"PtgSheet",f:fEe},27:{n:"PtgEndSheet",f:dEe},28:{n:"PtgErr",f:Fke},29:{n:"PtgBool",f:Bke},30:{n:"PtgInt",f:Nke},31:{n:"PtgNum",f:Vke},32:{n:"PtgArray",f:bke},33:{n:"PtgFunc",f:Ike},34:{n:"PtgFuncVar",f:Lke},35:{n:"PtgName",f:Uke},36:{n:"PtgRef",f:Eke},37:{n:"PtgArea",f:vke},38:{n:"PtgMemArea",f:Xke},39:{n:"PtgMemErr",f:Zke},40:{n:"PtgMemNoMem",f:Jke},41:{n:"PtgMemFunc",f:Kke},42:{n:"PtgRefErr",f:jke},43:{n:"PtgAreaErr",f:mke},44:{n:"PtgRefN",f:Dke},45:{n:"PtgAreaN",f:xke},46:{n:"PtgMemAreaN",f:pEe},47:{n:"PtgMemNoMemN",f:vEe},57:{n:"PtgNameX",f:Wke},58:{n:"PtgRef3d",f:Mke},59:{n:"PtgArea3d",f:gke},60:{n:"PtgRefErr3d",f:qke},61:{n:"PtgAreaErr3d",f:yke},255:{}},mEe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},yEe={1:{n:"PtgElfLel",f:gX},2:{n:"PtgElfRw",f:oEe},3:{n:"PtgElfCol",f:eEe},6:{n:"PtgElfRwV",f:lEe},7:{n:"PtgElfColV",f:nEe},10:{n:"PtgElfRadical",f:iEe},11:{n:"PtgElfRadicalS",f:sEe},13:{n:"PtgElfColS",f:tEe},15:{n:"PtgElfColSV",f:rEe},16:{n:"PtgElfRadicalLel",f:aEe},25:{n:"PtgList",f:cEe},29:{n:"PtgSxName",f:hEe},255:{}},xEe={0:{n:"PtgAttrNoop",f:gEe},1:{n:"PtgAttrSemi",f:Ake},2:{n:"PtgAttrIf",f:Ske},4:{n:"PtgAttrChoose",f:_ke},8:{n:"PtgAttrGoto",f:wke},16:{n:"PtgAttrSum",f:Rke},32:{n:"PtgAttrBaxcel",f:vV},33:{n:"PtgAttrBaxcel",f:vV},64:{n:"PtgAttrSpace",f:Cke},65:{n:"PtgAttrSpaceSemi",f:kke},128:{n:"PtgAttrIfError",f:Tke},255:{}};function Zb(r,e,t,n){if(n.biff<8)return Di(r,e);for(var i=r.l+e,a=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=$ke(r,0,n),a.push(t[s][1]);break;case"PtgMemArea":t[s][2]=Gke(r,t[s][1],n),a.push(t[s][2]);break;case"PtgExp":n&&n.biff==12&&(t[s][1][1]=r.read_shift(4),a.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=i-r.l,e!==0&&a.push(Di(r,e)),a}function Jb(r,e,t){for(var n=r.l+e,i,a,s=[];n!=r.l;)e=n-r.l,a=r[r.l],i=gV[a]||gV[mEe[a]],(a===24||a===25)&&(i=(a===24?yEe:xEe)[r[r.l+1]]),!i||!i.f?Di(r,e):s.push([i.n,i.f(r,e,t)]);return s}function bEe(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var _Ee={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wEe(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function mX(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function mV(r,e,t){var n=mX(r,e,t);return n=="#REF"?n:wEe(n,t)}function wi(r,e,t,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,u,c,h=0,f=0,d,p="";if(!r[0]||!r[0][0])return"";for(var v=-1,g="",m=0,x=r[0].length;m<x;++m){var y=r[0][m];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),v>=0){switch(r[0][v][1][0]){case 0:g=Ur(" ",r[0][v][1][1]);break;case 1:g=Ur("\r",r[0][v][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][v][1][0])}u=u+g,v=-1}o.push(u+_Ee[y[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=By(y[1][1],s,i),o.push(Vy(c,a));break;case"PtgRefN":c=t?By(y[1][1],t,i):y[1][1],o.push(Vy(c,a));break;case"PtgRef3d":h=y[1][1],c=By(y[1][2],s,i),p=mV(n,h,i),o.push(p+"!"+Vy(c,a));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],S=y[1][1];_||(_=0),_&=127;var w=_==0?[]:o.slice(-_);o.length-=_,S==="User"&&(S=w.shift()),o.push(S+"("+w.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":d=Z8(y[1][1],t?{s:t}:s,i),o.push(bE(d,i));break;case"PtgArea":d=Z8(y[1][1],s,i),o.push(bE(d,i));break;case"PtgArea3d":h=y[1][1],d=y[1][2],p=mV(n,h,i),o.push(p+"!"+bE(d,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=y[1][2];var T=(n.names||[])[f-1]||(n[0]||[])[f],A=T?T.Name:"SH33TJSNAME"+String(f);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var C=y[1][1];f=y[1][2];var k;if(i.biff<=5)C<0&&(C=-C),n[C]&&(k=n[C][f]);else{var E="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][f]&&n[C][f].itab>0&&(E=n.SheetNames[n[C][f].itab-1]+"!"):E=n.SheetNames[f-1]+"!"),n[C]&&n[C][f])E+=n[C][f].Name;else if(n[0]&&n[0][f])E+=n[0][f].Name;else{var D=(mX(n,C,i)||"").split(";;");D[f-1]?E=D[f-1]:E+="SH33TJSERRX"}o.push(E);break}k||(k={Name:"SH33TJSERRY"}),o.push(k.Name);break;case"PtgParen":var I="(",P=")";if(v>=0){switch(g="",r[0][v][1][0]){case 2:I=Ur(" ",r[0][v][1][1])+I;break;case 3:I=Ur("\r",r[0][v][1][1])+I;break;case 4:P=Ur(" ",r[0][v][1][1])+P;break;case 5:P=Ur("\r",r[0][v][1][1])+P;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][v][1][0])}v=-1}o.push(I+o.pop()+P);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:y[1][1],r:y[1][0]};var F={c:t.c,r:t.r};if(n.sharedf[yt(c)]){var V=n.sharedf[yt(c)];o.push(wi(V,s,F,n,i))}else{var z=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(wi(u[1],s,F,n,i)),z=!0;break}z||o.push(y[1])}break;case"PtgArray":o.push("{"+bEe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&G.indexOf(r[0][m][0])==-1){y=r[0][v];var O=!0;switch(y[1][0]){case 4:O=!1;case 0:g=Ur(" ",y[1][1]);break;case 5:O=!1;case 1:g=Ur("\r",y[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((O?g:"")+o.pop()+(O?"":g)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function SEe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],Di(r,e-2)];var o=Jb(r,s,t);return e!==s+i&&(a=Zb(r,e-s-i,o,t)),r.l=n,[o,a]}function TEe(r,e,t){var n=r.l+e,i=t.biff==2?1:2,a,s=r.read_shift(i);if(s==65535)return[[],Di(r,e-2)];var o=Jb(r,s,t);return e!==s+i&&(a=Zb(r,e-s-i,o,t)),r.l=n,[o,a]}function AEe(r,e,t,n){var i=r.l+e,a=Jb(r,n,t),s;return i!==r.l&&(s=Zb(r,i-r.l,a,t)),[a,s]}function CEe(r,e,t){var n=r.l+e,i,a=r.read_shift(2),s=Jb(r,a,t);return a==65535?[[],Di(r,e-2)]:(e!==a+2&&(i=Zb(r,n-a-2,s,t)),[s,i])}function kEe(r){var e;if(Ru(r,r.l+6)!==65535)return[Si(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function SE(r,e,t){var n=r.l+e,i=Fl(r);t.biff==2&&++r.l;var a=kEe(r),s=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=TEe(r,n-r.l,t);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function D2(r,e,t){var n=r.read_shift(4),i=Jb(r,n,t),a=r.read_shift(4),s=a>0?Zb(r,a,i,t):null;return[i,s]}var EEe=D2,M2=D2,DEe=D2,MEe=D2,IEe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},LEe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yV(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function TE(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var $y={},r0={};function Uy(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function xX(r,e,t,n,i,a){try{n.cellNF&&(r.z=wt[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Wn(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(wt[e]==null&&mp(PSe[e]||"General",e),r.t==="e")r.w=r.w||Yp[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=I1(r.v);else if(r.t==="d"){var s=na(r.v);(s|0)===s?r.w=s.toString(10):r.w=I1(s)}else{if(r.v===void 0)return"";r.w=Cp(r.v,r0)}else r.t==="d"?r.w=Ls(e,na(r.v),r0):r.w=Ls(e,r.v,r0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=a.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=YT(i.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=i.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=YT(i.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=i.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function PEe(r,e){var t=Yr(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Ut(t))}var REe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,OEe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,FEe=/<(?:\w:)?hyperlink [^>]*>/mg,NEe=/"(\w*:\w*)"/,BEe=/<(?:\w:)?col\b[^>]*[\/]?>/g,VEe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,zEe=/<(?:\w:)?pageMargins[^>]*\/>/g,bX=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,HEe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,GEe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function $Ee(r,e,t,n,i,a,s){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",h=r.match(OEe);h?(u=r.slice(0,h.index),c=r.slice(h.index+h[0].length)):u=c=r;var f=u.match(bX);f?PO(f[0],o,i,t):(f=u.match(HEe))&&UEe(f[0],f[1]||"",o,i,t);var d=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var p=u.slice(d,d+50).match(NEe);p&&PEe(o,p[1])}var v=u.match(GEe);v&&v[1]&&qEe(v[1],i);var g=[];if(e.cellStyles){var m=u.match(BEe);m&&XEe(g,m)}h&&ZEe(h[1],o,e,l,a,s);var x=c.match(VEe);x&&(o["!autofilter"]=KEe(x[0]));var y=[],_=c.match(REe);if(_)for(d=0;d!=_.length;++d)y[d]=Yr(_[d].slice(_[d].indexOf('"')+1));var S=c.match(FEe);S&&WEe(o,S,n);var w=c.match(zEe);if(w&&(o["!margins"]=YEe(ft(w[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Ut(l)),e.sheetRows>0&&o["!ref"]){var T=Yr(o["!ref"]);e.sheetRows<=+T.e.r&&(T.e.r=e.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Ut(T))}return g.length>0&&(o["!cols"]=g),y.length>0&&(o["!merges"]=y),o}function PO(r,e,t,n){var i=ft(r);t.Sheets[n]||(t.Sheets[n]={}),i.codeName&&(t.Sheets[n].CodeName=Xt(xr(i.codeName)))}function UEe(r,e,t,n,i){PO(r.slice(0,r.indexOf(">")),t,n,i)}function WEe(r,e,t){for(var n=Array.isArray(r),i=0;i!=e.length;++i){var a=ft(xr(e[i]),!0);if(!a.ref)return;var s=((t||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Xt(a.location))):(a.Target="#"+Xt(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Yr(a.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var c=yt({c:u,r:l});n?(r[l]||(r[l]=[]),r[l][u]||(r[l][u]={t:"z",v:void 0}),r[l][u].l=a):(r[c]||(r[c]={t:"z",v:void 0}),r[c].l=a)}}}function YEe(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function XEe(r,e){for(var t=!1,n=0;n!=e.length;++n){var i=ft(e[n],!0);i.hidden&&(i.hidden=Rr(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,IO(i.width)),Ag(i);a<=s;)r[a++]=si(i)}}function KEe(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var jEe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function qEe(r,e){e.Views||(e.Views=[{}]),(r.match(jEe)||[]).forEach(function(t,n){var i=ft(t);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Rr(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var ZEe=function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=L1("v"),s=L1("f");return function(l,u,c,h,f,d){for(var p=0,v="",g=[],m=[],x=0,y=0,_=0,S="",w,T,A=0,C=0,k,E,D=0,I=0,P=Array.isArray(d.CellXf),F,V=[],z=[],G=Array.isArray(u),O=[],ee={},Q=!1,N=!!c.sheetStubs,Y=l.split(e),W=0,K=Y.length;W!=K;++W){v=Y[W].trim();var ne=v.length;if(ne!==0){var fe=0;e:for(p=0;p<ne;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(c&&c.cellStyles){if(T=ft(v.slice(fe,p),!0),A=T.r!=null?parseInt(T.r,10):A+1,C=-1,c.sheetRows&&c.sheetRows<A)continue;ee={},Q=!1,T.ht&&(Q=!0,ee.hpt=parseFloat(T.ht),ee.hpx=F1(ee.hpt)),T.hidden=="1"&&(Q=!0,ee.hidden=!0),T.outlineLevel!=null&&(Q=!0,ee.level=+T.outlineLevel),Q&&(O[A-1]=ee)}break;case"<":fe=p;break}if(fe>=p)break;if(T=ft(v.slice(fe,p),!0),A=T.r!=null?parseInt(T.r,10):A+1,C=-1,!(c.sheetRows&&c.sheetRows<A)){h.s.r>A-1&&(h.s.r=A-1),h.e.r<A-1&&(h.e.r=A-1),c&&c.cellStyles&&(ee={},Q=!1,T.ht&&(Q=!0,ee.hpt=parseFloat(T.ht),ee.hpx=F1(ee.hpt)),T.hidden=="1"&&(Q=!0,ee.hidden=!0),T.outlineLevel!=null&&(Q=!0,ee.level=+T.outlineLevel),Q&&(O[A-1]=ee)),g=v.slice(p).split(r);for(var ae=0;ae!=g.length&&g[ae].trim().charAt(0)=="<";++ae);for(g=g.slice(ae),p=0;p!=g.length;++p)if(v=g[p].trim(),v.length!==0){if(m=v.match(t),x=p,y=0,_=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,m!=null&&m.length===2){for(x=0,S=m[1],y=0;y!=S.length&&!((_=S.charCodeAt(y)-64)<1||_>26);++y)x=26*x+_;--x,C=x}else++C;for(y=0;y!=v.length&&v.charCodeAt(y)!==62;++y);if(++y,T=ft(v.slice(0,y),!0),T.r||(T.r=yt({r:A-1,c:C})),S=v.slice(y),w={t:""},(m=S.match(a))!=null&&m[1]!==""&&(w.v=Xt(m[1])),c.cellFormula){if((m=S.match(s))!=null&&m[1]!==""){if(w.f=Xt(xr(m[1])).replace(/\r\n/g,`
`),c.xlfn||(w.f=pV(w.f)),m[0].indexOf('t="array"')>-1)w.F=(S.match(i)||[])[1],w.F.indexOf(":")>-1&&V.push([Yr(w.F),w.F]);else if(m[0].indexOf('t="shared"')>-1){E=ft(m[0]);var re=Xt(xr(m[1]));c.xlfn||(re=pV(re)),z[parseInt(E.si,10)]=[E,re,T.r]}}else(m=S.match(/<f[^>]*\/>/))&&(E=ft(m[0]),z[E.si]&&(w.f=lke(z[E.si][1],z[E.si][2],T.r)));var ie=Xi(T.r);for(y=0;y<V.length;++y)ie.r>=V[y][0].s.r&&ie.r<=V[y][0].e.r&&ie.c>=V[y][0].s.c&&ie.c<=V[y][0].e.c&&(w.F=V[y][1])}if(T.t==null&&w.v===void 0)if(w.f||w.F)w.v=0,w.t="n";else if(N)w.t="z";else continue;else w.t=T.t||"n";switch(h.s.c>C&&(h.s.c=C),h.e.c<C&&(h.e.c=C),w.t){case"n":if(w.v==""||w.v==null){if(!N)continue;w.t="z"}else w.v=parseFloat(w.v);break;case"s":if(typeof w.v>"u"){if(!N)continue;w.t="z"}else k=$y[parseInt(w.v,10)],w.v=k.t,w.r=k.r,c.cellHTML&&(w.h=k.h);break;case"str":w.t="s",w.v=w.v!=null?xr(w.v):"",c.cellHTML&&(w.h=bO(w.v));break;case"inlineStr":m=S.match(n),w.t="s",m!=null&&(k=MO(m[1]))?(w.v=k.t,c.cellHTML&&(w.h=k.h)):w.v="";break;case"b":w.v=Rr(w.v);break;case"d":c.cellDates?w.v=Wn(w.v,1):(w.v=na(Wn(w.v,1)),w.t="n");break;case"e":(!c||c.cellText!==!1)&&(w.w=w.v),w.v=HY[w.v];break}if(D=I=0,F=null,P&&T.s!==void 0&&(F=d.CellXf[T.s],F!=null&&(F.numFmtId!=null&&(D=F.numFmtId),c.cellStyles&&F.fillId!=null&&(I=F.fillId))),xX(w,D,I,c,f,d),c.cellDates&&P&&w.t=="n"&&Wg(wt[D])&&(w.t="d",w.v=k2(w.v)),T.cm&&c.xlmeta){var se=(c.xlmeta.Cell||[])[+T.cm-1];se&&se.type=="XLDAPR"&&(w.D=!0)}if(G){var U=Xi(T.r);u[U.r]||(u[U.r]=[]),u[U.r][U.c]=w}else u[T.r]=w}}}}O.length>0&&(u["!rows"]=O)}}();function JEe(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=i/20),t}var QEe=Wp;function eDe(){}function tDe(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=STe(r),t}function rDe(r){var e=Vs(r);return[e]}function nDe(r){var e=Up(r);return[e]}function iDe(r){var e=Vs(r),t=r.read_shift(1);return[e,t,"b"]}function aDe(r){var e=Up(r),t=r.read_shift(1);return[e,t,"b"]}function sDe(r){var e=Vs(r),t=r.read_shift(1);return[e,t,"e"]}function oDe(r){var e=Up(r),t=r.read_shift(1);return[e,t,"e"]}function lDe(r){var e=Vs(r),t=r.read_shift(4);return[e,t,"s"]}function uDe(r){var e=Up(r),t=r.read_shift(4);return[e,t,"s"]}function cDe(r){var e=Vs(r),t=Si(r);return[e,t,"n"]}function _X(r){var e=Up(r),t=Si(r);return[e,t,"n"]}function hDe(r){var e=Vs(r),t=kO(r);return[e,t,"n"]}function fDe(r){var e=Up(r),t=kO(r);return[e,t,"n"]}function dDe(r){var e=Vs(r),t=AO(r);return[e,t,"is"]}function pDe(r){var e=Vs(r),t=Ci(r);return[e,t,"str"]}function vDe(r){var e=Up(r),t=Ci(r);return[e,t,"str"]}function gDe(r,e,t){var n=r.l+e,i=Vs(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"b"];if(t.cellFormula){r.l+=2;var o=M2(r,n-r.l,t);s[3]=wi(o,null,i,t.supbooks,t)}else r.l=n;return s}function mDe(r,e,t){var n=r.l+e,i=Vs(r);i.r=t["!row"];var a=r.read_shift(1),s=[i,a,"e"];if(t.cellFormula){r.l+=2;var o=M2(r,n-r.l,t);s[3]=wi(o,null,i,t.supbooks,t)}else r.l=n;return s}function yDe(r,e,t){var n=r.l+e,i=Vs(r);i.r=t["!row"];var a=Si(r),s=[i,a,"n"];if(t.cellFormula){r.l+=2;var o=M2(r,n-r.l,t);s[3]=wi(o,null,i,t.supbooks,t)}else r.l=n;return s}function xDe(r,e,t){var n=r.l+e,i=Vs(r);i.r=t["!row"];var a=Ci(r),s=[i,a,"str"];if(t.cellFormula){r.l+=2;var o=M2(r,n-r.l,t);s[3]=wi(o,null,i,t.supbooks,t)}else r.l=n;return s}var bDe=Wp;function _De(r,e){var t=r.l+e,n=Wp(r),i=CO(r),a=Ci(r),s=Ci(r),o=Ci(r);r.l=t;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function wDe(){}function SDe(r,e,t){var n=r.l+e,i=BY(r),a=r.read_shift(1),s=[i];if(s[2]=a,t.cellFormula){var o=EEe(r,n-r.l,t);s[1]=o}else r.l=n;return s}function TDe(r,e,t){var n=r.l+e,i=Wp(r),a=[i];if(t.cellFormula){var s=MEe(r,n-r.l,t);a[1]=s,r.l=n}else r.l=n;return a}var ADe=["left","right","top","bottom","header","footer"];function CDe(r){var e={};return ADe.forEach(function(t){e[t]=Si(r)}),e}function kDe(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function EDe(){}function DDe(){}function MDe(r,e,t,n,i,a,s){if(!r)return r;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,f=!1,d,p,v,g,m,x,y,_,S,w=[];o.biff=12,o["!row"]=0;var T=0,A=!1,C=[],k={},E=o.supbooks||i.supbooks||[[]];if(E.sharedf=k,E.arrayf=C,E.SheetNames=i.SheetNames||i.Sheets.map(function(G){return G.name}),!o.supbooks&&(o.supbooks=E,i.Names))for(var D=0;D<i.Names.length;++D)E[0][D+1]=i.Names[D];var I=[],P=[],F=!1;jT[16]={n:"BrtShortReal",f:_X};var V;if(uc(r,function(O,ee,Q){if(!f)switch(Q){case 148:u=O;break;case 0:d=O,o.sheetRows&&o.sheetRows<=d.r&&(f=!0),_=oi(g=d.r),o["!row"]=d.r,(O.hidden||O.hpt||O.level!=null)&&(O.hpt&&(O.hpx=F1(O.hpt)),P[O.r]=O);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:O[2]},O[2]){case"n":p.v=O[1];break;case"s":y=$y[O[1]],p.v=y.t,p.r=y.r;break;case"b":p.v=!!O[1];break;case"e":p.v=O[1],o.cellText!==!1&&(p.w=Yp[p.v]);break;case"str":p.t="s",p.v=O[1];break;case"is":p.t="s",p.v=O[1].t;break}if((v=s.CellXf[O[0].iStyleRef])&&xX(p,v.numFmtId,null,o,a,s),m=O[0].c==-1?m+1:O[0].c,o.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[Cn(m)+_]=p,o.cellFormula){for(A=!1,T=0;T<C.length;++T){var N=C[T];d.r>=N[0].s.r&&d.r<=N[0].e.r&&m>=N[0].s.c&&m<=N[0].e.c&&(p.F=Ut(N[0]),A=!0)}!A&&O.length>3&&(p.f=O[3])}if(c.s.r>d.r&&(c.s.r=d.r),c.s.c>m&&(c.s.c=m),c.e.r<d.r&&(c.e.r=d.r),c.e.c<m&&(c.e.c=m),o.cellDates&&v&&p.t=="n"&&Wg(wt[v.numFmtId])){var Y=td(p.v);Y&&(p.t="d",p.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}V&&(V.type=="XLDAPR"&&(p.D=!0),V=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;p={t:"z",v:void 0},m=O[0].c==-1?m+1:O[0].c,o.dense?(l[g]||(l[g]=[]),l[g][m]=p):l[Cn(m)+_]=p,c.s.r>d.r&&(c.s.r=d.r),c.s.c>m&&(c.s.c=m),c.e.r<d.r&&(c.e.r=d.r),c.e.c<m&&(c.e.c=m),V&&(V.type=="XLDAPR"&&(p.D=!0),V=void 0);break;case 176:w.push(O);break;case 49:V=((o.xlmeta||{}).Cell||[])[O-1];break;case 494:var W=n["!id"][O.relId];for(W?(O.Target=W.Target,O.loc&&(O.Target+="#"+O.loc),O.Rel=W):O.relId==""&&(O.Target="#"+O.loc),g=O.rfx.s.r;g<=O.rfx.e.r;++g)for(m=O.rfx.s.c;m<=O.rfx.e.c;++m)o.dense?(l[g]||(l[g]=[]),l[g][m]||(l[g][m]={t:"z",v:void 0}),l[g][m].l=O):(x=yt({c:m,r:g}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=O);break;case 426:if(!o.cellFormula)break;C.push(O),S=o.dense?l[g][m]:l[Cn(m)+_],S.f=wi(O[1],c,{r:d.r,c:m},E,o),S.F=Ut(O[0]);break;case 427:if(!o.cellFormula)break;k[yt(O[0].s)]=O[1],S=o.dense?l[g][m]:l[Cn(m)+_],S.f=wi(O[1],c,{r:d.r,c:m},E,o);break;case 60:if(!o.cellStyles)break;for(;O.e>=O.s;)I[O.e--]={width:O.w/256,hidden:!!(O.flags&1),level:O.level},F||(F=!0,IO(O.w/256)),Ag(I[O.e+1]);break;case 161:l["!autofilter"]={ref:Ut(O)};break;case 476:l["!margins"]=O;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),O.name&&(i.Sheets[t].CodeName=O.name),(O.above||O.left)&&(l["!outline"]={above:O.above,left:O.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),O.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!ee.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(c.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=Ut(u||c)),o.sheetRows&&l["!ref"]){var z=Yr(l["!ref"]);o.sheetRows<=+z.e.r&&(z.e.r=o.sheetRows-1,z.e.r>c.e.r&&(z.e.r=c.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>c.e.c&&(z.e.c=c.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ut(z))}return w.length>0&&(l["!merges"]=w),I.length>0&&(l["!cols"]=I),P.length>0&&(l["!rows"]=P),l}function IDe(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var i=Xt((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function LDe(r,e,t,n,i,a){var s=a||{"!type":"chart"};if(!r)return a;var o=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var f=IDe(h);c.s.r=c.s.c=0,c.e.c=o,u=Cn(o),f[0].forEach(function(d,p){s[u+oi(p)]={t:"n",v:d,z:f[1]},l=p}),c.e.r<l&&(c.e.r=l),++o}),o>0&&(s["!ref"]=Ut(c)),s}function PDe(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=r.match(bX);return o&&PO(o[0],a,i,t),(s=r.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function RDe(r,e){r.l+=10;var t=Ci(r);return{name:t}}function ODe(r,e,t,n,i){if(!r)return r;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return uc(r,function(l,u,c){switch(c){case 550:a["!rel"]=l;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),l.name&&(i.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var wX=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],FDe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],NDe=[],BDe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xV(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Rr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function bV(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=Rr(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function SX(r){bV(r.WBProps,wX),bV(r.CalcPr,BDe),xV(r.WBView,FDe),xV(r.Sheets,NDe),r0.date1904=Rr(r.WBProps.date1904)}var VDe="][*?/\\".split("");function zDe(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return VDe.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var HDe=/<\w+:workbook/;function GDe(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(r.replace(Mi,function(l,u){var c=ft(l);switch(Ol(c[0])){case"<?xml":break;case"<workbook":l.match(HDe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],t.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wX.forEach(function(h){if(c[h[0]]!=null)switch(h[2]){case"bool":t.WBProps[h[0]]=Rr(c[h[0]]);break;case"int":t.WBProps[h[0]]=parseInt(c[h[0]],10);break;default:t.WBProps[h[0]]=c[h[0]]}}),c.codeName&&(t.WBProps.CodeName=xr(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],t.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Xt(xr(c.name)),delete c[0],t.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=xr(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),Rr(c.hidden||"0")&&(a.Hidden=!0),s=u+l.length;break;case"</definedName>":a.Ref=Xt(xr(r.slice(s,u))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete c[0],t.CalcPr=c;break;case"<calcPr/>":delete c[0],t.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return l}),sTe.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return SX(t),t}function $De(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=YM(r),t.name=Ci(r),t}function UDe(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?Ci(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function WDe(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function YDe(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),a=TTe(r),s=DEe(r,0,t),o=CO(r);r.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function XDe(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],jT[16]={n:"BrtFRTArchID$",f:WDe},uc(r,function(l,u,c){switch(c){case 156:s.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=wi(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([c,l]):s[0]=[c,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(c),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(c),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},e),SX(t),t.Names=a,t.supbooks=s,t}function KDe(r,e,t){return e.slice(-4)===".bin"?XDe(r,t):GDe(r,t)}function jDe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?MDe(r,n,t,i,a,s,o):$Ee(r,n,t,i,a,s,o)}function qDe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?ODe(r,n,t,i,a):PDe(r,n,t,i,a)}function ZDe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?ake():ske()}function JDe(r,e,t,n,i,a,s,o){return e.slice(-4)===".bin"?nke():ike()}function QDe(r,e,t,n){return e.slice(-4)===".bin"?bCe(r,t,n):pCe(r,t,n)}function eMe(r,e,t){return uX(r,t)}function tMe(r,e,t){return e.slice(-4)===".bin"?F2e(r,t):R2e(r,t)}function rMe(r,e,t){return e.slice(-4)===".bin"?eke(r,t):jCe(r,t)}function nMe(r,e,t){return e.slice(-4)===".bin"?YCe(r):UCe(r)}function iMe(r,e,t,n){return t.slice(-4)===".bin"?XCe(r,e,t,n):void 0}function aMe(r,e,t){return e.slice(-4)===".bin"?GCe(r,e,t):$Ce(r,e,t)}var TX=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,AX=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Gs(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var i=r.match(TX),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(AX),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function sMe(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(TX),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(AX),(a=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),t[s]=i[2].slice(1,i[2].length-1));return t}var Wy;function oMe(r,e){var t=Wy[r]||Xt(r);return t==="General"?Cp(e):Ls(t,e)}function lMe(r,e,t,n){var i=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Rr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Wn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[Xt(e)]=i}function uMe(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Yp[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=I1(r.v):r.w=Cp(r.v):r.w=oMe(e||"General",r.v)}catch(a){if(t.WTF)throw a}try{var n=Wy[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&Wg(n)){var i=td(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(t.WTF)throw a}}}function cMe(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=lCe[n.Pattern]||n.Pattern)}r[e.ID]=e}function hMe(r,e,t,n,i,a,s,o,l,u){var c="General",h=n.StyleID,f={};u=u||{};var d=[],p=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&s&&(h=s.StyleID);a[h]!==void 0&&(a[h].nf&&(c=a[h].nf),a[h].Interior&&d.push(a[h].Interior),!!a[h].Parent);)h=a[h].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=Rr(r);break;case"String":n.t="s",n.r=G8(Xt(r)),n.v=r.indexOf("<")>-1?Xt(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(Wn(r)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Xt(r):n.v<60&&(n.v=n.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=HY[r],u.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=G8(e||r));break}if(uMe(n,c,u),u.cellFormula!==!1)if(n.Formula){var v=Xt(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=t0(v,i),delete n.Formula,n.ArrayRange=="RC"?n.F=t0("RC:RC",i):n.ArrayRange&&(n.F=t0(n.ArrayRange,i),l.push([Yr(n.F),n.F]))}else for(p=0;p<l.length;++p)i.r>=l[p][0].s.r&&i.r<=l[p][0].e.r&&i.c>=l[p][0].s.c&&i.c<=l[p][0].e.c&&(n.F=l[p][1]);u.cellStyles&&(d.forEach(function(g){!f.patternType&&g.patternType&&(f.patternType=g.patternType)}),n.s=f),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function fMe(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function AE(r,e){var t=e||{};dY();var n=jm(_O(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=xr(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=si(t);return s.type="string",R1.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Fe){i.indexOf("<"+Fe)>=0&&(a=!0)}),a)return _Me(n,t);Wy={"General Number":"General","General Date":wt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":wt[15],"Short Date":wt[14],"Long Time":wt[19],"Medium Time":wt[18],"Short Time":wt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:wt[2],Standard:wt[4],Percent:wt[10],Scientific:wt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,c={},h=[],f=t.dense?[]:{},d="",p={},v={},g=Gs('<Data ss:Type="String">'),m=0,x=0,y=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},w={},T="",A=0,C=[],k={},E={},D=0,I=[],P=[],F={},V=[],z,G=!1,O=[],ee=[],Q={},N=0,Y=0,W={Sheets:[],WBProps:{date1904:!1}},K={};P1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";o=P1.exec(n);)switch(o[3]=(ne=o[3]).toLowerCase()){case"data":if(ne=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?hMe(n.slice(m,o.index),T,g,l[l.length-1][0]=="comment"?F:p,{c:x,r:y},S,V[x],v,O,t):(T="",g=Gs(o[0]),m=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(P.length>0&&(p.c=P),(!t.sheetRows||t.sheetRows>y)&&p.v!==void 0&&(t.dense?(f[y]||(f[y]=[]),f[y][x]=p):f[Cn(x)+oi(y)]=p),p.HRef&&(p.l={Target:Xt(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(N=x+(parseInt(p.MergeAcross,10)|0),Y=y+(parseInt(p.MergeDown,10)|0),C.push({s:{c:x,r:y},e:{c:N,r:Y}})),!t.sheetStubs)p.MergeAcross?x=N+1:++x;else if(p.MergeAcross||p.MergeDown){for(var fe=x;fe<=N;++fe)for(var ae=y;ae<=Y;++ae)(fe>x||ae>y)&&(t.dense?(f[ae]||(f[ae]=[]),f[ae][fe]={t:"z"}):f[Cn(fe)+oi(ae)]={t:"z"});x=N+1}else++x;else p=sMe(o[0]),p.Index&&(x=+p.Index-1),x<_.s.c&&(_.s.c=x),x>_.e.c&&(_.e.c=x),o[0].slice(-2)==="/>"&&++x,P=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<_.s.r&&(_.s.r=y),y>_.e.r&&(_.e.r=y),o[0].slice(-2)==="/>"&&(v=Gs(o[0]),v.Index&&(y=+v.Index-1)),x=0,++y):(v=Gs(o[0]),v.Index&&(y=+v.Index-1),Q={},(v.AutoFitHeight=="0"||v.Height)&&(Q.hpx=parseInt(v.Height,10),Q.hpt=lX(Q.hpx),ee[y]=Q),v.Hidden=="1"&&(Q.hidden=!0,ee[y]=Q));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));h.push(d),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(f["!ref"]=Ut(_),t.sheetRows&&t.sheetRows<=_.e.r&&(f["!fullref"]=f["!ref"],_.e.r=t.sheetRows-1,f["!ref"]=Ut(_))),C.length&&(f["!merges"]=C),V.length>0&&(f["!cols"]=V),ee.length>0&&(f["!rows"]=ee),c[d]=f}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=x=0,l.push([o[3],!1]),u=Gs(o[0]),d=Xt(u.Name),f=t.dense?[]:{},C=[],O=[],ee=[],K={name:d,Hidden:0},W.Sheets.push(K);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),V=[],G=!1}break;case"style":o[1]==="/"?cMe(S,w,t):w=Gs(o[0]);break;case"numberformat":w.nf=Xt(Gs(o[0]).Format||"General"),Wy[w.nf]&&(w.nf=Wy[w.nf]);for(var re=0;re!=392&&wt[re]!=w.nf;++re);if(re==392){for(re=57;re!=392;++re)if(wt[re]==null){mp(w.nf,re);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(z=Gs(o[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!G&&z.wpx>10){G=!0,Yi=sX;for(var ie=0;ie<V.length;++ie)V[ie]&&Ag(V[ie])}G&&Ag(z),V[z.Index-1||V.length]=z;for(var se=0;se<+z.Span;++se)V[V.length]=si(z);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var U=ft(o[0]),Oe={Name:U.Name,Ref:t0(U.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(Oe.Sheet=W.Sheets.length-1),W.Names.push(Oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;w.Interior=Gs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?jTe(k,ne,n.slice(D,o.index)):D=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));fMe(F),P.push(F)}else l.push([o[3],!1]),u=Gs(o[0]),F={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Se=Gs(o[0]);f["!autofilter"]={ref:t0(Se.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return CV(n,t);var Ie=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ie=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ie=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ie=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ie=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(D,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else D=o.index+o[0].length;break;case"header":f["!margins"]||Uy(f["!margins"]={},"xlml"),isNaN(+ft(o[0]).Margin)||(f["!margins"].header=+ft(o[0]).Margin);break;case"footer":f["!margins"]||Uy(f["!margins"]={},"xlml"),isNaN(+ft(o[0]).Margin)||(f["!margins"].footer=+ft(o[0]).Margin);break;case"pagemargins":var we=ft(o[0]);f["!margins"]||Uy(f["!margins"]={},"xlml"),isNaN(+we.Top)||(f["!margins"].top=+we.Top),isNaN(+we.Left)||(f["!margins"].left=+we.Left),isNaN(+we.Right)||(f["!margins"].right=+we.Right),isNaN(+we.Bottom)||(f["!margins"].bottom=+we.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ie=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ie=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ie=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ie=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ie=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ie=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ie=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ie=!1}break;case"smarttags":break;default:Ie=!1;break}if(Ie||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?lMe(E,ne,I,n.slice(D,o.index)):(I=o,D=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var be={};return!t.bookSheets&&!t.bookProps&&(be.Sheets=c),be.SheetNames=h,be.Workbook=W,be.SSF=si(wt),be.Props=k,be.Custprops=E,be}function qM(r,e){switch(FO(e=e||{}),e.type||"base64"){case"base64":return AE(qa(r),e);case"binary":case"buffer":case"file":return AE(r,e);case"array":return AE($p(r),e)}}function dMe(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=kTe(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=ETe(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var pMe=[60,1084,2066,2165,2175];function vMe(r,e,t,n,i){var a=n,s=[],o=t.slice(t.l,t.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),t.l+=a;for(var l=Ru(t,t.l),u=ZM[l],c=0;u!=null&&pMe.indexOf(l)>-1;)a=Ru(t,t.l+2),c=t.l+4,l==2066?c+=4:(l==2165||l==2175)&&(c+=12),o=t.slice(c,t.l+4+a),s.push(o),t.l+=4+a,u=ZM[l=Ru(t,t.l)];var h=Cc(s);ni(h,0);var f=0;h.lens=[];for(var d=0;d<s.length;++d)h.lens.push(f),f+=s[d].length;if(h.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+h.length+" < "+n;return e.f(h,h.length,i)}function Po(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=wt[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Yp[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=I1(r.v):r.w=Cp(r.v):r.w=Ls(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&r.t=="n"&&Wg(wt[n]||String(n))){var i=td(r.v);i&&(r.t="d",r.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function bw(r,e,t){return{v:r,ixfe:e,t}}function gMe(r,e){var t={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],u="",c={},h,f="",d,p,v,g,m={},x=[],y,_,S=[],w=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},C=function(Ct){return Ct<8?yp[Ct]:Ct<64&&w[Ct-8]||yp[Ct]},k=function(Ct,ur,Or){var Sr=ur.XF.data;if(!(!Sr||!Sr.patternType||!Or||!Or.cellStyles)){ur.s={},ur.s.patternType=Sr.patternType;var ko;(ko=O1(C(Sr.icvFore)))&&(ur.s.fgColor={rgb:ko}),(ko=O1(C(Sr.icvBack)))&&(ur.s.bgColor={rgb:ko})}},E=function(Ct,ur,Or){if(!(Q>1)&&!(Or.sheetRows&&Ct.r>=Or.sheetRows)){if(Or.cellStyles&&ur.XF&&ur.XF.data&&k(Ct,ur,Or),delete ur.ixfe,delete ur.XF,h=Ct,f=yt(Ct),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Ct.r<s.s.r&&(s.s.r=Ct.r),Ct.c<s.s.c&&(s.s.c=Ct.c),Ct.r+1>s.e.r&&(s.e.r=Ct.r+1),Ct.c+1>s.e.c&&(s.e.c=Ct.c+1),Or.cellFormula&&ur.f){for(var Sr=0;Sr<x.length;++Sr)if(!(x[Sr][0].s.c>Ct.c||x[Sr][0].s.r>Ct.r)&&!(x[Sr][0].e.c<Ct.c||x[Sr][0].e.r<Ct.r)){ur.F=Ut(x[Sr][0]),(x[Sr][0].s.c!=Ct.c||x[Sr][0].s.r!=Ct.r)&&delete ur.f,ur.f&&(ur.f=""+wi(x[Sr][1],s,Ct,O,D));break}}Or.dense?(i[Ct.r]||(i[Ct.r]=[]),i[Ct.r][Ct.c]=ur):i[f]=ur}},D={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(D.password=e.password);var I,P=[],F=[],V=[],z=[],G=!1,O=[];O.SheetNames=D.snames,O.sharedf=D.sharedf,O.arrayf=D.arrayf,O.names=[],O.XTI=[];var ee=0,Q=0,N=0,Y=[],W=[],K;D.codepage=1200,fo(1200);for(var ne=!1;r.l<r.length-1;){var fe=r.l,ae=r.read_shift(2);if(ae===0&&ee===10)break;var re=r.l===r.length?0:r.read_shift(2),ie=ZM[ae];if(ie&&ie.f){if(e.bookSheets&&ee===133&&ae!==133)break;if(ee=ae,ie.r===2||ie.r==12){var se=r.read_shift(2);if(re-=2,!D.enc&&se!==ae&&((se&255)<<8|se>>8)!==ae)throw new Error("rt mismatch: "+se+"!="+ae);ie.r==12&&(r.l+=10,re-=10)}var U={};if(ae===10?U=ie.f(r,re,D):U=vMe(ae,ie,r,re,D),Q==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(ae){case 34:t.opts.Date1904=T.WBProps.date1904=U;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(D.enc||(r.l=0),D.enc=U,!e.password)throw new Error("File is password-protected");if(U.valid==null)throw new Error("Encryption scheme unsupported");if(!U.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=U;break;case 66:var Oe=Number(U);switch(Oe){case 21010:Oe=1200;break;case 32768:Oe=1e4;break;case 32769:Oe=1252;break}fo(D.codepage=Oe),ne=!0;break;case 317:D.rrtabid=U;break;case 25:D.winlocked=U;break;case 439:t.opts.RefreshAll=U;break;case 12:t.opts.CalcCount=U;break;case 16:t.opts.CalcDelta=U;break;case 17:t.opts.CalcIter=U;break;case 13:t.opts.CalcMode=U;break;case 14:t.opts.CalcPrecision=U;break;case 95:t.opts.CalcSaveRecalc=U;break;case 15:D.CalcRefMode=U;break;case 2211:t.opts.FullCalc=U;break;case 129:U.fDialog&&(i["!type"]="dialog"),U.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),U.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:S.push(U);break;case 430:O.push([U]),O[O.length-1].XTI=[];break;case 35:case 547:O[O.length-1].push(U);break;case 24:case 536:K={Name:U.Name,Ref:wi(U.rgce,s,null,O,D)},U.itab>0&&(K.Sheet=U.itab-1),O.names.push(K),O[0]||(O[0]=[],O[0].XTI=[]),O[O.length-1].push(U),U.Name=="_xlnm._FilterDatabase"&&U.itab>0&&U.rgce&&U.rgce[0]&&U.rgce[0][0]&&U.rgce[0][0][0]=="PtgArea3d"&&(W[U.itab-1]={ref:Ut(U.rgce[0][0][1][2])});break;case 22:D.ExternCount=U;break;case 23:O.length==0&&(O[0]=[],O[0].XTI=[]),O[O.length-1].XTI=O[O.length-1].XTI.concat(U),O.XTI=O.XTI.concat(U);break;case 2196:if(D.biff<8)break;K!=null&&(K.Comment=U[1]);break;case 18:i["!protect"]=U;break;case 19:U!==0&&D.WTF&&console.error("Password verifier: "+U);break;case 133:a[U.pos]=U,D.snames.push(U.name);break;case 10:{if(--Q)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Ut(s),e.sheetRows&&e.sheetRows<=s.e.r){var Se=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ut(s),s.e.r=Se}s.e.r++,s.e.c++}P.length>0&&(i["!merges"]=P),F.length>0&&(i["!objects"]=F),V.length>0&&(i["!cols"]=V),z.length>0&&(i["!rows"]=z),T.Sheets.push(A)}u===""?c=i:n[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[ae]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[U.BIFFVer]||8),D.biffguess=U.BIFFVer==0,U.BIFFVer==0&&U.dt==4096&&(D.biff=5,ne=!0,fo(D.codepage=28591)),D.biff==8&&U.BIFFVer==0&&U.dt==16&&(D.biff=2),Q++)break;if(i=e.dense?[]:{},D.biff<8&&!ne&&(ne=!0,fo(D.codepage=e.codepage||1252)),D.biff<5||U.BIFFVer==0&&U.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ie={pos:r.l-re,name:u};a[Ie.pos]=Ie,D.snames.push(u)}else u=(a[fe]||{name:""}).name;U.dt==32&&(i["!type"]="chart"),U.dt==64&&(i["!type"]="macro"),P=[],F=[],D.arrayf=x=[],V=[],z=[],G=!1,A={Hidden:(a[fe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[U.r]||[])[U.c]:i[yt({c:U.c,r:U.r})])&&++U.c,y={ixfe:U.ixfe,XF:S[U.ixfe]||{},v:U.val,t:"n"},N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:U.c,r:U.r},y,e);break;case 5:case 517:y={ixfe:U.ixfe,XF:S[U.ixfe],v:U.val,t:U.t},N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:U.c,r:U.r},y,e);break;case 638:y={ixfe:U.ixfe,XF:S[U.ixfe],v:U.rknum,t:"n"},N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:U.c,r:U.r},y,e);break;case 189:for(var we=U.c;we<=U.C;++we){var be=U.rkrec[we-U.c][0];y={ixfe:be,XF:S[be],v:U.rkrec[we-U.c][1],t:"n"},N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:we,r:U.r},y,e)}break;case 6:case 518:case 1030:{if(U.val=="String"){o=U;break}if(y=bw(U.val,U.cell.ixfe,U.tt),y.XF=S[y.ixfe],e.cellFormula){var Fe=U.formula;if(Fe&&Fe[0]&&Fe[0][0]&&Fe[0][0][0]=="PtgExp"){var st=Fe[0][0][1][0],pr=Fe[0][0][1][1],_r=yt({r:st,c:pr});m[_r]?y.f=""+wi(U.formula,s,U.cell,O,D):y.F=((e.dense?(i[st]||[])[pr]:i[_r])||{}).F}else y.f=""+wi(U.formula,s,U.cell,O,D)}N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E(U.cell,y,e),o=U}break;case 7:case 519:if(o)o.val=U,y=bw(U,o.cell.ixfe,"s"),y.XF=S[y.ixfe],e.cellFormula&&(y.f=""+wi(o.formula,s,o.cell,O,D)),N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E(o.cell,y,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(U);var gn=yt(U[0].s);if(d=e.dense?(i[U[0].s.r]||[])[U[0].s.c]:i[gn],e.cellFormula&&d){if(!o||!gn||!d)break;d.f=""+wi(U[1],s,U[0],O,D),d.F=Ut(U[0])}}break;case 1212:{if(!e.cellFormula)break;if(f){if(!o)break;m[yt(o.cell)]=U[0],d=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[yt(o.cell)],(d||{}).f=""+wi(U[0],s,h,O,D)}}break;case 253:y=bw(l[U.isst].t,U.ixfe,"s"),l[U.isst].h&&(y.h=l[U.isst].h),y.XF=S[y.ixfe],N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:U.c,r:U.r},y,e);break;case 513:e.sheetStubs&&(y={ixfe:U.ixfe,XF:S[U.ixfe],t:"z"},N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:U.c,r:U.r},y,e));break;case 190:if(e.sheetStubs)for(var Ln=U.c;Ln<=U.C;++Ln){var rr=U.ixfe[Ln-U.c];y={ixfe:rr,XF:S[rr],t:"z"},N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:Ln,r:U.r},y,e)}break;case 214:case 516:case 4:y=bw(U.val,U.ixfe,"s"),y.XF=S[y.ixfe],N>0&&(y.z=Y[y.ixfe>>8&63]),Po(y,e,t.opts.Date1904),E({c:U.c,r:U.r},y,e);break;case 0:case 512:Q===1&&(s=U);break;case 252:l=U;break;case 1054:if(D.biff==4){Y[N++]=U[1];for(var rn=0;rn<N+163&&wt[rn]!=U[1];++rn);rn>=163&&mp(U[1],N+163)}else mp(U[1],U[0]);break;case 30:{Y[N++]=U;for(var vr=0;vr<N+163&&wt[vr]!=U;++vr);vr>=163&&mp(U,N+163)}break;case 229:P=P.concat(U);break;case 93:F[U.cmo[0]]=D.lastobj=U;break;case 438:D.lastobj.TxO=U;break;case 127:D.lastobj.ImData=U;break;case 440:for(g=U[0].s.r;g<=U[0].e.r;++g)for(v=U[0].s.c;v<=U[0].e.c;++v)d=e.dense?(i[g]||[])[v]:i[yt({c:v,r:g})],d&&(d.l=U[1]);break;case 2048:for(g=U[0].s.r;g<=U[0].e.r;++g)for(v=U[0].s.c;v<=U[0].e.c;++v)d=e.dense?(i[g]||[])[v]:i[yt({c:v,r:g})],d&&d.l&&(d.l.Tooltip=U[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;d=e.dense?(i[U[0].r]||[])[U[0].c]:i[yt(U[0])];var nn=F[U[2]];d||(e.dense?(i[U[0].r]||(i[U[0].r]=[]),d=i[U[0].r][U[0].c]={t:"z"}):d=i[yt(U[0])]={t:"z"},s.e.r=Math.max(s.e.r,U[0].r),s.s.r=Math.min(s.s.r,U[0].r),s.e.c=Math.max(s.e.c,U[0].c),s.s.c=Math.min(s.s.c,U[0].c)),d.c||(d.c=[]),p={a:U[1],t:nn.TxO.t},d.c.push(p)}break;case 2173:BCe(S[U.ixfe],U.ext);break;case 125:{if(!D.cellStyles)break;for(;U.e>=U.s;)V[U.e--]={width:U.w/256,level:U.level||0,hidden:!!(U.flags&1)},G||(G=!0,IO(U.w/256)),Ag(V[U.e+1])}break;case 520:{var wr={};U.level!=null&&(z[U.r]=wr,wr.level=U.level),U.hidden&&(z[U.r]=wr,wr.hidden=!0),U.hpt&&(z[U.r]=wr,wr.hpt=U.hpt,wr.hpx=F1(U.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Uy(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ae]]=U;break;case 161:i["!margins"]||Uy(i["!margins"]={}),i["!margins"].header=U.header,i["!margins"].footer=U.footer;break;case 574:U.RTL&&(T.Views[0].RTL=!0);break;case 146:w=U;break;case 2198:I=U;break;case 140:_=U;break;case 442:u?A.CodeName=U||A.name:T.WBProps.CodeName=U||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+ae.toString(16)),r.l+=re}return t.SheetNames=Al(a).sort(function(sa,Ct){return Number(sa)-Number(Ct)}).map(function(sa){return a[sa].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&c["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=c)):t.Preamble=c,t.Sheets&&W.forEach(function(sa,Ct){t.Sheets[t.SheetNames[Ct]]["!autofilter"]=sa}),t.Strings=l,t.SSF=si(wt),D.enc&&(t.Encryption=D.enc),I&&(t.Themes=I),t.Metadata={},_!==void 0&&(t.Metadata.Country=_),O.names.length>0&&(T.Names=O.names),t.Workbook=T,t}var _V={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function mMe(r,e,t){var n=$t.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=iV(n,RTe,_V.DSI);for(var a in i)e[a]=i[a]}catch(u){if(t.WTF)throw u}var s=$t.find(r,"/!SummaryInformation");if(s&&s.size>0)try{var o=iV(s,OTe,_V.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(u){if(t.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&($Y(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function CX(r,e){e||(e={}),FO(e),tY(),e.codepage&&pO(e.codepage);var t,n;if(r.FullPaths){if($t.find(r,"/encryption"))throw new Error("File is password-protected");t=$t.find(r,"!CompObj"),n=$t.find(r,"/Workbook")||$t.find(r,"/Book")}else{switch(e.type){case"base64":r=lo(qa(r));break;case"binary":r=lo(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}ni(r,0),n={content:r}}var i,a;if(t&&dMe(t),e.bookProps&&!e.bookSheets)i={};else{var s=Ht?"buffer":"array";if(n&&n.content)i=gMe(n.content,e);else if((a=$t.find(r,"PerfectOffice_MAIN"))&&a.content)i=Gy.to_workbook(a.content,(e.type=s,e));else if((a=$t.find(r,"NativeContent_MAIN"))&&a.content)i=Gy.to_workbook(a.content,(e.type=s,e));else throw(a=$t.find(r,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&$t.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=rke(r))}var o={};return r.FullPaths&&mMe(r,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=r),i}var jT={0:{f:JEe},1:{f:rDe},2:{f:hDe},3:{f:sDe},4:{f:iDe},5:{f:cDe},6:{f:pDe},7:{f:lDe},8:{f:xDe},9:{f:yDe},10:{f:gDe},11:{f:mDe},12:{f:nDe},13:{f:fDe},14:{f:oDe},15:{f:aDe},16:{f:_X},17:{f:vDe},18:{f:uDe},19:{f:AO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:YDe},40:{},42:{},43:{f:gCe},44:{f:vCe},45:{f:mCe},46:{f:xCe},47:{f:yCe},48:{},49:{f:bTe},50:{},51:{f:zCe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tX},62:{f:dDe},63:{f:WCe},64:{f:EDe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Di,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:kDe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tDe},148:{f:QEe,p:16},151:{f:wDe},152:{},153:{f:UDe},154:{},155:{},156:{f:$De},157:{},158:{},159:{T:1,f:O2e},160:{T:-1},161:{T:1,f:Wp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bDe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VCe},336:{T:-1},337:{f:HCe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:YM},357:{},358:{},359:{},360:{T:1},361:{},362:{f:eX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:SDe},427:{f:TDe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:CDe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:eDe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:_De},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:YM},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:QCe},633:{T:1},634:{T:-1},635:{T:1,f:JCe},636:{T:-1},637:{f:wTe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:RDe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:DDe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ZM={6:{f:SE},10:{f:xc},12:{f:un},13:{f:un},14:{f:Xr},15:{f:Xr},16:{f:Si},17:{f:Xr},18:{f:Xr},19:{f:un},20:{f:lV},21:{f:lV},23:{f:eX},24:{f:cV},25:{f:Xr},26:{},27:{},28:{f:qAe},29:{},34:{f:Xr},35:{f:uV},38:{f:Si},39:{f:Si},40:{f:Si},41:{f:Si},42:{f:Xr},43:{f:Xr},47:{f:eCe},49:{f:IAe},51:{f:un},60:{},61:{f:EAe},64:{f:Xr},65:{f:MAe},66:{f:un},77:{},80:{},81:{},82:{},85:{f:un},89:{},90:{},91:{},92:{f:bAe},93:{f:JAe},94:{},95:{f:Xr},96:{},97:{},99:{f:Xr},125:{f:tX},128:{f:HAe},129:{f:_Ae},130:{f:un},131:{f:Xr},132:{f:Xr},133:{f:wAe},134:{},140:{f:i2e},141:{f:un},144:{},146:{f:s2e},151:{},152:{},153:{},154:{},155:{},156:{f:un},157:{},158:{},160:{f:h2e},161:{f:l2e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:NAe},190:{f:BAe},193:{f:xc},197:{},198:{},199:{},200:{},201:{},202:{f:Xr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:un},220:{},221:{f:Xr},222:{},224:{f:zAe},225:{f:xAe},226:{f:xc},227:{},229:{f:ZAe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:SAe},253:{f:LAe},255:{f:TAe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:KY},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Xr},353:{f:xc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:$Ae},431:{f:Xr},432:{},433:{},434:{},437:{},438:{f:t2e},439:{f:Xr},440:{f:r2e},441:{},442:{f:jb},443:{},444:{f:un},445:{},446:{},448:{f:xc},449:{f:kAe,r:2},450:{f:xc},512:{f:sV},513:{f:c2e},515:{f:GAe},516:{f:PAe},517:{f:oV},519:{f:f2e},520:{f:AAe},523:{},545:{f:hV},549:{f:aV},566:{},574:{f:DAe},638:{f:FAe},659:{},1048:{},1054:{f:RAe},1084:{},1212:{f:XAe},2048:{f:n2e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:mw},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:xc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:o2e,r:12},2173:{f:NCe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Xr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:YAe,r:12},2197:{},2198:{f:ICe,r:12},2199:{},2200:{},2201:{},2202:{f:KAe,r:12},2203:{f:xc},2204:{},2205:{},2206:{},2207:{},2211:{f:CAe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:un},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:u2e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:a2e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:sV},1:{},2:{f:g2e},3:{f:v2e},4:{f:p2e},5:{f:oV},7:{f:m2e},8:{},9:{f:mw},11:{},22:{f:un},30:{f:OAe},31:{},32:{},33:{f:hV},36:{},37:{f:aV},50:{f:y2e},62:{},52:{},67:{},68:{f:un},69:{},86:{},126:{},127:{f:d2e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:x2e},223:{},234:{},354:{},421:{},518:{f:SE},521:{f:mw},536:{f:cV},547:{f:uV},561:{},579:{},1030:{f:SE},1033:{f:mw},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $s(r,e,t,n){var i=e;if(!isNaN(i)){var a=(t||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&OY(t)&&r.push(t)}}function wV(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var i=r.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=r.match(/<\/table/i),s=i.index,o=a&&a.index||r.length,l=GSe(r.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,h=0,f=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var v=l[s].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,t.sheetRows&&t.sheetRows<=u){--u;break}c=0;continue}if(!(g!="<td"&&g!="<th")){var m=v.split(/<\/t[dh]>/i);for(o=0;o<m.length;++o){var x=m[o].trim();if(x.match(/<t[dh]/i)){for(var y=x,_=0;y.charAt(0)=="<"&&(_=y.indexOf(">"))>-1;)y=y.slice(_+1);for(var S=0;S<p.length;++S){var w=p[S];w.s.c==c&&w.s.r<u&&u<=w.e.r&&(c=w.e.c+1,S=-1)}var T=ft(x.slice(0,x.indexOf(">")));f=T.colspan?+T.colspan:1,((h=+T.rowspan)>1||f>1)&&p.push({s:{r:u,c},e:{r:u+(h||1)-1,c:c+f-1}});var A=T.t||T["data-t"]||"";if(!y.length){c+=f;continue}if(y=wY(y),d.s.r>u&&(d.s.r=u),d.e.r<u&&(d.e.r=u),d.s.c>c&&(d.s.c=c),d.e.c<c&&(d.e.c=c),!y.length){c+=f;continue}var C={t:"s",v:y};t.raw||!y.trim().length||A=="s"||(y==="TRUE"?C={t:"b",v:!0}:y==="FALSE"?C={t:"b",v:!1}:isNaN(yo(y))?isNaN(Tg(y).getDate())||(C={t:"d",v:Wn(y)},t.cellDates||(C={t:"n",v:na(C.v)}),C.z=t.dateNF||wt[14]):C={t:"n",v:yo(y)}),t.dense?(n[u]||(n[u]=[]),n[u][c]=C):n[yt({r:u,c})]=C,c+=f}}}}return n["!ref"]=Ut(d),p.length&&(n["!merges"]=p),n}function yMe(r,e,t,n){for(var i=r["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>s)&&!(i[u].e.r<t||i[u].e.c<s)){if(i[u].s.r<t||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=yt({r:t,c:s}),h=n.dense?(r[t]||[])[s]:r[c],f=h&&h.v!=null&&(h.h||bO(h.w||(rc(h),h.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?f='<span contenteditable="true">'+f+"</span>":h&&(d["data-t"]=h&&h.t||"z",h.v!=null&&(d["data-v"]=h.v),h.z!=null&&(d["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),d.id=(n.id||"sjs")+"-"+c,a.push(iTe("td",f,d))}}var p="<tr>";return p+a.join("")+"</tr>"}var xMe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bMe="</body></html>";function _Me(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return Qh(wV(t[0],e),e);var n=BO();return t.forEach(function(i,a){VO(n,wV(i,e),"Sheet"+(a+1))}),n}function wMe(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function SMe(r,e){var t=e||{},n=t.header!=null?t.header:xMe,i=t.footer!=null?t.footer:bMe,a=[n],s=Yg(r["!ref"]);t.dense=Array.isArray(r),a.push(wMe(r,s,t));for(var o=s.s.r;o<=s.e.r;++o)a.push(yMe(r,s,o,t));return a.push("</table>"+i),a.join("")}function kX(r,e,t){var n=t||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Xi(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(r["!ref"]){var c=Yg(r["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var h=[],f=0,d=r["!rows"]||(r["!rows"]=[]),p=0,v=0,g=0,m=0,x=0,y=0;for(r["!cols"]||(r["!cols"]=[]);p<o.length&&v<l;++p){var _=o[p];if(SV(_)){if(n.display)continue;d[v]={hidden:!0}}var S=_.children;for(g=m=0;g<S.length;++g){var w=S[g];if(!(n.display&&SV(w))){var T=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):wY(w.innerHTML),A=w.getAttribute("data-z")||w.getAttribute("z");for(f=0;f<h.length;++f){var C=h[f];C.s.c==m+a&&C.s.r<v+i&&v+i<=C.e.r&&(m=C.e.c+1-a,f=-1)}y=+w.getAttribute("colspan")||1,((x=+w.getAttribute("rowspan")||1)>1||y>1)&&h.push({s:{r:v+i,c:m+a},e:{r:v+i+(x||1)-1,c:m+a+(y||1)-1}});var k={t:"s",v:T},E=w.getAttribute("data-t")||w.getAttribute("t")||"";T!=null&&(T.length==0?k.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?k={t:"b",v:!0}:T==="FALSE"?k={t:"b",v:!1}:isNaN(yo(T))?isNaN(Tg(T).getDate())||(k={t:"d",v:Wn(T)},n.cellDates||(k={t:"n",v:na(k.v)}),k.z=n.dateNF||wt[14]):k={t:"n",v:yo(T)})),k.z===void 0&&A!=null&&(k.z=A);var D="",I=w.getElementsByTagName("A");if(I&&I.length)for(var P=0;P<I.length&&!(I[P].hasAttribute("href")&&(D=I[P].getAttribute("href"),D.charAt(0)!="#"));++P);D&&D.charAt(0)!="#"&&(k.l={Target:D}),n.dense?(r[v+i]||(r[v+i]=[]),r[v+i][m+a]=k):r[yt({c:m+a,r:v+i})]=k,u.e.c<m+a&&(u.e.c=m+a),m+=y}}++v}return h.length&&(r["!merges"]=(r["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+i),r["!ref"]=Ut(u),v>=l&&(r["!fullref"]=Ut((u.e.r=o.length-p+v-1+i,u))),r}function EX(r,e){var t=e||{},n=t.dense?[]:{};return kX(n,r,e)}function TMe(r,e){return Qh(EX(r,e),e)}function SV(r){var e="",t=AMe(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function AMe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function CMe(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Xt(e.replace(/<[^>]*>/g,""));return[t]}var TV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function DX(r,e){var t=e||{},n=_O(r),i=[],a,s,o={name:""},l="",u=0,c,h,f={},d=[],p=t.dense?[]:{},v,g,m={value:""},x="",y=0,_=[],S=-1,w=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,C={},k=[],E={},D=0,I=0,P=[],F=1,V=1,z=[],G={Names:[]},O={},ee=["",""],Q=[],N={},Y="",W=0,K=!1,ne=!1,fe=0;for(P1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=P1.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"å·¥ä½è¡¨":v[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?p["!ref"]=Ut(T):p["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=T.e.r&&(p["!fullref"]=p["!ref"],T.e.r=t.sheetRows-1,p["!ref"]=Ut(T)),k.length&&(p["!merges"]=k),P.length&&(p["!rows"]=P),c.name=c.åç§°||c.name,typeof JSON<"u"&&JSON.stringify(c),d.push(c.name),f[c.name]=p,ne=!1):v[0].charAt(v[0].length-2)!=="/"&&(c=ft(v[0],!1),S=w=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,p=t.dense?[]:{},k=[],P=[],ne=!0);break;case"table-row-group":v[1]==="/"?--A:++A;break;case"table-row":case"è¡":if(v[1]==="/"){S+=F,F=1;break}if(h=ft(v[0],!1),h.è¡å·?S=h.è¡å·-1:S==-1&&(S=0),F=+h["number-rows-repeated"]||1,F<10)for(fe=0;fe<F;++fe)A>0&&(P[S+fe]={level:A});w=-1;break;case"covered-table-cell":v[1]!=="/"&&++w,t.sheetStubs&&(t.dense?(p[S]||(p[S]=[]),p[S][w]={t:"z"}):p[yt({r:S,c:w})]={t:"z"}),x="",_=[];break;case"table-cell":case"æ°æ®":if(v[0].charAt(v[0].length-2)==="/")++w,m=ft(v[0],!1),V=parseInt(m["number-columns-repeated"]||"1",10),g={t:"z",v:null},m.formula&&t.cellFormula!=!1&&(g.f=yV(Xt(m.formula))),(m.æ°æ®ç±»å||m["value-type"])=="string"&&(g.t="s",g.v=Xt(m["string-value"]||""),t.dense?(p[S]||(p[S]=[]),p[S][w]=g):p[yt({r:S,c:w})]=g),w+=V-1;else if(v[1]!=="/"){++w,x="",y=0,_=[],V=1;var ae=F?S+F-1:S;if(w>T.e.c&&(T.e.c=w),w<T.s.c&&(T.s.c=w),S<T.s.r&&(T.s.r=S),ae>T.e.r&&(T.e.r=ae),m=ft(v[0],!1),Q=[],N={},g={t:m.æ°æ®ç±»å||m["value-type"],v:null},t.cellFormula)if(m.formula&&(m.formula=Xt(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(D=parseInt(m["number-matrix-rows-spanned"],10)||0,I=parseInt(m["number-matrix-columns-spanned"],10)||0,E={s:{r:S,c:w},e:{r:S+D-1,c:w+I-1}},g.F=Ut(E),z.push([E,g.F])),m.formula)g.f=yV(m.formula);else for(fe=0;fe<z.length;++fe)S>=z[fe][0].s.r&&S<=z[fe][0].e.r&&w>=z[fe][0].s.c&&w<=z[fe][0].e.c&&(g.F=z[fe][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(D=parseInt(m["number-rows-spanned"],10)||0,I=parseInt(m["number-columns-spanned"],10)||0,E={s:{r:S,c:w},e:{r:S+D-1,c:w+I-1}},k.push(E)),m["number-columns-repeated"]&&(V=parseInt(m["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Rr(m["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(m.value);break;case"percentage":g.t="n",g.v=parseFloat(m.value);break;case"currency":g.t="n",g.v=parseFloat(m.value);break;case"date":g.t="d",g.v=Wn(m["date-value"]),t.cellDates||(g.t="n",g.v=na(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=VSe(m["time-value"])/86400,t.cellDates&&(g.t="d",g.v=k2(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(m.æ°æ®æ°å¼);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",m["string-value"]!=null&&(x=Xt(m["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(K=!1,g.t==="s"&&(g.v=x||"",_.length&&(g.R=_),K=y==0),O.Target&&(g.l=O),Q.length>0&&(g.c=Q,Q=[]),x&&t.cellText!==!1&&(g.w=x),K&&(g.t="z",delete g.v),(!K||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=S))for(var re=0;re<F;++re){if(V=parseInt(m["number-columns-repeated"]||"1",10),t.dense)for(p[S+re]||(p[S+re]=[]),p[S+re][w]=re==0?g:si(g);--V>0;)p[S+re][w+V]=si(g);else for(p[yt({r:S+re,c:w})]=g;--V>0;)p[yt({r:S+re,c:w+V})]=si(g);T.e.c<=w&&(T.e.c=w)}V=parseInt(m["number-columns-repeated"]||"1",10),w+=V-1,V=0,g={},x="",_=[]}O={};break;case"document":case"document-content":case"çµå­è¡¨æ ¼ææ¡£":case"spreadsheet":case"ä¸»ä½":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a;N.t=x,_.length&&(N.R=_),N.a=Y,Q.push(N)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);Y="",W=0,x="",y=0,_=[];break;case"creator":v[1]==="/"?Y=n.slice(W,v.index):W=v.index+v[0].length;break;case"meta":case"åæ°æ®":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);x="",y=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(C[o.name]=l,(a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=ft(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=ft(v[0],!1),l+=TV[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=ft(v[0],!1),l+=TV[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,v.index);break}else u=v.index+v[0].length;break;case"named-range":s=ft(v[0],!1),ee=TE(s["cell-range-address"]);var ie={Name:s.name,Ref:ee[0]+"!"+ee[1]};ne&&(ie.Sheet=d.length),G.Names.push(ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"çµå­è¡¨æ ¼":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"ææ¬ä¸²":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!m||!m["string-value"])){var se=CMe(n.slice(y,v.index));x=(x.length>0?x+`
`:"")+se[0]}else ft(v[0],!1),y=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ee=TE(ft(v[0])["target-range-address"]),f[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"æ é¢":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(O=ft(v[0],!1),!O.href)break;O.Target=Xt(O.href),delete O.href,O.Target.charAt(0)=="#"&&O.Target.indexOf(".")>-1?(ee=TE(O.Target.slice(1)),O.Target="#"+ee[0]+"!"+ee[1]):O.Target.match(/^\.\.[\\\/]/)&&(O.Target=O.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"è¡¨:":case"å­:":break;default:if(t.WTF)throw new Error(v)}}var U={Sheets:f,SheetNames:d,Workbook:G};return t.bookSheets&&delete U.Sheets,U}function AV(r,e){e=e||{},ls(r,"META-INF/manifest.xml")&&GTe(ln(r,"META-INF/manifest.xml"),e);var t=Ua(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=DX(xr(t),e);return ls(r,"meta.xml")&&(n.Props=GY(ln(r,"meta.xml"))),n}function CV(r,e){return DX(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function RO(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function JM(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):xr($p(r))}function QM(r){var e=r.reduce(function(i,a){return i+a.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function kV(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function kMe(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,i=e+13;i>=e;--i)n=n*256+r[i];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function N1(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Dn(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Ti(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=N1(r,t),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:s=4,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=N1(r,t),o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function OO(r,e){return(r==null?void 0:r.map(function(t){return e(t.data)}))||[]}function EMe(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=N1(r,n),a=Ti(r.slice(n[0],n[0]+i));n[0]+=i;var s={id:Dn(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Ti(o.data),u=Dn(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+u)}),n[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=Dn(a[3][0].data)>>>0>0),t.push(s)}return t}function DMe(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=N1(e,t),i=[];t[0]<e.length;){var a=e[t[0]]&3;if(a==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}i.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var l=0,u=0;if(a==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,a==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[QM(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=QM(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function MMe(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(DMe(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return QM(e)}function IMe(r,e,t,n){var i=RO(r),a=i.getUint32(4,!0),s=(n>1?12:8)+kV(a&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,c=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=kV(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(c.setTime(c.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var h;switch(r[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:c};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:t[o]};else if(l>-1)h={t:"s",v:e[l]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return h}function LMe(r,e,t){var n=RO(r),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,u=NaN,c=new Date(2001,0,1);i&1&&(l=kMe(r,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(c.setTime(c.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var h;switch(r[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:e[o]};break;case 5:h={t:"d",v:c};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(s>-1)h={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(i&31," : ").concat(r.slice(0,4)))}return h}function PMe(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return IMe(r,e,t,r[0]);case 5:return LMe(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Rh(r){var e=Ti(r);return N1(e[1][0].data)}function EV(r,e){var t=Ti(e.data),n=Dn(t[1][0].data),i=t[3],a=[];return(i||[]).forEach(function(s){var o=Ti(s.data),l=Dn(o[1][0].data)>>>0;switch(n){case 1:a[l]=JM(o[3][0].data);break;case 8:{var u=r[Rh(o[9][0].data)][0],c=Ti(u.data),h=r[Rh(c[1][0].data)][0],f=Dn(h.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var d=Ti(h.data);a[l]=d[3].map(function(p){return JM(p.data)}).join("")}break}}),a}function RMe(r,e){var t,n,i,a,s,o,l,u,c,h,f,d,p,v,g=Ti(r),m=Dn(g[1][0].data)>>>0,x=Dn(g[2][0].data)>>>0,y=((n=(t=g[8])==null?void 0:t[0])==null?void 0:n.data)&&Dn(g[8][0].data)>0||!1,_,S;if((a=(i=g[7])==null?void 0:i[0])!=null&&a.data&&e!=0)_=(o=(s=g[7])==null?void 0:s[0])==null?void 0:o.data,S=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((h=(c=g[4])==null?void 0:c[0])!=null&&h.data&&e!=1)_=(d=(f=g[4])==null?void 0:f[0])==null?void 0:d.data,S=(v=(p=g[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var w=y?4:1,T=RO(_),A=[],C=0;C<_.length/2;++C){var k=T.getUint16(C*2,!0);k<65535&&A.push([C,k])}if(A.length!=x)throw"Expected ".concat(x," cells, found ").concat(A.length);var E=[];for(C=0;C<A.length-1;++C)E[A[C][0]]=S.subarray(A[C][1]*w,A[C+1][1]*w);return A.length>=1&&(E[A[A.length-1][0]]=S.subarray(A[A.length-1][1]*w)),{R:m,cells:E}}function OMe(r,e){var t,n=Ti(e.data),i=(t=n==null?void 0:n[7])!=null&&t[0]?Dn(n[7][0].data)>>>0>0?1:0:-1,a=OO(n[5],function(s){return RMe(s,i)});return{nrows:Dn(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=l}),s},[])}}function FMe(r,e,t){var n,i=Ti(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Dn(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Dn(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Ut(a);var s=Ti(i[4][0].data),o=EV(r,r[Rh(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?EV(r,r[Rh(s[17][0].data)][0]):[],u=Ti(s[3][0].data),c=0;u[1].forEach(function(h){var f=Ti(h.data),d=r[Rh(f[2][0].data)][0],p=Dn(d.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=OMe(r,d);v.data.forEach(function(g,m){g.forEach(function(x,y){var _=yt({r:c+m,c:y}),S=PMe(x,o,l);S&&(t[_]=S)})}),c+=v.nrows})}function NMe(r,e){var t=Ti(e.data),n={"!ref":"A1"},i=r[Rh(t[2][0].data)],a=Dn(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return FMe(r,i[0],n),n}function BMe(r,e){var t,n=Ti(e.data),i={name:(t=n[1])!=null&&t[0]?JM(n[1][0].data):"",sheets:[]},a=OO(n[2],Rh);return a.forEach(function(s){r[s].forEach(function(o){var l=Dn(o.meta[1][0].data);l==6e3&&i.sheets.push(NMe(r,o))})}),i}function VMe(r,e){var t=BO(),n=Ti(e.data),i=OO(n[1],Rh);if(i.forEach(function(a){r[a].forEach(function(s){var o=Dn(s.meta[1][0].data);if(o==2){var l=BMe(r,s);l.sheets.forEach(function(u,c){VO(t,u,c==0?l.name:l.name+"_"+c,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function CE(r){var e,t,n,i,a={},s=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=MMe(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var c;try{c=EMe(u)}catch(h){return console.log("## "+(h.message||h))}c.forEach(function(h){a[h.id]=h.messages,s.push(h.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(t=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Dn(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(u){var c=Dn(u.meta[1][0].data)>>>0;if(c==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return VMe(a,o)}function zMe(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function FO(r){zMe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function HMe(r){return Hv.WS.indexOf(r)>-1?"sheet":r==Hv.CS?"chart":r==Hv.DS?"dialog":r==Hv.MS?"macro":r&&r.length?r:"sheet"}function GMe(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,HMe(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function $Me(r,e,t,n,i,a,s,o,l,u,c,h){try{a[n]=zy(Ua(r,t,!0),e);var f=ln(r,e),d;switch(o){case"sheet":d=jDe(f,e,i,l,a[n],u,c,h);break;case"chart":if(d=qDe(f,e,i,l,a[n],u,c,h),!d||!d["!drawel"])break;var p=Zm(d["!drawel"].Target,e),v=XM(p),g=KCe(Ua(r,p,!0),zy(Ua(r,v,!0),p)),m=Zm(g,p),x=XM(m);d=LDe(Ua(r,m,!0),m,l,zy(Ua(r,x,!0),m),u,d);break;case"macro":d=ZDe(f,e,i,l,a[n],u,c,h);break;case"dialog":d=JDe(f,e,i,l,a[n],u,c,h);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var y=[];a&&a[n]&&Al(a[n]).forEach(function(_){var S="";if(a[n][_].Type==Hv.CMNT){S=Zm(a[n][_].Target,e);var w=rMe(ln(r,S,!0),S,l);if(!w||!w.length)return;dV(d,w,!1)}a[n][_].Type==Hv.TCMNT&&(S=Zm(a[n][_].Target,e),y=y.concat(qCe(ln(r,S,!0),l)))}),y&&y.length&&dV(d,y,!0,l.people||[])}catch(_){if(l.WTF)throw _}}function rs(r){return r.charAt(0)=="/"?r.slice(1):r}function UMe(r,e){if(dY(),e=e||{},FO(e),ls(r,"META-INF/manifest.xml")||ls(r,"objectdata.xml"))return AV(r,e);if(ls(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof CE<"u"){if(r.FileIndex)return CE(r);var t=$t.utils.cfb_new();return z8(r).forEach(function(P){WSe(t,P,USe(r,P))}),CE(t)}throw new Error("Unsupported NUMBERS file")}if(!ls(r,"[Content_Types].xml"))throw ls(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ls(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=z8(r),i=zTe(Ua(r,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",ln(r,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!ln(r,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if($y=[],i.sst)try{$y=tMe(ln(r,rs(i.sst)),i.sst,e)}catch(P){if(e.WTF)throw P}e.cellStyles&&i.themes.length&&(l=eMe(Ua(r,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=QDe(ln(r,rs(i.style)),i.style,l,e))}i.links.map(function(P){try{var F=zy(Ua(r,XM(rs(P))),P);return iMe(ln(r,rs(P)),F,P,e)}catch{}});var c=KDe(ln(r,rs(i.workbooks[0])),i.workbooks[0],e),h={},f="";i.coreprops.length&&(f=ln(r,rs(i.coreprops[0]),!0),f&&(h=GY(f)),i.extprops.length!==0&&(f=ln(r,rs(i.extprops[0]),!0),f&&WTe(f,h,e)));var d={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(f=Ua(r,rs(i.custprops[0]),!0),f&&(d=XTe(f,e)));var p={};if((e.bookSheets||e.bookProps)&&(c.Sheets?s=c.Sheets.map(function(F){return F.name}):h.Worksheets&&h.SheetNames.length>0&&(s=h.SheetNames),e.bookProps&&(p.Props=h,p.Custprops=d),e.bookSheets&&typeof s<"u"&&(p.SheetNames=s),e.bookSheets?p.SheetNames:e.bookProps))return p;s={};var v={};e.bookDeps&&i.calcchain&&(v=nMe(ln(r,rs(i.calcchain)),i.calcchain));var g=0,m={},x,y;{var _=c.Sheets;h.Worksheets=_.length,h.SheetNames=[];for(var S=0;S!=_.length;++S)h.SheetNames[S]=_[S].name}var w=a?"bin":"xml",T=i.workbooks[0].lastIndexOf("/"),A=(i.workbooks[0].slice(0,T+1)+"_rels/"+i.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");ls(r,A)||(A="xl/_rels/workbook."+w+".rels");var C=zy(Ua(r,A,!0),A.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=aMe(ln(r,rs(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=ZCe(ln(r,rs(i.people[0])),e)),C&&(C=GMe(C,c.Sheets));var k=ln(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=h.Worksheets;++g){var E="sheet";if(C&&C[g]?(x="xl/"+C[g][1].replace(/[\/]?xl\//,""),ls(r,x)||(x=C[g][1]),ls(r,x)||(x=A.replace(/_rels\/.*$/,"")+C[g][1]),E=C[g][2]):(x="xl/worksheets/sheet"+(g+1-k)+"."+w,x=x.replace(/sheet0\./,"sheet.")),y=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(g!=e.sheets)continue e;break;case"string":if(h.SheetNames[g].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var D=!1,I=0;I!=e.sheets.length;++I)typeof e.sheets[I]=="number"&&e.sheets[I]==g&&(D=1),typeof e.sheets[I]=="string"&&e.sheets[I].toLowerCase()==h.SheetNames[g].toLowerCase()&&(D=1);if(!D)continue e}}$Me(r,x,y,h.SheetNames[g],g,m,s,E,e,c,l,u)}return p={Directory:i,Workbook:c,Props:h,Custprops:d,Deps:v,Sheets:s,SheetNames:h.SheetNames,Strings:$y,Styles:u,Themes:l,SSF:si(wt)},e&&e.bookFiles&&(r.files?(p.keys=n,p.files=r.files):(p.keys=[],p.files={},r.FullPaths.forEach(function(P,F){P=P.replace(/^Root Entry[\/]/,""),p.keys.push(P),p.files[P]=r.FileIndex[F]}))),e&&e.bookVBA&&(i.vba.length>0?p.vbaraw=ln(r,rs(i.vba[0]),!0):i.defaults&&i.defaults.bin===tke&&(p.vbaraw=ln(r,"xl/vbaProject.bin",!0))),p}function WMe(r,e){var t=e||{},n="Workbook",i=$t.find(r,n);try{if(n="/!DataSpaces/Version",i=$t.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(N2e(i.content),n="/!DataSpaces/DataSpaceMap",i=$t.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=V2e(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=$t.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=z2e(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=$t.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);G2e(i.content)}catch{}if(n="/EncryptionInfo",i=$t.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=$2e(i.content);if(n="/EncryptedPackage",i=$t.find(r,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function NO(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=qa(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function YMe(r,e){return $t.find(r,"EncryptedPackage")?WMe(r,e):CX(r,e)}function XMe(r,e){var t,n=r,i=e||{};return i.type||(i.type=Ht&&Buffer.isBuffer(r)?"buffer":"base64"),t=xY(n,i),UMe(t,i)}function MX(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return qM(r.slice(t),e);default:break e}return R1.to_workbook(r,e)}function KMe(r,e){var t="",n=NO(r,e);switch(e.type){case"base64":t=qa(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=kp(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=xr(t)),e.type="binary",MX(t,e)}function jMe(r,e){var t=r;return e.type=="base64"&&(t=qa(t)),t=UM.utils.decode(1200,t.slice(2),"str"),e.type="binary",MX(t,e)}function qMe(r){return r.match(/[^\x00-\x7F]/)?Jm(r):r}function kE(r,e,t,n){return n?(t.type="string",R1.to_workbook(r,t)):R1.to_workbook(e,t)}function eI(r,e){tY();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return eI(new Uint8Array(r),(t=si(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,i=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),r0={},t.dateNF&&(r0.dateNF=t.dateNF),t.type||(t.type=Ht&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=Ht?"buffer":"binary",n=NSe(r),typeof Uint8Array<"u"&&!Ht&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,n=qMe(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return t=si(t),t.type="array",eI(vO(n),t)}switch((i=NO(n,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return YMe($t.read(n,t),t);break;case 9:if(i[1]<=8)return CX(n,t);break;case 60:return qM(n,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return T2e(n,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return w2e.to_workbook(n,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?XMe(n,t):kE(r,n,t,a);case 239:return i[3]===60?qM(n,t):kE(r,n,t,a);case 255:if(i[1]===254)return jMe(n,t);if(i[1]===0&&i[2]===2&&i[3]===0)return Gy.to_workbook(n,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Gy.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return fV.to_workbook(n,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return tCe.to_workbook(n,t);break;case 10:case 13:case 32:return KMe(n,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return b2e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?fV.to_workbook(n,t):kE(r,n,t,a)}function ZMe(r,e,t,n,i,a,s,o){var l=oi(t),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,f=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:t,enumerable:!1})}catch{f.__rowNum__=t}else f.__rowNum__=t;if(!s||r[t])for(var d=e.s.c;d<=e.e.c;++d){var p=s?r[t][d]:r[n[d]+l];if(p===void 0||p.t===void 0){if(u===void 0)continue;a[d]!=null&&(f[a[d]]=u);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(a[d]!=null){if(v==null)if(p.t=="e"&&v===null)f[a[d]]=null;else if(u!==void 0)f[a[d]]=u;else if(c&&v===null)f[a[d]]=null;else continue;else f[a[d]]=c&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?v:rc(p,v,o);v!=null&&(h=!1)}}return{row:f,isempty:h}}function tI(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:r["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Yr(c);break;case"number":l=Yr(r["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var h=oi(l.s.r),f=[],d=[],p=0,v=0,g=Array.isArray(r),m=l.s.r,x=0,y={};g&&!r[m]&&(r[m]=[]);var _=u.skipHidden&&r["!cols"]||[],S=u.skipHidden&&r["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(_[x]||{}).hidden)switch(f[x]=Cn(x),t=g?r[m][x]:r[f[x]+h],n){case 1:a[x]=x-l.s.c;break;case 2:a[x]=f[x];break;case 3:a[x]=u.header[x-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=rc(t,null,u),v=y[s]||0,!v)y[s]=1;else{do o=s+"_"+v++;while(y[o]);y[s]=v,y[o]=1}a[x]=o}for(m=l.s.r+i;m<=l.e.r;++m)if(!(S[m]||{}).hidden){var w=ZMe(r,l,m,f,n,a,g,u);(w.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(d[p++]=w.row)}return d.length=p,d}var DV=/"/g;function JMe(r,e,t,n,i,a,s,o){for(var l=!0,u=[],c="",h=oi(t),f=e.s.c;f<=e.e.c;++f)if(n[f]){var d=o.dense?(r[t]||[])[f]:r[n[f]+h];if(d==null)c="";else if(d.v!=null){l=!1,c=""+(o.rawNumbers&&d.t=="n"?d.v:rc(d,null,o));for(var p=0,v=0;p!==c.length;++p)if((v=c.charCodeAt(p))===i||v===a||v===34||o.forceQuotes){c='"'+c.replace(DV,'""')+'"';break}c=="ID"&&(c='"ID"')}else d.f!=null&&!d.F?(l=!1,c="="+d.f,c.indexOf(",")>=0&&(c='"'+c.replace(DV,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(s)}function IX(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Yr(r["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),c="",h=[];n.dense=Array.isArray(r);for(var f=n.skipHidden&&r["!cols"]||[],d=n.skipHidden&&r["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(f[p]||{}).hidden||(h[p]=Cn(p));for(var v=0,g=i.s.r;g<=i.e.r;++g)(d[g]||{}).hidden||(c=JMe(r,i,g,h,s,l,a,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&t.push((v++?o:"")+c)));return delete n.dense,t.join("")}function QMe(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=IX(r,e);return t}function eIe(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Yr(r["!ref"]),a="",s=[],o,l=[],u=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)s[o]=Cn(o);for(var c=i.s.r;c<=i.e.r;++c)for(a=oi(c),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,t=u?(r[c]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function LX(r,e,t){var n=t||{},i=+!n.skipHeader,a=r||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Xi(n.origin):n.origin;s=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var h=Yr(a["!ref"]);c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),s==-1&&(s=h.e.r+1,c.e.r=s+e.length-1+i)}else s==-1&&(s=0,c.e.r=e.length-1+i);var f=n.header||[],d=0;e.forEach(function(v,g){Al(v).forEach(function(m){(d=f.indexOf(m))==-1&&(f[d=f.length]=m);var x=v[m],y="z",_="",S=yt({c:o+d,r:s+g+i});u=B1(a,S),x&&typeof x=="object"&&!(x instanceof Date)?a[S]=x:(typeof x=="number"?y="n":typeof x=="boolean"?y="b":typeof x=="string"?y="s":x instanceof Date?(y="d",n.cellDates||(y="n",x=na(x)),_=n.dateNF||wt[14]):x===null&&n.nullError&&(y="e",x=0),u?(u.t=y,u.v=x,delete u.w,delete u.R,_&&(u.z=_)):a[S]=u={t:y,v:x},_&&(u.z=_))})}),c.e.c=Math.max(c.e.c,o+f.length-1);var p=oi(s);if(i)for(d=0;d<f.length;++d)a[Cn(d+o)+p]={t:"s",v:f[d]};return a["!ref"]=Ut(c),a}function tIe(r,e){return LX(null,r,e)}function B1(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Xi(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?B1(r,yt(e)):B1(r,yt({r:e,c:t||0}))}function rIe(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function BO(){return{SheetNames:[],Sheets:{}}}function VO(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=s+i)!=-1;++i);}if(zDe(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function nIe(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=rIe(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function iIe(r,e){return r.z=e,r}function PX(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function aIe(r,e,t){return PX(r,"#"+e,t)}function sIe(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function oIe(r,e,t,n){for(var i=typeof e!="string"?e:Yr(e),a=typeof e=="string"?e:Ut(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=B1(r,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=t,n&&(l.D=!0))}return r}var lIe={encode_col:Cn,encode_row:oi,encode_cell:yt,encode_range:Ut,decode_col:TO,decode_row:SO,split_cell:xTe,decode_cell:Xi,decode_range:Yg,format_cell:rc,sheet_add_aoa:NY,sheet_add_json:LX,sheet_add_dom:kX,aoa_to_sheet:Xg,json_to_sheet:tIe,table_to_sheet:EX,table_to_book:TMe,sheet_to_csv:IX,sheet_to_txt:QMe,sheet_to_json:tI,sheet_to_html:SMe,sheet_to_formulae:eIe,sheet_to_row_object_array:tI,sheet_get_cell:B1,book_new:BO,book_append_sheet:VO,book_set_sheet_visibility:nIe,cell_set_number_format:iIe,cell_set_hyperlink:PX,cell_set_internal_link:aIe,cell_add_comment:sIe,sheet_set_array_formula:oIe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},uIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cIe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var RX={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,e){((t,n)=>{r.exports=n()})(uIe,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,u={};function c(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var k=S(C);k.chunkSize=parseInt(k.chunkSize),C.step||C.chunk||(k.chunkSize=null),this._handle=new v(k),(this._handle.streamer=this)._config=k}).call(this,A),this.parseChunk=function(C,k){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let I=this._config.newline;I||(D=this._config.quoteChar||'"',I=this._handle.guessLineEndings(C,D)),C=[...C.split(I).slice(E)].join(I)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(C))!==void 0&&(C=D),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+C,D=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=D.meta.cursor,E=(this._finished||(this._partialLine=E.substring(C-this._baseIndex),this._baseIndex=C),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:D,workerId:u.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!k){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!E||!T(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(C){T(this._config.error)?this._config.error(C):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:C,finished:!1})}}function h(A){var C;(A=A||{}).chunkSize||(A.chunkSize=u.RemoteChunkSize),c.call(this,A),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=w(this._chunkLoaded,this),C.onerror=w(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var k,E=this._config.downloadRequestHeaders;for(k in E)C.setRequestHeader(k,E[k])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+D));try{C.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(k=>(k=k.getResponseHeader("Content-Range"))!==null?parseInt(k.substring(k.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(k){k=C.statusText||k,this._sendError(new Error(k))}}function f(A){(A=A||{}).chunkSize||(A.chunkSize=u.LocalChunkSize),c.call(this,A);var C,k,E=typeof FileReader<"u";this.stream=function(D){this._input=D,k=D.slice||D.webkitSlice||D.mozSlice,E?((C=new FileReader).onload=w(this._chunkLoaded,this),C.onerror=w(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,I=(this._config.chunkSize&&(I=Math.min(this._start+this._config.chunkSize,this._input.size),D=k.call(D,this._start,I)),C.readAsText(D,this._config.encoding));E||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(C.error)}}function d(A){var C;c.call(this,A=A||{}),this.stream=function(k){return C=k,this._nextChunk()},this._nextChunk=function(){var k,E;if(!this._finished)return k=this._config.chunkSize,C=k?(E=C.substring(0,k),C.substring(k)):(E=C,""),this._finished=!C,this.parseChunk(E)}}function p(A){c.call(this,A=A||{});var C=[],k=!0,E=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):k=!0},this._streamData=w(function(D){try{C.push(typeof D=="string"?D:D.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(I){this._streamError(I)}},this),this._streamError=w(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=w(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(A){var C,k,E,D,I=Math.pow(2,53),P=-I,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,G=0,O=0,ee=!1,Q=!1,N=[],Y={data:[],errors:[],meta:{}};function W(ae){return A.skipEmptyLines==="greedy"?ae.join("").trim()==="":ae.length===1&&ae[0].length===0}function K(){if(Y&&E&&(fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),E=!1),A.skipEmptyLines&&(Y.data=Y.data.filter(function(se){return!W(se)})),ne()){let se=function(U,Oe){T(A.transformHeader)&&(U=A.transformHeader(U,Oe)),N.push(U)};if(Y)if(Array.isArray(Y.data[0])){for(var ae=0;ne()&&ae<Y.data.length;ae++)Y.data[ae].forEach(se);Y.data.splice(0,1)}else Y.data.forEach(se)}function re(se,U){for(var Oe=A.header?{}:[],Se=0;Se<se.length;Se++){var Ie=Se,we=se[Se],we=((be,Fe)=>(st=>(A.dynamicTypingFunction&&A.dynamicTyping[st]===void 0&&(A.dynamicTyping[st]=A.dynamicTypingFunction(st)),(A.dynamicTyping[st]||A.dynamicTyping)===!0))(be)?Fe==="true"||Fe==="TRUE"||Fe!=="false"&&Fe!=="FALSE"&&((st=>{if(F.test(st)&&(st=parseFloat(st),P<st&&st<I))return 1})(Fe)?parseFloat(Fe):V.test(Fe)?new Date(Fe):Fe===""?null:Fe):Fe)(Ie=A.header?Se>=N.length?"__parsed_extra":N[Se]:Ie,we=A.transform?A.transform(we,Ie):we);Ie==="__parsed_extra"?(Oe[Ie]=Oe[Ie]||[],Oe[Ie].push(we)):Oe[Ie]=we}return A.header&&(Se>N.length?fe("FieldMismatch","TooManyFields","Too many fields: expected "+N.length+" fields but parsed "+Se,O+U):Se<N.length&&fe("FieldMismatch","TooFewFields","Too few fields: expected "+N.length+" fields but parsed "+Se,O+U)),Oe}var ie;Y&&(A.header||A.dynamicTyping||A.transform)&&(ie=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(re),ie=Y.data.length):Y.data=re(Y.data,0),A.header&&Y.meta&&(Y.meta.fields=N),O+=ie)}function ne(){return A.header&&N.length===0}function fe(ae,re,ie,se){ae={type:ae,code:re,message:ie},se!==void 0&&(ae.row=se),Y.errors.push(ae)}T(A.step)&&(D=A.step,A.step=function(ae){Y=ae,ne()?K():(K(),Y.data.length!==0&&(G+=ae.data.length,A.preview&&G>A.preview?k.abort():(Y.data=Y.data[0],D(Y,z))))}),this.parse=function(ae,re,ie){var se=A.quoteChar||'"',se=(A.newline||(A.newline=this.guessLineEndings(ae,se)),E=!1,A.delimiter?T(A.delimiter)&&(A.delimiter=A.delimiter(ae),Y.meta.delimiter=A.delimiter):((se=((U,Oe,Se,Ie,we)=>{var be,Fe,st,pr;we=we||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var _r=0;_r<we.length;_r++){for(var gn,Ln=we[_r],rr=0,rn=0,vr=0,nn=(st=void 0,new m({comments:Ie,delimiter:Ln,newline:Oe,preview:10}).parse(U)),wr=0;wr<nn.data.length;wr++)Se&&W(nn.data[wr])?vr++:(gn=nn.data[wr].length,rn+=gn,st===void 0?st=gn:0<gn&&(rr+=Math.abs(gn-st),st=gn));0<nn.data.length&&(rn/=nn.data.length-vr),(Fe===void 0||rr<=Fe)&&(pr===void 0||pr<rn)&&1.99<rn&&(Fe=rr,be=Ln,pr=rn)}return{successful:!!(A.delimiter=be),bestDelimiter:be}})(ae,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=se.bestDelimiter:(E=!0,A.delimiter=u.DefaultDelimiter),Y.meta.delimiter=A.delimiter),S(A));return A.preview&&A.header&&se.preview++,C=ae,k=new m(se),Y=k.parse(C,re,ie),K(),ee?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,k.abort(),C=T(A.chunk)?"":C.substring(k.getCharIndex())},this.resume=function(){z.streamer._halted?(ee=!1,z.streamer.parseChunk(C,!0)):setTimeout(z.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,k.abort(),Y.meta.aborted=!0,T(A.complete)&&A.complete(Y),C=""},this.guessLineEndings=function(U,se){U=U.substring(0,1048576);var se=new RegExp(g(se)+"([^]*?)"+g(se),"gm"),ie=(U=U.replace(se,"")).split("\r"),se=U.split(`
`),U=1<se.length&&se[0].length<ie[0].length;if(ie.length===1||U)return`
`;for(var Oe=0,Se=0;Se<ie.length;Se++)ie[Se][0]===`
`&&Oe++;return Oe>=ie.length/2?`\r
`:"\r"}}function g(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(A){var C=(A=A||{}).delimiter,k=A.newline,E=A.comments,D=A.step,I=A.preview,P=A.fastMode,F=null,V=!1,z=A.quoteChar==null?'"':A.quoteChar,G=z;if(A.escapeChar!==void 0&&(G=A.escapeChar),(typeof C!="string"||-1<u.BAD_DELIMITERS.indexOf(C))&&(C=","),E===C)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<u.BAD_DELIMITERS.indexOf(E))&&(E=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var O=0,ee=!1;this.parse=function(Q,N,Y){if(typeof Q!="string")throw new Error("Input must be a string");var W=Q.length,K=C.length,ne=k.length,fe=E.length,ae=T(D),re=[],ie=[],se=[],U=O=0;if(!Q)return rr();if(P||P!==!1&&Q.indexOf(z)===-1){for(var Oe=Q.split(k),Se=0;Se<Oe.length;Se++){if(se=Oe[Se],O+=se.length,Se!==Oe.length-1)O+=k.length;else if(Y)return rr();if(!E||se.substring(0,fe)!==E){if(ae){if(re=[],pr(se.split(C)),rn(),ee)return rr()}else pr(se.split(C));if(I&&I<=Se)return re=re.slice(0,I),rr(!0)}}return rr()}for(var Ie=Q.indexOf(C,O),we=Q.indexOf(k,O),be=new RegExp(g(G)+g(z),"g"),Fe=Q.indexOf(z,O);;)if(Q[O]===z)for(Fe=O,O++;;){if((Fe=Q.indexOf(z,Fe+1))===-1)return Y||ie.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:O}),gn();if(Fe===W-1)return gn(Q.substring(O,Fe).replace(be,z));if(z===G&&Q[Fe+1]===G)Fe++;else if(z===G||Fe===0||Q[Fe-1]!==G){Ie!==-1&&Ie<Fe+1&&(Ie=Q.indexOf(C,Fe+1));var st=_r((we=we!==-1&&we<Fe+1?Q.indexOf(k,Fe+1):we)===-1?Ie:Math.min(Ie,we));if(Q.substr(Fe+1+st,K)===C){se.push(Q.substring(O,Fe).replace(be,z)),Q[O=Fe+1+st+K]!==z&&(Fe=Q.indexOf(z,O)),Ie=Q.indexOf(C,O),we=Q.indexOf(k,O);break}if(st=_r(we),Q.substring(Fe+1+st,Fe+1+st+ne)===k){if(se.push(Q.substring(O,Fe).replace(be,z)),Ln(Fe+1+st+ne),Ie=Q.indexOf(C,O),Fe=Q.indexOf(z,O),ae&&(rn(),ee))return rr();if(I&&re.length>=I)return rr(!0);break}ie.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:O}),Fe++}}else if(E&&se.length===0&&Q.substring(O,O+fe)===E){if(we===-1)return rr();O=we+ne,we=Q.indexOf(k,O),Ie=Q.indexOf(C,O)}else if(Ie!==-1&&(Ie<we||we===-1))se.push(Q.substring(O,Ie)),O=Ie+K,Ie=Q.indexOf(C,O);else{if(we===-1)break;if(se.push(Q.substring(O,we)),Ln(we+ne),ae&&(rn(),ee))return rr();if(I&&re.length>=I)return rr(!0)}return gn();function pr(vr){re.push(vr),U=O}function _r(vr){var nn=0;return nn=vr!==-1&&(vr=Q.substring(Fe+1,vr))&&vr.trim()===""?vr.length:nn}function gn(vr){return Y||(vr===void 0&&(vr=Q.substring(O)),se.push(vr),O=W,pr(se),ae&&rn()),rr()}function Ln(vr){O=vr,pr(se),se=[],we=Q.indexOf(k,O)}function rr(vr){if(A.header&&!N&&re.length&&!V){var nn=re[0],wr=Object.create(null),sa=new Set(nn);let Ct=!1;for(let ur=0;ur<nn.length;ur++){let Or=nn[ur];if(wr[Or=T(A.transformHeader)?A.transformHeader(Or,ur):Or]){let Sr,ko=wr[Or];for(;Sr=Or+"_"+ko,ko++,sa.has(Sr););sa.add(Sr),nn[ur]=Sr,wr[Or]++,Ct=!0,(F=F===null?{}:F)[Sr]=Or}else wr[Or]=1,nn[ur]=Or;sa.add(Or)}Ct&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:re,errors:ie,meta:{delimiter:C,linebreak:k,aborted:ee,truncated:!!vr,cursor:U+(N||0),renamedHeaders:F}}}function rn(){D(rr()),re=[],ie=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return O}}function x(A){var C=A.data,k=o[C.workerId],E=!1;if(C.error)k.userError(C.error,C.file);else if(C.results&&C.results.data){var D={abort:function(){E=!0,y(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(T(k.userStep)){for(var I=0;I<C.results.data.length&&(k.userStep({data:C.results.data[I],errors:C.results.errors,meta:C.results.meta},D),!E);I++);delete C.results}else T(k.userChunk)&&(k.userChunk(C.results,D,C.file),delete C.results)}C.finished&&!E&&y(C.workerId,C.results)}function y(A,C){var k=o[A];T(k.userComplete)&&k.userComplete(C),k.terminate(),delete o[A]}function _(){throw new Error("Not implemented.")}function S(A){if(typeof A!="object"||A===null)return A;var C,k=Array.isArray(A)?[]:{};for(C in A)k[C]=S(A[C]);return k}function w(A,C){return function(){A.apply(C,arguments)}}function T(A){return typeof A=="function"}return u.parse=function(A,C){var k=(C=C||{}).dynamicTyping||!1;if(T(k)&&(C.dynamicTypingFunction=k,k={}),C.dynamicTyping=k,C.transform=!!T(C.transform)&&C.transform,!C.worker||!u.WORKERS_SUPPORTED)return k=null,u.NODE_STREAM_INPUT,typeof A=="string"?(A=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(A),k=new(C.download?h:d)(C)):A.readable===!0&&T(A.read)&&T(A.on)?k=new p(C):(n.File&&A instanceof File||A instanceof Object)&&(k=new f(C)),k.stream(A);(k=(()=>{var E;return!!u.WORKERS_SUPPORTED&&(E=(()=>{var D=n.URL||n.webkitURL||null,I=t.toString();return u.BLOB_URL||(u.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=x,E.id=l++,o[E.id]=E)})()).userStep=C.step,k.userChunk=C.chunk,k.userComplete=C.complete,k.userError=C.error,C.step=T(C.step),C.chunk=T(C.chunk),C.complete=T(C.complete),C.error=T(C.error),delete C.worker,k.postMessage({input:A,config:C,workerId:k.id})},u.unparse=function(A,C){var k=!1,E=!0,D=",",I=`\r
`,P='"',F=P+P,V=!1,z=null,G=!1,O=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||u.BAD_DELIMITERS.filter(function(N){return C.delimiter.indexOf(N)!==-1}).length||(D=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(k=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(V=C.skipEmptyLines),typeof C.newline=="string"&&(I=C.newline),typeof C.quoteChar=="string"&&(P=C.quoteChar),typeof C.header=="boolean"&&(E=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");z=C.columns}C.escapeChar!==void 0&&(F=C.escapeChar+P),C.escapeFormulae instanceof RegExp?G=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(P),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ee(null,A,V);if(typeof A[0]=="object")return ee(z||Object.keys(A[0]),A,V)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||z),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ee(A.fields||[],A.data||[],V);throw new Error("Unable to serialize unrecognized input");function ee(N,Y,W){var K="",ne=(typeof N=="string"&&(N=JSON.parse(N)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(N)&&0<N.length),fe=!Array.isArray(Y[0]);if(ne&&E){for(var ae=0;ae<N.length;ae++)0<ae&&(K+=D),K+=Q(N[ae],ae);0<Y.length&&(K+=I)}for(var re=0;re<Y.length;re++){var ie=(ne?N:Y[re]).length,se=!1,U=ne?Object.keys(Y[re]).length===0:Y[re].length===0;if(W&&!ne&&(se=W==="greedy"?Y[re].join("").trim()==="":Y[re].length===1&&Y[re][0].length===0),W==="greedy"&&ne){for(var Oe=[],Se=0;Se<ie;Se++){var Ie=fe?N[Se]:Se;Oe.push(Y[re][Ie])}se=Oe.join("").trim()===""}if(!se){for(var we=0;we<ie;we++){0<we&&!U&&(K+=D);var be=ne&&fe?N[we]:we;K+=Q(Y[re][be],we)}re<Y.length-1&&(!W||0<ie&&!U)&&(K+=I)}}return K}function Q(N,Y){var W,K;return N==null?"":N.constructor===Date?JSON.stringify(N).slice(1,25):(K=!1,G&&typeof N=="string"&&G.test(N)&&(N="'"+N,K=!0),W=N.toString().replace(O,F),(K=K||k===!0||typeof k=="function"&&k(N,Y)||Array.isArray(k)&&k[Y]||((ne,fe)=>{for(var ae=0;ae<fe.length;ae++)if(-1<ne.indexOf(fe[ae]))return!0;return!1})(W,u.BAD_DELIMITERS)||-1<W.indexOf(D)||W.charAt(0)===" "||W.charAt(W.length-1)===" ")?P+W+P:W)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=m,u.ParserHandle=v,u.NetworkStreamer=h,u.FileStreamer=f,u.StringStreamer=d,u.ReadableStreamStreamer=p,n.jQuery&&((i=n.jQuery).fn.parse=function(A){var C=A.config||{},k=[];return this.each(function(I){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)k.push({file:this.files[P],inputElem:this,instanceConfig:i.extend({},C)})}),E(),this;function E(){if(k.length===0)T(A.complete)&&A.complete();else{var I,P,F,V,z=k[0];if(T(A.before)){var G=A.before(z.file,z.inputElem);if(typeof G=="object"){if(G.action==="abort")return I="AbortError",P=z.file,F=z.inputElem,V=G.reason,void(T(A.error)&&A.error({name:I},P,F,V));if(G.action==="skip")return void D();typeof G.config=="object"&&(z.instanceConfig=i.extend(z.instanceConfig,G.config))}else if(G==="skip")return void D()}var O=z.instanceConfig.complete;z.instanceConfig.complete=function(ee){T(O)&&O(ee,z.file,z.inputElem),D()},u.parse(z.file,z.instanceConfig)}}function D(){k.splice(0,1),E()}}),s&&(n.onmessage=function(A){A=A.data,u.WORKER_ID===void 0&&A&&(u.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=u.parse(A.input,A.config))&&n.postMessage({workerId:u.WORKER_ID,results:A,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(c.prototype)).constructor=f,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(c.prototype)).constructor=p,u})})(RX);var hIe=RX.exports;const fIe=cIe(hIe),dIe=()=>{const r=async s=>{const o=await s.arrayBuffer(),l=eI(o,{type:"array"}),u=l.SheetNames[0],c=l.Sheets[u];return lIe.sheet_to_json(c,{defval:""})},e=async s=>new Promise((o,l)=>{fIe.parse(s,{header:!0,skipEmptyLines:!0,complete:u=>o(u.data),error:u=>l(u)})}),t=async s=>{var c;const o=((c=s.name.split(".").pop())==null?void 0:c.toLowerCase())||"";let l=[];if(o==="csv")l=await e(s);else if(o==="xls"||o==="xlsx")l=await r(s);else throw new Error(`Unsupported file extension: ${o}`);const u=a(l);return{rows:l,ext:o,markdown:u}},n=(s,o="file.xlsx")=>{var d;const l=s.split(","),u=((d=l[0].match(/:(.*?);/))==null?void 0:d[1])||"",c=atob(l[1]);let h=c.length;const f=new Uint8Array(h);for(;h--;)f[h]=c.charCodeAt(h);return new File([f],o,{type:u})},i=async(s,o="file.xlsx")=>{const l=n(s,o);return await t(l)},a=s=>{if(!s.length)return"";const o=Object.keys(s[0]),l=`| ${o.join(" | ")} |`,u=`| ${o.map(()=>"---").join(" | ")} |`,c=s.map(h=>`| ${o.map(f=>`${String(h[f]??"")}`).join(" | ")} |`);return[l,u,...c].join(`
`)};return{parseCsv:e,parseExcel:r,detectAndParse:t,parseBase64:i,toMarkdownTable:a}},zi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),rI=[.001,0,0,.001,0,0],EE=1.35,Va={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},kc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},OX="pdfjs_internal_editor_",mt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},Vt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},pIe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},gi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},iS={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},on={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ev={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},I2={ERRORS:0,WARNINGS:1,INFOS:5},qT={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},_w={moveTo:0,lineTo:1,curveTo:2,closePath:3},vIe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let L2=I2.WARNINGS;function gIe(r){Number.isInteger(r)&&(L2=r)}function mIe(){return L2}function P2(r){L2>=I2.INFOS&&console.log(`Info: ${r}`)}function xt(r){L2>=I2.WARNINGS&&console.log(`Warning: ${r}`)}function fr(r){throw new Error(r)}function hn(r,e){r||fr(e)}function yIe(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function FX(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=SIe(r)}catch{}}const n=e?URL.parse(r,e):URL.parse(r);return yIe(n)?n:null}function NX(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&FX(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Pt(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Kp=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class MV extends Kp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class DE extends Kp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class nI extends Kp{constructor(e){super(e,"InvalidPDFException")}}class ZT extends Kp{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class xIe extends Kp{constructor(e){super(e,"FormatError")}}class Yh extends Kp{constructor(e){super(e,"AbortException")}}function BX(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&fr("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const a=Math.min(i+t,e),s=r.subarray(i,a);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function Qb(r){typeof r!="string"&&fr("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function bIe(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function _Ie(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function wIe(){try{return new Function(""),!0}catch{return!1}}class li{static get isLittleEndian(){return Pt(this,"isLittleEndian",_Ie())}static get isEvalSupported(){return Pt(this,"isEvalSupported",wIe())}static get isOffscreenCanvasSupported(){return Pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Pt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Pt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Pt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const ME=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Wu,aS,iI;class et{static makeHexColor(e,t,n){return`#${ME[e]}${ME[t]}${ME[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const i=e[n],a=e[n+1];e[n]=i*t[0]+a*t[2]+t[4],e[n+1]=i*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],a=t[1],s=t[2],o=t[3],l=t[4],u=t[5];for(let c=0;c<6;c+=2){const h=e[n+c],f=e[n+c+1];e[n+c]=h*i+f*s+l,e[n+c+1]=h*a+f*o+u}}static applyInverseTransform(e,t){const n=e[0],i=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,n){const i=t[0],a=t[1],s=t[2],o=t[3],l=t[4],u=t[5],c=e[0],h=e[1],f=e[2],d=e[3];let p=i*c+l,v=p,g=i*f+l,m=g,x=o*h+u,y=x,_=o*d+u,S=_;if(a!==0||s!==0){const w=a*c,T=a*f,A=s*h,C=s*d;p+=A,m+=A,g+=C,v+=C,x+=w,S+=w,_+=T,y+=T}n[0]=Math.min(n[0],p,g,v,m),n[1]=Math.min(n[1],x,_,y,S),n[2]=Math.max(n[2],p,g,v,m),n[3]=Math.max(n[3],x,_,y,S)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],a=e[2],s=e[3],o=n**2+i**2,l=n*a+i*s,u=a**2+s**2,c=(o+u)/2,h=Math.sqrt(c**2-(o*u-l**2));t[0]=Math.sqrt(c+h||1),t[1]=Math.sqrt(c-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>s?null:[n,a,i,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,a){a[0]=Math.min(a[0],e,n),a[1]=Math.min(a[1],t,i),a[2]=Math.max(a[2],e,n),a[3]=Math.max(a[3],t,i)}static bezierBoundingBox(e,t,n,i,a,s,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),B(this,Wu,iI).call(this,e,n,a,o,t,i,s,l,3*(-e+3*(n-a)+o),6*(e-2*n+a),3*(n-e),u),B(this,Wu,iI).call(this,e,n,a,o,t,i,s,l,3*(-t+3*(i-s)+l),6*(t-2*i+s),3*(i-t),u)}}Wu=new WeakSet,aS=function(e,t,n,i,a,s,o,l,u,c){if(u<=0||u>=1)return;const h=1-u,f=u*u,d=f*u,p=h*(h*(h*e+3*u*t)+3*f*n)+d*i,v=h*(h*(h*a+3*u*s)+3*f*o)+d*l;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],v),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],v)},iI=function(e,t,n,i,a,s,o,l,u,c,h,f){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&B(this,Wu,aS).call(this,e,t,n,i,a,s,o,l,-h/c,f);return}const d=c**2-4*h*u;if(d<0)return;const p=Math.sqrt(d),v=2*u;B(this,Wu,aS).call(this,e,t,n,i,a,s,o,l,(-c+p)/v,f),B(this,Wu,aS).call(this,e,t,n,i,a,s,o,l,(-c-p)/v,f)},R(et,Wu);function SIe(r){return decodeURIComponent(escape(r))}let IE=null,IV=null;function TIe(r){return IE||(IE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,IV=new Map([["ï¬","Å¿t"]])),r.replaceAll(IE,(e,t,n)=>t?t.normalize("NFKC"):IV.get(n))}function VX(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),BX(r)}const zO="pdfjs_internal_id_";function AIe(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...a]=t;if(!r(n)&&!Number.isInteger(n)||!e(i))return!1;const s=a.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const l of a)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Hi(r,e,t){return Math.min(Math.max(r,e),t)}function zX(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(BX(r))}function CIe(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):Qb(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});const $l="http://www.w3.org/2000/svg",$f=class $f{};Ce($f,"CSS",96),Ce($f,"PDF",72),Ce($f,"PDF_TO_CSS_UNITS",$f.CSS/$f.PDF);let Xh=$f;async function e_(r,e="text"){if(Qm(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class t_{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=a,this.offsetY=s,n*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let c,h,f,d;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,h=0,f=0,d=1;break;case 90:c=0,h=1,f=1,d=0;break;case 270:c=0,h=-1,f=-1,d=0;break;case 0:c=1,h=0,f=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,d=-d);let p,v,g,m;c===0?(p=Math.abs(u-e[1])*n+a,v=Math.abs(l-e[0])*n+s,g=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(p=Math.abs(l-e[0])*n+a,v=Math.abs(u-e[1])*n+s,g=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[c*n,h*n,f*n,d*n,p-c*n*l-f*n*u,v-h*n*l-d*n*u],this.width=g,this.height=m}get rawDims(){const e=this.viewBox;return Pt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new t_({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,t){const n=[e,t];return et.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];et.applyTransform(t,this.transform);const n=[e[2],e[3]];return et.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return et.applyInverseTransform(n,this.transform),n}}class HO extends Kp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function R2(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function GO(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function kIe(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function EIe(r,e="document.pdf"){if(typeof r!="string")return e;if(R2(r))return xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},a=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(a.test(s))return i(s);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const u of o)if(a.test(u))return i(u);const l=Array.from(n.searchParams.keys()).reverse();for(const u of l)if(a.test(u))return i(u)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class LV{constructor(){Ce(this,"started",Object.create(null));Ce(this,"times",[])}time(e){e in this.started&&xt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||xt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:a}of this.times)e.push(`${n.padEnd(t)} ${a-i}ms
`);return e.join("")}}function Qm(r,e){const t=e?URL.parse(r,e):URL.parse(r);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ps(r){r.preventDefault()}function cn(r){r.preventDefault(),r.stopPropagation()}function DIe(r){console.log("Deprecated API usage: "+r)}var G1;class JT{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;b(this,G1)||M(this,G1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=b(this,G1).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(s+=c,o+=h):u==="+"&&(s-=c,o-=h),new Date(Date.UTC(n,i,a,s,o,l))}}G1=new WeakMap,R(JT,G1);function MIe(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new t_({viewBox:a,userUnit:1,scale:e,rotation:t})}function O2(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(xt(`Not a valid color format: "${r}"`),[0,0,0])}function IIe(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,O2(n))}e.remove()}function Vr(r){const{a:e,b:t,c:n,d:i,e:a,f:s}=r.getTransform();return[e,t,n,i,a,s]}function Ro(r){const{a:e,b:t,c:n,d:i,e:a,f:s}=r.getTransform().invertSelf();return[e,t,n,i,a,s]}function Dp(r,e,t=!1,n=!0){if(e instanceof t_){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=r,o=li.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${a}px`,c=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(s.width=c,s.height=h):(s.width=h,s.height=c)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Cl{constructor(){const{pixelRatio:e}=Cl;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,a=-1){let s=1/0,o=1/0,l=1/0;n=Cl.capPixels(n,a),n>0&&(s=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const u=Math.min(s,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const aI=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Ec,Dc,us,Zl,$1,i0,a0,U1,oA,HX,ii,GX,$X,Dv,ey;const jl=class jl{constructor(e){R(this,ii);R(this,Ec,null);R(this,Dc,null);R(this,us);R(this,Zl,null);R(this,$1,null);R(this,i0,null);R(this,a0,null);M(this,us,e),b(jl,U1)||M(jl,U1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=M(this,Ec,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=b(this,us)._uiManager._signal;e.addEventListener("contextmenu",Ps,{signal:t}),e.addEventListener("pointerdown",B(jl,oA,HX),{signal:t});const n=M(this,Zl,document.createElement("div"));n.className="buttons",e.append(n);const i=b(this,us).toolbarPosition;if(i){const{style:a}=e,s=b(this,us)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return b(this,Ec)}hide(){var e;b(this,Ec).classList.add("hidden"),(e=b(this,Dc))==null||e.hideDropdown()}show(){var e,t;b(this,Ec).classList.remove("hidden"),(e=b(this,$1))==null||e.shown(),(t=b(this,i0))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=b(this,us),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",b(jl,U1)[e]),B(this,ii,Dv).call(this,n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),b(this,Zl).append(n)}async addAltText(e){const t=await e.render();B(this,ii,Dv).call(this,t),b(this,Zl).append(t,b(this,ii,ey)),M(this,$1,e)}addComment(e){if(b(this,i0))return;const t=e.render();t&&(B(this,ii,Dv).call(this,t),b(this,Zl).prepend(t,b(this,ii,ey)),M(this,i0,e),e.toolbar=this)}addColorPicker(e){if(b(this,Dc))return;M(this,Dc,e);const t=e.renderButton();B(this,ii,Dv).call(this,t),b(this,Zl).append(t,b(this,ii,ey))}async addEditSignatureButton(e){const t=M(this,a0,await e.renderEditButton(b(this,us)));B(this,ii,Dv).call(this,t),b(this,Zl).append(t,b(this,ii,ey))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}updateEditSignatureButton(e){b(this,a0)&&(b(this,a0).title=e)}remove(){var e;b(this,Ec).remove(),(e=b(this,Dc))==null||e.destroy(),M(this,Dc,null)}};Ec=new WeakMap,Dc=new WeakMap,us=new WeakMap,Zl=new WeakMap,$1=new WeakMap,i0=new WeakMap,a0=new WeakMap,U1=new WeakMap,oA=new WeakSet,HX=function(e){e.stopPropagation()},ii=new WeakSet,GX=function(e){b(this,us)._focusEventsAllowed=!1,cn(e)},$X=function(e){b(this,us)._focusEventsAllowed=!0,cn(e)},Dv=function(e){const t=b(this,us)._uiManager._signal;e.addEventListener("focusin",B(this,ii,GX).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",B(this,ii,$X).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ps,{signal:t})},ey=function(){const e=document.createElement("div");return e.className="divider",e},R(jl,oA),R(jl,U1,null);let sI=jl;var W1,rd,nd,Kh,UX,WX,YX;class LIe{constructor(e){R(this,Kh);R(this,W1,null);R(this,rd,null);R(this,nd);M(this,nd,e)}show(e,t,n){const[i,a]=B(this,Kh,WX).call(this,t,n),{style:s}=b(this,rd)||M(this,rd,B(this,Kh,UX).call(this));e.append(b(this,rd)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){b(this,rd).remove()}}W1=new WeakMap,rd=new WeakMap,nd=new WeakMap,Kh=new WeakSet,UX=function(){const e=M(this,rd,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ps,{signal:b(this,nd)._signal});const t=M(this,W1,document.createElement("div"));return t.className="buttons",e.append(t),B(this,Kh,YX).call(this),e},WX=function(e,t){let n=0,i=0;for(const a of e){const s=a.y+a.height;if(s<n)continue;const o=a.x+(t?a.width:0);if(s>n){i=o,n=s;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},YX=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=b(this,nd)._signal;e.addEventListener("contextmenu",Ps,{signal:n}),e.addEventListener("click",()=>{b(this,nd).highlightSelection("floating_button")},{signal:n}),b(this,W1).append(e)};function XX(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var lA;class PIe{constructor(){R(this,lA,0)}get id(){return`${OX}${Ii(this,lA)._++}`}}lA=new WeakMap;var s0,Y1,yi,o0,sS;const tF=class tF{constructor(){R(this,o0);R(this,s0,VX());R(this,Y1,0);R(this,yi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Pt(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:a}=e;return B(this,o0,sS).call(this,`${t}_${n}_${i}_${a}`,e)}async getFromUrl(e){return B(this,o0,sS).call(this,e,e)}async getFromBlob(e,t){const n=await t;return B(this,o0,sS).call(this,e,n)}async getFromId(e){b(this,yi)||M(this,yi,new Map);const t=b(this,yi).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){b(this,yi)||M(this,yi,new Map);let n=b(this,yi).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${b(this,s0)}_${Ii(this,Y1)._++}`,refCounter:1,isSvg:!1},b(this,yi).set(e,n),b(this,yi).set(n.id,n),n}getSvgUrl(e){const t=b(this,yi).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;b(this,yi)||M(this,yi,new Map);const t=b(this,yi).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${b(this,s0)}_`)}};s0=new WeakMap,Y1=new WeakMap,yi=new WeakMap,o0=new WeakSet,sS=async function(e,t){b(this,yi)||M(this,yi,new Map);let n=b(this,yi).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${b(this,s0)}_${Ii(this,Y1)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await e_(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const a=tF._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((u,c)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,u()},s.onload=async()=>{const h=n.svgUrl=s.result;o.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=s.onerror=c});s.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){xt(i),n=null}return b(this,yi).set(e,n),n&&b(this,yi).set(n.id,n),n};let oI=tF;var Kr,Mc,X1,Br;class RIe{constructor(e=128){R(this,Kr,[]);R(this,Mc,!1);R(this,X1);R(this,Br,-1);M(this,X1,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),b(this,Mc))return;const l={cmd:e,undo:t,post:n,type:a};if(b(this,Br)===-1){b(this,Kr).length>0&&(b(this,Kr).length=0),M(this,Br,0),b(this,Kr).push(l);return}if(s&&b(this,Kr)[b(this,Br)].type===a){o&&(l.undo=b(this,Kr)[b(this,Br)].undo),b(this,Kr)[b(this,Br)]=l;return}const u=b(this,Br)+1;u===b(this,X1)?b(this,Kr).splice(0,1):(M(this,Br,u),u<b(this,Kr).length&&b(this,Kr).splice(u)),b(this,Kr).push(l)}undo(){if(b(this,Br)===-1)return;M(this,Mc,!0);const{undo:e,post:t}=b(this,Kr)[b(this,Br)];e(),t==null||t(),M(this,Mc,!1),M(this,Br,b(this,Br)-1)}redo(){if(b(this,Br)<b(this,Kr).length-1){M(this,Br,b(this,Br)+1),M(this,Mc,!0);const{cmd:e,post:t}=b(this,Kr)[b(this,Br)];e(),t==null||t(),M(this,Mc,!1)}}hasSomethingToUndo(){return b(this,Br)!==-1}hasSomethingToRedo(){return b(this,Br)<b(this,Kr).length-1}cleanType(e){if(b(this,Br)!==-1){for(let t=b(this,Br);t>=0;t--)if(b(this,Kr)[t].type!==e){b(this,Kr).splice(t+1,b(this,Br)-t),M(this,Br,t);return}b(this,Kr).length=0,M(this,Br,-1)}}destroy(){M(this,Kr,null)}}Kr=new WeakMap,Mc=new WeakMap,X1=new WeakMap,Br=new WeakMap;var uA,KX;class r_{constructor(e){R(this,uA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=li.platform;for(const[n,i,a={}]of e)for(const s of n){const o=s.startsWith("mac+");t&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!t&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(B(this,uA,KX).call(this,t));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...s,t)(),a||cn(t))}}uA=new WeakSet,KX=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const cA=class cA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return IIe(e),Pt(this,"_colors",e)}convert(e){const t=O2(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((a,s)=>a===t[s]))return cA._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?et.makeHexColor(...t):e}};Ce(cA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let lI=cA;var l0,Ta,xn,Xn,u0,Jl,c0,cs,id,Ic,Lc,h0,ad,Ho,js,sd,K1,j1,f0,q1,Go,Pc,d0,Rc,$o,hA,Oc,Z1,Fc,od,p0,Nc,J1,Pn,ar,Ql,Bc,Vc,Q1,ex,zc,Uo,eu,tx,rx,hs,Re,oS,uI,jX,qX,lS,ZX,JX,QX,cI,eK,hI,fI,tK,Ri,Ul,rK,nK,dI,iK,ty,pI;const $v=class $v{constructor(e,t,n,i,a,s,o,l,u,c,h,f,d,p,v,g){R(this,Re);R(this,l0,new AbortController);R(this,Ta,null);R(this,xn,new Map);R(this,Xn,new Map);R(this,u0,null);R(this,Jl,null);R(this,c0,null);R(this,cs,new RIe);R(this,id,null);R(this,Ic,null);R(this,Lc,null);R(this,h0,0);R(this,ad,new Set);R(this,Ho,null);R(this,js,null);R(this,sd,new Set);Ce(this,"_editorUndoBar",null);R(this,K1,!1);R(this,j1,!1);R(this,f0,!1);R(this,q1,null);R(this,Go,null);R(this,Pc,null);R(this,d0,null);R(this,Rc,!1);R(this,$o,null);R(this,hA,new PIe);R(this,Oc,!1);R(this,Z1,!1);R(this,Fc,null);R(this,od,null);R(this,p0,null);R(this,Nc,null);R(this,J1,null);R(this,Pn,mt.NONE);R(this,ar,new Set);R(this,Ql,null);R(this,Bc,null);R(this,Vc,null);R(this,Q1,null);R(this,ex,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});R(this,zc,[0,0]);R(this,Uo,null);R(this,eu,null);R(this,tx,null);R(this,rx,null);R(this,hs,null);const m=this._signal=b(this,l0).signal;M(this,eu,e),M(this,tx,t),M(this,rx,n),M(this,u0,i),M(this,id,a),M(this,Bc,s),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:m}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),o._on("setpreference",this.onSetPreference.bind(this),{signal:m}),o._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:m}),B(this,Re,ZX).call(this),B(this,Re,tK).call(this),B(this,Re,cI).call(this),M(this,Jl,l.annotationStorage),M(this,q1,l.filterFactory),M(this,Vc,u),M(this,d0,c||null),M(this,K1,h),M(this,j1,f),M(this,f0,d),M(this,J1,p||null),this.viewParameters={realScale:Xh.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const e=$v.prototype,t=s=>b(s,eu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new r_([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&b(s,eu).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&b(s,eu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var e,t,n,i,a,s,o,l,u;(e=b(this,hs))==null||e.resolve(),M(this,hs,null),(t=b(this,l0))==null||t.abort(),M(this,l0,null),this._signal=null;for(const c of b(this,Xn).values())c.destroy();b(this,Xn).clear(),b(this,xn).clear(),b(this,sd).clear(),(n=b(this,Nc))==null||n.clear(),M(this,Ta,null),b(this,ar).clear(),b(this,cs).destroy(),(i=b(this,u0))==null||i.destroy(),(a=b(this,id))==null||a.destroy(),(s=b(this,Bc))==null||s.destroy(),(o=b(this,$o))==null||o.hide(),M(this,$o,null),(l=b(this,p0))==null||l.destroy(),M(this,p0,null),b(this,Go)&&(clearTimeout(b(this,Go)),M(this,Go,null)),b(this,Uo)&&(clearTimeout(b(this,Uo)),M(this,Uo,null)),(u=this._editorUndoBar)==null||u.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return b(this,J1)}get useNewAltTextFlow(){return b(this,j1)}get useNewAltTextWhenAddingImage(){return b(this,f0)}get hcmFilter(){return Pt(this,"hcmFilter",b(this,Vc)?b(this,q1).addHCMFilter(b(this,Vc).foreground,b(this,Vc).background):"none")}get direction(){return Pt(this,"direction",getComputedStyle(b(this,eu)).direction)}get _highlightColors(){return Pt(this,"_highlightColors",b(this,d0)?new Map(b(this,d0).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Pt(this,"highlightColors",null);const t=new Map,n=!!b(this,Vc);for(const[i,a]of e){const s=i.endsWith("_HCM");if(n&&s){t.set(i.replace("_HCM",""),a);continue}!n&&!s&&t.set(i,a)}return Pt(this,"highlightColors",t)}get highlightColorNames(){return Pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),M(this,Lc,e)}setMainHighlightColorPicker(e){M(this,p0,e)}editAltText(e,t=!1){var n;(n=b(this,u0))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!b(this,id)}editComment(e,t){var n;(n=b(this,id))==null||n.open(this,e,t)}getSignature(e){var t;(t=b(this,Bc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return b(this,Bc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":M(this,f0,t);break}}onPageChanging({pageNumber:e}){M(this,h0,e-1)}focusMainContainer(){b(this,eu).focus()}findParent(e,t){for(const n of b(this,Xn).values()){const{x:i,y:a,width:s,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=a&&t<=a+o)return n}return null}disableUserSelect(e=!1){b(this,tx).classList.toggle("noUserSelect",e)}addShouldRescale(e){b(this,sd).add(e)}removeShouldRescale(e){b(this,sd).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Xh.PDF_TO_CSS_UNITS;for(const n of b(this,sd))n.onScaleChanging();(t=b(this,Lc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:s}=t,o=t.toString(),u=B(this,Re,oS).call(this,t).closest(".textLayer"),c=this.getSelectionBoxes(u);if(!c)return;t.empty();const h=B(this,Re,uI).call(this,u),f=b(this,Pn)===mt.NONE,d=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:s,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(mt.HIGHLIGHT,d);return}d()}addToAnnotationStorage(e){!e.isEmpty()&&b(this,Jl)&&!b(this,Jl).has(e.id)&&b(this,Jl).setValue(e.id,e)}a11yAlert(e,t=null){const n=b(this,rx);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,b(this,Rc)&&(M(this,Rc,!1),B(this,Re,lS).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of b(this,ar))if(t.div.contains(e)){M(this,od,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!b(this,od))return;const[e,t]=b(this,od);M(this,od,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){B(this,Re,cI).call(this),B(this,Re,hI).call(this)}removeEditListeners(){B(this,Re,eK).call(this),B(this,Re,fI).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of b(this,js))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of b(this,js))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=b(this,Ta))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of b(this,ar)){const a=i.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const s of b(this,js))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){xt(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const l of n){const u=await i.deserialize(l);if(!u)return;a.push(u)}const s=()=>{for(const l of a)B(this,Re,dI).call(this,l);B(this,Re,pI).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){xt(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),b(this,Pn)!==mt.NONE&&!this.isEditorHandlingKeyboard&&$v._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,b(this,Rc)&&(M(this,Rc,!1),B(this,Re,lS).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(B(this,Re,JX).call(this),B(this,Re,hI).call(this),B(this,Re,Ri).call(this,{isEditing:b(this,Pn)!==mt.NONE,isEmpty:B(this,Re,ty).call(this),hasSomethingToUndo:b(this,cs).hasSomethingToUndo(),hasSomethingToRedo:b(this,cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(B(this,Re,QX).call(this),B(this,Re,fI).call(this),B(this,Re,Ri).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!b(this,js)){M(this,js,e);for(const t of b(this,js))B(this,Re,Ul).call(this,t.defaultPropertiesToUpdate)}}getId(){return b(this,hA).id}get currentLayer(){return b(this,Xn).get(b(this,h0))}getLayer(e){return b(this,Xn).get(e)}get currentPageIndex(){return b(this,h0)}addLayer(e){b(this,Xn).set(e.pageIndex,e),b(this,Oc)?e.enable():e.disable()}removeLayer(e){b(this,Xn).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,a=!1){var s,o,l;if(b(this,Pn)!==e&&!(b(this,hs)&&(await b(this,hs).promise,!b(this,hs)))){if(M(this,hs,Promise.withResolvers()),(s=b(this,Lc))==null||s.commitOrRemove(),M(this,Pn,e),e===mt.NONE){this.setEditingState(!1),B(this,Re,nK).call(this),(o=this._editorUndoBar)==null||o.hide(),b(this,hs).resolve();return}e===mt.SIGNATURE&&await((l=b(this,Bc))==null?void 0:l.loadSignatures()),this.setEditingState(!0),await B(this,Re,rK).call(this),this.unselectAll();for(const u of b(this,Xn).values())u.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),b(this,hs).resolve();return}for(const u of b(this,xn).values())u.annotationElementId===t||u.id===t?(this.setSelected(u),a?u.editComment():i&&u.enterInEditMode()):u.unselect();b(this,hs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==b(this,Pn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(b(this,js)){switch(e){case Vt.CREATE:this.currentLayer.addNewEditor(t);return;case Vt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(b(this,Q1)||M(this,Q1,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of b(this,ar))n.updateParams(e,t);else for(const n of b(this,js))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var a;for(const s of b(this,xn).values())s.editorType===e&&s.show(t);(((a=b(this,Q1))==null?void 0:a.get(Vt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&B(this,Re,Ul).call(this,[[Vt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(b(this,Z1)!==e){M(this,Z1,e);for(const t of b(this,Xn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of b(this,xn).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return b(this,xn).get(e)}addEditor(e){b(this,xn).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(b(this,Go)&&clearTimeout(b(this,Go)),M(this,Go,setTimeout(()=>{this.focusMainContainer(),M(this,Go,null)},0))),b(this,xn).delete(e.id),e.annotationElementId&&((t=b(this,Nc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!b(this,ad).has(e.annotationElementId))&&((n=b(this,Jl))==null||n.remove(e.id))}addDeletedAnnotationElement(e){b(this,ad).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return b(this,ad).has(e)}removeDeletedAnnotationElement(e){b(this,ad).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){b(this,Ta)!==e&&(M(this,Ta,e),e&&B(this,Re,Ul).call(this,e.propertiesToUpdate))}updateUI(e){b(this,Re,iK)===e&&B(this,Re,Ul).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){B(this,Re,Ul).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(b(this,ar).has(e)){b(this,ar).delete(e),e.unselect(),B(this,Re,Ri).call(this,{hasSelectedEditor:this.hasSelection});return}b(this,ar).add(e),e.select(),B(this,Re,Ul).call(this,e.propertiesToUpdate),B(this,Re,Ri).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=b(this,Lc))==null||t.commitOrRemove();for(const n of b(this,ar))n!==e&&n.unselect();b(this,ar).clear(),b(this,ar).add(e),e.select(),B(this,Re,Ul).call(this,e.propertiesToUpdate),B(this,Re,Ri).call(this,{hasSelectedEditor:!0})}isSelected(e){return b(this,ar).has(e)}get firstSelectedEditor(){return b(this,ar).values().next().value}unselect(e){e.unselect(),b(this,ar).delete(e),B(this,Re,Ri).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return b(this,ar).size!==0}get isEnterHandled(){return b(this,ar).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;b(this,cs).undo(),B(this,Re,Ri).call(this,{hasSomethingToUndo:b(this,cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:B(this,Re,ty).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){b(this,cs).redo(),B(this,Re,Ri).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:b(this,cs).hasSomethingToRedo(),isEmpty:B(this,Re,ty).call(this)})}addCommands(e){b(this,cs).add(e),B(this,Re,Ri).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:B(this,Re,ty).call(this)})}cleanUndoStack(e){b(this,cs).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...b(this,ar)],n=()=>{var s;(s=this._editorUndoBar)==null||s.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const s of t)B(this,Re,dI).call(this,s)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=b(this,Ta))==null||e.commitOrRemove()}hasSomethingToControl(){return b(this,Ta)||this.hasSelection}selectAll(){for(const e of b(this,ar))e.commit();B(this,Re,pI).call(this,b(this,xn).values())}unselectAll(){var e;if(!(b(this,Ta)&&(b(this,Ta).commitOrRemove(),b(this,Pn)!==mt.NONE))&&!((e=b(this,Lc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of b(this,ar))t.unselect();b(this,ar).clear(),B(this,Re,Ri).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;b(this,zc)[0]+=e,b(this,zc)[1]+=t;const[i,a]=b(this,zc),s=[...b(this,ar)],o=1e3;b(this,Uo)&&clearTimeout(b(this,Uo)),M(this,Uo,setTimeout(()=>{M(this,Uo,null),b(this,zc)[0]=b(this,zc)[1]=0,this.addCommands({cmd:()=>{for(const l of s)b(this,xn).has(l.id)&&(l.translateInPage(i,a),l.translationDone())},undo:()=>{for(const l of s)b(this,xn).has(l.id)&&(l.translateInPage(-i,-a),l.translationDone())},mustExec:!1})},o));for(const l of s)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),M(this,Ho,new Map);for(const e of b(this,ar))b(this,Ho).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!b(this,Ho))return!1;this.disableUserSelect(!1);const e=b(this,Ho);M(this,Ho,null);let t=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,t||(t=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!t)return!1;const n=(i,a,s,o)=>{if(b(this,xn).has(i.id)){const l=b(this,Xn).get(o);l?i._setParentAndPosition(l,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)n(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)n(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(b(this,Ho))for(const n of b(this,Ho).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||b(this,ar).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return b(this,Ta)===e}getActive(){return b(this,Ta)}getMode(){return b(this,Pn)}get imageManager(){return Pt(this,"imageManager",new oI)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,c=t.rangeCount;u<c;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,c,h,f)=>({x:(c-i)/s,y:1-(u+h-n)/a,width:f/s,height:h/a});break;case"180":o=(u,c,h,f)=>({x:1-(u+h-n)/a,y:1-(c+f-i)/s,width:h/a,height:f/s});break;case"270":o=(u,c,h,f)=>({x:1-(c+f-i)/s,y:(u-n)/a,width:f/s,height:h/a});break;default:o=(u,c,h,f)=>({x:(u-n)/a,y:(c-i)/s,width:h/a,height:f/s});break}const l=[];for(let u=0,c=t.rangeCount;u<c;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:d,width:p,height:v}of h.getClientRects())p===0||v===0||l.push(o(f,d,p,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(b(this,c0)||M(this,c0,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=b(this,c0))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=b(this,c0))==null?void 0:i.get(e.data.id);if(!t)return;const n=b(this,Jl).getRawValue(t);n&&(b(this,Pn)===mt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var a;const i=(a=b(this,Nc))==null?void 0:a.get(e);i&&(i.setCanvas(t,n),b(this,Nc).delete(e))}addMissingCanvas(e,t){(b(this,Nc)||M(this,Nc,new Map)).set(e,t)}};l0=new WeakMap,Ta=new WeakMap,xn=new WeakMap,Xn=new WeakMap,u0=new WeakMap,Jl=new WeakMap,c0=new WeakMap,cs=new WeakMap,id=new WeakMap,Ic=new WeakMap,Lc=new WeakMap,h0=new WeakMap,ad=new WeakMap,Ho=new WeakMap,js=new WeakMap,sd=new WeakMap,K1=new WeakMap,j1=new WeakMap,f0=new WeakMap,q1=new WeakMap,Go=new WeakMap,Pc=new WeakMap,d0=new WeakMap,Rc=new WeakMap,$o=new WeakMap,hA=new WeakMap,Oc=new WeakMap,Z1=new WeakMap,Fc=new WeakMap,od=new WeakMap,p0=new WeakMap,Nc=new WeakMap,J1=new WeakMap,Pn=new WeakMap,ar=new WeakMap,Ql=new WeakMap,Bc=new WeakMap,Vc=new WeakMap,Q1=new WeakMap,ex=new WeakMap,zc=new WeakMap,Uo=new WeakMap,eu=new WeakMap,tx=new WeakMap,rx=new WeakMap,hs=new WeakMap,Re=new WeakSet,oS=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},uI=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of b(this,Xn).values())if(n.hasTextLayer(e))return n;return null},jX=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=B(this,Re,oS).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(b(this,$o)||M(this,$o,new LIe(this)),b(this,$o).show(n,i,this.direction==="ltr"))},qX=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){b(this,Ql)&&((a=b(this,$o))==null||a.hide(),M(this,Ql,null),B(this,Re,Ri).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===b(this,Ql))return;const i=B(this,Re,oS).call(this,e).closest(".textLayer");if(!i){b(this,Ql)&&((s=b(this,$o))==null||s.hide(),M(this,Ql,null),B(this,Re,Ri).call(this,{hasSelectedText:!1}));return}if((o=b(this,$o))==null||o.hide(),M(this,Ql,t),B(this,Re,Ri).call(this,{hasSelectedText:!0}),!(b(this,Pn)!==mt.HIGHLIGHT&&b(this,Pn)!==mt.NONE)&&(b(this,Pn)===mt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),M(this,Rc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=b(this,Pn)===mt.HIGHLIGHT?B(this,Re,uI).call(this,i):null;l==null||l.toggleDrawing();const u=new AbortController,c=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&B(this,Re,lS).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}},lS=function(e=""){b(this,Pn)===mt.HIGHLIGHT?this.highlightSelection(e):b(this,K1)&&B(this,Re,jX).call(this)},ZX=function(){document.addEventListener("selectionchange",B(this,Re,qX).bind(this),{signal:this._signal})},JX=function(){if(b(this,Pc))return;M(this,Pc,new AbortController);const e=this.combinedSignal(b(this,Pc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},QX=function(){var e;(e=b(this,Pc))==null||e.abort(),M(this,Pc,null)},cI=function(){if(b(this,Fc))return;M(this,Fc,new AbortController);const e=this.combinedSignal(b(this,Fc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},eK=function(){var e;(e=b(this,Fc))==null||e.abort(),M(this,Fc,null)},hI=function(){if(b(this,Ic))return;M(this,Ic,new AbortController);const e=this.combinedSignal(b(this,Ic));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},fI=function(){var e;(e=b(this,Ic))==null||e.abort(),M(this,Ic,null)},tK=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ri=function(e){Object.entries(e).some(([n,i])=>b(this,ex)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(b(this,ex),e)}),b(this,Pn)===mt.HIGHLIGHT&&e.hasSelectedEditor===!1&&B(this,Re,Ul).call(this,[[Vt.HIGHLIGHT_FREE,!0]]))},Ul=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},rK=async function(){if(!b(this,Oc)){M(this,Oc,!0);const e=[];for(const t of b(this,Xn).values())e.push(t.enable());await Promise.all(e);for(const t of b(this,xn).values())t.enable()}},nK=function(){if(this.unselectAll(),b(this,Oc)){M(this,Oc,!1);for(const e of b(this,Xn).values())e.disable();for(const e of b(this,xn).values())e.disable()}},dI=function(e){const t=b(this,Xn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},iK=function(){let e=null;for(e of b(this,ar));return e},ty=function(){if(b(this,xn).size===0)return!0;if(b(this,xn).size===1)for(const e of b(this,xn).values())return e.isEmpty();return!1},pI=function(e){for(const t of b(this,ar))t.unselect();b(this,ar).clear();for(const t of e)t.isEmpty()||(b(this,ar).add(t),t.select());B(this,Re,Ri).call(this,{hasSelectedEditor:this.hasSelection})},Ce($v,"TRANSLATE_SMALL",1),Ce($v,"TRANSLATE_BIG",10);let Mp=$v;var Rn,Wo,qs,v0,Yo,Aa,g0,Xo,fa,tu,ld,Ko,Hc,vo,ry,uS;const Oi=class Oi{constructor(e){R(this,vo);R(this,Rn,null);R(this,Wo,!1);R(this,qs,null);R(this,v0,null);R(this,Yo,null);R(this,Aa,null);R(this,g0,!1);R(this,Xo,null);R(this,fa,null);R(this,tu,null);R(this,ld,null);R(this,Ko,!1);M(this,fa,e),M(this,Ko,e._uiManager.useNewAltTextFlow),b(Oi,Hc)||M(Oi,Hc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Oi._l10n??(Oi._l10n=e)}async render(){const e=M(this,qs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=M(this,v0,document.createElement("span"));e.append(t),b(this,Ko)?(e.classList.add("new"),e.setAttribute("data-l10n-id",b(Oi,Hc).missing),t.setAttribute("data-l10n-id",b(Oi,Hc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=b(this,fa)._uiManager._signal;e.addEventListener("contextmenu",Ps,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),b(this,fa)._uiManager.editAltText(b(this,fa)),b(this,Ko)&&b(this,fa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:b(this,vo,ry)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(M(this,g0,!0),i(a))},{signal:n}),await B(this,vo,uS).call(this),e}finish(){b(this,qs)&&(b(this,qs).focus({focusVisible:b(this,g0)}),M(this,g0,!1))}isEmpty(){return b(this,Ko)?b(this,Rn)===null:!b(this,Rn)&&!b(this,Wo)}hasData(){return b(this,Ko)?b(this,Rn)!==null||!!b(this,tu):this.isEmpty()}get guessedText(){return b(this,tu)}async setGuessedText(e){b(this,Rn)===null&&(M(this,tu,e),M(this,ld,await Oi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),B(this,vo,uS).call(this))}toggleAltTextBadge(e=!1){var t;if(!b(this,Ko)||b(this,Rn)){(t=b(this,Xo))==null||t.remove(),M(this,Xo,null);return}if(!b(this,Xo)){const n=M(this,Xo,document.createElement("div"));n.className="noAltTextBadge",b(this,fa).div.append(n)}b(this,Xo).classList.toggle("hidden",!e)}serialize(e){let t=b(this,Rn);return!e&&b(this,tu)===t&&(t=b(this,ld)),{altText:t,decorative:b(this,Wo),guessedText:b(this,tu),textWithDisclaimer:b(this,ld)}}get data(){return{altText:b(this,Rn),decorative:b(this,Wo)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:a=!1}){n&&(M(this,tu,n),M(this,ld,i)),!(b(this,Rn)===e&&b(this,Wo)===t)&&(a||(M(this,Rn,e),M(this,Wo,t)),B(this,vo,uS).call(this))}toggle(e=!1){b(this,qs)&&(!e&&b(this,Aa)&&(clearTimeout(b(this,Aa)),M(this,Aa,null)),b(this,qs).disabled=!e)}shown(){b(this,fa)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:b(this,vo,ry)}})}destroy(){var e,t;(e=b(this,qs))==null||e.remove(),M(this,qs,null),M(this,v0,null),M(this,Yo,null),(t=b(this,Xo))==null||t.remove(),M(this,Xo,null)}};Rn=new WeakMap,Wo=new WeakMap,qs=new WeakMap,v0=new WeakMap,Yo=new WeakMap,Aa=new WeakMap,g0=new WeakMap,Xo=new WeakMap,fa=new WeakMap,tu=new WeakMap,ld=new WeakMap,Ko=new WeakMap,Hc=new WeakMap,vo=new WeakSet,ry=function(){return b(this,Rn)&&"added"||b(this,Rn)===null&&this.guessedText&&"review"||"missing"},uS=async function(){var i,a,s;const e=b(this,qs);if(!e)return;if(b(this,Ko)){if(e.classList.toggle("done",!!b(this,Rn)),e.setAttribute("data-l10n-id",b(Oi,Hc)[b(this,vo,ry)]),(i=b(this,v0))==null||i.setAttribute("data-l10n-id",b(Oi,Hc)[`${b(this,vo,ry)}-label`]),!b(this,Rn)){(a=b(this,Yo))==null||a.remove();return}}else{if(!b(this,Rn)&&!b(this,Wo)){e.classList.remove("done"),(s=b(this,Yo))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=b(this,Yo);if(!t){M(this,Yo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${b(this,fa).id}`;const o=100,l=b(this,fa)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(b(this,Aa)),M(this,Aa,null)},{once:!0}),e.addEventListener("mouseenter",()=>{M(this,Aa,setTimeout(()=>{M(this,Aa,null),b(this,Yo).classList.add("show"),b(this,fa)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;b(this,Aa)&&(clearTimeout(b(this,Aa)),M(this,Aa,null)),(u=b(this,Yo))==null||u.classList.remove("show")},{signal:l})}b(this,Wo)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=b(this,Rn)),t.parentNode||e.append(t);const n=b(this,fa).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},R(Oi,Hc,null),Ce(Oi,"_l10n",null);let QT=Oi;var jo,ud,Zs,nx,ru,m0,Gc;class ww{constructor(e){R(this,jo,null);R(this,ud,!1);R(this,Zs,null);R(this,nx,null);R(this,ru,null);R(this,m0,null);R(this,Gc,!1);M(this,Zs,e),this.toolbar=null}render(){if(!b(this,Zs)._uiManager.hasCommentManager())return null;const e=M(this,jo,document.createElement("button"));e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=b(this,Zs)._uiManager._signal;e.addEventListener("contextmenu",Ps,{signal:t}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:t});const n=i=>{i.preventDefault(),this.edit()};return e.addEventListener("click",n,{capture:!0,signal:t}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(M(this,ud,!0),n(i))},{signal:t}),e}edit(){const{bottom:e,left:t,right:n}=b(this,Zs).getClientDimensions(),i={top:e};b(this,Zs)._uiManager.direction==="ltr"?i.right=n:i.left=t,b(this,Zs)._uiManager.editComment(b(this,Zs),i)}finish(){b(this,jo)&&(b(this,jo).focus({focusVisible:b(this,ud)}),M(this,ud,!1))}isDeleted(){return b(this,Gc)||b(this,ru)===""}hasBeenEdited(){return this.isDeleted()||b(this,ru)!==b(this,nx)}serialize(){return this.data}get data(){return{text:b(this,ru),date:b(this,m0),deleted:b(this,Gc)}}set data(e){if(e===null){M(this,ru,""),M(this,Gc,!0);return}M(this,ru,e),M(this,m0,new Date),M(this,Gc,!1)}setInitialText(e){M(this,nx,e),this.data=e}toggle(e=!1){b(this,jo)&&(b(this,jo).disabled=!e)}shown(){}destroy(){var e;(e=b(this,jo))==null||e.remove(),M(this,jo,null),M(this,ru,""),M(this,m0,null),M(this,Zs,null),M(this,ud,!1),M(this,Gc,!1)}}jo=new WeakMap,ud=new WeakMap,Zs=new WeakMap,nx=new WeakMap,ru=new WeakMap,m0=new WeakMap,Gc=new WeakMap;var y0,cd,ix,ax,sx,ox,lx,nu,hd,iu,fd,au,jh,aK,sK,oK;const rF=class rF{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){R(this,jh);R(this,y0);R(this,cd,!1);R(this,ix,null);R(this,ax);R(this,sx);R(this,ox);R(this,lx);R(this,nu,null);R(this,hd);R(this,iu,null);R(this,fd);R(this,au,null);M(this,y0,e),M(this,ix,n),M(this,ax,t),M(this,sx,i),M(this,ox,a),M(this,lx,s),M(this,fd,new AbortController),M(this,hd,AbortSignal.any([o,b(this,fd).signal])),e.addEventListener("touchstart",B(this,jh,aK).bind(this),{passive:!1,signal:b(this,hd)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Cl.pixelRatio}destroy(){var e,t;(e=b(this,fd))==null||e.abort(),M(this,fd,null),(t=b(this,nu))==null||t.abort(),M(this,nu,null)}};y0=new WeakMap,cd=new WeakMap,ix=new WeakMap,ax=new WeakMap,sx=new WeakMap,ox=new WeakMap,lx=new WeakMap,nu=new WeakMap,hd=new WeakMap,iu=new WeakMap,fd=new WeakMap,au=new WeakMap,jh=new WeakSet,aK=function(e){var i,a,s;if((i=b(this,ax))!=null&&i.call(this))return;if(e.touches.length===1){if(b(this,nu))return;const o=M(this,nu,new AbortController),l=AbortSignal.any([b(this,hd),o.signal]),u=b(this,y0),c={capture:!0,signal:l,passive:!1},h=f=>{var d;f.pointerType==="touch"&&((d=b(this,nu))==null||d.abort(),M(this,nu,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(cn(f),h(f))},c),u.addEventListener("pointerup",h,c),u.addEventListener("pointercancel",h,c);return}if(!b(this,au)){M(this,au,new AbortController);const o=AbortSignal.any([b(this,hd),b(this,au).signal]),l=b(this,y0),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",B(this,jh,sK).bind(this),u);const c=B(this,jh,oK).bind(this);l.addEventListener("touchend",c,u),l.addEventListener("touchcancel",c,u),u.capture=!0,l.addEventListener("pointerdown",cn,u),l.addEventListener("pointermove",cn,u),l.addEventListener("pointercancel",cn,u),l.addEventListener("pointerup",cn,u),(a=b(this,sx))==null||a.call(this)}if(cn(e),e.touches.length!==2||(s=b(this,ix))!=null&&s.call(this)){M(this,iu,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),M(this,iu,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},sK=function(e){var _;if(!b(this,iu)||e.touches.length!==2)return;cn(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:a}=t,{screenX:s,screenY:o}=n,l=b(this,iu),{touch0X:u,touch0Y:c,touch1X:h,touch1Y:f}=l,d=h-u,p=f-c,v=s-i,g=o-a,m=Math.hypot(v,g)||1,x=Math.hypot(d,p)||1;if(!b(this,cd)&&Math.abs(x-m)<=rF.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=a,l.touch1X=s,l.touch1Y=o,!b(this,cd)){M(this,cd,!0);return}const y=[(i+s)/2,(a+o)/2];(_=b(this,ox))==null||_.call(this,y,x,m)},oK=function(e){var t;e.touches.length>=2||(b(this,au)&&(b(this,au).abort(),M(this,au,null),(t=b(this,lx))==null||t.call(this)),b(this,iu)&&(cn(e),M(this,iu,null),M(this,cd,!1)))};let eA=rF;var dd,Js,Dr,Kn,x0,$c,ux,pd,jn,vd,su,Uc,cx,gd,Ca,hx,md,ou,qo,b0,_0,fs,yd,fx,fA,ut,vI,dx,gI,cS,lK,uK,mI,hS,yI,cK,hK,fK,xI,dK,bI,pK,vK,gK,_I,ny;const Dt=class Dt{constructor(e){R(this,ut);R(this,dd,null);R(this,Js,null);R(this,Dr,null);R(this,Kn,null);R(this,x0,!1);R(this,$c,null);R(this,ux,"");R(this,pd,!1);R(this,jn,null);R(this,vd,null);R(this,su,null);R(this,Uc,null);R(this,cx,"");R(this,gd,!1);R(this,Ca,null);R(this,hx,!1);R(this,md,!1);R(this,ou,!1);R(this,qo,null);R(this,b0,0);R(this,_0,0);R(this,fs,null);R(this,yd,null);Ce(this,"isSelected",!1);Ce(this,"_isCopy",!1);Ce(this,"_editToolbar",null);Ce(this,"_initialOptions",Object.create(null));Ce(this,"_initialData",null);Ce(this,"_isVisible",!0);Ce(this,"_uiManager",null);Ce(this,"_focusEventsAllowed",!0);R(this,fx,!1);R(this,fA,Dt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Dt.prototype._resizeWithKeyboard,t=Mp.TRANSLATE_SMALL,n=Mp.TRANSLATE_BIG;return Pt(this,"_resizerKeyboardManager",new r_([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Dt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new OIe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Dt._l10n??(Dt._l10n=e),Dt._l10nResizer||(Dt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Dt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Dt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){fr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return b(this,fx)}set _isDraggable(e){var t;M(this,fx,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=b(this,fA)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):B(this,ut,ny).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(b(this,gd)?M(this,gd,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[a,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(t+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){B(this,ut,vI).call(this,this.parentDimensions,e,t)}translateInPage(e,t){b(this,Ca)||M(this,Ca,[this.x,this.y,this.width,this.height]),B(this,ut,vI).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){b(this,Ca)||M(this,Ca,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,u]=this.getBaseTranslation();s+=l,o+=u;const{style:c}=n;c.left=`${(100*s).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!b(this,Ca)&&(b(this,Ca)[0]!==this.x||b(this,Ca)[1]!==this.y)}get _hasBeenResized(){return!!b(this,Ca)&&(b(this,Ca)[2]!==this.width||b(this,Ca)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Dt,i=n/e,a=n/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:a,y:s,width:o,height:l}=this;if(o*=n,l*=i,a*=n,s*=i,this._mustFixPosition)switch(e){case 0:a=Hi(a,0,n-o),s=Hi(s,0,i-l);break;case 90:a=Hi(a,0,n-l),s=Hi(s,o,i);break;case 180:a=Hi(a,o,n),s=Hi(s,l,i);break;case 270:a=Hi(a,l,n),s=Hi(s,0,i-o);break}this.x=a/=n,this.y=s/=i;const[u,c]=this.getBaseTranslation();a+=u,s+=c,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return B(n=Dt,dx,gI).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return B(n=Dt,dx,gI).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*e/n).toFixed(2)}%`,b(this,pd)||(a.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),a=!b(this,pd)&&t.endsWith("%");if(i&&a)return;const[s,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),!b(this,pd)&&!a&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=b(this,Dr))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||b(this,md))return this._editToolbar;this._editToolbar=new sI(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=b(this,Dr))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return b(this,Dr)||(QT.initialize(Dt._l10n),M(this,Dr,new QT(this)),b(this,dd)&&(b(this,Dr).data=b(this,dd),M(this,dd,null))),b(this,Dr)}get altTextData(){var e;return(e=b(this,Dr))==null?void 0:e.data}set altTextData(e){b(this,Dr)&&(b(this,Dr).data=e)}get guessedAltText(){var e;return(e=b(this,Dr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=b(this,Dr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=b(this,Dr))==null?void 0:t.serialize(e)}hasAltText(){return!!b(this,Dr)&&!b(this,Dr).isEmpty()}hasAltTextData(){var e;return((e=b(this,Dr))==null?void 0:e.hasData())??!1}addCommentButton(){return b(this,Kn)?b(this,Kn):M(this,Kn,new ww(this))}get commentColor(){return null}get comment(){const e=b(this,Kn);return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){b(this,Kn)||M(this,Kn,new ww(this)),b(this,Kn).data=e}setCommentData(e){b(this,Kn)||M(this,Kn,new ww(this)),b(this,Kn).setInitialText(e)}get hasEditedComment(){var e;return(e=b(this,Kn))==null?void 0:e.hasBeenEdited()}async editComment(){b(this,Kn)||M(this,Kn,new ww(this)),b(this,Kn).edit()}addComment(e){this.hasEditedComment&&(e.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=b(this,x0)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),B(this,ut,bI).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),XX(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(b(this,yd)||M(this,yd,new eA({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:B(this,ut,cK).bind(this),onPinching:B(this,ut,hK).bind(this),onPinchEnd:B(this,ut,fK).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:t}=li.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(M(this,gd,!0),this._isDraggable){B(this,ut,dK).call(this,e);return}B(this,ut,xI).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){b(this,qo)&&clearTimeout(b(this,qo)),M(this,qo,setTimeout(()=>{var e;M(this,qo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,c=t/i,h=this.x*a,f=this.y*s,d=this.width*a,p=this.height*s;switch(n){case 0:return[h+u+o,s-f-c-p+l,h+u+d+o,s-f-c+l];case 90:return[h+c+o,s-f+u+l,h+c+p+o,s-f+u+d+l];case 180:return[h-u-d+o,s-f+c+l,h-u+o,s-f+c+p+l];case 270:return[h-c-p+o,s-f-u-d+l,h-c+o,s-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,a,s]=e,o=a-n,l=s-i;switch(this.rotation){case 0:return[n,t-s,o,l];case 90:return[n,t-i,l,o];case 180:return[a,t-i,o,l];case 270:return[a,t-s,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),M(this,md,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),M(this,md,!1),!0):!1}isInEditMode(){return b(this,md)}shouldGetKeyboardEvents(){return b(this,ou)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return t<s&&i>0&&e<a&&n>0}rebuild(){B(this,ut,bI).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){fr("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,M(i,dd,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[o,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=l/s,i.width=u/a,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=b(this,Uc))==null||e.abort(),M(this,Uc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),b(this,qo)&&(clearTimeout(b(this,qo)),M(this,qo,null)),B(this,ut,ny).call(this),this.removeEditToolbar(),b(this,fs)){for(const n of b(this,fs).values())clearTimeout(n);M(this,fs,null)}this.parent=null,(t=b(this,yd))==null||t.destroy(),M(this,yd,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(B(this,ut,lK).call(this),b(this,jn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),M(this,su,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=b(this,jn).children;if(!b(this,Js)){M(this,Js,Array.from(t));const s=B(this,ut,pK).bind(this),o=B(this,ut,vK).bind(this),l=this._uiManager._signal;for(const u of b(this,Js)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",B(this,ut,gK).bind(this,c),{signal:l}),u.setAttribute("data-l10n-id",Dt._l10nResizer[c])}}const n=b(this,Js)[0];let i=0;for(const s of t){if(s===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(b(this,Js).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)b(this,jn).append(b(this,jn).firstChild);else if(a>i)for(let o=0;o<a-i;o++)b(this,jn).firstChild.before(b(this,jn).lastChild);let s=0;for(const o of t){const u=b(this,Js)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Dt._l10nResizer[u])}}B(this,ut,_I).call(this,0),M(this,ou,!0),b(this,jn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){b(this,ou)&&B(this,ut,yI).call(this,b(this,cx),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){B(this,ut,ny).call(this),this.div.focus()}select(){var e,t,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(t=this._editToolbar)==null||t.show(),(n=b(this,Dr))==null||n.toggleAltTextBadge(!1)}}unselect(){var e,t,n,i,a;this.isSelected&&(this.isSelected=!1,(e=b(this,jn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=b(this,Dr))==null||a.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return b(this,hx)}set isEditing(e){M(this,hx,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){M(this,pd,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){b(this,fs)||M(this,fs,new Map);const{action:n}=e;let i=b(this,fs).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),b(this,fs).delete(n),b(this,fs).size===0&&M(this,fs,null)},Dt._telemetryTimeout),b(this,fs).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),M(this,x0,!1)}disable(){this.div&&(this.div.tabIndex=-1),M(this,x0,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};dd=new WeakMap,Js=new WeakMap,Dr=new WeakMap,Kn=new WeakMap,x0=new WeakMap,$c=new WeakMap,ux=new WeakMap,pd=new WeakMap,jn=new WeakMap,vd=new WeakMap,su=new WeakMap,Uc=new WeakMap,cx=new WeakMap,gd=new WeakMap,Ca=new WeakMap,hx=new WeakMap,md=new WeakMap,ou=new WeakMap,qo=new WeakMap,b0=new WeakMap,_0=new WeakMap,fs=new WeakMap,yd=new WeakMap,fx=new WeakMap,fA=new WeakMap,ut=new WeakSet,vI=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},dx=new WeakSet,gI=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},cS=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},lK=function(){if(b(this,jn))return;M(this,jn,document.createElement("div")),b(this,jn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");b(this,jn).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",B(this,ut,uK).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Ps,{signal:t}),i.tabIndex=-1}this.div.prepend(b(this,jn))},uK=function(e,t){var c;t.preventDefault();const{isMac:n}=li.platform;if(t.button!==0||t.ctrlKey&&n)return;(c=b(this,Dr))==null||c.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,M(this,vd,[t.screenX,t.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",B(this,ut,yI).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",cn,{passive:!1,signal:s}),window.addEventListener("contextmenu",Ps,{signal:s}),M(this,su,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;a.abort(),this.parent.togglePointerEvents(!0),(h=b(this,Dr))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,B(this,ut,hS).call(this)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},mI=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[a,s]=this.parentDimensions;this.setDims(a*n,s*i),this.fixAndSetPosition(),this._onResized()},hS=function(){if(!b(this,su))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=b(this,su);M(this,su,null);const a=this.x,s=this.y,o=this.width,l=this.height;a===e&&s===t&&o===n&&l===i||this.addCommands({cmd:B(this,ut,mI).bind(this,a,s,o,l),undo:B(this,ut,mI).bind(this,e,t,n,i),mustExec:!0})},yI=function(e,t){const[n,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,l=this.height,u=Dt.MIN_SIZE/n,c=Dt.MIN_SIZE/i,h=B(this,ut,cS).call(this,this.rotation),f=(V,z)=>[h[0]*V+h[2]*z,h[1]*V+h[3]*z],d=B(this,ut,cS).call(this,360-this.rotation),p=(V,z)=>[d[0]*V+d[2]*z,d[1]*V+d[3]*z];let v,g,m=!1,x=!1;switch(e){case"topLeft":m=!0,v=(V,z)=>[0,0],g=(V,z)=>[V,z];break;case"topMiddle":v=(V,z)=>[V/2,0],g=(V,z)=>[V/2,z];break;case"topRight":m=!0,v=(V,z)=>[V,0],g=(V,z)=>[0,z];break;case"middleRight":x=!0,v=(V,z)=>[V,z/2],g=(V,z)=>[0,z/2];break;case"bottomRight":m=!0,v=(V,z)=>[V,z],g=(V,z)=>[0,0];break;case"bottomMiddle":v=(V,z)=>[V/2,z],g=(V,z)=>[V/2,0];break;case"bottomLeft":m=!0,v=(V,z)=>[0,z],g=(V,z)=>[V,0];break;case"middleLeft":x=!0,v=(V,z)=>[0,z/2],g=(V,z)=>[V,z/2];break}const y=v(o,l),_=g(o,l);let S=f(..._);const w=Dt._round(a+S[0]),T=Dt._round(s+S[1]);let A=1,C=1,k,E;if(t.fromKeyboard)({deltaX:k,deltaY:E}=t);else{const{screenX:V,screenY:z}=t,[G,O]=b(this,vd);[k,E]=this.screenToPageTranslation(V-G,z-O),b(this,vd)[0]=V,b(this,vd)[1]=z}if([k,E]=p(k/n,E/i),m){const V=Math.hypot(o,l);A=C=Math.max(Math.min(Math.hypot(_[0]-y[0]-k,_[1]-y[1]-E)/V,1/o,1/l),u/o,c/l)}else x?A=Hi(Math.abs(_[0]-y[0]-k),u,1)/o:C=Hi(Math.abs(_[1]-y[1]-E),c,1)/l;const D=Dt._round(o*A),I=Dt._round(l*C);S=f(...g(D,I));const P=w-S[0],F=T-S[1];b(this,Ca)||M(this,Ca,[this.x,this.y,this.width,this.height]),this.width=D,this.height=I,this.x=P,this.y=F,this.setDims(n*D,i*I),this.fixAndSetPosition(),this._onResizing()},cK=function(){var e;M(this,su,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=b(this,Dr))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},hK=function(e,t,n){let a=.7*(n/t)+1-.7;if(a===1)return;const s=B(this,ut,cS).call(this,this.rotation),o=(w,T)=>[s[0]*w+s[2]*T,s[1]*w+s[3]*T],[l,u]=this.parentDimensions,c=this.x,h=this.y,f=this.width,d=this.height,p=Dt.MIN_SIZE/l,v=Dt.MIN_SIZE/u;a=Math.max(Math.min(a,1/f,1/d),p/f,v/d);const g=Dt._round(f*a),m=Dt._round(d*a);if(g===f&&m===d)return;b(this,Ca)||M(this,Ca,[c,h,f,d]);const x=o(f/2,d/2),y=Dt._round(c+x[0]),_=Dt._round(h+x[1]),S=o(g/2,m/2);this.x=y-S[0],this.y=_-S[1],this.width=g,this.height=m,this.setDims(l*g,u*m),this.fixAndSetPosition(),this._onResizing()},fK=function(){var e;(e=b(this,Dr))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),B(this,ut,hS).call(this)},xI=function(e){const{isMac:t}=li.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},dK=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=u=>{i.abort(),M(this,$c,null),M(this,gd,!1),this._uiManager.endDragSession()||B(this,ut,xI).call(this,u),n&&this._onStopDragging()};t&&(M(this,b0,e.clientX),M(this,_0,e.clientY),M(this,$c,e.pointerId),M(this,ux,e.pointerType),window.addEventListener("pointermove",u=>{n||(n=!0,this._onStartDragging());const{clientX:c,clientY:h,pointerId:f}=u;if(f!==b(this,$c)){cn(u);return}const[d,p]=this.screenToPageTranslation(c-b(this,b0),h-b(this,_0));M(this,b0,c),M(this,_0,h),this._uiManager.dragSelectedEditors(d,p)},s),window.addEventListener("touchmove",cn,s),window.addEventListener("pointerdown",u=>{u.pointerType===b(this,ux)&&(b(this,yd)||u.isPrimary)&&o(u),cn(u)},s));const l=u=>{if(!b(this,$c)||b(this,$c)===u.pointerId){o(u);return}cn(u)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},bI=function(){if(b(this,Uc)||!this.div)return;M(this,Uc,new AbortController);const e=this._uiManager.combinedSignal(b(this,Uc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},pK=function(e){Dt._resizerKeyboardManager.exec(this,e)},vK=function(e){var t;b(this,ou)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==b(this,jn)&&B(this,ut,ny).call(this)},gK=function(e){M(this,cx,b(this,ou)?e:"")},_I=function(e){if(b(this,Js))for(const t of b(this,Js))t.tabIndex=e},ny=function(){M(this,ou,!1),B(this,ut,_I).call(this,-1),B(this,ut,hS).call(this)},R(Dt,dx),Ce(Dt,"_l10n",null),Ce(Dt,"_l10nResizer",null),Ce(Dt,"_borderLineWidth",-1),Ce(Dt,"_colorManager",new lI),Ce(Dt,"_zIndex",1),Ce(Dt,"_telemetryTimeout",1e3);let yr=Dt;class OIe extends yr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const PV=3285377520,ns=4294901760,Oo=65535;class mK{constructor(e){this.h1=e?e&4294967295:PV,this.h2=e?e&4294967295:PV}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let v=0,g=e.length;v<g;v++){const m=e.charCodeAt(v);m<=255?t[n++]=m:(t[n++]=m>>>8,t[n++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,a=n-i*4,s=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,c=this.h2;const h=3432918353,f=461845907,d=h&Oo,p=f&Oo;for(let v=0;v<i;v++)v&1?(o=s[v],o=o*h&ns|o*d&Oo,o=o<<15|o>>>17,o=o*f&ns|o*p&Oo,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[v],l=l*h&ns|l*d&Oo,l=l<<15|l>>>17,l=l*f&ns|l*p&Oo,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,a){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&ns|o*d&Oo,o=o<<15|o>>>17,o=o*f&ns|o*p&Oo,i&1?u^=o:c^=o}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ns|e*36045&Oo,t=t*4283543511&ns|((t<<16|e>>>16)*2950163797&ns)>>>16,e^=t>>>1,e=e*444984403&ns|e*60499&Oo,t=t*3301882366&ns|((t<<16|e>>>16)*3120437893&ns)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const wI=Object.freeze({map:null,hash:"",transfer:void 0});var xd,bd,qn,dA,yK;class $O{constructor(){R(this,dA);R(this,xd,!1);R(this,bd,null);R(this,qn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=b(this,qn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return b(this,qn).get(e)}remove(e){if(b(this,qn).delete(e),b(this,qn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of b(this,qn).values())if(t instanceof yr)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=b(this,qn).get(e);let i=!1;if(n!==void 0)for(const[a,s]of Object.entries(t))n[a]!==s&&(i=!0,n[a]=s);else i=!0,b(this,qn).set(e,t);i&&B(this,dA,yK).call(this),t instanceof yr&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return b(this,qn).has(e)}get size(){return b(this,qn).size}resetModified(){b(this,xd)&&(M(this,xd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new xK(this)}get serializable(){if(b(this,qn).size===0)return wI;const e=new Map,t=new mK,n=[],i=Object.create(null);let a=!1;for(const[s,o]of b(this,qn)){const l=o instanceof yr?o.serialize(!1,i):o;l&&(e.set(s,l),t.update(`${s}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:wI}get editorStats(){let e=null;const t=new Map;for(const n of b(this,qn).values()){if(!(n instanceof yr))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:a}=i;t.has(a)||t.set(a,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const s=e[a]||(e[a]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=s.get(o);u||(u=new Map,s.set(o,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){M(this,bd,null)}get modifiedIds(){if(b(this,bd))return b(this,bd);const e=[];for(const t of b(this,qn).values())!(t instanceof yr)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return M(this,bd,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return b(this,qn).entries()}}xd=new WeakMap,bd=new WeakMap,qn=new WeakMap,dA=new WeakSet,yK=function(){b(this,xd)||(M(this,xd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var px;class xK extends $O{constructor(t){super();R(this,px);const{map:n,hash:i,transfer:a}=t.serializable,s=structuredClone(n,a?{transfer:a}:null);M(this,px,{map:s,hash:i,transfer:a})}get print(){fr("Should not call PrintAnnotationStorage.print")}get serializable(){return b(this,px)}get modifiedIds(){return Pt(this,"modifiedIds",{ids:new Set,hash:""})}}px=new WeakMap;var w0;class FIe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){R(this,w0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),b(this,w0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||b(this,w0).has(e.loadedName))){if(hn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:s}=e,o=new FontFace(i,a,s);this.addNativeFontFace(o);try{await o.load(),b(this,w0).add(i),n==null||n(e)}catch{xt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}fr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw xt(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Pt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Pt(this,"isSyncFontLoadingSupported",zi||li.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(hn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(_,S){return _.charCodeAt(S)<<24|_.charCodeAt(S+1)<<16|_.charCodeAt(S+2)<<8|_.charCodeAt(S+3)&255}function i(_,S,w,T){const A=_.substring(0,S),C=_.substring(S+w);return A+T+C}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function c(_,S){if(++u>30){xt("Load test font never loaded."),S();return}if(l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(c.bind(null,_,S))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const p=16,v=1482184792;let g=n(f,p);for(a=0,s=h.length-3;a<s;a+=4)g=g-v+n(h,a)|0;a<h.length&&(g=g-v+n(h+"XXX",a)|0),f=i(f,p,4,bIe(g));const m=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${h}";src:${m}}`;this.insertRule(x);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const _ of[e.loadedName,h]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=_,y.append(S)}this._document.body.append(y),c(h,()=>{y.remove(),t.complete()})}}w0=new WeakMap;class NIe{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${zX(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(s){xt(`getPathGenerator - ignoring character: "${s}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=a}}function BIe(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(zi)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function VIe(r){if(zi&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return Qb(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Sw(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const SI=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,zIe=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",HIe=AIe.bind(null,SI,zIe);var lu,pA;class GIe{constructor(){R(this,lu,new Map);R(this,pA,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};b(this,pA).then(()=>{for(const[i]of b(this,lu))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){xt("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,t);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}b(this,lu).set(t,i)}removeEventListener(e,t){const n=b(this,lu).get(t);n==null||n(),b(this,lu).delete(t)}terminate(){for(const[,e]of b(this,lu))e==null||e();b(this,lu).clear()}}lu=new WeakMap,pA=new WeakMap;const Tw={DATA:1,ERROR:2},sn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function RV(){}function ua(r){if(r instanceof Yh||r instanceof nI||r instanceof MV||r instanceof ZT||r instanceof DE)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||fr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Yh(r.message);case"InvalidPDFException":return new nI(r.message);case"PasswordException":return new MV(r.message,r.code);case"ResponseException":return new ZT(r.message,r.status,r.missing);case"UnknownErrorException":return new DE(r.message,r.details)}return new DE(r.message,r.toString())}var S0,Ms,bK,_K,wK,fS;class iy{constructor(e,t,n){R(this,Ms);R(this,S0,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",B(this,Ms,bK).bind(this),{signal:b(this,S0).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,t,n,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:t,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[a].pullCall=c,l.postMessage({sourceName:s,targetName:o,stream:sn.PULL,streamId:a,desiredSize:u.desiredSize}),c.promise},cancel:u=>{hn(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[a].cancelCall=c,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:sn.CANCEL,streamId:a,reason:ua(u)}),c.promise}},n)}destroy(){var e;(e=b(this,S0))==null||e.abort(),M(this,S0,null)}}S0=new WeakMap,Ms=new WeakSet,bK=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){B(this,Ms,wK).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Tw.DATA)i.resolve(e.data);else if(e.callback===Tw.ERROR)i.reject(ua(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(s){a.postMessage({sourceName:n,targetName:i,callback:Tw.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:n,targetName:i,callback:Tw.ERROR,callbackId:e.callbackId,reason:ua(s)})});return}if(e.streamId){B(this,Ms,_K).call(this,e);return}t(e.data)},_K=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(u,c=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=c,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:sn.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:sn.CLOSE,streamId:t}),delete s.streamSinks[t])},error(u){hn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:sn.ERROR,streamId:t,reason:ua(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){a.postMessage({sourceName:n,targetName:i,stream:sn.START_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:sn.START_COMPLETE,streamId:t,reason:ua(u)})})},wK=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case sn.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ua(e.reason));break;case sn.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ua(e.reason));break;case sn.PULL:if(!o){a.postMessage({sourceName:n,targetName:i,stream:sn.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||RV).then(function(){a.postMessage({sourceName:n,targetName:i,stream:sn.PULL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:sn.PULL_COMPLETE,streamId:t,reason:ua(u)})});break;case sn.ENQUEUE:if(hn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case sn.CLOSE:if(hn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),B(this,Ms,fS).call(this,s,t);break;case sn.ERROR:hn(s,"error should have stream controller"),s.controller.error(ua(e.reason)),B(this,Ms,fS).call(this,s,t);break;case sn.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ua(e.reason)),B(this,Ms,fS).call(this,s,t);break;case sn.CANCEL:if(!o)break;const l=ua(e.reason);Promise.try(o.onCancel||RV,l).then(function(){a.postMessage({sourceName:n,targetName:i,stream:sn.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:sn.CANCEL_COMPLETE,streamId:t,reason:ua(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},fS=async function(e,t){var n,i,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var vx;class SK{constructor({enableHWA:e=!1}){R(this,vx,!1);M(this,vx,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!b(this,vx)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){fr("Abstract method `_createCanvas` called.")}}vx=new WeakMap;class $Ie extends SK{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class TK{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){fr("Abstract method `_fetch` called.")}}class OV extends TK{async _fetch(e){const t=await e_(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Qb(t)}}class AK{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,a){return"none"}destroy(e=!1){}}var _d,T0,uu,cu,xi,wd,Sd,He,mi,ay,Mv,dS,Iv,CK,TI,Lv,sy,oy,AI,ly;class UIe extends AK{constructor({docId:t,ownerDocument:n=globalThis.document}){super();R(this,He);R(this,_d);R(this,T0);R(this,uu);R(this,cu);R(this,xi);R(this,wd);R(this,Sd,0);M(this,cu,t),M(this,xi,n)}addFilter(t){if(!t)return"none";let n=b(this,He,mi).get(t);if(n)return n;const[i,a,s]=B(this,He,dS).call(this,t),o=t.length===1?i:`${i}${a}${s}`;if(n=b(this,He,mi).get(o),n)return b(this,He,mi).set(t,n),n;const l=`g_${b(this,cu)}_transfer_map_${Ii(this,Sd)._++}`,u=B(this,He,Iv).call(this,l);b(this,He,mi).set(t,u),b(this,He,mi).set(o,u);const c=B(this,He,Lv).call(this,l);return B(this,He,oy).call(this,i,a,s,c),u}addHCMFilter(t,n){var p;const i=`${t}-${n}`,a="base";let s=b(this,He,ay).get(a);if((s==null?void 0:s.key)===i||(s?((p=s.filter)==null||p.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},b(this,He,ay).set(a,s)),!t||!n))return s.url;const o=B(this,He,ly).call(this,t);t=et.makeHexColor(...o);const l=B(this,He,ly).call(this,n);if(n=et.makeHexColor(...l),b(this,He,Mv).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return s.url;const u=new Array(256);for(let v=0;v<=255;v++){const g=v/255;u[v]=g<=.03928?g/12.92:((g+.055)/1.055)**2.4}const c=u.join(","),h=`g_${b(this,cu)}_hcm_filter`,f=s.filter=B(this,He,Lv).call(this,h);B(this,He,oy).call(this,c,c,c,f),B(this,He,TI).call(this,f);const d=(v,g)=>{const m=o[v]/255,x=l[v]/255,y=new Array(g+1);for(let _=0;_<=g;_++)y[_]=m+_/g*(x-m);return y.join(",")};return B(this,He,oy).call(this,d(0,5),d(1,5),d(2,5),f),s.url=B(this,He,Iv).call(this,h),s.url}addAlphaFilter(t){let n=b(this,He,mi).get(t);if(n)return n;const[i]=B(this,He,dS).call(this,[t]),a=`alpha_${i}`;if(n=b(this,He,mi).get(a),n)return b(this,He,mi).set(t,n),n;const s=`g_${b(this,cu)}_alpha_map_${Ii(this,Sd)._++}`,o=B(this,He,Iv).call(this,s);b(this,He,mi).set(t,o),b(this,He,mi).set(a,o);const l=B(this,He,Lv).call(this,s);return B(this,He,AI).call(this,i,l),o}addLuminosityFilter(t){let n=b(this,He,mi).get(t||"luminosity");if(n)return n;let i,a;if(t?([i]=B(this,He,dS).call(this,[t]),a=`luminosity_${i}`):a="luminosity",n=b(this,He,mi).get(a),n)return b(this,He,mi).set(t,n),n;const s=`g_${b(this,cu)}_luminosity_map_${Ii(this,Sd)._++}`,o=B(this,He,Iv).call(this,s);b(this,He,mi).set(t,o),b(this,He,mi).set(a,o);const l=B(this,He,Lv).call(this,s);return B(this,He,CK).call(this,l),t&&B(this,He,AI).call(this,i,l),o}addHighlightHCMFilter(t,n,i,a,s){var x;const o=`${n}-${i}-${a}-${s}`;let l=b(this,He,ay).get(t);if((l==null?void 0:l.key)===o||(l?((x=l.filter)==null||x.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},b(this,He,ay).set(t,l)),!n||!i))return l.url;const[u,c]=[n,i].map(B(this,He,ly).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[d,p]=[a,s].map(B(this,He,ly).bind(this));f<h&&([h,f,d,p]=[f,h,p,d]),b(this,He,Mv).style.color="";const v=(y,_,S)=>{const w=new Array(256),T=(f-h)/S,A=y/255,C=(_-y)/(255*S);let k=0;for(let E=0;E<=S;E++){const D=Math.round(h+E*T),I=A+E*C;for(let P=k;P<=D;P++)w[P]=I;k=D+1}for(let E=k;E<256;E++)w[E]=w[k-1];return w.join(",")},g=`g_${b(this,cu)}_hcm_${t}_filter`,m=l.filter=B(this,He,Lv).call(this,g);return B(this,He,TI).call(this,m),B(this,He,oy).call(this,v(d[0],p[0],5),v(d[1],p[1],5),v(d[2],p[2],5),m),l.url=B(this,He,Iv).call(this,g),l.url}destroy(t=!1){var n,i,a,s;t&&((n=b(this,wd))!=null&&n.size)||((i=b(this,uu))==null||i.parentNode.parentNode.remove(),M(this,uu,null),(a=b(this,T0))==null||a.clear(),M(this,T0,null),(s=b(this,wd))==null||s.clear(),M(this,wd,null),M(this,Sd,0))}}_d=new WeakMap,T0=new WeakMap,uu=new WeakMap,cu=new WeakMap,xi=new WeakMap,wd=new WeakMap,Sd=new WeakMap,He=new WeakSet,mi=function(){return b(this,T0)||M(this,T0,new Map)},ay=function(){return b(this,wd)||M(this,wd,new Map)},Mv=function(){if(!b(this,uu)){const t=b(this,xi).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=b(this,xi).createElementNS($l,"svg");i.setAttribute("width",0),i.setAttribute("height",0),M(this,uu,b(this,xi).createElementNS($l,"defs")),t.append(i),i.append(b(this,uu)),b(this,xi).body.append(t)}return b(this,uu)},dS=function(t){if(t.length===1){const u=t[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=u[f]/255;const h=c.join(",");return[h,h,h]}const[n,i,a]=t,s=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=n[u]/255,o[u]=i[u]/255,l[u]=a[u]/255;return[s.join(","),o.join(","),l.join(",")]},Iv=function(t){if(b(this,_d)===void 0){M(this,_d,"");const n=b(this,xi).URL;n!==b(this,xi).baseURI&&(R2(n)?xt('#createUrl: ignore "data:"-URL for performance reasons.'):M(this,_d,NX(n,"")))}return`url(${b(this,_d)}#${t})`},CK=function(t){const n=b(this,xi).createElementNS($l,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},TI=function(t){const n=b(this,xi).createElementNS($l,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Lv=function(t){const n=b(this,xi).createElementNS($l,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),b(this,He,Mv).append(n),n},sy=function(t,n,i){const a=b(this,xi).createElementNS($l,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)},oy=function(t,n,i,a){const s=b(this,xi).createElementNS($l,"feComponentTransfer");a.append(s),B(this,He,sy).call(this,s,"feFuncR",t),B(this,He,sy).call(this,s,"feFuncG",n),B(this,He,sy).call(this,s,"feFuncB",i)},AI=function(t,n){const i=b(this,xi).createElementNS($l,"feComponentTransfer");n.append(i),B(this,He,sy).call(this,i,"feFuncA",t)},ly=function(t){return b(this,He,Mv).style.color=t,O2(getComputedStyle(b(this,He,Mv)).getPropertyValue("color"))};class kK{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){fr("Abstract method `_fetch` called.")}}class FV extends kK{async _fetch(e){const t=await e_(e,"arraybuffer");return new Uint8Array(t)}}class EK{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){fr("Abstract method `_fetch` called.")}}class NV extends EK{async _fetch(e){const t=await e_(e,"arraybuffer");return new Uint8Array(t)}}zi&&xt("Please use the `legacy` build in Node.js environments.");async function UO(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class WIe extends AK{}class YIe extends SK{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class XIe extends TK{async _fetch(e){return UO(e)}}class KIe extends kK{async _fetch(e){return UO(e)}}class jIe extends EK{async _fetch(e){return UO(e)}}const ti={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function CI(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class WO{isModifyingCurrentTransform(){return!1}getPattern(){fr("Abstract method `getPattern` called.")}}class qIe extends WO{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let a;if(i===ti.STROKE||i===ti.FILL){const s=t.current.getClippedPathBoundingBox(i,Vr(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=et.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),CI(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),a=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(n);a.setTransform(h)}else CI(e,this._bbox),a=this._createGradient(e);return a}}function LE(r,e,t,n,i,a,s,o){const l=e.coords,u=e.colors,c=r.data,h=r.width*4;let f;l[t+1]>l[n+1]&&(f=t,t=n,n=f,f=a,a=s,s=f),l[n+1]>l[i+1]&&(f=n,n=i,i=f,f=s,s=o,o=f),l[t+1]>l[n+1]&&(f=t,t=n,n=f,f=a,a=s,s=f);const d=(l[t]+e.offsetX)*e.scaleX,p=(l[t+1]+e.offsetY)*e.scaleY,v=(l[n]+e.offsetX)*e.scaleX,g=(l[n+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,x=(l[i+1]+e.offsetY)*e.scaleY;if(p>=x)return;const y=u[a],_=u[a+1],S=u[a+2],w=u[s],T=u[s+1],A=u[s+2],C=u[o],k=u[o+1],E=u[o+2],D=Math.round(p),I=Math.round(x);let P,F,V,z,G,O,ee,Q;for(let N=D;N<=I;N++){if(N<g){const fe=N<p?0:(p-N)/(p-g);P=d-(d-v)*fe,F=y-(y-w)*fe,V=_-(_-T)*fe,z=S-(S-A)*fe}else{let fe;N>x?fe=1:g===x?fe=0:fe=(g-N)/(g-x),P=v-(v-m)*fe,F=w-(w-C)*fe,V=T-(T-k)*fe,z=A-(A-E)*fe}let Y;N<p?Y=0:N>x?Y=1:Y=(p-N)/(p-x),G=d-(d-m)*Y,O=y-(y-C)*Y,ee=_-(_-k)*Y,Q=S-(S-E)*Y;const W=Math.round(Math.min(P,G)),K=Math.round(Math.max(P,G));let ne=h*N+W*4;for(let fe=W;fe<=K;fe++)Y=(P-fe)/(P-G),Y<0?Y=0:Y>1&&(Y=1),c[ne++]=F-(F-O)*Y|0,c[ne++]=V-(V-ee)*Y|0,c[ne++]=z-(z-Q)*Y|0,c[ne++]=255}}function ZIe(r,e,t){const n=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,u=o-1;for(a=0;a<l;a++){let c=a*o;for(let h=0;h<u;h++,c++)LE(r,t,n[c],n[c+1],n[c+o],i[c],i[c+1],i[c+o]),LE(r,t,n[c+o+1],n[c+1],n[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(a=0,s=n.length;a<s;a+=3)LE(r,t,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class JIe extends WO{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),d=u/h,p=c/f,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/d,scaleY:1/p},g=h+2*2,m=f+2*2,x=n.getCanvas("mesh",g,m),y=x.context,_=y.createImageData(h,f);if(t){const w=_.data;for(let T=0,A=w.length;T<A;T+=4)w[T]=t[0],w[T+1]=t[1],w[T+2]=t[2],w[T+3]=255}for(const w of this._figures)ZIe(_,w,v);return y.putImageData(_,2,2),{canvas:x.canvas,offsetX:o-2*d,offsetY:l-2*p,scaleX:d,scaleY:p}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){CI(e,this._bbox);const a=new Float32Array(2);if(i===ti.SHADING)et.singularValueDecompose2dScale(Vr(e),a);else if(this.matrix){et.singularValueDecompose2dScale(this.matrix,a);const[o,l]=a;et.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=o,a[1]*=l}else et.singularValueDecompose2dScale(t.baseTransform,a);const s=this._createMeshCanvas(a,i===ti.SHADING?null:this._background,t.cachedCanvases);return i!==ti.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class QIe extends WO{getPattern(){return"hotpink"}}function eLe(r){switch(r[0]){case"RadialAxial":return new qIe(r);case"Mesh":return new JIe(r);case"Dummy":return new QIe}throw new Error(`Unknown IR type: ${r[0]}`)}const BV={COLORED:1,UNCOLORED:2},vA=class vA{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:a,color:s,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),P2("TilingType: "+a);const c=t[0],h=t[1],f=t[2],d=t[3],p=f-c,v=d-h,g=new Float32Array(2);et.singularValueDecompose2dScale(this.matrix,g);const[m,x]=g;et.singularValueDecompose2dScale(this.baseTransform,g);const y=m*g[0],_=x*g[1];let S=p,w=v,T=!1,A=!1;const C=Math.ceil(l*y),k=Math.ceil(u*_),E=Math.ceil(p*y),D=Math.ceil(v*_);C>=E?S=l:T=!0,k>=D?w=u:A=!0;const I=this.getSizeAndScale(S,this.ctx.canvas.width,y),P=this.getSizeAndScale(w,this.ctx.canvas.height,_),F=e.cachedCanvases.getCanvas("pattern",I.size,P.size),V=F.context,z=o.createCanvasGraphics(V);if(z.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(z,i,s),V.translate(-I.scale*c,-P.scale*h),z.transform(I.scale,0,0,P.scale,0,0),V.save(),this.clipBbox(z,c,h,f,d),z.baseTransform=Vr(z.ctx),z.executeOperatorList(n),z.endDrawing(),V.restore(),T||A){const G=F.canvas;T&&(S=l),A&&(w=u);const O=this.getSizeAndScale(S,this.ctx.canvas.width,y),ee=this.getSizeAndScale(w,this.ctx.canvas.height,_),Q=O.size,N=ee.size,Y=e.cachedCanvases.getCanvas("pattern-workaround",Q,N),W=Y.context,K=T?Math.floor(p/l):0,ne=A?Math.floor(v/u):0;for(let fe=0;fe<=K;fe++)for(let ae=0;ae<=ne;ae++)W.drawImage(G,Q*fe,N*ae,Q,N,0,0,Q,N);return{canvas:Y.canvas,scaleX:O.scale,scaleY:ee.scale,offsetX:c,offsetY:h}}return{canvas:F.canvas,scaleX:I.scale,scaleY:P.scale,offsetX:c,offsetY:h}}getSizeAndScale(e,t,n){const i=Math.max(vA.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,i,a){const s=i-t,o=a-n;e.ctx.rect(t,n,s,o),et.axialAlignedBoundingBox([t,n,i,a],Vr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,a=e.current;switch(t){case BV.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;i.fillStyle=a.fillColor=s,i.strokeStyle=a.strokeColor=o;break;case BV.UNCOLORED:i.fillStyle=i.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new xIe(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i){let a=n;i!==ti.SHADING&&(a=et.transform(a,t.baseTransform),this.matrix&&(a=et.transform(a,this.matrix)));const s=this.createPatternCanvas(t);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(o),l}};Ce(vA,"MAX_PATTERN_SIZE",3e3);let kI=vA;function tLe({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=li.isLittleEndian?4278190080:255,[l,u]=s?[a,o]:[o,a],c=n>>3,h=n&7,f=r.length;t=new Uint32Array(t.buffer);let d=0;for(let p=0;p<i;p++){for(const g=e+c;e<g;e++){const m=e<f?r[e]:255;t[d++]=m&128?u:l,t[d++]=m&64?u:l,t[d++]=m&32?u:l,t[d++]=m&16?u:l,t[d++]=m&8?u:l,t[d++]=m&4?u:l,t[d++]=m&2?u:l,t[d++]=m&1?u:l}if(h===0)continue;const v=e<f?r[e++]:255;for(let g=0;g<h;g++)t[d++]=v&1<<7-g?u:l}return{srcPos:e,destPos:d}}const VV=16,zV=100,rLe=15,HV=10,ma=16,PE=new DOMMatrix,za=new Float32Array(2),Gv=new Float32Array([1/0,1/0,-1/0,-1/0]);function nLe(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,i,a,s,o){e.transform(t,n,i,a,s,o),this.__originalTransform(t,n,i,a,s,o)},r.setTransform=function(t,n,i,a,s,o){e.setTransform(t,n,i,a,s,o),this.__originalSetTransform(t,n,i,a,s,o)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,a,s,o){e.bezierCurveTo(t,n,i,a,s,o),this.__originalBezierCurveTo(t,n,i,a,s,o)},r.rect=function(t,n,i,a){e.rect(t,n,i,a),this.__originalRect(t,n,i,a)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class iLe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Aw(r,e,t,n,i,a,s,o,l,u){const[c,h,f,d,p,v]=Vr(r);if(h===0&&f===0){const x=s*c+p,y=Math.round(x),_=o*d+v,S=Math.round(_),w=(s+l)*c+p,T=Math.abs(Math.round(w)-y)||1,A=(o+u)*d+v,C=Math.abs(Math.round(A)-S)||1;return r.setTransform(Math.sign(c),0,0,Math.sign(d),y,S),r.drawImage(e,t,n,i,a,0,0,T,C),r.setTransform(c,h,f,d,p,v),[T,C]}if(c===0&&d===0){const x=o*f+p,y=Math.round(x),_=s*h+v,S=Math.round(_),w=(o+u)*f+p,T=Math.abs(Math.round(w)-y)||1,A=(s+l)*h+v,C=Math.abs(Math.round(A)-S)||1;return r.setTransform(0,Math.sign(h),Math.sign(f),0,y,S),r.drawImage(e,t,n,i,a,0,0,C,T),r.setTransform(c,h,f,d,p,v),[C,T]}r.drawImage(e,t,n,i,a,s,o,l,u);const g=Math.hypot(c,h),m=Math.hypot(f,d);return[g*l,m*u]}class GV{constructor(e,t){Ce(this,"alphaIsShape",!1);Ce(this,"fontSize",0);Ce(this,"fontSizeScale",1);Ce(this,"textMatrix",null);Ce(this,"textMatrixScale",1);Ce(this,"fontMatrix",rI);Ce(this,"leading",0);Ce(this,"x",0);Ce(this,"y",0);Ce(this,"lineX",0);Ce(this,"lineY",0);Ce(this,"charSpacing",0);Ce(this,"wordSpacing",0);Ce(this,"textHScale",1);Ce(this,"textRenderingMode",gi.FILL);Ce(this,"textRise",0);Ce(this,"fillColor","#000000");Ce(this,"strokeColor","#000000");Ce(this,"patternFill",!1);Ce(this,"patternStroke",!1);Ce(this,"fillAlpha",1);Ce(this,"strokeAlpha",1);Ce(this,"lineWidth",1);Ce(this,"activeSMask",null);Ce(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Gv.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ti.FILL,t=null){const n=this.minMax.slice();if(e===ti.STROKE){t||fr("Stroke bounding box must include transform."),et.singularValueDecompose2dScale(t,za);const i=za[0]*this.lineWidth/2,a=za[1]*this.lineWidth/2;n[0]-=i,n[1]-=a,n[2]+=i,n[3]+=a}return n}updateClipFromPath(){const e=et.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Gv,0)}getClippedPathBoundingBox(e=ti.FILL,t=null){return et.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function $V(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%ma,a=(t-i)/ma,s=i===0?a:a+1,o=r.createImageData(n,ma);let l=0,u;const c=e.data,h=o.data;let f,d,p,v;if(e.kind===iS.GRAYSCALE_1BPP){const g=c.byteLength,m=new Uint32Array(h.buffer,0,h.byteLength>>2),x=m.length,y=n+7>>3,_=4294967295,S=li.isLittleEndian?4278190080:255;for(f=0;f<s;f++){for(p=f<a?ma:i,u=0,d=0;d<p;d++){const w=g-l;let T=0;const A=w>y?n:w*8-7,C=A&-8;let k=0,E=0;for(;T<C;T+=8)E=c[l++],m[u++]=E&128?_:S,m[u++]=E&64?_:S,m[u++]=E&32?_:S,m[u++]=E&16?_:S,m[u++]=E&8?_:S,m[u++]=E&4?_:S,m[u++]=E&2?_:S,m[u++]=E&1?_:S;for(;T<A;T++)k===0&&(E=c[l++],k=128),m[u++]=E&k?_:S,k>>=1}for(;u<x;)m[u++]=0;r.putImageData(o,0,f*ma)}}else if(e.kind===iS.RGBA_32BPP){for(d=0,v=n*ma*4,f=0;f<a;f++)h.set(c.subarray(l,l+v)),l+=v,r.putImageData(o,0,d),d+=ma;f<s&&(v=n*i*4,h.set(c.subarray(l,l+v)),r.putImageData(o,0,d))}else if(e.kind===iS.RGB_24BPP)for(p=ma,v=n*p,f=0;f<s;f++){for(f>=a&&(p=i,v=n*p),u=0,d=v;d--;)h[u++]=c[l++],h[u++]=c[l++],h[u++]=c[l++],h[u++]=255;r.putImageData(o,0,f*ma)}else throw new Error(`bad image kind: ${e.kind}`)}function UV(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%ma,a=(t-i)/ma,s=i===0?a:a+1,o=r.createImageData(n,ma);let l=0;const u=e.data,c=o.data;for(let h=0;h<s;h++){const f=h<a?ma:i;({srcPos:l}=tLe({src:u,srcPos:l,dest:c,width:n,height:f,nonBlackColor:0})),r.putImageData(o,0,h*ma)}}function Im(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Cw(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function WV(r,e){if(e)return!0;et.singularValueDecompose2dScale(r,za);const t=Math.fround(Cl.pixelRatio*Xh.PDF_TO_CSS_UNITS);return za[0]<=t&&za[1]<=t}const aLe=["butt","round","square"],sLe=["miter","round","bevel"],oLe={},YV={};var So,EI,DI,MI;const nF=class nF{constructor(e,t,n,i,a,{optionalContentConfig:s,markedContentStack:o=null},l,u){R(this,So);this.ctx=e,this.current=new GV(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new iLe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Vr(this.compositeCtx))}this.ctx.save(),Cw(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Vr(this.ctx)}executeOperatorList(e,t,n,i){const a=e.argsArray,s=e.fnArray;let o=t||0;const l=a.length;if(l===o)return o;const u=l-o>HV&&typeof n=="function",c=u?Date.now()+rLe:0;let h=0;const f=this.commonObjs,d=this.objs;let p;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(p=s[o],p!==qT.dependency)this[p].apply(this,a[o]);else for(const v of a[o]){const g=v.startsWith("g_")?f:d;if(!g.has(v))return g.get(v,n),o}if(o++,o===l)return o;if(u&&++h>HV){if(Date.now()>c)return n(),o;h=0}}}endDrawing(){B(this,So,EI).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),B(this,So,DI).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,u="prescale1",c,h;for(;a>2&&o>1||s>2&&l>1;){let f=o,d=l;a>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/f),s>2&&l>1&&(d=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/d),c=this.cachedCanvases.getCanvas(u,f,d),h=c.context,h.clearRect(0,0,f,d),h.drawImage(e,0,0,o,l,0,0,f,d),e=c.canvas,o=f,l=d,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,a=this.current.fillColor,s=this.current.patternFill,o=Vr(t);let l,u,c,h;if((e.bitmap||e.data)&&e.count>1){const C=e.bitmap||e.data.buffer;u=JSON.stringify(s?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(C),l||(l=new Map,this._cachedBitmapsMap.set(C,l));const k=l.get(u);if(k&&!s){const E=Math.round(Math.min(o[0],o[2])+o[4]),D=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:k,offsetX:E,offsetY:D}}c=k}c||(h=this.cachedCanvases.getCanvas("maskCanvas",n,i),UV(h.context,e));let f=et.transform(o,[1/n,0,0,-1/i,0,0]);f=et.transform(f,[1,0,0,1,0,-i]);const d=Gv.slice();et.axialAlignedBoundingBox([0,0,n,i],f,d);const[p,v,g,m]=d,x=Math.round(g-p)||1,y=Math.round(m-v)||1,_=this.cachedCanvases.getCanvas("fillCanvas",x,y),S=_.context,w=p,T=v;S.translate(-w,-T),S.transform(...f),c||(c=this._scaleImage(h.canvas,Ro(S)),c=c.img,l&&s&&l.set(u,c)),S.imageSmoothingEnabled=WV(Vr(S),e.interpolate),Aw(S,c,0,0,c.width,c.height,0,0,n,i),S.globalCompositeOperation="source-in";const A=et.transform(Ro(S),[1,0,0,1,-w,-T]);return S.fillStyle=s?a.getPattern(t,this,A,ti.FILL):a,S.fillRect(0,0,n,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(w),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=aLe[e]}setLineJoin(e){this.ctx.lineJoin=sLe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const a=this.ctx=i.context;a.setTransform(this.suspendedCtx.getTransform()),Im(this.suspendedCtx,a),nLe(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Im(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const a=i[0],s=i[1],o=i[2]-a,l=i[3]-s;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,a,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,a,s,o,l,u,c,h){let f=e.canvas,d=l-c,p=u-h;if(s)if(d<0||p<0||d+n>f.width||p+i>f.height){const g=this.cachedCanvases.getCanvas("maskExtension",n,i),m=g.context;m.drawImage(f,-d,-p),m.globalCompositeOperation="destination-atop",m.fillStyle=s,m.fillRect(0,0,n,i),m.globalCompositeOperation="source-over",f=g.canvas,d=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(d,p,n,i),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(d,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,u,n,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,d,p,n,i,l,u,n,i),t.restore()}save(){this.inSMaskMode&&Im(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Im(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,a,s){this.ctx.transform(e,t,n,i,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[i]=t;if(!n){i||(i=t[0]=new Path2D),this[e](i);return}if(!(i instanceof Path2D)){const a=t[0]=new Path2D;for(let s=0,o=i.length;s<o;)switch(i[s++]){case _w.moveTo:a.moveTo(i[s++],i[s++]);break;case _w.lineTo:a.lineTo(i[s++],i[s++]);break;case _w.curveTo:a.bezierCurveTo(i[s++],i[s++],i[s++],i[s++],i[s++],i[s++]);break;case _w.closePath:a.closePath();break;default:xt(`Unrecognized drawing path operator: ${i[s-1]}`);break}i=a}et.axialAlignedBoundingBox(n,Vr(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,i=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const a=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=i.getPattern(n,this,Ro(n),ti.STROKE),a){const s=new Path2D;s.addPath(e,n.getTransform().invertSelf().multiplySelf(a)),e=s}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(ti.STROKE,Vr(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,i=this.current.fillColor,a=this.current.patternFill;let s=!1;if(a){const l=i.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=i.getPattern(n,this,Ro(n),ti.FILL),l){const u=new Path2D;u.addPath(e,n.getTransform().invertSelf().multiplySelf(l)),e=u}s=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),s&&n.restore(),t&&this.consumePath(e,o)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=oLe}eoClip(){this.pendingClip=YV}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,i=t.getTransform().invertSelf();for(const{transform:a,x:s,y:o,fontSize:l,path:u}of e)u&&n.addPath(u,new DOMMatrix(a).preMultiplySelf(i).translate(s,o).scale(l,-l));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var c;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||rI,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&xt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const a=n.loadedName||"sans-serif",s=((c=n.systemFontInfo)==null?void 0:c.css)||`"${a}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let u=t;t<VV?u=VV:t>zV&&(u=zV),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${o} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i,a){const s=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,h=u&gi.FILL_STROKE_MASK,f=!!(u&gi.ADD_TO_PATH_FLAG),d=o.patternFill&&!l.missingFile,p=o.patternStroke&&!l.missingFile;let v;if((l.disableFontFace||f||d||p)&&!l.missingFile&&(v=l.getPathGenerator(this.commonObjs,e)),v&&(l.disableFontFace||d||p)){s.save(),s.translate(t,n),s.scale(c,-c);let g;if((h===gi.FILL||h===gi.FILL_STROKE)&&(i?(g=s.getTransform(),s.setTransform(...i),s.fill(B(this,So,MI).call(this,v,g,i))):s.fill(v)),h===gi.STROKE||h===gi.FILL_STROKE)if(a){g||(g=s.getTransform()),s.setTransform(...a);const{a:m,b:x,c:y,d:_}=g,S=et.inverseTransform(a),w=et.transform([m,x,y,_,0,0],S);et.singularValueDecompose2dScale(w,za),s.lineWidth*=Math.max(za[0],za[1])/c,s.stroke(B(this,So,MI).call(this,v,g,a))}else s.lineWidth/=c,s.stroke(v);s.restore()}else(h===gi.FILL||h===gi.FILL_STROKE)&&s.fillText(e,t,n),(h===gi.STROKE||h===gi.FILL_STROKE)&&s.strokeText(e,t,n);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Vr(s),x:t,y:n,fontSize:c,path:v})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Pt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const a=this.ctx,s=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,c=t.textHScale*u,h=e.length,f=n.vertical,d=f?1:-1,p=n.defaultVMetrics,v=i*t.fontMatrix[0],g=t.textRenderingMode===gi.FILL&&!n.disableFontFace&&!t.patternFill;a.save(),t.textMatrix&&a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),u>0?a.scale(c,-1):a.scale(c,1);let m,x;if(t.patternFill){a.save();const T=t.fillColor.getPattern(a,this,Ro(a),ti.FILL);m=Vr(a),a.restore(),a.fillStyle=T}if(t.patternStroke){a.save();const T=t.strokeColor.getPattern(a,this,Ro(a),ti.STROKE);x=Vr(a),a.restore(),a.strokeStyle=T}let y=t.lineWidth;const _=t.textMatrixScale;if(_===0||y===0){const T=t.textRenderingMode&gi.FILL_STROKE_MASK;(T===gi.STROKE||T===gi.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=_;if(s!==1&&(a.scale(s,s),y/=s),a.lineWidth=y,n.isInvalidPDFjsFont){const T=[];let A=0;for(const C of e)T.push(C.unicode),A+=C.width;a.fillText(T.join(""),0,0),t.x+=A*v*c,a.restore(),this.compose();return}let S=0,w;for(w=0;w<h;++w){const T=e[w];if(typeof T=="number"){S+=d*T*i/1e3;continue}let A=!1;const C=(T.isSpace?l:0)+o,k=T.fontChar,E=T.accent;let D,I,P=T.width;if(f){const V=T.vmetric||p,z=-(T.vmetric?V[1]:P*.5)*v,G=V[2]*v;P=V?-V[0]:P,D=z/s,I=(S+G)/s}else D=S/s,I=0;if(n.remeasure&&P>0){const V=a.measureText(k).width*1e3/i*s;if(P<V&&this.isFontSubpixelAAEnabled){const z=P/V;A=!0,a.save(),a.scale(z,1),D/=z}else P!==V&&(D+=(P-V)/2e3*i/s)}if(this.contentVisible&&(T.isInFont||n.missingFile)){if(g&&!E)a.fillText(k,D,I);else if(this.paintChar(k,D,I,m,x),E){const V=D+i*E.offset.x/s,z=I-i*E.offset.y/s;this.paintChar(E.fontChar,V,z,m,x)}}const F=f?P*v-C*u:P*v+C*u;S+=F,A&&a.restore()}f?t.y-=S:t.x+=S*c,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,a=n.fontSize,s=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,u=n.wordSpacing,c=n.textHScale*s,h=n.fontMatrix||rI,f=e.length,d=n.textRenderingMode===gi.INVISIBLE;let p,v,g,m;if(!(d||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(c,s),p=0;p<f;++p){if(v=e[p],typeof v=="number"){m=o*v*a/1e3,this.ctx.translate(m,0),n.x+=m*c;continue}const x=(v.isSpace?u:0)+l,y=i.charProcOperatorList[v.operatorListId];y?this.contentVisible&&(this.save(),t.scale(a,a),t.transform(...h),this.executeOperatorList(y),this.restore()):xt(`Type3 character "${v.operatorListId}" is not available.`);const _=[v.width,0];et.applyTransform(_,h),g=_[0]*a+x,t.translate(g,0),n.x+=g*c}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,a,s){const o=new Path2D;o.rect(n,i,a-n,s-i),this.ctx.clip(o),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||Vr(this.ctx),i={createCanvasGraphics:a=>new nF(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new kI(e,this.ctx,i,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=eLe(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Ro(t),ti.SHADING);const i=Ro(t);if(i){const{width:a,height:s}=t.canvas,o=Gv.slice();et.axialAlignedBoundingBox([0,0,a,s],i,o);const[l,u,c,h]=o;this.ctx.fillRect(l,u,c-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){fr("Should not call beginInlineImage")}beginImageData(){fr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Vr(this.ctx),t)){et.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,i,a,s]=t,o=new Path2D;o.rect(n,i,a-n,s-i),this.ctx.clip(o),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||P2("TODO: Support non-isolated groups."),e.knockout&&xt("Knockout groups not supported.");const n=Vr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Gv.slice();et.axialAlignedBoundingBox(e.bbox,Vr(t),i);const a=[0,0,t.canvas.width,t.canvas.height];i=et.intersect(i,a)||[0,0,0,0];const s=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(c,l,u),f=h.context;f.translate(-s,-o),f.transform(...n);let d=new Path2D;const[p,v,g,m]=e.bbox;if(d.rect(p,v,g-p,m-v),e.matrix){const x=new Path2D;x.addPath(d,new DOMMatrix(e.matrix)),d=x}f.clip(d),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:s,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,o),t.save()),Im(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Vr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=Gv.slice();et.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,a),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,n,i,a){if(B(this,So,EI).call(this),Cw(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const s=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=s,t[3]=o,et.singularValueDecompose2dScale(Vr(this.ctx),za);const{viewportScale:l}=this,u=Math.ceil(s*this.outputScaleX*l),c=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(u,c);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(za[0],0,0,-za[1],0,o*za[1]),Cw(this.ctx)}else{Cw(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],s,o),this.ctx.clip(l)}}this.current=new GV(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),B(this,So,DI).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,a,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Vr(o);o.transform(t,n,i,a,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,h=s.length;c<h;c+=2){const f=et.transform(l,[t,n,i,a,s[c],s[c+1]]);o.drawImage(u.canvas,f[4],f[5])}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:s,width:o,height:l,transform:u}=a,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=c.context;h.save();const f=this.getObject(s,a);UV(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,Ro(t),ti.FILL):n,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Aw(t,c.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){xt("Dependent image isn't ready yet");return}const s=a.width,o=a.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[t,0,0,n,i[u],i[u+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;this.save();const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none"),i.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,n).context;$V(u,e),s=this.applyTransferMapsToCanvas(u)}const o=this._scaleImage(s,Ro(i));i.imageSmoothingEnabled=WV(Vr(i),e.interpolate),Aw(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",a,s).context;$V(l,e),i=this.applyTransferMapsToCanvas(l)}for(const a of t)n.save(),n.transform(...a.transform),n.scale(1,-1),Aw(n,i,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===YV?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Vr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:a}=this.ctx.getTransform();let s,o;if(n===0&&i===0){const l=Math.abs(t),u=Math.abs(a);if(l===u)if(e===0)s=o=1/l;else{const c=l*e;s=o=c<1?1/c:1}else if(e===0)s=1/l,o=1/u;else{const c=l*e,h=u*e;s=c<1?1/c:1,o=h<1?1/h:1}}else{const l=Math.abs(t*a-n*i),u=Math.hypot(t,n),c=Math.hypot(i,a);if(e===0)s=c/l,o=u/l;else{const h=e*l;s=c>h?c/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s){n.lineWidth=(i||1)*a,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(a,s),PE.a=1/a,PE.d=1/s;const l=new Path2D;if(l.addPath(e,PE),o.length>0){const u=Math.max(a,s);n.setLineDash(o.map(c=>c/u)),n.lineDashOffset/=u}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};So=new WeakSet,EI=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},DI=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},MI=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let n0=nF;for(const r in qT)n0.prototype[r]!==void 0&&(n0.prototype[qT[r]]=n0.prototype[r]);var gx,mx;class cl{static get workerPort(){return b(this,gx)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");M(this,gx,e)}static get workerSrc(){return b(this,mx)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");M(this,mx,e)}}gx=new WeakMap,mx=new WeakMap,R(cl,gx,null),R(cl,mx,"");var A0,yx;class lLe{constructor({parsedData:e,rawData:t}){R(this,A0);R(this,yx);M(this,A0,e),M(this,yx,t)}getRaw(){return b(this,yx)}get(e){return b(this,A0).get(e)??null}[Symbol.iterator](){return b(this,A0).entries()}}A0=new WeakMap,yx=new WeakMap;const Pv=Symbol("INTERNAL");var xx,bx,_x,C0;class uLe{constructor(e,{name:t,intent:n,usage:i,rbGroups:a}){R(this,xx,!1);R(this,bx,!1);R(this,_x,!1);R(this,C0,!0);M(this,xx,!!(e&Va.DISPLAY)),M(this,bx,!!(e&Va.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=a}get visible(){if(b(this,_x))return b(this,C0);if(!b(this,C0))return!1;const{print:e,view:t}=this.usage;return b(this,xx)?(t==null?void 0:t.viewState)!=="OFF":b(this,bx)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Pv&&fr("Internal method `_setVisible` called."),M(this,_x,n),M(this,C0,t)}}xx=new WeakMap,bx=new WeakMap,_x=new WeakMap,C0=new WeakMap;var Wc,cr,k0,E0,Sx,II;class cLe{constructor(e,t=Va.DISPLAY){R(this,Sx);R(this,Wc,null);R(this,cr,new Map);R(this,k0,null);R(this,E0,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,M(this,E0,e.order);for(const n of e.groups)b(this,cr).set(n.id,new uLe(t,n));if(e.baseState==="OFF")for(const n of b(this,cr).values())n._setVisible(Pv,!1);for(const n of e.on)b(this,cr).get(n)._setVisible(Pv,!0);for(const n of e.off)b(this,cr).get(n)._setVisible(Pv,!1);M(this,k0,this.getHash())}}isVisible(e){if(b(this,cr).size===0)return!0;if(!e)return P2("Optional content group not defined."),!0;if(e.type==="OCG")return b(this,cr).has(e.id)?b(this,cr).get(e.id).visible:(xt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return B(this,Sx,II).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!b(this,cr).has(t))return xt(`Optional content group not found: ${t}`),!0;if(b(this,cr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!b(this,cr).has(t))return xt(`Optional content group not found: ${t}`),!0;if(!b(this,cr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!b(this,cr).has(t))return xt(`Optional content group not found: ${t}`),!0;if(!b(this,cr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!b(this,cr).has(t))return xt(`Optional content group not found: ${t}`),!0;if(b(this,cr).get(t).visible)return!1}return!0}return xt(`Unknown optional content policy ${e.policy}.`),!0}return xt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var a;const i=b(this,cr).get(e);if(!i){xt(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=b(this,cr).get(o))==null||a._setVisible(Pv,!1,!0));i._setVisible(Pv,!!t,!0),M(this,Wc,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const a=b(this,cr).get(i);if(a)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!a.visible,t);break}}M(this,Wc,null)}get hasInitialVisibility(){return b(this,k0)===null||this.getHash()===b(this,k0)}getOrder(){return b(this,cr).size?b(this,E0)?b(this,E0).slice():[...b(this,cr).keys()]:null}getGroup(e){return b(this,cr).get(e)||null}getHash(){if(b(this,Wc)!==null)return b(this,Wc);const e=new mK;for(const[t,n]of b(this,cr))e.update(`${t}:${n.visible}`);return M(this,Wc,e.hexdigest())}[Symbol.iterator](){return b(this,cr).entries()}}Wc=new WeakMap,cr=new WeakMap,k0=new WeakMap,E0=new WeakMap,Sx=new WeakSet,II=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const a=e[i];let s;if(Array.isArray(a))s=B(this,Sx,II).call(this,a);else if(b(this,cr).has(a))s=b(this,cr).get(a).visible;else return xt(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};class hLe{constructor(e,{disableRange:t=!1,disableStream:n=!1}){hn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});hn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,a;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){hn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new fLe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new dLe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class fLe{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=GO(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dLe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function pLe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let c=o(t);return c=unescape(c),c=l(c),c=u(c),a(c)}if(t=s(r),t){const c=u(t);return a(c)}if(t=n("filename","i").exec(r),t){t=t[1];let c=o(t);return c=u(c),a(c)}function n(c,h){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(c,h){if(c){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(c,{fatal:!0}),d=Qb(h);h=f.decode(d),e=!1}catch{}}return h}function a(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const h=[];let f;const d=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=d.exec(c))!==null;){let[,v,g,m]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[g,m]}const p=[];for(let v=0;v<h.length&&v in h;++v){let[g,m]=h[v];m=o(m),g&&(m=unescape(m),v===0&&(m=l(m))),p.push(m)}return p.join("")}function o(c){if(c.startsWith('"')){const h=c.slice(1).split('\\"');for(let f=0;f<h.length;++f){const d=h[f].indexOf('"');d!==-1&&(h[f]=h[f].slice(0,d),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}c=h.join('"')}return c}function l(c){const h=c.indexOf("'");if(h===-1)return c;const f=c.slice(0,h),p=c.slice(h+1).replace(/^[^']*'/,"");return i(f,p)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,d,p){if(d==="q"||d==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,g){return String.fromCharCode(parseInt(g,16))}),i(f,p);try{p=atob(p)}catch{}return i(f,p)})}return""}function DK(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function F2(r){var e;return((e=URL.parse(r))==null?void 0:e.origin)??null}function MK({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(r.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function IK(r){const e=r.get("Content-Disposition");if(e){let t=pLe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(GO(t))return t}return null}function n_(r,e){return new ZT(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function LK(r){return r===200||r===206}function PK(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function RK(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(xt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class vLe{constructor(e){Ce(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=DK(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gLe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new mLe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class gLe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,PK(n,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=F2(a.url),!LK(a.status))throw n_(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:l}=MK({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=IK(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Yh("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:RK(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mLe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${n-1}`);const s=i.url;fetch(s,PK(a,this._withCredentials,this._abortController)).then(o=>{const l=F2(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!LK(o.status))throw n_(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:RK(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const RE=200,OE=206;function yLe(r){const e=r.response;return typeof e!="string"?e:Qb(e).buffer}class xLe{constructor({url:e,httpHeaders:t,withCredentials:n}){Ce(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=DK(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,s]of this.headers)t.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=OE):i.expectedStatus=RE,t.responseType="arraybuffer",hn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const a=i.status||RE;if(!(a===RE&&n.expectedStatus===OE)&&a!==n.expectedStatus){n.onError(i.status);return}const o=yLe(i);if(a===OE){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?n.onDone({begin:parseInt(u[1],10),chunk:o}):(xt('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class bLe{constructor(e){this._source=e,this._manager=new xLe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return hn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _Le(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new wLe(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class _Le{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=F2(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=MK({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=IK(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=n_(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wLe{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=F2((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=n_(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const SLe=/^[a-z][a-z0-9\-+.]+:/i;function TLe(r){if(SLe.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class ALe{constructor(e){this.source=e,this.url=TLe(e.url),hn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new CLe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new kLe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class CLe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=n_(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Yh("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kLe{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Lm=Symbol("INITIAL_DATA");var ka,Tx,LI;class OK{constructor(){R(this,Tx);R(this,ka,Object.create(null))}get(e,t=null){if(t){const i=B(this,Tx,LI).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=b(this,ka)[e];if(!n||n.data===Lm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=b(this,ka)[e];return!!t&&t.data!==Lm}delete(e){const t=b(this,ka)[e];return!t||t.data===Lm?!1:(delete b(this,ka)[e],!0)}resolve(e,t=null){const n=B(this,Tx,LI).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in b(this,ka)){const{data:n}=b(this,ka)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}M(this,ka,Object.create(null))}*[Symbol.iterator](){for(const e in b(this,ka)){const{data:t}=b(this,ka)[e];t!==Lm&&(yield[e,t])}}}ka=new WeakMap,Tx=new WeakSet,LI=function(e){var t;return(t=b(this,ka))[e]||(t[e]={...Promise.withResolvers(),data:Lm})};const ELe=1e5,XV=30;var nz,Yc,da,Ax,Cx,Td,hu,kx,Ex,Ad,D0,M0,Xc,I0,Dx,L0,Cd,Mx,Ix,P0,kd,Lx,Kc,R0,nc,FK,NK,PI,ja,pS,RI,BK,VK;const mn=class mn{constructor({textContentSource:e,container:t,viewport:n}){R(this,nc);R(this,Yc,Promise.withResolvers());R(this,da,null);R(this,Ax,!1);R(this,Cx,!!((nz=globalThis.FontInspector)!=null&&nz.enabled));R(this,Td,null);R(this,hu,null);R(this,kx,0);R(this,Ex,0);R(this,Ad,null);R(this,D0,null);R(this,M0,0);R(this,Xc,0);R(this,I0,Object.create(null));R(this,Dx,[]);R(this,L0,null);R(this,Cd,[]);R(this,Mx,new WeakMap);R(this,Ix,null);var l;if(e instanceof ReadableStream)M(this,L0,e);else if(typeof e=="object")M(this,L0,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');M(this,da,M(this,D0,t)),M(this,Xc,n.scale*Cl.pixelRatio),M(this,M0,n.rotation),M(this,hu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=n.rawDims;M(this,Ix,[1,0,0,-1,-s,o+a]),M(this,Ex,i),M(this,kx,a),B(l=mn,ja,BK).call(l),Dp(t,n),b(this,Yc).promise.finally(()=>{b(mn,R0).delete(this),M(this,hu,null),M(this,I0,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=li.platform;return Pt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{b(this,Ad).read().then(({value:t,done:n})=>{if(n){b(this,Yc).resolve();return}b(this,Td)??M(this,Td,t.lang),Object.assign(b(this,I0),t.styles),B(this,nc,FK).call(this,t.items),e()},b(this,Yc).reject)};return M(this,Ad,b(this,L0).getReader()),b(mn,R0).add(this),e(),b(this,Yc).promise}update({viewport:e,onBefore:t=null}){var a;const n=e.scale*Cl.pixelRatio,i=e.rotation;if(i!==b(this,M0)&&(t==null||t(),M(this,M0,i),Dp(b(this,D0),{rotation:i})),n!==b(this,Xc)){t==null||t(),M(this,Xc,n);const s={div:null,properties:null,ctx:B(a=mn,ja,pS).call(a,b(this,Td))};for(const o of b(this,Cd))s.properties=b(this,Mx).get(o),s.div=o,B(this,nc,PI).call(this,s)}}cancel(){var t;const e=new Yh("TextLayer task cancelled.");(t=b(this,Ad))==null||t.cancel(e).catch(()=>{}),M(this,Ad,null),b(this,Yc).reject(e)}get textDivs(){return b(this,Cd)}get textContentItemsStr(){return b(this,Dx)}static cleanup(){if(!(b(this,R0).size>0)){b(this,P0).clear();for(const{canvas:e}of b(this,kd).values())e.remove();b(this,kd).clear()}}};Yc=new WeakMap,da=new WeakMap,Ax=new WeakMap,Cx=new WeakMap,Td=new WeakMap,hu=new WeakMap,kx=new WeakMap,Ex=new WeakMap,Ad=new WeakMap,D0=new WeakMap,M0=new WeakMap,Xc=new WeakMap,I0=new WeakMap,Dx=new WeakMap,L0=new WeakMap,Cd=new WeakMap,Mx=new WeakMap,Ix=new WeakMap,P0=new WeakMap,kd=new WeakMap,Lx=new WeakMap,Kc=new WeakMap,R0=new WeakMap,nc=new WeakSet,FK=function(e){var i,a;if(b(this,Ax))return;(a=b(this,hu)).ctx??(a.ctx=B(i=mn,ja,pS).call(i,b(this,Td)));const t=b(this,Cd),n=b(this,Dx);for(const s of e){if(t.length>ELe){xt("Ignoring additional textDivs for performance reasons."),M(this,Ax,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=b(this,da);M(this,da,document.createElement("span")),b(this,da).classList.add("markedContent"),s.id&&b(this,da).setAttribute("id",`${s.id}`),o.append(b(this,da))}else s.type==="endMarkedContent"&&M(this,da,b(this,da).parentNode);continue}n.push(s.str),B(this,nc,NK).call(this,s)}},NK=function(e){var v;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};b(this,Cd).push(t);const i=et.transform(b(this,Ix),e.transform);let a=Math.atan2(i[1],i[0]);const s=b(this,I0)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=b(this,Cx)&&s.fontSubstitution||s.fontFamily;o=mn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*B(v=mn,ja,VK).call(v,o,s,b(this,Td));let c,h;a===0?(c=i[4],h=i[5]-u):(c=i[4]+u*Math.sin(a),h=i[5]-u*Math.cos(a));const f="calc(var(--total-scale-factor) *",d=t.style;b(this,da)===b(this,D0)?(d.left=`${(100*c/b(this,Ex)).toFixed(2)}%`,d.top=`${(100*h/b(this,kx)).toFixed(2)}%`):(d.left=`${f}${c.toFixed(2)}px)`,d.top=`${f}${h.toFixed(2)}px)`),d.fontSize=`${f}${(b(mn,Kc)*l).toFixed(2)}px)`,d.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,b(this,Cx)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(p=!0)}if(p&&(n.canvasWidth=s.vertical?e.height:e.width),b(this,Mx).set(t,n),b(this,hu).div=t,b(this,hu).properties=n,B(this,nc,PI).call(this,b(this,hu)),n.hasText&&b(this,da).append(t),n.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),b(this,da).append(g)}},PI=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:a}=t;let s="";if(b(mn,Kc)>1&&(s=`scale(${1/b(mn,Kc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=a,{canvasWidth:u,fontSize:c}=n;B(o=mn,ja,RI).call(o,i,c*b(this,Xc),l);const{width:h}=i.measureText(t.textContent);h>0&&(s=`scaleX(${u*b(this,Xc)/h}) ${s}`)}n.angle!==0&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(a.transform=s)},ja=new WeakSet,pS=function(e=null){let t=b(this,kd).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),b(this,kd).set(e,t),b(this,Lx).set(t,{size:0,family:""})}return t},RI=function(e,t,n){const i=b(this,Lx).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},BK=function(){if(b(this,Kc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),M(this,Kc,e.getBoundingClientRect().height),e.remove()},VK=function(e,t,n){const i=b(this,P0).get(e);if(i)return i;const a=B(this,ja,pS).call(this,n);a.canvas.width=a.canvas.height=XV,B(this,ja,RI).call(this,a,XV,e);const s=a.measureText(""),o=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let u=.8;return o?u=o/(o+l):(li.platform.isFirefox&&xt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),b(this,P0).set(e,u),u},R(mn,ja),R(mn,P0,new Map),R(mn,kd,new Map),R(mn,Lx,new WeakMap),R(mn,Kc,null),R(mn,R0,new Set);let V1=mn;class z1{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(a){var l;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(z1.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&t.push({str:s}),!!a.children)for(const u of a.children)i(u)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const DLe=100;function zK(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new OI,{docId:t}=e,n=r.url?BIe(r.url):null,i=r.data?VIe(r.data):null,a=r.httpHeaders||null,s=r.withCredentials===!0,o=r.password??null,l=r.range instanceof HK?r.range:null,u=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let c=r.worker instanceof H1?r.worker:null;const h=r.verbosity,f=typeof r.docBaseUrl=="string"&&!R2(r.docBaseUrl)?r.docBaseUrl:null,d=Sw(r.cMapUrl),p=r.cMapPacked!==!1,v=r.CMapReaderFactory||(zi?XIe:OV),g=Sw(r.iccUrl),m=Sw(r.standardFontDataUrl),x=r.StandardFontDataFactory||(zi?KIe:FV),y=Sw(r.wasmUrl),_=r.WasmFactory||(zi?jIe:NV),S=r.stopAtErrors!==!0,w=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,T=r.isEvalSupported!==!1,A=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!zi,C=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!zi&&(li.platform.isFirefox||!globalThis.chrome),k=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,E=typeof r.disableFontFace=="boolean"?r.disableFontFace:zi,D=r.fontExtraProperties===!0,I=r.enableXfa===!0,P=r.ownerDocument||globalThis.document,F=r.disableRange===!0,V=r.disableStream===!0,z=r.disableAutoFetch===!0,G=r.pdfBug===!0,O=r.CanvasFactory||(zi?YIe:$Ie),ee=r.FilterFactory||(zi?WIe:UIe),Q=r.enableHWA===!0,N=r.useWasm!==!1,Y=l?l.length:r.length??NaN,W=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!zi&&!E,K=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(v===OV&&x===FV&&_===NV&&d&&m&&y&&Qm(d,document.baseURI)&&Qm(m,document.baseURI)&&Qm(y,document.baseURI)),ne=null;gIe(h);const fe={canvasFactory:new O({ownerDocument:P,enableHWA:Q}),filterFactory:new ee({docId:t,ownerDocument:P}),cMapReaderFactory:K?null:new v({baseUrl:d,isCompressed:p}),standardFontDataFactory:K?null:new x({baseUrl:m}),wasmFactory:K?null:new _({baseUrl:y})};c||(c=H1.create({verbosity:h,port:cl.workerPort}),e._worker=c);const ae={docId:t,apiVersion:"5.4.54",data:i,password:o,disableAutoFetch:z,rangeChunkSize:u,length:Y,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:w,disableFontFace:E,ignoreErrors:S,isEvalSupported:T,isOffscreenCanvasSupported:A,isImageDecoderSupported:C,canvasMaxAreaInBytes:k,fontExtraProperties:D,useSystemFonts:W,useWasm:N,useWorkerFetch:K,cMapUrl:d,iccUrl:g,standardFontDataUrl:m,wasmUrl:y}},re={ownerDocument:P,pdfBug:G,styleElement:ne,loadingParams:{disableAutoFetch:z,enableXfa:I}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const ie=c.messageHandler.sendWithPromise("GetDocRequest",ae,i?[i.buffer]:null);let se;if(l)se=new hLe(l,{disableRange:F,disableStream:V});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const U=Qm(n)?vLe:zi?ALe:bLe;se=new U({url:n,length:Y,httpHeaders:a,withCredentials:s,rangeChunkSize:u,disableRange:F,disableStream:V})}return ie.then(U=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const Oe=new iy(t,U,c.port),Se=new LLe(Oe,e,se,re,fe,Q);e._transport=Se,Oe.send("Ready",null)})}).catch(e._capability.reject),e}var gA;const mA=class mA{constructor(){Ce(this,"_capability",Promise.withResolvers());Ce(this,"_transport",null);Ce(this,"_worker",null);Ce(this,"docId",`d${Ii(mA,gA)._++}`);Ce(this,"destroyed",!1);Ce(this,"onPassword",null);Ce(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(a){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};gA=new WeakMap,R(mA,gA,0);let OI=mA;var Ed,Px,Rx,Ox,Fx;class HK{constructor(e,t,n=!1,i=null){R(this,Ed,Promise.withResolvers());R(this,Px,[]);R(this,Rx,[]);R(this,Ox,[]);R(this,Fx,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){b(this,Fx).push(e)}addProgressListener(e){b(this,Ox).push(e)}addProgressiveReadListener(e){b(this,Rx).push(e)}addProgressiveDoneListener(e){b(this,Px).push(e)}onDataRange(e,t){for(const n of b(this,Fx))n(e,t)}onDataProgress(e,t){b(this,Ed).promise.then(()=>{for(const n of b(this,Ox))n(e,t)})}onDataProgressiveRead(e){b(this,Ed).promise.then(()=>{for(const t of b(this,Rx))t(e)})}onDataProgressiveDone(){b(this,Ed).promise.then(()=>{for(const e of b(this,Px))e()})}transportReady(){b(this,Ed).resolve()}requestDataRange(e,t){fr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Ed=new WeakMap,Px=new WeakMap,Rx=new WeakMap,Ox=new WeakMap,Fx=new WeakMap;class MLe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var fu,Dd,uy;class ILe{constructor(e,t,n,i=!1){R(this,Dd);R(this,fu,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new LV:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new OK,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}={}){return new t_({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:a=kc.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:c=null,printAnnotationStorage:h=null,isEditing:f=!1}){var S,w;(S=this._stats)==null||S.time("Overall");const d=this._transport.getRenderingIntent(i,a,h,f),{renderingIntent:p,cacheKey:v}=d;M(this,fu,!1),l||(l=this._transport.getOptionalContentConfig(p));let g=this._intentStates.get(v);g||(g=Object.create(null),this._intentStates.set(v,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const m=!!(p&Va.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(d));const x=T=>{var A;g.renderTasks.delete(y),m&&M(this,fu,!0),B(this,Dd,uy).call(this),T?(y.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new FI({callback:x,params:{canvas:t,canvasContext:e,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!m,pdfBug:this._pdfBug,pageColors:c,enableHWA:this._transport.enableHWA});(g.renderTasks||(g.renderTasks=new Set)).add(y);const _=y.task;return Promise.all([g.displayReadyCapability.promise,l]).then(([T,A])=>{var C;if(this.destroyed){x();return}if((C=this._stats)==null||C.time("Rendering"),!(A.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:T,optionalContentConfig:A}),y.operatorListChanged()}).catch(x),_}getOperatorList({intent:e="display",annotationMode:t=kc.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var u;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>z1.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function a(){s.read().then(function({value:l,done:u}){if(u){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},i)}const s=t.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),M(this,fu,!1),Promise.all(e)}cleanup(e=!1){M(this,fu,!0);const t=B(this,Dd,uy).call(this);return e&&t&&this._stats&&(this._stats=new LV),t}_startRenderPage(e,t){var i,a;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&B(this,Dd,uy).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:a,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:i},s).getReader(),u=this._intentStates.get(t);u.streamReader=l;const c=()=>{l.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),c())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();B(this,Dd,uy).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof HO){let i=DLe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Yh(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}fu=new WeakMap,Dd=new WeakSet,uy=function(){if(!b(this,fu)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),M(this,fu,!1),!0};var jc,Qs,du,Md,yA,Id,Ld,Ki,vS,GK,$K,cy,O0,gS;const Er=class Er{constructor({name:e=null,port:t=null,verbosity:n=mIe()}={}){R(this,Ki);R(this,jc,Promise.withResolvers());R(this,Qs,null);R(this,du,null);R(this,Md,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(b(Er,Ld).has(t))throw new Error("Cannot use more than one PDFWorker per port.");b(Er,Ld).set(t,this),B(this,Ki,GK).call(this,t)}else B(this,Ki,$K).call(this)}get promise(){return b(this,jc).promise}get port(){return b(this,du)}get messageHandler(){return b(this,Qs)}destroy(){var e,t;this.destroyed=!0,(e=b(this,Md))==null||e.terminate(),M(this,Md,null),b(Er,Ld).delete(b(this,du)),M(this,du,null),(t=b(this,Qs))==null||t.destroy(),M(this,Qs,null)}static create(e){const t=b(this,Ld).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Er(e)}static get workerSrc(){if(cl.workerSrc)return cl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pt(this,"_setupFakeWorkerGlobal",(async()=>b(this,O0,gS)?b(this,O0,gS):(await import(this.workerSrc)).WorkerMessageHandler)())}};jc=new WeakMap,Qs=new WeakMap,du=new WeakMap,Md=new WeakMap,yA=new WeakMap,Id=new WeakMap,Ld=new WeakMap,Ki=new WeakSet,vS=function(){b(this,jc).resolve(),b(this,Qs).send("configure",{verbosity:this.verbosity})},GK=function(e){M(this,du,e),M(this,Qs,new iy("main","worker",e)),b(this,Qs).on("ready",()=>{}),B(this,Ki,vS).call(this)},$K=function(){if(b(Er,Id)||b(Er,O0,gS)){B(this,Ki,cy).call(this);return}let{workerSrc:e}=Er;try{Er._isSameOrigin(window.location,e)||(e=Er._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new iy("main","worker",t),i=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?b(this,jc).reject(new Error("Worker was destroyed")):B(this,Ki,cy).call(this)},a=new AbortController;t.addEventListener("error",()=>{b(this,Md)||i()},{signal:a.signal}),n.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}M(this,Qs,n),M(this,du,t),M(this,Md,t),B(this,Ki,vS).call(this)}),n.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{B(this,Ki,cy).call(this)}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{P2("The worker has been disabled.")}B(this,Ki,cy).call(this)},cy=function(){b(Er,Id)||(xt("Setting up fake worker."),M(Er,Id,!0)),Er._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){b(this,jc).reject(new Error("Worker was destroyed"));return}const t=new GIe;M(this,du,t);const n=`fake${Ii(Er,yA)._++}`,i=new iy(n+"_worker",n,t);e.setup(i,t),M(this,Qs,new iy(n,n+"_worker",t)),B(this,Ki,vS).call(this)}).catch(e=>{b(this,jc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},O0=new WeakSet,gS=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},R(Er,O0),R(Er,yA,0),R(Er,Id,!1),R(Er,Ld,new WeakMap),zi&&(M(Er,Id,!0),cl.workerSrc||(cl.workerSrc="./pdf.worker.mjs")),Er._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},Er._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Er.fromPort=e=>{if(DIe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Er.create(e)};let H1=Er;var pu,Zo,F0,N0,vu,Pd,hy;class LLe{constructor(e,t,n,i,a,s){R(this,Pd);R(this,pu,new Map);R(this,Zo,new Map);R(this,F0,new Map);R(this,N0,new Map);R(this,vu,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new OK,this.fontLoader=new FIe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return Pt(this,"annotationStorage",new $O)}getRenderingIntent(e,t=kc.ENABLE,n=null,i=!1,a=!1){let s=Va.DISPLAY,o=wI;switch(e){case"any":s=Va.ANY;break;case"display":break;case"print":s=Va.PRINT;break;default:xt(`getRenderingIntent - invalid intent: ${e}`)}const l=s&Va.PRINT&&n instanceof xK?n:this.annotationStorage;switch(t){case kc.DISABLE:s+=Va.ANNOTATIONS_DISABLE;break;case kc.ENABLE:break;case kc.ENABLE_FORMS:s+=Va.ANNOTATIONS_FORMS;break;case kc.ENABLE_STORAGE:s+=Va.ANNOTATIONS_STORAGE,o=l.serializable;break;default:xt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(s+=Va.IS_EDITING),a&&(s+=Va.OPLIST);const{ids:u,hash:c}=l.modifiedIds,h=[s,o.hash,c];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=b(this,vu))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of b(this,Zo).values())e.push(i._destroy());b(this,Zo).clear(),b(this,F0).clear(),b(this,N0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),b(this,pu).clear(),this.filterFactory.destroy(),V1.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Yh("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{hn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}hn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(n,i)=>{hn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}hn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new MLe(n,this))}),e.on("DocException",n=>{t._capability.reject(ua(n))}),e.on("PasswordRequest",n=>{M(this,vu,Promise.withResolvers());try{if(!t.onPassword)throw ua(n);const i=a=>{a instanceof Error?b(this,vu).reject(a):b(this,vu).resolve({password:a})};t.onPassword(i,n.code)}catch(i){b(this,vu).reject(i)}return b(this,vu).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;b(this,Zo).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in a){const c=a.error;xt(`Error during font loading: ${c}`),this.commonObjs.resolve(n,c);break}const o=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(c,h)=>globalThis.FontInspector.fontAdded(c,h):null,l=new NIe(a,o);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)});break;case"CopyLocalImage":const{imageRef:u}=a;hn(u,"The imageRef must be defined.");for(const c of b(this,Zo).values())for(const[,h]of c.objs)if((h==null?void 0:h.ref)===u)return h.dataLen?(this.commonObjs.resolve(n,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,a,s])=>{var l;if(this.destroyed)return;const o=b(this,Zo).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=b(this,F0).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&b(this,N0).set(a.refStr,e);const s=new ILe(t,a,this,this._params.pdfBug);return b(this,Zo).set(t,s),s});return b(this,F0).set(t,i),i}getPageIndex(e){return SI(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return B(this,Pd,hy).call(this,"GetFieldObjects")}hasJSActions(){return B(this,Pd,hy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return B(this,Pd,hy).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return B(this,Pd,hy).call(this,"GetOptionalContentConfig").then(t=>new cLe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=b(this,pu).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new lLe(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return b(this,pu).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of b(this,Zo).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),b(this,pu).clear(),this.filterFactory.destroy(!0),V1.cleanup()}}cachedPageNumber(e){if(!SI(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return b(this,N0).get(t)??null}}pu=new WeakMap,Zo=new WeakMap,F0=new WeakMap,N0=new WeakMap,vu=new WeakMap,Pd=new WeakSet,hy=function(e,t=null){const n=b(this,pu).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return b(this,pu).set(e,i),i};var qc;class PLe{constructor(e){R(this,qc,null);Ce(this,"onContinue",null);Ce(this,"onError",null);M(this,qc,e)}get promise(){return b(this,qc).capability.promise}cancel(e=0){b(this,qc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=b(this,qc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=b(this,qc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}qc=new WeakMap;var Zc,Rd;const Uf=class Uf{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:d=!1}){R(this,Zc,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new PLe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=d}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(b(Uf,Rd).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b(Uf,Rd).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:a}=this.params,s=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new n0(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var n,i,a;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),b(this,Zc)&&(window.cancelAnimationFrame(b(this,Zc)),M(this,Zc,null)),b(Uf,Rd).delete(this._canvas),e||(e=new HO(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(a=(i=this.task).onError)==null||a.call(i,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?M(this,Zc,window.requestAnimationFrame(()=>{M(this,Zc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),b(Uf,Rd).delete(this._canvas),this.callback())))}};Zc=new WeakMap,Rd=new WeakMap,R(Uf,Rd,new WeakSet);let FI=Uf;const RLe="5.4.54",OLe="295fb3ec4";var Ea,Od,B0,bn,Nx,V0,gu,Bx,Jc,eo,Vx,hr,NI,BI,VI,Rf,UK,wc;const ca=class ca{constructor({editor:e=null,uiManager:t=null}){R(this,hr);R(this,Ea,null);R(this,Od,null);R(this,B0);R(this,bn,null);R(this,Nx,!1);R(this,V0,!1);R(this,gu,null);R(this,Bx);R(this,Jc,null);R(this,eo,null);var n,i;e?(M(this,V0,!1),M(this,gu,e)):M(this,V0,!0),M(this,eo,(e==null?void 0:e._uiManager)||t),M(this,Bx,b(this,eo)._eventBus),M(this,B0,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=b(this,eo))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),b(ca,Vx)||M(ca,Vx,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Pt(this,"_keyboardManager",new r_([[["Escape","mac+Escape"],ca.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ca.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ca.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ca.prototype._moveToPrevious],[["Home","mac+Home"],ca.prototype._moveToBeginning],[["End","mac+End"],ca.prototype._moveToEnd]]))}renderButton(){const e=M(this,Ea,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",b(this,gu)&&(e.ariaControls=`${b(this,gu).id}_colorpicker_dropdown`);const t=b(this,eo)._signal;e.addEventListener("click",B(this,hr,Rf).bind(this),{signal:t}),e.addEventListener("keydown",B(this,hr,VI).bind(this),{signal:t});const n=M(this,Od,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=b(this,B0),e.append(n),e}renderMainDropdown(){const e=M(this,bn,B(this,hr,NI).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===b(this,Ea)){B(this,hr,Rf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&B(this,hr,BI).call(this,t,e)}_moveToNext(e){var t,n;if(!b(this,hr,wc)){B(this,hr,Rf).call(this,e);return}if(e.target===b(this,Ea)){(t=b(this,bn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=b(this,bn))==null?void 0:t.firstChild)||e.target===b(this,Ea)){b(this,hr,wc)&&this._hideDropdownFromKeyboard();return}b(this,hr,wc)||B(this,hr,Rf).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!b(this,hr,wc)){B(this,hr,Rf).call(this,e);return}(t=b(this,bn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!b(this,hr,wc)){B(this,hr,Rf).call(this,e);return}(t=b(this,bn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=b(this,bn))==null||e.classList.add("hidden"),b(this,Ea).ariaExpanded="false",(t=b(this,Jc))==null||t.abort(),M(this,Jc,null)}_hideDropdownFromKeyboard(){var e;if(!b(this,V0)){if(!b(this,hr,wc)){(e=b(this,gu))==null||e.unselect();return}this.hideDropdown(),b(this,Ea).focus({preventScroll:!0,focusVisible:b(this,Nx)})}}updateColor(e){if(b(this,Od)&&(b(this,Od).style.backgroundColor=e),!b(this,bn))return;const t=b(this,eo).highlightColors.values();for(const n of b(this,bn).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=b(this,Ea))==null||e.remove(),M(this,Ea,null),M(this,Od,null),(t=b(this,bn))==null||t.remove(),M(this,bn,null)}};Ea=new WeakMap,Od=new WeakMap,B0=new WeakMap,bn=new WeakMap,Nx=new WeakMap,V0=new WeakMap,gu=new WeakMap,Bx=new WeakMap,Jc=new WeakMap,eo=new WeakMap,Vx=new WeakMap,hr=new WeakSet,NI=function(){const e=document.createElement("div"),t=b(this,eo)._signal;e.addEventListener("contextmenu",Ps,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),b(this,gu)&&(e.id=`${b(this,gu).id}_colorpicker_dropdown`);for(const[n,i]of b(this,eo).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",b(ca,Vx)[n]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===b(this,B0),a.addEventListener("click",B(this,hr,BI).bind(this,i),{signal:t}),e.append(a)}return e.addEventListener("keydown",B(this,hr,VI).bind(this),{signal:t}),e},BI=function(e,t){t.stopPropagation(),b(this,Bx).dispatch("switchannotationeditorparams",{source:this,type:Vt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},VI=function(e){ca._keyboardManager.exec(this,e)},Rf=function(e){if(b(this,hr,wc)){this.hideDropdown();return}if(M(this,Nx,e.detail===0),b(this,Jc)||(M(this,Jc,new AbortController),window.addEventListener("pointerdown",B(this,hr,UK).bind(this),{signal:b(this,eo).combinedSignal(b(this,Jc))})),b(this,Ea).ariaExpanded="true",b(this,bn)){b(this,bn).classList.remove("hidden");return}const t=M(this,bn,B(this,hr,NI).call(this));b(this,Ea).append(t)},UK=function(e){var t;(t=b(this,bn))!=null&&t.contains(e.target)||this.hideDropdown()},wc=function(){return b(this,bn)&&!b(this,bn).classList.contains("hidden")},R(ca,Vx,null);let tA=ca;var Jo,zx,z0,Hx;const Wf=class Wf{constructor(e){R(this,Jo,null);R(this,zx,null);R(this,z0,null);M(this,zx,e),M(this,z0,e._uiManager),b(Wf,Hx)||M(Wf,Hx,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(b(this,Jo))return b(this,Jo);const{editorType:e,colorType:t,colorValue:n}=b(this,zx),i=M(this,Jo,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",b(Wf,Hx)[e]),i.addEventListener("input",()=>{b(this,z0).updateParams(t,i.value)},{signal:b(this,z0)._signal}),i}update(e){b(this,Jo)&&(b(this,Jo).value=e)}destroy(){var e;(e=b(this,Jo))==null||e.remove(),M(this,Jo,null)}hideDropdown(){}};Jo=new WeakMap,zx=new WeakMap,z0=new WeakMap,Hx=new WeakMap,R(Wf,Hx,null);let rA=Wf;function KV(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Pm(r){return Math.max(0,Math.min(255,255*r))}class jV{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Pm(e),[e,e,e]}static G_HTML([e]){const t=KV(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Pm)}static RGB_HTML(e){return`#${e.map(KV).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Pm(1-Math.min(1,e+i)),Pm(1-Math.min(1,n+i)),Pm(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,a=1-t,s=1-n,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class FLe{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){fr("Abstract method `_createSVG` called.")}}class nA extends FLe{_createSVG(e){return document.createElementNS($l,e)}}class WK{static setupStorage(e,t,n,i,a){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:a}){const{attributes:s}=t,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&a.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,t,n)}static render(e){var h,f;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const o=a!=="richText",l=e.div;if(l.append(s),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const d=document.createTextNode(i.value);s.append(d),o&&z1.shouldBuildText(i.name)&&u.push(d)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[d,p,v]=c.at(-1);if(p+1===d.children.length){c.pop();continue}const g=d.children[++c.at(-1)[1]];if(g===null)continue;const{name:m}=g;if(m==="#text"){const y=document.createTextNode(g.value);u.push(y),v.append(y);continue}const x=(h=g==null?void 0:g.attributes)!=null&&h.xmlns?document.createElementNS(g.attributes.xmlns,m):document.createElement(m);if(v.append(x),g.attributes&&this.setAttributes({html:x,element:g,storage:t,intent:a,linkService:n}),((f=g.children)==null?void 0:f.length)>0)c.push([g,-1,x]);else if(g.value){const y=document.createTextNode(g.value);o&&z1.shouldBuildText(m)&&u.push(y),x.append(y)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const NLe=9,Ip=new WeakSet,BLe=new Date().getTimezoneOffset()*60*1e3;class qV{static create(e){switch(e.data.annotationType){case on.LINK:return new YO(e);case on.TEXT:return new VLe(e);case on.WIDGET:switch(e.data.fieldType){case"Tx":return new zLe(e);case"Btn":return e.data.radioButton?new KK(e):e.data.checkBox?new GLe(e):new $Le(e);case"Ch":return new ULe(e);case"Sig":return new HLe(e)}return new jp(e);case on.POPUP:return new HI(e);case on.FREETEXT:return new QK(e);case on.LINE:return new YLe(e);case on.SQUARE:return new XLe(e);case on.CIRCLE:return new KLe(e);case on.POLYLINE:return new ej(e);case on.CARET:return new qLe(e);case on.INK:return new XO(e);case on.POLYGON:return new jLe(e);case on.HIGHLIGHT:return new tj(e);case on.UNDERLINE:return new ZLe(e);case on.SQUIGGLY:return new JLe(e);case on.STRIKEOUT:return new QLe(e);case on.STAMP:return new rj(e);case on.FILEATTACHMENT:return new ePe(e);default:return new en(e)}}}var Fd,H0,mu,Gx,zI;const iF=class iF{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){R(this,Gx);R(this,Fd,null);R(this,H0,!1);R(this,mu,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return iF._hasPopupData(this.data)}updateEdited(e){var a;if(!this.container)return;e.rect&&(b(this,Fd)||M(this,Fd,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&B(this,Gx,zI).call(this,t);let i=((a=b(this,mu))==null?void 0:a.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=b(this,mu).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),M(this,mu,null),this.popup=null))}resetEdited(){var e;b(this,Fd)&&(B(this,Gx,zI).call(this,b(this,Fd).rect),(e=b(this,mu))==null||e.popup.resetEdited(),M(this,Fd,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),!(this instanceof jp)&&!(this instanceof YO)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof HI){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,a),a}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,g=t.borderStyle.verticalCornerRadius;if(v>0||g>0){const x=`calc(${v}px * var(--total-scale-factor)) / calc(${g}px * var(--total-scale-factor))`;s.borderRadius=x}else if(this instanceof KK){const x=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;s.borderRadius=x}switch(t.borderStyle.style){case Ev.SOLID:s.borderStyle="solid";break;case Ev.DASHED:s.borderStyle="dashed";break;case Ev.BEVELED:xt("Unimplemented border style: beveled");break;case Ev.INSET:xt("Unimplemented border style: inset");break;case Ev.UNDERLINE:s.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(M(this,H0,!0),s.borderColor=et.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):s.borderWidth=0}const u=et.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:h,pageX:f,pageY:d}=i.rawDims;s.left=`${100*(u[0]-f)/c}%`,s.top=`${100*(u[1]-d)/h}%`;const{rotation:p}=t;return t.hasOwnCanvas||p===0?(s.width=`${100*o/c}%`,s.height=`${100*l/h}%`):this.setRotation(p,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),t.style.width=`${100*a/n}%`,t.style.height=`${100*s/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const a=i.detail[t],s=a[0],o=a.slice(1);i.target.style[n]=jV[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:jV[`${s}_rgb`](o)})};return Pt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const a=e[i]||n[i];a==null||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,a]of Object.entries(t)){const s=n[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,a]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,g,m,x]=e.subarray(2,6);if(i===v&&a===g&&t===m&&n===x)return}const{style:s}=this.container;let o;if(b(this,H0)){const{borderColor:v,borderWidth:g}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${g}">`],this.container.classList.add("hasBorder")}const l=i-t,u=a-n,{svgFactory:c}=this,h=c.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=c.createElement("defs");h.append(f);const d=c.createElement("clipPath"),p=`clippath_${this.data.id}`;d.setAttribute("id",p),d.setAttribute("clipPathUnits","objectBoundingBox"),f.append(d);for(let v=2,g=e.length;v<g;v+=8){const m=e[v],x=e[v+1],y=e[v+2],_=e[v+3],S=c.createElement("rect"),w=(y-t)/l,T=(a-x)/u,A=(m-y)/l,C=(x-_)/u;S.setAttribute("x",w),S.setAttribute("y",T),S.setAttribute("width",A),S.setAttribute("height",C),d.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${w}" y="${T}" width="${A}" height="${C}"/>`)}b(this,H0)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${p})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const a=M(this,mu,new HI({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(a.render())}get hasPopupElement(){return!!(b(this,mu)||this.popup||this.data.popupRef)}render(){fr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!Ip.has(u)){xt(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:u})}return n}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==t&&Ip.has(i)&&n.push({id:s,exportValue:a,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Fd=new WeakMap,H0=new WeakMap,mu=new WeakMap,Gx=new WeakSet,zI=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-o)/a}%`,t.top=`${100*(s-e[3]+l)/s}%`,i===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)};let en=iF;var Ga,Of,YK,XK;class YO extends en{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});R(this,Ga);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),a=!0):t.attachment?(B(this,Ga,YK).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(B(this,Ga,XK).call(this,i,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&B(this,Ga,Of).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),B(this,Ga,Of).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const s=i.get(a);s&&(t[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),B(this,Ga,Of).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),B(this,Ga,Of).call(this),!this._fieldObjects){xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:a,refs:s,include:o}=n,l=[];if(a.length!==0||s.length!==0){const f=new Set(s);for(const d of a){const p=this._fieldObjects[d]||[];for(const{id:v}of p)f.add(v)}for(const d of Object.values(this._fieldObjects))for(const p of d)f.has(p.id)===o&&l.push(p)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,c=[];for(const f of l){const{id:d}=f;switch(c.push(d),f.type){case"text":{const v=f.defaultValue||"";u.setValue(d,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(d,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(d,{value:v});break}default:continue}const p=document.querySelector(`[data-element-id="${d}"]`);if(p){if(!Ip.has(p)){xt(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Ga=new WeakSet,Of=function(){this.container.setAttribute("data-internal-link","")},YK=function(t,n,i="",a=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,a),!1},B(this,Ga,Of).call(this)},XK=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),B(this,Ga,Of).call(this)};class VLe extends en{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class jp extends en{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return li.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,a){n.includes("mouse")?e.addEventListener(n,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{var o;if(n==="blur"){if(!t.focused||!s.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,t,n,i){var a,s,o;for(const[l,u]of n)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":et.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||NLe,a=e.style;let s;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(u/(EE*i))||1,h=u/c;s=Math.min(i,l(h/EE))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,l(u/EE))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=et.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class zLe extends jp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),a.setValue(s.id,{[i]:n})}render(){var i,a;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ip.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:d}=this.data,p=!!f&&this.enableScripting;h&&(n.title=h),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(n,"value",g.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue??"";n.value=c.userValue=m,c.formattedValue=null});let v=g=>{const{formattedValue:m}=c;m!=null&&(g.target.value=m),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",m=>{var y;if(c.focused)return;const{target:x}=m;if(p&&(x.type=f,d&&(x.step=d)),c.userValue){const _=c.userValue;if(p)if(f==="time"){const S=new Date(_),w=[S.getHours(),S.getMinutes(),S.getSeconds()];x.value=w.map(T=>T.toString().padStart(2,"0")).join(":")}else x.value=new Date(_-BLe).toISOString().split(f==="date"?"T":".",1)[0];else x.value=_}c.lastCommittedValue=x.value,c.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const x={value(y){c.userValue=y.detail.value??"",p||e.setValue(t,{value:c.userValue.toString()}),y.target.value=c.userValue},formattedValue(y){const{formattedValue:_}=y.detail;c.formattedValue=_,_!=null&&y.target!==document.activeElement&&(y.target.value=_);const S={formattedValue:_};p&&(S.value=_),e.setValue(t,S)},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var T;const{charLimit:_}=y.detail,{target:S}=y;if(_===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",_);let w=c.userValue;!w||w.length<=_||(w=w.slice(0,_),S.value=c.userValue=w,e.setValue(t,{value:w}),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(x,m)}),n.addEventListener("keydown",m=>{var _;c.commitKey=1;let x=-1;if(m.key==="Escape"?x=0:m.key==="Enter"&&!this.data.multiLine?x=2:m.key==="Tab"&&(c.commitKey=3),x===-1)return;const{value:y}=m.target;c.lastCommittedValue!==y&&(c.lastCommittedValue=y,c.userValue=y,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:x,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const g=v;v=null,n.addEventListener("blur",m=>{var _,S;if(!c.focused||!m.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(c.focused=!1);const{target:x}=m;let{value:y}=x;if(p){if(y&&f==="time"){const w=y.split(":").map(T=>parseInt(T,10));y=new Date(2e3,0,1,w[0],w[1],w[2]||0).valueOf(),x.step=""}else y=new Date(y).valueOf();x.type="text"}c.userValue=y,c.lastCommittedValue!==y&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:c.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),g(m)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",m=>{var C;c.lastCommittedValue=null;const{data:x,target:y}=m,{value:_,selectionStart:S,selectionEnd:w}=y;let T=S,A=w;switch(m.inputType){case"deleteWordBackward":{const k=_.substring(0,S).match(/\w*[^\w]*$/);k&&(T-=k[0].length);break}case"deleteWordForward":{const k=_.substring(S).match(/^[^\w]*\w*/);k&&(A+=k[0].length);break}case"deleteContentBackward":S===w&&(T-=1);break;case"deleteContentForward":S===w&&(A+=1);break}m.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:x||"",willCommit:!1,selStart:T,selEnd:A}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class HLe extends jp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class GLe extends jp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Ip.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,n)){const c=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=t.defaultFieldValue||"Off";s.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class KK extends jp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(Ip.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:l})}),a.addEventListener("resetform",s=>{const o=t.defaultFieldValue;s.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const s=t.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const c=s===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=c&&h.id===n;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class $Le extends YO{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class ULe extends jp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Ip.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const c of this.data.options){const h=document.createElement("option");h.textContent=c.displayValue,h.value=c.exportValue,n.value.includes(c.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let s=null;if(a){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=c=>{const h=c?"value":"textContent",{options:f,multiple:d}=i;return d?Array.prototype.filter.call(f,p=>p.selected).map(p=>p[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=o(!1);const u=c=>{const h=c.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const h={value(f){s==null||s();const d=f.detail.value,p=new Set(Array.isArray(d)?d:[d]);for(const v of i.options)v.selected=p.has(v.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const d=i.options,p=f.detail.remove;d[p].selected=!1,i.remove(p),d.length>0&&Array.prototype.findIndex.call(d,g=>g.selected)===-1&&(d[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(f){const{index:d,displayValue:p,exportValue:v}=f.detail.insert,g=i.children[d],m=document.createElement("option");m.textContent=p,m.value=v,g?g.before(m):i.append(m),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},items(f){const{items:d}=f.detail;for(;i.length!==0;)i.remove(0);for(const p of d){const{displayValue:v,exportValue:g}=p,m=document.createElement("option");m.textContent=v,m.value=g,i.append(m)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},indices(f){const d=new Set(f.detail.indices);for(const p of f.target.options)p.selected=d.has(p.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,c)}),i.addEventListener("input",c=>{var d;const h=o(!0),f=o(!1);e.setValue(t,{value:h}),c.preventDefault(),(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class HI extends en{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:en._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new WLe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${zO}${i}`).join(",")),this.container}}var G0,xA,bA,$0,U0,Gr,yu,Qc,W0,$x,Y0,Qo,Da,eh,xu,Ux,bu,X0,Nd,th,Jt,mS,yS,GI,jK,qK,ZK,JK,xS,bS,$I;class WLe{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:u,parentRect:c,open:h}){R(this,Jt);R(this,G0,B(this,Jt,ZK).bind(this));R(this,xA,B(this,Jt,$I).bind(this));R(this,bA,B(this,Jt,bS).bind(this));R(this,$0,B(this,Jt,xS).bind(this));R(this,U0,null);R(this,Gr,null);R(this,yu,null);R(this,Qc,null);R(this,W0,null);R(this,$x,null);R(this,Y0,null);R(this,Qo,!1);R(this,Da,null);R(this,eh,null);R(this,xu,null);R(this,Ux,null);R(this,bu,null);R(this,X0,null);R(this,Nd,null);R(this,th,!1);M(this,Gr,e),M(this,X0,i),M(this,yu,s),M(this,bu,o),M(this,$x,l),M(this,U0,t),M(this,Ux,u),M(this,Y0,c),M(this,W0,n),M(this,Qc,JT.toDateObject(a)),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),B(this,Jt,mS).call(this),b(this,Gr).hidden=!0,h&&B(this,Jt,xS).call(this)}render(){var i;if(b(this,Da))return;const e=M(this,Da,document.createElement("div"));if(e.className="popup",b(this,U0)){const a=e.style.outlineColor=et.makeHexColor(...b(this,U0));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=b(this,X0))!=null&&i.str){const a=document.createElement("span");a.className="title",t.append(a),{dir:a.dir,str:a.textContent}=b(this,X0)}if(e.append(t),b(this,Qc)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:b(this,Qc).valueOf()})),a.dateTime=b(this,Qc).toISOString(),t.append(a)}const n=b(this,Jt,yS);if(n)WK.render({xfaHtml:n,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(b(this,yu));e.append(a)}b(this,Gr).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const o=i[a];n.append(document.createTextNode(o)),a<s-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popup:t,deleted:n}){var i;if(n||t!=null&&t.deleted){this.remove();return}B(this,Jt,mS).call(this),b(this,Nd)||M(this,Nd,{contentsObj:b(this,yu),richText:b(this,bu)}),e&&M(this,xu,null),t&&(M(this,bu,B(this,Jt,qK).call(this,t.text)),M(this,Qc,JT.toDateObject(t.date)),M(this,yu,null)),(i=b(this,Da))==null||i.remove(),M(this,Da,null)}resetEdited(){var e;b(this,Nd)&&({contentsObj:Ii(this,yu)._,richText:Ii(this,bu)._}=b(this,Nd),M(this,Nd,null),(e=b(this,Da))==null||e.remove(),M(this,Da,null),M(this,xu,null))}remove(){var e,t;(e=b(this,eh))==null||e.abort(),M(this,eh,null),(t=b(this,Da))==null||t.remove(),M(this,Da,null),M(this,th,!1),M(this,Qo,!1);for(const n of this.trigger)n.classList.remove("popupTriggerArea")}forceHide(){M(this,th,this.isVisible),b(this,th)&&(b(this,Gr).hidden=!0)}maybeShow(){B(this,Jt,mS).call(this),b(this,th)&&(b(this,Da)||B(this,Jt,bS).call(this),M(this,th,!1),b(this,Gr).hidden=!1)}get isVisible(){return b(this,Gr).hidden===!1}}G0=new WeakMap,xA=new WeakMap,bA=new WeakMap,$0=new WeakMap,U0=new WeakMap,Gr=new WeakMap,yu=new WeakMap,Qc=new WeakMap,W0=new WeakMap,$x=new WeakMap,Y0=new WeakMap,Qo=new WeakMap,Da=new WeakMap,eh=new WeakMap,xu=new WeakMap,Ux=new WeakMap,bu=new WeakMap,X0=new WeakMap,Nd=new WeakMap,th=new WeakMap,Jt=new WeakSet,mS=function(){var t;if(b(this,eh))return;M(this,eh,new AbortController);const{signal:e}=b(this,eh);for(const n of this.trigger)n.addEventListener("click",b(this,$0),{signal:e}),n.addEventListener("mouseenter",b(this,bA),{signal:e}),n.addEventListener("mouseleave",b(this,xA),{signal:e}),n.classList.add("popupTriggerArea");for(const n of b(this,W0))(t=n.container)==null||t.addEventListener("keydown",b(this,G0),{signal:e})},yS=function(){const e=b(this,bu),t=b(this,yu);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&b(this,bu).html||null},GI=function(){var e,t,n;return((n=(t=(e=b(this,Jt,yS))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},jK=function(){var e,t,n;return((n=(t=(e=b(this,Jt,yS))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},qK=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:b(this,Jt,jK),fontSize:b(this,Jt,GI)?`calc(${b(this,Jt,GI)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:i});return n},ZK=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&b(this,Qo))&&B(this,Jt,xS).call(this)},JK=function(){if(b(this,xu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:a}}}=b(this,$x);let s=!!b(this,Y0),o=s?b(this,Y0):b(this,Ux);for(const p of b(this,W0))if(!o||et.intersect(p.data.rect,o)!==null){o=p.data.rect,s=!0;break}const l=et.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=s?o[2]-o[0]+5:0,h=l[0]+c,f=l[1];M(this,xu,[100*(h-i)/t,100*(f-a)/n]);const{style:d}=b(this,Gr);d.left=`${b(this,xu)[0]}%`,d.top=`${b(this,xu)[1]}%`},xS=function(){M(this,Qo,!b(this,Qo)),b(this,Qo)?(B(this,Jt,bS).call(this),b(this,Gr).addEventListener("click",b(this,$0)),b(this,Gr).addEventListener("keydown",b(this,G0))):(B(this,Jt,$I).call(this),b(this,Gr).removeEventListener("click",b(this,$0)),b(this,Gr).removeEventListener("keydown",b(this,G0)))},bS=function(){b(this,Da)||this.render(),this.isVisible?b(this,Qo)&&b(this,Gr).classList.add("focused"):(B(this,Jt,JK).call(this),b(this,Gr).hidden=!1,b(this,Gr).style.zIndex=parseInt(b(this,Gr).style.zIndex)+1e3)},$I=function(){b(this,Gr).classList.remove("focused"),!(b(this,Qo)||!this.isVisible)&&(b(this,Gr).hidden=!0,b(this,Gr).style.zIndex=parseInt(b(this,Gr).style.zIndex)-1e3)};class QK extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=mt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Wx;class YLe extends en{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,Wx,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=M(this,Wx,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,Wx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wx=new WeakMap;var Yx;class XLe extends en{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,Yx,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=t.borderStyle.width,o=M(this,Yx,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,Yx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yx=new WeakMap;var Xx;class KLe extends en{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,Xx,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),s=t.borderStyle.width,o=M(this,Xx,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,Xx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xx=new WeakMap;var Kx;class ej extends en{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,Kx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:a},width:s,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(s,o,!0);let u=[];for(let h=0,f=n.length;h<f;h+=2){const d=n[h]-t[0],p=t[3]-n[h+1];u.push(`${d},${p}`)}u=u.join(" ");const c=M(this,Kx,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,Kx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kx=new WeakMap;class jLe extends ej{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qLe extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var jx,Bd,qx,UI;class XO extends en{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});R(this,qx);R(this,jx,null);R(this,Bd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?mt.HIGHLIGHT:mt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:a,popupRef:s}}=this,{transform:o,width:l,height:u}=B(this,qx,UI).call(this,n,t),c=this.svgFactory.create(l,u,!0),h=M(this,jx,this.svgFactory.createElement("svg:g"));c.append(h),h.setAttribute("stroke-width",a.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let f=0,d=i.length;f<d;f++){const p=this.svgFactory.createElement(this.svgElementName);b(this,Bd).push(p),p.setAttribute("points",i[f].join(",")),h.append(p)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:a}=t,s=b(this,jx);if(n>=0&&s.setAttribute("stroke-width",n||1),i)for(let o=0,l=b(this,Bd).length;o<l;o++)b(this,Bd)[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:l,height:u}=B(this,qx,UI).call(this,this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return b(this,Bd)}addHighlightArea(){this.container.classList.add("highlightArea")}}jx=new WeakMap,Bd=new WeakMap,qx=new WeakSet,UI=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class tj extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=mt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class ZLe extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class JLe extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class QLe extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class rj extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=mt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Zx,Jx,WI;class ePe extends en{constructor(t){var i;super(t,{isRenderable:!0});R(this,Jx);R(this,Zx,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",B(this,Jx,WI).bind(this)),M(this,Zx,i);const{isMac:a}=li.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&B(this,Jx,WI).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return b(this,Zx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zx=new WeakMap,Jx=new WeakSet,WI=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Qx,Vd,rh,eb,qh,XI,KI;const aF=class aF{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o}){R(this,qh);R(this,Qx,null);R(this,Vd,null);R(this,rh,new Map);R(this,eb,null);this.div=e,M(this,Qx,t),M(this,Vd,n),M(this,eb,o||null),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return b(this,rh).size>0}async render(e){var s;const{annotations:t}=e,n=this.div;Dp(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new nA,annotationStorage:e.annotationStorage||new $O,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===on.POPUP;if(l){const h=i.get(o.id);if(!h)continue;a.elements=h}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const u=qV.create(a);if(!u.isRenderable)continue;if(!l&&o.popupRef){const h=i.get(o.popupRef);h?h.push(u):i.set(o.popupRef,[u])}const c=u.render();o.hidden&&(c.style.visibility="hidden"),await B(this,qh,XI).call(this,c,o.id,a.elements),u._isEditable&&(b(this,rh).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}B(this,qh,KI).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new nA,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=aF._defaultBorderStyle),n.data=i;const a=qV.create(n);if(!a.isRenderable)continue;const s=a.render();await B(this,qh,XI).call(this,s,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Dp(t,{rotation:e.rotation}),B(this,qh,KI).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(b(this,rh).values())}getEditableAnnotation(e){return b(this,rh).get(e)}static get _defaultBorderStyle(){return Pt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ev.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Qx=new WeakMap,Vd=new WeakMap,rh=new WeakMap,eb=new WeakMap,qh=new WeakSet,XI=async function(e,t,n){var o,l;const i=e.firstChild||e,a=i.id=`${zO}${t}`,s=await((o=b(this,eb))==null?void 0:o.getAriaAttributes(a));if(s)for(const[u,c]of s)i.setAttribute(u,c);n?n.at(-1).container.after(e):(this.div.append(e),(l=b(this,Qx))==null||l.moveElementInDOM(this.div,e,i,!1))},KI=function(){var t;if(!b(this,Vd))return;const e=this.div;for(const[n,i]of b(this,Vd)){const a=e.querySelector(`[data-annotation-id="${n}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const o=b(this,rh).get(n);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,a.id,i),o._hasNoCanvas=!1):o.canvas=i)}b(this,Vd).clear()};let YI=aF;const kw=/\r\n?|\n/g;var ds,Ma,tb,zd,Ia,pn,nj,ij,aj,_S,Yu,wS,SS,sj,qI,oj;const mr=class mr extends yr{constructor(t){super({...t,name:"freeTextEditor"});R(this,pn);R(this,ds);R(this,Ma,"");R(this,tb,`${this.id}-editor`);R(this,zd,null);R(this,Ia);Ce(this,"_colorPicker",null);M(this,ds,t.color||mr._defaultColor||yr._defaultLineColor),M(this,Ia,t.fontSize||mr._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=mr.prototype,n=s=>s.isEmpty(),i=Mp.TRANSLATE_SMALL,a=Mp.TRANSLATE_BIG;return Pt(this,"_keyboardManager",new r_([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(t,n){yr.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Vt.FREETEXT_SIZE:mr._defaultFontSize=n;break;case Vt.FREETEXT_COLOR:mr._defaultColor=n;break}}updateParams(t,n){switch(t){case Vt.FREETEXT_SIZE:B(this,pn,nj).call(this,n);break;case Vt.FREETEXT_COLOR:B(this,pn,ij).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Vt.FREETEXT_SIZE,mr._defaultFontSize],[Vt.FREETEXT_COLOR,mr._defaultColor||yr._defaultLineColor]]}get propertiesToUpdate(){return[[Vt.FREETEXT_SIZE,b(this,Ia)],[Vt.FREETEXT_COLOR,b(this,ds)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new rA(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Vt.FREETEXT_COLOR}get colorValue(){return b(this,ds)}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-mr._internalPadding*t,-(mr._internalPadding+b(this,Ia))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),M(this,zd,new AbortController);const t=this._uiManager.combinedSignal(b(this,zd));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",b(this,tb)),this._isDraggable=!0,(t=b(this,zd))==null||t.abort(),M(this,zd,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=b(this,Ma),n=M(this,Ma,B(this,pn,aj).call(this).trimEnd());if(t===n)return;const i=a=>{if(M(this,Ma,a),!a){this.remove();return}B(this,pn,SS).call(this),this._uiManager.rebuild(this),B(this,pn,_S).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),B(this,pn,_S).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){mr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",b(this,tb)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${b(this,Ia)}px * var(--total-scale-factor))`,i.color=b(this,ds),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,h]=this.pageDimensions,[f,d]=this.pageTranslation;let p,v;switch(this.rotation){case 0:p=t+(o[0]-f)/c,v=n+this.height-(o[1]-d)/h;break;case 90:p=t+(o[0]-f)/c,v=n-(o[1]-d)/h,[l,u]=[u,-l];break;case 180:p=t-this.width+(o[0]-f)/c,v=n-(o[1]-d)/h,[l,u]=[-l,-u];break;case 270:p=t+(o[0]-f-this.height*h)/c,v=n+(o[1]-d-this.width*c)/h,[l,u]=[-u,l];break}this.setAt(p*a,v*s,l,u)}else this._moveAfterPaste(t,n);B(this,pn,SS).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var p,v,g;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=B(p=mr,Yu,qI).call(p,n.getData("text")||"").replaceAll(kw,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=o,c=[],h=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(kw,"")),m!==this.editorDiv){let x=c;for(const y of this.editorDiv.childNodes){if(y===m){x=h;continue}x.push(B(v=mr,Yu,wS).call(v,y))}}c.push(l.nodeValue.slice(0,u).replaceAll(kw,""))}else if(l===this.editorDiv){let m=c,x=0;for(const y of this.editorDiv.childNodes)x++===u&&(m=h),m.push(B(g=mr,Yu,wS).call(g,y))}M(this,Ma,`${c.join(`
`)}${a}${h.join(`
`)}`),B(this,pn,SS).call(this);const f=new Range;let d=Math.sumPrecise(c.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const x=m.nodeValue.length;if(d<=x){f.setStart(m,d),f.setEnd(m,d);break}d-=x}s.removeAllRanges(),s.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){var o;let a=null;if(t instanceof QK){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:h,id:f,popupRef:d,contentsObj:p},textContent:v,textPosition:g,parent:{page:{pageNumber:m}}}=t;if(!v||v.length===0)return null;a=t={annotationType:mt.FREETEXT,color:Array.from(u),fontSize:l,value:v.join(`
`),position:g,pageIndex:m-1,rect:c.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:d,comment:(p==null?void 0:p.str)||null}}const s=await super.deserialize(t,n,i);return M(s,Ia,t.fontSize),M(s,ds,et.makeHexColor(...t.color)),M(s,Ma,B(o=mr,Yu,qI).call(o,t.value)),s._initialData=a,t.comment&&s.setCommentData(t.comment),s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=mr._internalPadding*this.parentScale,i=this.getRect(n,n),a=yr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:b(this,ds)),s={annotationType:mt.FREETEXT,color:a,fontSize:b(this,Ia),value:B(this,pn,sj).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(s),t?(s.isCopy=!0,s):this.annotationElementId&&!B(this,pn,oj).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t),{style:i}=n;i.fontSize=`calc(${b(this,Ia)}px * var(--total-scale-factor))`,i.color=b(this,ds),n.replaceChildren();for(const o of b(this,Ma).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),n.append(l)}const a=mr._internalPadding*this.parentScale,s={rect:this.getRect(a,a)};return s.popup=this.hasEditedComment?this.comment:{text:b(this,Ma)},t.updateEdited(s),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ds=new WeakMap,Ma=new WeakMap,tb=new WeakMap,zd=new WeakMap,Ia=new WeakMap,pn=new WeakSet,nj=function(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-b(this,Ia))*this.parentScale),M(this,Ia,a),B(this,pn,_S).call(this)},i=b(this,Ia);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ij=function(t){const n=a=>{var s;M(this,ds,this.editorDiv.style.color=a),(s=this._colorPicker)==null||s.update(a)},i=b(this,ds);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},aj=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(B(i=mr,Yu,wS).call(i,a)),n=a);return t.join(`
`)},_S=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Yu=new WeakSet,wS=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(kw,"")},SS=function(){if(this.editorDiv.replaceChildren(),!!b(this,Ma))for(const t of b(this,Ma).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},sj=function(){return b(this,Ma).replaceAll("Â "," ")},qI=function(t){return t.replaceAll(" ","Â ")},oj=function(t){const{value:n,fontSize:i,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,l)=>o!==a[l])||t.pageIndex!==s},R(mr,Yu),Ce(mr,"_freeTextDefaultContent",""),Ce(mr,"_internalPadding",0),Ce(mr,"_defaultColor",null),Ce(mr,"_defaultFontSize",10),Ce(mr,"_type","freetext"),Ce(mr,"_editorType",mt.FREETEXT);let jI=mr;class $e{toSVGPath(){fr("Abstract method `toSVGPath` must be implemented.")}get box(){fr("Abstract getter `box` must be implemented.")}serialize(e,t){fr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o]*i,s[o+1]=n+e[o+1]*a;return s}static _rescaleAndSwap(e,t,n,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)s[o]=t+e[o+1]*i,s[o+1]=n+e[o]*a;return s}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)i[a]=t+e[a],i[a+1]=n+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,a){switch(a){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,a,s){return[(e+5*n)/6,(t+5*i)/6,(5*n+a)/6,(5*i+s)/6,(n+a)/2,(i+s)/2]}}Ce($e,"PRECISION",1e-4);var La,to,K0,j0,el,Lt,Hd,Gd,rb,nb,q0,Z0,nh,ib,_A,wA,kn,fy,lj,uj,cj,hj,fj,dj;const ql=class ql{constructor({x:e,y:t},n,i,a,s,o=0){R(this,kn);R(this,La);R(this,to,[]);R(this,K0);R(this,j0);R(this,el,[]);R(this,Lt,new Float32Array(18));R(this,Hd);R(this,Gd);R(this,rb);R(this,nb);R(this,q0);R(this,Z0);R(this,nh,[]);M(this,La,n),M(this,Z0,a*i),M(this,j0,s),b(this,Lt).set([NaN,NaN,NaN,NaN,e,t],6),M(this,K0,o),M(this,nb,b(ql,ib)*i),M(this,rb,b(ql,wA)*i),M(this,q0,i),b(this,nh).push(e,t)}isEmpty(){return isNaN(b(this,Lt)[8])}add({x:e,y:t}){var C;M(this,Hd,e),M(this,Gd,t);const[n,i,a,s]=b(this,La);let[o,l,u,c]=b(this,Lt).subarray(8,12);const h=e-u,f=t-c,d=Math.hypot(h,f);if(d<b(this,rb))return!1;const p=d-b(this,nb),v=p/d,g=v*h,m=v*f;let x=o,y=l;o=u,l=c,u+=g,c+=m,(C=b(this,nh))==null||C.push(e,t);const _=-m/p,S=g/p,w=_*b(this,Z0),T=S*b(this,Z0);return b(this,Lt).set(b(this,Lt).subarray(2,8),0),b(this,Lt).set([u+w,c+T],4),b(this,Lt).set(b(this,Lt).subarray(14,18),12),b(this,Lt).set([u-w,c-T],16),isNaN(b(this,Lt)[6])?(b(this,el).length===0&&(b(this,Lt).set([o+w,l+T],2),b(this,el).push(NaN,NaN,NaN,NaN,(o+w-n)/a,(l+T-i)/s),b(this,Lt).set([o-w,l-T],14),b(this,to).push(NaN,NaN,NaN,NaN,(o-w-n)/a,(l-T-i)/s)),b(this,Lt).set([x,y,o,l,u,c],6),!this.isEmpty()):(b(this,Lt).set([x,y,o,l,u,c],6),Math.abs(Math.atan2(y-l,x-o)-Math.atan2(m,g))<Math.PI/2?([o,l,u,c]=b(this,Lt).subarray(2,6),b(this,el).push(NaN,NaN,NaN,NaN,((o+u)/2-n)/a,((l+c)/2-i)/s),[o,l,x,y]=b(this,Lt).subarray(14,18),b(this,to).push(NaN,NaN,NaN,NaN,((x+o)/2-n)/a,((y+l)/2-i)/s),!0):([x,y,o,l,u,c]=b(this,Lt).subarray(0,6),b(this,el).push(((x+5*o)/6-n)/a,((y+5*l)/6-i)/s,((5*o+u)/6-n)/a,((5*l+c)/6-i)/s,((o+u)/2-n)/a,((l+c)/2-i)/s),[u,c,o,l,x,y]=b(this,Lt).subarray(12,18),b(this,to).push(((x+5*o)/6-n)/a,((y+5*l)/6-i)/s,((5*o+u)/6-n)/a,((5*l+c)/6-i)/s,((o+u)/2-n)/a,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=b(this,el),t=b(this,to);if(isNaN(b(this,Lt)[6])&&!this.isEmpty())return B(this,kn,lj).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);B(this,kn,cj).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return B(this,kn,uj).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,a,s){return new pj(e,t,n,i,a,s)}getOutlines(){var h;const e=b(this,el),t=b(this,to),n=b(this,Lt),[i,a,s,o]=b(this,La),l=new Float32Array((((h=b(this,nh))==null?void 0:h.length)??0)+2);for(let f=0,d=l.length-2;f<d;f+=2)l[f]=(b(this,nh)[f]-i)/s,l[f+1]=(b(this,nh)[f+1]-a)/o;if(l[l.length-2]=(b(this,Hd)-i)/s,l[l.length-1]=(b(this,Gd)-a)/o,isNaN(n[6])&&!this.isEmpty())return B(this,kn,hj).call(this,l);const u=new Float32Array(b(this,el).length+24+b(this,to).length);let c=e.length;for(let f=0;f<c;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}c=B(this,kn,dj).call(this,u,c);for(let f=t.length-6;f>=6;f-=6)for(let d=0;d<6;d+=2){if(isNaN(t[f+d])){u[c]=u[c+1]=NaN,c+=2;continue}u[c]=t[f+d],u[c+1]=t[f+d+1],c+=2}return B(this,kn,fj).call(this,u,c),this.newFreeDrawOutline(u,l,b(this,La),b(this,q0),b(this,K0),b(this,j0))}};La=new WeakMap,to=new WeakMap,K0=new WeakMap,j0=new WeakMap,el=new WeakMap,Lt=new WeakMap,Hd=new WeakMap,Gd=new WeakMap,rb=new WeakMap,nb=new WeakMap,q0=new WeakMap,Z0=new WeakMap,nh=new WeakMap,ib=new WeakMap,_A=new WeakMap,wA=new WeakMap,kn=new WeakSet,fy=function(){const e=b(this,Lt).subarray(4,6),t=b(this,Lt).subarray(16,18),[n,i,a,s]=b(this,La);return[(b(this,Hd)+(e[0]-t[0])/2-n)/a,(b(this,Gd)+(e[1]-t[1])/2-i)/s,(b(this,Hd)+(t[0]-e[0])/2-n)/a,(b(this,Gd)+(t[1]-e[1])/2-i)/s]},lj=function(){const[e,t,n,i]=b(this,La),[a,s,o,l]=B(this,kn,fy).call(this);return`M${(b(this,Lt)[2]-e)/n} ${(b(this,Lt)[3]-t)/i} L${(b(this,Lt)[4]-e)/n} ${(b(this,Lt)[5]-t)/i} L${a} ${s} L${o} ${l} L${(b(this,Lt)[16]-e)/n} ${(b(this,Lt)[17]-t)/i} L${(b(this,Lt)[14]-e)/n} ${(b(this,Lt)[15]-t)/i} Z`},uj=function(e){const t=b(this,to);e.push(`L${t[4]} ${t[5]} Z`)},cj=function(e){const[t,n,i,a]=b(this,La),s=b(this,Lt).subarray(4,6),o=b(this,Lt).subarray(16,18),[l,u,c,h]=B(this,kn,fy).call(this);e.push(`L${(s[0]-t)/i} ${(s[1]-n)/a} L${l} ${u} L${c} ${h} L${(o[0]-t)/i} ${(o[1]-n)/a}`)},hj=function(e){const t=b(this,Lt),[n,i,a,s]=b(this,La),[o,l,u,c]=B(this,kn,fy).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-i)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-i)/s],0),this.newFreeDrawOutline(h,e,b(this,La),b(this,q0),b(this,K0),b(this,j0))},fj=function(e,t){const n=b(this,to);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},dj=function(e,t){const n=b(this,Lt).subarray(4,6),i=b(this,Lt).subarray(16,18),[a,s,o,l]=b(this,La),[u,c,h,f]=B(this,kn,fy).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],t),t+=24},R(ql,ib,8),R(ql,_A,2),R(ql,wA,b(ql,ib)+b(ql,_A));let iA=ql;var J0,$d,_u,ab,Pa,sb,jr,SA,vj;class pj extends $e{constructor(t,n,i,a,s,o){super();R(this,SA);R(this,J0);R(this,$d,new Float32Array(4));R(this,_u);R(this,ab);R(this,Pa);R(this,sb);R(this,jr);M(this,jr,t),M(this,Pa,n),M(this,J0,i),M(this,sb,a),M(this,_u,s),M(this,ab,o),this.lastPoint=[NaN,NaN],B(this,SA,vj).call(this,o);const[l,u,c,h]=b(this,$d);for(let f=0,d=t.length;f<d;f+=2)t[f]=(t[f]-l)/c,t[f+1]=(t[f+1]-u)/h;for(let f=0,d=n.length;f<d;f+=2)n[f]=(n[f]-l)/c,n[f+1]=(n[f+1]-u)/h}toSVGPath(){const t=[`M${b(this,jr)[4]} ${b(this,jr)[5]}`];for(let n=6,i=b(this,jr).length;n<i;n+=6){if(isNaN(b(this,jr)[n])){t.push(`L${b(this,jr)[n+4]} ${b(this,jr)[n+5]}`);continue}t.push(`C${b(this,jr)[n]} ${b(this,jr)[n+1]} ${b(this,jr)[n+2]} ${b(this,jr)[n+3]} ${b(this,jr)[n+4]} ${b(this,jr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,a],s){const o=i-t,l=a-n;let u,c;switch(s){case 0:u=$e._rescale(b(this,jr),t,a,o,-l),c=$e._rescale(b(this,Pa),t,a,o,-l);break;case 90:u=$e._rescaleAndSwap(b(this,jr),t,n,o,l),c=$e._rescaleAndSwap(b(this,Pa),t,n,o,l);break;case 180:u=$e._rescale(b(this,jr),i,n,-o,l),c=$e._rescale(b(this,Pa),i,n,-o,l);break;case 270:u=$e._rescaleAndSwap(b(this,jr),i,a,-o,-l),c=$e._rescaleAndSwap(b(this,Pa),i,a,-o,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return b(this,$d)}newOutliner(t,n,i,a,s,o=0){return new iA(t,n,i,a,s,o)}getNewOutline(t,n){const[i,a,s,o]=b(this,$d),[l,u,c,h]=b(this,J0),f=s*c,d=o*h,p=i*c+l,v=a*h+u,g=this.newOutliner({x:b(this,Pa)[0]*f+p,y:b(this,Pa)[1]*d+v},b(this,J0),b(this,sb),t,b(this,ab),n??b(this,_u));for(let m=2;m<b(this,Pa).length;m+=2)g.add({x:b(this,Pa)[m]*f+p,y:b(this,Pa)[m+1]*d+v});return g.getOutlines()}}J0=new WeakMap,$d=new WeakMap,_u=new WeakMap,ab=new WeakMap,Pa=new WeakMap,sb=new WeakMap,jr=new WeakMap,SA=new WeakSet,vj=function(t){const n=b(this,jr);let i=n[4],a=n[5];const s=[i,a,i,a];let o=i,l=a;const u=t?Math.max:Math.min;for(let h=6,f=n.length;h<f;h+=6){const d=n[h+4],p=n[h+5];if(isNaN(n[h]))et.pointBoundingBox(d,p,s),l<p?(o=d,l=p):l===p&&(o=u(o,d));else{const v=[1/0,1/0,-1/0,-1/0];et.bezierBoundingBox(i,a,...n.slice(h,h+6),v),et.rectBoundingBox(...v,s),l<v[3]?(o=v[2],l=v[3]):l===v[3]&&(o=u(o,v[2]))}i=d,a=p}const c=b(this,$d);c[0]=s[0]-b(this,_u),c[1]=s[1]-b(this,_u),c[2]=s[2]-s[0]+2*b(this,_u),c[3]=s[3]-s[1]+2*b(this,_u),this.lastPoint=[o,l]};var ob,lb,ih,ro,Ji,gj,TS,mj,yj,JI;class ZI{constructor(e,t=0,n=0,i=!0){R(this,Ji);R(this,ob);R(this,lb);R(this,ih,[]);R(this,ro,[]);const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:d,y:p,width:v,height:g}of e){const m=Math.floor((d-t)/s)*s,x=Math.ceil((d+v+t)/s)*s,y=Math.floor((p-t)/s)*s,_=Math.ceil((p+g+t)/s)*s,S=[m,y,_,!0],w=[x,y,_,!1];b(this,ih).push(S,w),et.rectBoundingBox(m,y,x,_,a)}const o=a[2]-a[0]+2*n,l=a[3]-a[1]+2*n,u=a[0]-n,c=a[1]-n,h=b(this,ih).at(i?-1:-2),f=[h[0],h[2]];for(const d of b(this,ih)){const[p,v,g]=d;d[0]=(p-u)/o,d[1]=(v-c)/l,d[2]=(g-c)/l}M(this,ob,new Float32Array([u,c,o,l])),M(this,lb,f)}getOutlines(){b(this,ih).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of b(this,ih))t[3]?(e.push(...B(this,Ji,JI).call(this,t)),B(this,Ji,mj).call(this,t)):(B(this,Ji,yj).call(this,t),e.push(...B(this,Ji,JI).call(this,t)));return B(this,Ji,gj).call(this,e)}}ob=new WeakMap,lb=new WeakMap,ih=new WeakMap,ro=new WeakMap,Ji=new WeakSet,gj=function(e){const t=[],n=new Set;for(const s of e){const[o,l,u]=s;t.push([o,l,s],[o,u,s])}t.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=t.length;s<o;s+=2){const l=t[s][2],u=t[s+1][2];l.push(u),u.push(l),n.add(l),n.add(u)}const i=[];let a;for(;n.size>0;){const s=n.values().next().value;let[o,l,u,c,h]=s;n.delete(s);let f=o,d=l;for(a=[o,u],i.push(a);;){let p;if(n.has(c))p=c;else if(n.has(h))p=h;else break;n.delete(p),[o,l,u,c,h]=p,f!==o&&(a.push(f,d,o,d===l?l:u),f=o),d=d===l?u:l}a.push(f,d)}return new tPe(i,b(this,ob),b(this,lb))},TS=function(e){const t=b(this,ro);let n=0,i=t.length-1;for(;n<=i;){const a=n+i>>1,s=t[a][0];if(s===e)return a;s<e?n=a+1:i=a-1}return i+1},mj=function([,e,t]){const n=B(this,Ji,TS).call(this,e);b(this,ro).splice(n,0,[e,t])},yj=function([,e,t]){const n=B(this,Ji,TS).call(this,e);for(let i=n;i<b(this,ro).length;i++){const[a,s]=b(this,ro)[i];if(a!==e)break;if(a===e&&s===t){b(this,ro).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[a,s]=b(this,ro)[i];if(a!==e)break;if(a===e&&s===t){b(this,ro).splice(i,1);return}}},JI=function(e){const[t,n,i]=e,a=[[t,n,i]],s=B(this,Ji,TS).call(this,i);for(let o=0;o<s;o++){const[l,u]=b(this,ro)[o];for(let c=0,h=a.length;c<h;c++){const[,f,d]=a[c];if(!(u<=f||d<=l)){if(f>=l){if(d>u)a[c][1]=u;else{if(h===1)return[];a.splice(c,1),c--,h--}continue}a[c][2]=l,d>u&&a.push([t,u,d])}}}return a};var ub,Q0;class tPe extends $e{constructor(t,n,i){super();R(this,ub);R(this,Q0);M(this,Q0,t),M(this,ub,n),this.lastPoint=i}toSVGPath(){const t=[];for(const n of b(this,Q0)){let[i,a]=n;t.push(`M${i} ${a}`);for(let s=2;s<n.length;s+=2){const o=n[s],l=n[s+1];o===i?(t.push(`V${l}`),a=l):l===a&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,a],s){const o=[],l=i-t,u=a-n;for(const c of b(this,Q0)){const h=new Array(c.length);for(let f=0;f<c.length;f+=2)h[f]=t+c[f]*l,h[f+1]=a-c[f+1]*u;o.push(h)}return o}get box(){return b(this,ub)}get classNamesForOutlining(){return["highlightOutline"]}}ub=new WeakMap,Q0=new WeakMap;class QI extends iA{newFreeDrawOutline(e,t,n,i,a,s){return new rPe(e,t,n,i,a,s)}}class rPe extends pj{newOutliner(e,t,n,i,a,s=0){return new QI(e,t,n,i,a,s)}}var eg,cb,wu,Ud,hb,pa,fb,db,Wd,ps,Ra,Zn,tg,Su,bi,rg,vs,pb,St,eL,AS,xj,bj,_j,tL,Ff,ks,Rv,wj,CS,dy,Sj,Tj,Aj,Cj,kj;const er=class er extends yr{constructor(t){super({...t,name:"highlightEditor"});R(this,St);R(this,eg,null);R(this,cb,0);R(this,wu);R(this,Ud,null);R(this,hb,null);R(this,pa,null);R(this,fb,null);R(this,db,0);R(this,Wd,null);R(this,ps,null);R(this,Ra,null);R(this,Zn,!1);R(this,tg,null);R(this,Su);R(this,bi,null);R(this,rg,"");R(this,vs);R(this,pb,"");this.color=t.color||er._defaultColor,M(this,vs,t.thickness||er._defaultThickness),M(this,Su,t.opacity||er._defaultOpacity),M(this,wu,t.boxes||null),M(this,pb,t.methodOfCreation||""),M(this,rg,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(M(this,Zn,!0),B(this,St,AS).call(this,t),B(this,St,Ff).call(this)):b(this,wu)&&(M(this,eg,t.anchorNode),M(this,cb,t.anchorOffset),M(this,fb,t.focusNode),M(this,db,t.focusOffset),B(this,St,eL).call(this),B(this,St,Ff).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=er.prototype;return Pt(this,"_keyboardManager",new r_([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:b(this,Zn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:b(this,vs),methodOfCreation:b(this,pb)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;yr.initialize(t,n),er._defaultColor||(er._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Vt.HIGHLIGHT_COLOR:er._defaultColor=n;break;case Vt.HIGHLIGHT_THICKNESS:er._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return b(this,tg)}updateParams(t,n){switch(t){case Vt.HIGHLIGHT_COLOR:B(this,St,xj).call(this,n);break;case Vt.HIGHLIGHT_THICKNESS:B(this,St,bj).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Vt.HIGHLIGHT_COLOR,er._defaultColor],[Vt.HIGHLIGHT_THICKNESS,er._defaultThickness]]}get propertiesToUpdate(){return[[Vt.HIGHLIGHT_COLOR,this.color||er._defaultColor],[Vt.HIGHLIGHT_THICKNESS,b(this,vs)||er._defaultThickness],[Vt.HIGHLIGHT_FREE,b(this,Zn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",M(this,hb,new tA({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(B(this,St,dy).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,B(this,St,dy).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){B(this,St,tL).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,St,Ff).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?B(this,St,tL).call(this):t&&(B(this,St,Ff).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var a,s,o;const{drawLayer:n}=this.parent;let i;b(this,Zn)?(t=(t-this.rotation+360)%360,i=B(a=er,ks,Rv).call(a,b(this,ps).box,t)):i=B(s=er,ks,Rv).call(s,[this.x,this.y,this.width,this.height],t),n.updateProperties(b(this,Ra),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(b(this,bi),{bbox:B(o=er,ks,Rv).call(o,b(this,pa).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();b(this,rg)&&(t.setAttribute("aria-label",b(this,rg)),t.setAttribute("role","mark")),b(this,Zn)?t.classList.add("free"):this.div.addEventListener("keydown",B(this,St,wj).bind(this),{signal:this._uiManager._signal});const n=M(this,Wd,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=b(this,Ud);const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),XX(this,b(this,Wd),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(b(this,bi),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(b(this,bi),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:B(this,St,CS).call(this,!0);break;case 1:case 3:B(this,St,CS).call(this,!1);break}}select(){var t;super.select(),b(this,bi)&&((t=this.parent)==null||t.drawLayer.updateProperties(b(this,bi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),b(this,bi)&&((t=this.parent)==null||t.drawLayer.updateProperties(b(this,bi),{rootClass:{selected:!1}}),b(this,Zn)||B(this,St,CS).call(this,!1))}get _mustFixPosition(){return!b(this,Zn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(b(this,Ra),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(b(this,bi),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:a,y:s}){const{x:o,y:l,width:u,height:c}=i.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),d=p=>{h.abort(),B(this,ks,Cj).call(this,t,p)};window.addEventListener("blur",d,{signal:f}),window.addEventListener("pointerup",d,{signal:f}),window.addEventListener("pointerdown",cn,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ps,{signal:f}),i.addEventListener("pointermove",B(this,ks,Aj).bind(this,t),{signal:f}),this._freeHighlight=new QI({x:a,y:s},[o,l,u,c],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var v,g,m,x;let a=null;if(t instanceof tj){const{data:{quadPoints:y,rect:_,rotation:S,id:w,color:T,opacity:A,popupRef:C,contentsObj:k},parent:{page:{pageNumber:E}}}=t;a=t={annotationType:mt.HIGHLIGHT,color:Array.from(T),opacity:A,quadPoints:y,boxes:null,pageIndex:E-1,rect:_.slice(0),rotation:S,annotationElementId:w,id:w,deleted:!1,popupRef:C,comment:(k==null?void 0:k.str)||null}}else if(t instanceof XO){const{data:{inkLists:y,rect:_,rotation:S,id:w,color:T,borderStyle:{rawWidth:A},popupRef:C,contentsObj:k},parent:{page:{pageNumber:E}}}=t;a=t={annotationType:mt.HIGHLIGHT,color:Array.from(T),thickness:A,inkLists:y,boxes:null,pageIndex:E-1,rect:_.slice(0),rotation:S,annotationElementId:w,id:w,deleted:!1,popupRef:C,comment:(k==null?void 0:k.str)||null}}const{color:s,quadPoints:o,inkLists:l,opacity:u}=t,c=await super.deserialize(t,n,i);c.color=et.makeHexColor(...s),M(c,Su,u||1),l&&M(c,vs,t.thickness),c._initialData=a,t.comment&&c.setCommentData(t.comment);const[h,f]=c.pageDimensions,[d,p]=c.pageTranslation;if(o){const y=M(c,wu,[]);for(let _=0;_<o.length;_+=8)y.push({x:(o[_]-d)/h,y:1-(o[_+1]-p)/f,width:(o[_+2]-o[_])/h,height:(o[_+1]-o[_+5])/f});B(v=c,St,eL).call(v),B(g=c,St,Ff).call(g),c.rotate(c.rotation)}else if(l){M(c,Zn,!0);const y=l[0],_={x:y[0]-d,y:f-(y[1]-p)},S=new QI(_,[0,0,h,f],1,b(c,vs)/2,!0,.001);for(let A=0,C=y.length;A<C;A+=2)_.x=y[A]-d,_.y=f-(y[A+1]-p),S.add(_);const{id:w,clipPathId:T}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);B(m=c,St,AS).call(m,{highlightOutlines:S.getOutlines(),highlightId:w,clipPathId:T}),B(x=c,St,Ff).call(x),c.rotate(c.parentRotation)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=yr._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),a={annotationType:mt.HIGHLIGHT,color:i,opacity:b(this,Su),thickness:b(this,vs),quadPoints:B(this,St,Sj).call(this),outlines:B(this,St,Tj).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:B(this,St,dy).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(a),this.annotationElementId&&!B(this,St,kj).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n={rect:this.getRect(0,0)};return this.hasEditedComment&&(n.popup=this.comment),t.updateEdited(n),null}static canCreateNewEmptyEditor(){return!1}};eg=new WeakMap,cb=new WeakMap,wu=new WeakMap,Ud=new WeakMap,hb=new WeakMap,pa=new WeakMap,fb=new WeakMap,db=new WeakMap,Wd=new WeakMap,ps=new WeakMap,Ra=new WeakMap,Zn=new WeakMap,tg=new WeakMap,Su=new WeakMap,bi=new WeakMap,rg=new WeakMap,vs=new WeakMap,pb=new WeakMap,St=new WeakSet,eL=function(){const t=new ZI(b(this,wu),.001);M(this,ps,t.getOutlines()),[this.x,this.y,this.width,this.height]=b(this,ps).box;const n=new ZI(b(this,wu),.0025,.001,this._uiManager.direction==="ltr");M(this,pa,n.getOutlines());const{lastPoint:i}=b(this,pa);M(this,tg,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},AS=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var h,f;if(M(this,ps,t),M(this,pa,t.getNewOutline(b(this,vs)/2+1.5,.0025)),n>=0)M(this,Ra,n),M(this,Ud,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),M(this,bi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:b(this,pa).box,path:{d:b(this,pa).toSVGPath()}},!0));else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(b(this,Ra),{bbox:B(h=er,ks,Rv).call(h,b(this,ps).box,(d-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(b(this,bi),{bbox:B(f=er,ks,Rv).call(f,b(this,pa).box,d),path:{d:b(this,pa).toSVGPath()}})}const[s,o,l,u]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=u;break;case 90:{const[d,p]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*p/d,this.height=u*d/p;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[d,p]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*p/d,this.height=u*d/p;break}}const{lastPoint:c}=b(this,pa);M(this,tg,[(c[0]-s)/l,(c[1]-o)/u])},xj=function(t){const n=(s,o)=>{var l,u;this.color=s,M(this,Su,o),(l=this.parent)==null||l.drawLayer.updateProperties(b(this,Ra),{root:{fill:s,"fill-opacity":o}}),(u=b(this,hb))==null||u.updateColor(s)},i=this.color,a=b(this,Su);this.addCommands({cmd:n.bind(this,t,er._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},bj=function(t){const n=b(this,vs),i=a=>{M(this,vs,a),B(this,St,_j).call(this,a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},_j=function(t){if(!b(this,Zn))return;B(this,St,AS).call(this,{highlightOutlines:b(this,ps).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},tL=function(){b(this,Ra)===null||!this.parent||(this.parent.drawLayer.remove(b(this,Ra)),M(this,Ra,null),this.parent.drawLayer.remove(b(this,bi)),M(this,bi,null))},Ff=function(t=this.parent){b(this,Ra)===null&&({id:Ii(this,Ra)._,clipPathId:Ii(this,Ud)._}=t.drawLayer.draw({bbox:b(this,ps).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":b(this,Su)},rootClass:{highlight:!0,free:b(this,Zn)},path:{d:b(this,ps).toSVGPath()}},!1,!0),M(this,bi,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:b(this,Zn)},bbox:b(this,pa).box,path:{d:b(this,pa).toSVGPath()}},b(this,Zn))),b(this,Wd)&&(b(this,Wd).style.clipPath=b(this,Ud)))},ks=new WeakSet,Rv=function([t,n,i,a],s){switch(s){case 90:return[1-n-a,t,a,i];case 180:return[1-t-i,1-n-a,i,a];case 270:return[n,1-t-i,a,i]}return[t,n,i,a]},wj=function(t){er._keyboardManager.exec(this,t)},CS=function(t){if(!b(this,eg))return;const n=window.getSelection();t?n.setPosition(b(this,eg),b(this,cb)):n.setPosition(b(this,fb),b(this,db))},dy=function(){return b(this,Zn)?this.rotation:0},Sj=function(){if(b(this,Zn))return null;const[t,n]=this.pageDimensions,[i,a]=this.pageTranslation,s=b(this,wu),o=new Float32Array(s.length*8);let l=0;for(const{x:u,y:c,width:h,height:f}of s){const d=u*t+i,p=(1-c)*n+a;o[l]=o[l+4]=d,o[l+1]=o[l+3]=p,o[l+2]=o[l+6]=d+h*t,o[l+5]=o[l+7]=p-f*n,l+=8}return o},Tj=function(t){return b(this,ps).serialize(t,B(this,St,dy).call(this))},Aj=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Cj=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},kj=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,a)=>i!==n[a])},R(er,ks),Ce(er,"_defaultColor",null),Ce(er,"_defaultOpacity",1),Ce(er,"_defaultThickness",12),Ce(er,"_type","highlight"),Ce(er,"_editorType",mt.HIGHLIGHT),Ce(er,"_freeHighlightId",-1),Ce(er,"_freeHighlight",null),Ce(er,"_freeHighlightClipId","");let aA=er;var Yd;class Ej{constructor(){R(this,Yd,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){b(this,Yd)[e]=t}toSVGProperties(){const e=b(this,Yd);return M(this,Yd,Object.create(null)),{root:e}}reset(){M(this,Yd,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){fr("Not implemented")}}Yd=new WeakMap;var Oa,ng,On,Xd,Kd,ah,sh,oh,jd,Kt,rL,nL,iL,py,Dj,kS,vy,Ov;const Xe=class Xe extends yr{constructor(t){super(t);R(this,Kt);R(this,Oa,null);R(this,ng);Ce(this,"_colorPicker",null);Ce(this,"_drawId",null);M(this,ng,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(B(this,Kt,rL).call(this,t),B(this,Kt,py).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[a,s]of Object.entries(n))i.has(a)?Object.assign(t[a],s):t[a]=s;return t}static getDefaultDrawingOptions(t){fr("Not implemented")}static get typesMap(){fr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(b(Xe,On).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,n[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,n[a]]);return t}_updateProperty(t,n,i){const a=this._drawingOptions,s=a[n],o=l=>{var c,h;a.updateProperty(n,l);const u=b(this,Oa).updateProperty(n,l);u&&B(this,Kt,vy).call(this,u),(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&((h=this._colorPicker)==null||h.update(l))};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Xe._mergeSVGProperties(b(this,Oa).getPathResizingSVGProperties(B(this,Kt,kS).call(this)),{bbox:B(this,Kt,Ov).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Xe._mergeSVGProperties(b(this,Oa).getPathResizedSVGProperties(B(this,Kt,kS).call(this)),{bbox:B(this,Kt,Ov).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:B(this,Kt,Ov).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Xe._mergeSVGProperties(b(this,Oa).getPathTranslatedSVGProperties(B(this,Kt,kS).call(this),this.parentDimensions),{bbox:B(this,Kt,Ov).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,b(this,ng)&&(M(this,ng,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){B(this,Kt,iL).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(B(this,Kt,py).call(this),B(this,Kt,vy).call(this,b(this,Oa).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),B(this,Kt,iL).call(this)):t&&(this._uiManager.addShouldRescale(this),B(this,Kt,py).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Xe._mergeSVGProperties({bbox:B(this,Kt,Ov).call(this)},b(this,Oa).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&B(this,Kt,vy).call(this,b(this,Oa).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,a,s){fr("Not implemented")}static startDrawing(t,n,i,a){var g;const{target:s,offsetX:o,offsetY:l,pointerId:u,pointerType:c}=a;if(b(Xe,sh)&&b(Xe,sh)!==c)return;const{viewport:{rotation:h}}=t,{width:f,height:d}=s.getBoundingClientRect(),p=M(Xe,Xd,new AbortController),v=t.combinedSignal(p);if(b(Xe,ah)||M(Xe,ah,u),b(Xe,sh)??M(Xe,sh,c),window.addEventListener("pointerup",m=>{var x;b(Xe,ah)===m.pointerId?this._endDraw(m):(x=b(Xe,oh))==null||x.delete(m.pointerId)},{signal:v}),window.addEventListener("pointercancel",m=>{var x;b(Xe,ah)===m.pointerId?this._currentParent.endDrawingSession():(x=b(Xe,oh))==null||x.delete(m.pointerId)},{signal:v}),window.addEventListener("pointerdown",m=>{b(Xe,sh)===m.pointerType&&((b(Xe,oh)||M(Xe,oh,new Set)).add(m.pointerId),b(Xe,On).isCancellable()&&(b(Xe,On).removeLastElement(),b(Xe,On).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Ps,{signal:v}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),s.addEventListener("touchmove",m=>{m.timeStamp===b(Xe,jd)&&cn(m)},{signal:v}),t.toggleDrawing(),(g=n._editorUndoBar)==null||g.hide(),b(Xe,On)){t.drawLayer.updateProperties(this._currentDrawId,b(Xe,On).startNew(o,l,f,d,h));return}n.updateUIForDefaultProperties(this),M(Xe,On,this.createDrawerInstance(o,l,f,d,h)),M(Xe,Kd,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(b(Xe,Kd).toSVGProperties(),b(Xe,On).defaultSVGProperties),!0,!1)}static _drawMove(t){var s;if(M(Xe,jd,-1),!b(Xe,On))return;const{offsetX:n,offsetY:i,pointerId:a}=t;if(b(Xe,ah)===a){if(((s=b(Xe,oh))==null?void 0:s.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,b(Xe,On).add(n,i)),M(Xe,jd,t.timeStamp),cn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,M(Xe,On,null),M(Xe,Kd,null),M(Xe,sh,null),M(Xe,jd,NaN)),b(Xe,Xd)&&(b(Xe,Xd).abort(),M(Xe,Xd,null),M(Xe,ah,NaN),M(Xe,oh,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,b(Xe,On).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=b(Xe,On),a=this._currentDrawId,s=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,i.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:Vt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Vt.DRAW_STEP),!b(Xe,On).isEmpty()){const{pageDimensions:[i,a],scale:s}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:b(Xe,On).getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:b(Xe,Kd),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,a,s,o){fr("Not implemented")}static async deserialize(t,n,i){var h,f;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:l}}=n.viewport,u=this.deserializeDraw(o,l,a,s,this._INNER_MARGIN,t),c=await super.deserialize(t,n,i);return c.createDrawingOptions(t),B(h=c,Kt,rL).call(h,{drawOutlines:u}),B(f=c,Kt,py).call(f),c.onScaleChanging(),c.rotate(),c}serializeDraw(t){const[n,i]=this.pageTranslation,[a,s]=this.pageDimensions;return b(this,Oa).serialize([n,i,a,s],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Oa=new WeakMap,ng=new WeakMap,On=new WeakMap,Xd=new WeakMap,Kd=new WeakMap,ah=new WeakMap,sh=new WeakMap,oh=new WeakMap,jd=new WeakMap,Kt=new WeakSet,rL=function({drawOutlines:t,drawId:n,drawingOptions:i}){M(this,Oa,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=B(this,Kt,nL).call(this,t,this.parent),B(this,Kt,vy).call(this,t.box)},nL=function(t,n){const{id:i}=n.drawLayer.draw(Xe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},iL=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},py=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=B(this,Kt,nL).call(this,b(this,Oa),t)}},Dj=function([t,n,i,a]){const{parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[n,1-t,i*(o/s),a*(s/o)];case 180:return[1-t,1-n,i,a];case 270:return[1-n,t,i*(o/s),a*(s/o)];default:return[t,n,i,a]}},kS=function(){const{x:t,y:n,width:i,height:a,parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[1-n,t,i*(s/o),a*(o/s)];case 180:return[1-t,1-n,i,a];case 270:return[n,1-t,i*(s/o),a*(o/s)];default:return[t,n,i,a]}},vy=function(t){if([this.x,this.y,this.width,this.height]=B(this,Kt,Dj).call(this,t),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},Ov=function(){const{x:t,y:n,width:i,height:a,rotation:s,parentRotation:o,parentDimensions:[l,u]}=this;switch((s*4+o)/90){case 1:return[1-n-a,t,a,i];case 2:return[1-t-i,1-n-a,i,a];case 3:return[n,1-t-i,a,i];case 4:return[t,n-i*(l/u),a*(u/l),i*(l/u)];case 5:return[1-n,t,i*(l/u),a*(u/l)];case 6:return[1-t-a*(u/l),1-n,a*(u/l),i*(l/u)];case 7:return[n-i*(l/u),1-t-a*(u/l),i*(l/u),a*(u/l)];case 8:return[t-i,n-a,i,a];case 9:return[1-n,t-i,a,i];case 10:return[1-t,1-n,i,a];case 11:return[n-a,1-t,a,i];case 12:return[t-a*(u/l),n,a*(u/l),i*(l/u)];case 13:return[1-n-i*(l/u),t-a*(u/l),i*(l/u),a*(u/l)];case 14:return[1-t,1-n-i*(l/u),a*(u/l),i*(l/u)];case 15:return[n,1-t,i*(l/u),a*(u/l)];default:return[t,n,i,a]}},Ce(Xe,"_currentDrawId",-1),Ce(Xe,"_currentParent",null),R(Xe,On,null),R(Xe,Xd,null),R(Xe,Kd,null),R(Xe,ah,NaN),R(Xe,sh,null),R(Xe,oh,null),R(Xe,jd,NaN),Ce(Xe,"_INNER_MARGIN",3);let sA=Xe;var tl,Fn,Nn,qd,ig,Fi,Jn,gs,Zd,Jd,Qd,ag,ES;class nPe{constructor(e,t,n,i,a,s){R(this,ag);R(this,tl,new Float64Array(6));R(this,Fn);R(this,Nn);R(this,qd);R(this,ig);R(this,Fi);R(this,Jn,"");R(this,gs,0);R(this,Zd,new i_);R(this,Jd);R(this,Qd);M(this,Jd,n),M(this,Qd,i),M(this,qd,a),M(this,ig,s),[e,t]=B(this,ag,ES).call(this,e,t);const o=M(this,Fn,[NaN,NaN,NaN,NaN,e,t]);M(this,Fi,[e,t]),M(this,Nn,[{line:o,points:b(this,Fi)}]),b(this,tl).set(o,0)}updateProperty(e,t){e==="stroke-width"&&M(this,ig,t)}isEmpty(){return!b(this,Nn)||b(this,Nn).length===0}isCancellable(){return b(this,Fi).length<=10}add(e,t){[e,t]=B(this,ag,ES).call(this,e,t);const[n,i,a,s]=b(this,tl).subarray(2,6),o=e-a,l=t-s;return Math.hypot(b(this,Jd)*o,b(this,Qd)*l)<=2?null:(b(this,Fi).push(e,t),isNaN(n)?(b(this,tl).set([a,s,e,t],2),b(this,Fn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(b(this,tl)[0])&&b(this,Fn).splice(6,6),b(this,tl).set([n,i,a,s,e,t],0),b(this,Fn).push(...$e.createBezierPoints(n,i,a,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(b(this,Fi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,a){M(this,Jd,n),M(this,Qd,i),M(this,qd,a),[e,t]=B(this,ag,ES).call(this,e,t);const s=M(this,Fn,[NaN,NaN,NaN,NaN,e,t]);M(this,Fi,[e,t]);const o=b(this,Nn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),b(this,Nn).push({line:s,points:b(this,Fi)}),b(this,tl).set(s,0),M(this,gs,0),this.toSVGPath(),null}getLastElement(){return b(this,Nn).at(-1)}setLastElement(e){return b(this,Nn)?(b(this,Nn).push(e),M(this,Fn,e.line),M(this,Fi,e.points),M(this,gs,0),{path:{d:this.toSVGPath()}}):b(this,Zd).setLastElement(e)}removeLastElement(){if(!b(this,Nn))return b(this,Zd).removeLastElement();b(this,Nn).pop(),M(this,Jn,"");for(let e=0,t=b(this,Nn).length;e<t;e++){const{line:n,points:i}=b(this,Nn)[e];M(this,Fn,n),M(this,Fi,i),M(this,gs,0),this.toSVGPath()}return{path:{d:b(this,Jn)}}}toSVGPath(){const e=$e.svgRound(b(this,Fn)[4]),t=$e.svgRound(b(this,Fn)[5]);if(b(this,Fi).length===2)return M(this,Jn,`${b(this,Jn)} M ${e} ${t} Z`),b(this,Jn);if(b(this,Fi).length<=6){const i=b(this,Jn).lastIndexOf("M");M(this,Jn,`${b(this,Jn).slice(0,i)} M ${e} ${t}`),M(this,gs,6)}if(b(this,Fi).length===4){const i=$e.svgRound(b(this,Fn)[10]),a=$e.svgRound(b(this,Fn)[11]);return M(this,Jn,`${b(this,Jn)} L ${i} ${a}`),M(this,gs,12),b(this,Jn)}const n=[];b(this,gs)===0&&(n.push(`M ${e} ${t}`),M(this,gs,6));for(let i=b(this,gs),a=b(this,Fn).length;i<a;i+=6){const[s,o,l,u,c,h]=b(this,Fn).slice(i,i+6).map($e.svgRound);n.push(`C${s} ${o} ${l} ${u} ${c} ${h}`)}return M(this,Jn,b(this,Jn)+n.join(" ")),M(this,gs,b(this,Fn).length),b(this,Jn)}getOutlines(e,t,n,i){const a=b(this,Nn).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),b(this,Zd).build(b(this,Nn),e,t,n,b(this,qd),b(this,ig),i),M(this,tl,null),M(this,Fn,null),M(this,Nn,null),M(this,Jn,null),b(this,Zd)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}tl=new WeakMap,Fn=new WeakMap,Nn=new WeakMap,qd=new WeakMap,ig=new WeakMap,Fi=new WeakMap,Jn=new WeakMap,gs=new WeakMap,Zd=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,ag=new WeakSet,ES=function(e,t){return $e._normalizePoint(e,t,b(this,Jd),b(this,Qd),b(this,qd))};var Ni,vb,gb,Fa,rl,nl,sg,og,ep,ri,Wl,Mj,Ij,Lj;class i_ extends $e{constructor(){super(...arguments);R(this,ri);R(this,Ni);R(this,vb,0);R(this,gb);R(this,Fa);R(this,rl);R(this,nl);R(this,sg);R(this,og);R(this,ep)}build(t,n,i,a,s,o,l){M(this,rl,n),M(this,nl,i),M(this,sg,a),M(this,og,s),M(this,ep,o),M(this,gb,l??0),M(this,Fa,t),B(this,ri,Ij).call(this)}get thickness(){return b(this,ep)}setLastElement(t){return b(this,Fa).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return b(this,Fa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of b(this,Fa)){if(t.push(`M${$e.svgRound(n[4])} ${$e.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${$e.svgRound(n[10])} ${$e.svgRound(n[11])}`);continue}for(let i=6,a=n.length;i<a;i+=6){const[s,o,l,u,c,h]=n.subarray(i,i+6).map($e.svgRound);t.push(`C${s} ${o} ${l} ${u} ${c} ${h}`)}}return t.join("")}serialize([t,n,i,a],s){const o=[],l=[],[u,c,h,f]=B(this,ri,Mj).call(this);let d,p,v,g,m,x,y,_,S;switch(b(this,og)){case 0:S=$e._rescale,d=t,p=n+a,v=i,g=-a,m=t+u*i,x=n+(1-c-f)*a,y=t+(u+h)*i,_=n+(1-c)*a;break;case 90:S=$e._rescaleAndSwap,d=t,p=n,v=i,g=a,m=t+c*i,x=n+u*a,y=t+(c+f)*i,_=n+(u+h)*a;break;case 180:S=$e._rescale,d=t+i,p=n,v=-i,g=a,m=t+(1-u-h)*i,x=n+c*a,y=t+(1-u)*i,_=n+(c+f)*a;break;case 270:S=$e._rescaleAndSwap,d=t+i,p=n+a,v=-i,g=-a,m=t+(1-c-f)*i,x=n+(1-u-h)*a,y=t+(1-c)*i,_=n+(1-u)*a;break}for(const{line:w,points:T}of b(this,Fa))o.push(S(w,d,p,v,g,s?new Array(w.length):null)),l.push(S(T,d,p,v,g,s?new Array(T.length):null));return{lines:o,points:l,rect:[m,x,y,_]}}static deserialize(t,n,i,a,s,{paths:{lines:o,points:l},rotation:u,thickness:c}){const h=[];let f,d,p,v,g;switch(u){case 0:g=$e._rescale,f=-t/i,d=n/a+1,p=1/i,v=-1/a;break;case 90:g=$e._rescaleAndSwap,f=-n/a,d=-t/i,p=1/a,v=1/i;break;case 180:g=$e._rescale,f=t/i+1,d=-n/a,p=-1/i,v=1/a;break;case 270:g=$e._rescaleAndSwap,f=n/a+1,d=t/i+1,p=-1/a,v=-1/i;break}if(!o){o=[];for(const x of l){const y=x.length;if(y===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(y===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const _=new Float32Array(3*(y-2));o.push(_);let[S,w,T,A]=x.subarray(0,4);_.set([NaN,NaN,NaN,NaN,S,w],0);for(let C=4;C<y;C+=2){const k=x[C],E=x[C+1];_.set($e.createBezierPoints(S,w,T,A,k,E),(C-2)*3),[S,w,T,A]=[T,A,k,E]}}}for(let x=0,y=o.length;x<y;x++)h.push({line:g(o[x].map(_=>_??NaN),f,d,p,v),points:g(l[x].map(_=>_??NaN),f,d,p,v)});const m=new this.prototype.constructor;return m.build(h,i,a,1,u,c,s),m}get box(){return b(this,Ni)}updateProperty(t,n){return t==="stroke-width"?B(this,ri,Lj).call(this,n):null}updateParentDimensions([t,n],i){const[a,s]=B(this,ri,Wl).call(this);M(this,rl,t),M(this,nl,n),M(this,sg,i);const[o,l]=B(this,ri,Wl).call(this),u=o-a,c=l-s,h=b(this,Ni);return h[0]-=u,h[1]-=c,h[2]+=2*u,h[3]+=2*c,h}updateRotation(t){return M(this,vb,t),{path:{transform:this.rotationTransform}}}get viewBox(){return b(this,Ni).map($e.svgRound).join(" ")}get defaultProperties(){const[t,n]=b(this,Ni);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=b(this,Ni);let i=0,a=0,s=0,o=0,l=0,u=0;switch(b(this,vb)){case 90:a=n/t,s=-t/n,l=t;break;case 180:i=-1,o=-1,l=t,u=n;break;case 270:a=-n/t,s=t/n,u=n;break;default:return""}return`matrix(${i} ${a} ${s} ${o} ${$e.svgRound(l)} ${$e.svgRound(u)})`}getPathResizingSVGProperties([t,n,i,a]){const[s,o]=B(this,ri,Wl).call(this),[l,u,c,h]=b(this,Ni);if(Math.abs(c-s)<=$e.PRECISION||Math.abs(h-o)<=$e.PRECISION){const g=t+i/2-(l+c/2),m=n+a/2-(u+h/2);return{path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`,transform:`${this.rotationTransform} translate(${g} ${m})`}}}const f=(i-2*s)/(c-2*s),d=(a-2*o)/(h-2*o),p=c/i,v=h/a;return{path:{"transform-origin":`${$e.svgRound(l)} ${$e.svgRound(u)}`,transform:`${this.rotationTransform} scale(${p} ${v}) translate(${$e.svgRound(s)} ${$e.svgRound(o)}) scale(${f} ${d}) translate(${$e.svgRound(-s)} ${$e.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,a]){const[s,o]=B(this,ri,Wl).call(this),l=b(this,Ni),[u,c,h,f]=l;if(l[0]=t,l[1]=n,l[2]=i,l[3]=a,Math.abs(h-s)<=$e.PRECISION||Math.abs(f-o)<=$e.PRECISION){const m=t+i/2-(u+h/2),x=n+a/2-(c+f/2);for(const{line:y,points:_}of b(this,Fa))$e._translate(y,m,x,y),$e._translate(_,m,x,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const d=(i-2*s)/(h-2*s),p=(a-2*o)/(f-2*o),v=-d*(u+s)+t+s,g=-p*(c+o)+n+o;if(d!==1||p!==1||v!==0||g!==0)for(const{line:m,points:x}of b(this,Fa))$e._rescale(m,v,g,d,p,m),$e._rescale(x,v,g,d,p,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[a,s]=i,o=b(this,Ni),l=t-o[0],u=n-o[1];if(b(this,rl)===a&&b(this,nl)===s)for(const{line:c,points:h}of b(this,Fa))$e._translate(c,l,u,c),$e._translate(h,l,u,h);else{const c=b(this,rl)/a,h=b(this,nl)/s;M(this,rl,a),M(this,nl,s);for(const{line:f,points:d}of b(this,Fa))$e._rescale(f,l,u,c,h,f),$e._rescale(d,l,u,c,h,d);o[2]*=c,o[3]*=h}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${$e.svgRound(t)} ${$e.svgRound(n)}`}}}get defaultSVGProperties(){const t=b(this,Ni);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${$e.svgRound(t[0])} ${$e.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Ni=new WeakMap,vb=new WeakMap,gb=new WeakMap,Fa=new WeakMap,rl=new WeakMap,nl=new WeakMap,sg=new WeakMap,og=new WeakMap,ep=new WeakMap,ri=new WeakSet,Wl=function(t=b(this,ep)){const n=b(this,gb)+t/2*b(this,sg);return b(this,og)%180===0?[n/b(this,rl),n/b(this,nl)]:[n/b(this,nl),n/b(this,rl)]},Mj=function(){const[t,n,i,a]=b(this,Ni),[s,o]=B(this,ri,Wl).call(this,0);return[t+s,n+o,i-2*s,a-2*o]},Ij=function(){const t=M(this,Ni,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of b(this,Fa)){if(a.length<=12){for(let l=4,u=a.length;l<u;l+=6)et.pointBoundingBox(a[l],a[l+1],t);continue}let s=a[4],o=a[5];for(let l=6,u=a.length;l<u;l+=6){const[c,h,f,d,p,v]=a.subarray(l,l+6);et.bezierBoundingBox(s,o,c,h,f,d,p,v,t),s=p,o=v}}const[n,i]=B(this,ri,Wl).call(this);t[0]=Hi(t[0]-n,0,1),t[1]=Hi(t[1]-i,0,1),t[2]=Hi(t[2]+n,0,1),t[3]=Hi(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},Lj=function(t){const[n,i]=B(this,ri,Wl).call(this);M(this,ep,t);const[a,s]=B(this,ri,Wl).call(this),[o,l]=[a-n,s-i],u=b(this,Ni);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class N2 extends Ej{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:yr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new N2(this._viewParameters);return e.updateAll(this),e}}var TA,Pj;const Uv=class Uv extends sA{constructor(t){super({...t,name:"inkEditor"});R(this,TA);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){yr.initialize(t,n),this._defaultDrawingOptions=new N2(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Pt(this,"typesMap",new Map([[Vt.INK_THICKNESS,"stroke-width"],[Vt.INK_COLOR,"stroke"],[Vt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,a,s){return new nPe(t,n,i,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,a,s,o){return i_.deserialize(t,n,i,a,s,o)}static async deserialize(t,n,i){let a=null;if(t instanceof XO){const{data:{inkLists:o,rect:l,rotation:u,id:c,color:h,opacity:f,borderStyle:{rawWidth:d},popupRef:p,contentsObj:v},parent:{page:{pageNumber:g}}}=t;a=t={annotationType:mt.INK,color:Array.from(h),thickness:d,opacity:f,paths:{points:o},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:u,annotationElementId:c,id:c,deleted:!1,popupRef:p,comment:(v==null?void 0:v.str)||null}}const s=await super.deserialize(t,n,i);return s._initialData=a,t.comment&&s.setCommentData(t.comment),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new rA(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Vt.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=Uv.getDefaultDrawingOptions({stroke:et.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":l}}=this,u={annotationType:mt.INK,color:yr._colorManager.convert(s),opacity:o,thickness:l,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!B(this,TA,Pj).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:n,rect:i}=this.serializeDraw(!1),a={rect:i,thickness:this._drawingOptions["stroke-width"],points:n};return this.hasEditedComment&&(a.popup=this.comment),t.updateEdited(a),null}};TA=new WeakSet,Pj=function(t){const{color:n,thickness:i,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==n[l])||t.thickness!==i||t.opacity!==a||t.pageIndex!==s},Ce(Uv,"_type","ink"),Ce(Uv,"_editorType",mt.INK),Ce(Uv,"_defaultDrawingOptions",null);let aL=Uv;class sL extends i_{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ew=8,Rm=3;var tp,ir,oL,no,Rj,Oj,lL,DS,Fj,Nj,Bj,uL,cL,Vj;class Du{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},a,s,o,l){let u=new OffscreenCanvas(1,1),c=u.getContext("2d",{alpha:!1});const h=200,f=c.font=`${n} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:d,actualBoundingBoxRight:p,actualBoundingBoxAscent:v,actualBoundingBoxDescent:g,fontBoundingBoxAscent:m,fontBoundingBoxDescent:x,width:y}=c.measureText(e),_=1.5,S=Math.ceil(Math.max(Math.abs(d)+Math.abs(p)||0,y)*_),w=Math.ceil(Math.max(Math.abs(v)+Math.abs(g)||h,Math.abs(m)+Math.abs(x)||h)*_);u=new OffscreenCanvas(S,w),c=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),c.font=f,c.filter="grayscale(1)",c.fillStyle="white",c.fillRect(0,0,S,w),c.fillStyle="black",c.fillText(e,S*(_-1)/2,w*(3-_)/2);const T=B(this,ir,uL).call(this,c.getImageData(0,0,S,w).data),A=B(this,ir,Bj).call(this,T),C=B(this,ir,cL).call(this,A),k=B(this,ir,lL).call(this,T,S,w,C);return this.processDrawnLines({lines:{curves:k,width:S,height:w},pageWidth:a,pageHeight:s,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,a){const[s,o,l]=B(this,ir,Vj).call(this,e),[u,c]=B(this,ir,Nj).call(this,s,o,l,Math.hypot(o,l)*b(this,tp).sigmaSFactor,b(this,tp).sigmaR,b(this,tp).kernelSize),h=B(this,ir,cL).call(this,c),f=B(this,ir,lL).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:s,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:u,height:c}=e,h=e.thickness??0,f=[],d=Math.min(t/u,n/c),p=d/t,v=d/n,g=[];for(const{points:x}of l){const y=s?B(this,ir,Fj).call(this,x):x;if(!y)continue;g.push(y);const _=y.length,S=new Float32Array(_),w=new Float32Array(3*(_===2?2:_-2));if(f.push({line:w,points:S}),_===2){S[0]=y[0]*p,S[1]=y[1]*v,w.set([NaN,NaN,NaN,NaN,S[0],S[1]],0);continue}let[T,A,C,k]=y;T*=p,A*=v,C*=p,k*=v,S.set([T,A,C,k],0),w.set([NaN,NaN,NaN,NaN,T,A],0);for(let E=4;E<_;E+=2){const D=S[E]=y[E]*p,I=S[E+1]=y[E+1]*v;w.set($e.createBezierPoints(T,A,C,k,D,I),(E-2)*3),[T,A,C,k]=[C,k,D,I]}}if(f.length===0)return null;const m=o?new sL:new i_;return m.build(f,t,n,1,i,o?0:h,a),{outline:m,newCurves:g,areContours:o,thickness:h,width:u,height:c}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:a}){let s=1/0,o=-1/0,l=0;for(const y of e){l+=y.length;for(let _=2,S=y.length;_<S;_++){const w=y[_]-y[_-2];s=Math.min(s,w),o=Math.max(o,w)}}let u;s>=-128&&o<=127?u=Int8Array:s>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const c=e.length,h=Ew+Rm*c,f=new Uint32Array(h);let d=0;f[d++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*c)*u.BYTES_PER_ELEMENT,f[d++]=0,f[d++]=i,f[d++]=a,f[d++]=t?0:1,f[d++]=Math.max(0,Math.floor(n??0)),f[d++]=c,f[d++]=u.BYTES_PER_ELEMENT;for(const y of e)f[d++]=y.length-2,f[d++]=y[0],f[d++]=y[1];const p=new CompressionStream("deflate-raw"),v=p.writable.getWriter();await v.ready,v.write(f);const g=u.prototype.constructor;for(const y of e){const _=new g(y.length-2);for(let S=2,w=y.length;S<w;S++)_[S-2]=y[S]-y[S-2];v.write(_)}v.close();const m=await new Response(p.readable).arrayBuffer(),x=new Uint8Array(m);return zX(x)}static async decompressSignature(e){try{const t=CIe(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,o=0;for await(const y of n)s||(s=new Uint8Array(new Uint32Array(y.buffer,0,4)[0])),s.set(y,o),o+=y.length;const l=new Uint32Array(s.buffer,0,s.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const c=l[2],h=l[3],f=l[4]===0,d=l[5],p=l[6],v=l[7],g=[],m=(Ew+Rm*p)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(v){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(s.buffer,m);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(s.buffer,m);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(s.buffer,m);break}o=0;for(let y=0;y<p;y++){const _=l[Rm*y+Ew],S=new Float32Array(_+2);g.push(S);for(let w=0;w<Rm-1;w++)S[w]=l[Rm*y+Ew+w+1];for(let w=0;w<_;w++)S[w+2]=S[w]+x[o++]}return{areContours:f,thickness:d,outlines:g,width:c,height:h}}catch(t){return xt(`decompressSignature: ${t}`),null}}}tp=new WeakMap,ir=new WeakSet,oL=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},no=new WeakMap,Rj=function(e,t,n,i,a,s,o){const l=B(this,ir,oL).call(this,n,i,a,s);for(let u=0;u<8;u++){const c=(-u+l-o+16)%8,h=b(this,no)[2*c],f=b(this,no)[2*c+1];if(e[(n+h)*t+(i+f)]!==0)return c}return-1},Oj=function(e,t,n,i,a,s,o){const l=B(this,ir,oL).call(this,n,i,a,s);for(let u=0;u<8;u++){const c=(u+l+o+16)%8,h=b(this,no)[2*c],f=b(this,no)[2*c+1];if(e[(n+h)*t+(i+f)]!==0)return c}return-1},lL=function(e,t,n,i){const a=e.length,s=new Int32Array(a);for(let c=0;c<a;c++)s[c]=e[c]<=i?1:0;for(let c=1;c<n-1;c++)s[c*t]=s[c*t+t-1]=0;for(let c=0;c<t;c++)s[c]=s[t*n-1-c]=0;let o=1,l;const u=[];for(let c=1;c<n-1;c++){l=1;for(let h=1;h<t-1;h++){const f=c*t+h,d=s[f];if(d===0)continue;let p=c,v=h;if(d===1&&s[f-1]===0)o+=1,v-=1;else if(d>=1&&s[f+1]===0)o+=1,v+=1,d>1&&(l=d);else{d!==1&&(l=Math.abs(d));continue}const g=[h,c],m=v===h+1,x={isHole:m,points:g,id:o,parent:0};u.push(x);let y;for(const E of u)if(E.id===l){y=E;break}y?y.isHole?x.parent=m?y.parent:l:x.parent=m?l:y.parent:x.parent=m?l:0;const _=B(this,ir,Rj).call(this,s,t,c,h,p,v,0);if(_===-1){s[f]=-o,s[f]!==1&&(l=Math.abs(s[f]));continue}let S=b(this,no)[2*_],w=b(this,no)[2*_+1];const T=c+S,A=h+w;p=T,v=A;let C=c,k=h;for(;;){const E=B(this,ir,Oj).call(this,s,t,C,k,p,v,1);S=b(this,no)[2*E],w=b(this,no)[2*E+1];const D=C+S,I=k+w;g.push(I,D);const P=C*t+k;if(s[P+1]===0?s[P]=-o:s[P]===1&&(s[P]=o),D===c&&I===h&&C===T&&k===A){s[f]!==1&&(l=Math.abs(s[f]));break}else p=C,v=k,C=D,k=I}}}return u},DS=function(e,t,n,i){if(n-t<=4){for(let T=t;T<n-2;T+=2)i.push(e[T],e[T+1]);return}const a=e[t],s=e[t+1],o=e[n-4]-a,l=e[n-3]-s,u=Math.hypot(o,l),c=o/u,h=l/u,f=c*s-h*a,d=l/o,p=1/u,v=Math.atan(d),g=Math.cos(v),m=Math.sin(v),x=p*(Math.abs(g)+Math.abs(m)),y=p*(1-x+x**2),_=Math.max(Math.atan(Math.abs(m+g)*y),Math.atan(Math.abs(m-g)*y));let S=0,w=t;for(let T=t+2;T<n-2;T+=2){const A=Math.abs(f-c*e[T+1]+h*e[T]);A>S&&(w=T,S=A)}S>(u*_)**2?(B(this,ir,DS).call(this,e,t,w+2,i),B(this,ir,DS).call(this,e,w,n,i)):i.push(a,s)},Fj=function(e){const t=[],n=e.length;return B(this,ir,DS).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},Nj=function(e,t,n,i,a,s){const o=new Float32Array(s**2),l=-2*i**2,u=s>>1;for(let v=0;v<s;v++){const g=(v-u)**2;for(let m=0;m<s;m++)o[v*s+m]=Math.exp((g+(m-u)**2)/l)}const c=new Float32Array(256),h=-2*a**2;for(let v=0;v<256;v++)c[v]=Math.exp(v**2/h);const f=e.length,d=new Uint8Array(f),p=new Uint32Array(256);for(let v=0;v<n;v++)for(let g=0;g<t;g++){const m=v*t+g,x=e[m];let y=0,_=0;for(let w=0;w<s;w++){const T=v+w-u;if(!(T<0||T>=n))for(let A=0;A<s;A++){const C=g+A-u;if(C<0||C>=t)continue;const k=e[T*t+C],E=o[w*s+A]*c[Math.abs(k-x)];y+=k*E,_+=E}}const S=d[m]=Math.round(y/_);p[S]++}return[d,p]},Bj=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},uL=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,a=1/0;for(let o=0,l=n.length;o<l;o++){const u=n[o]=e[o<<2];i=Math.max(i,u),a=Math.min(a,u)}const s=255/(i-a);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-a)*s;return n},cL=function(e){let t,n=-1/0,i=-1/0;const a=e.findIndex(l=>l!==0);let s=a,o=a;for(t=a;t<256;t++){const l=e[t];l>n&&(t-s>i&&(i=t-s,o=t-1),n=l,s=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},Vj=function(e){const t=e,{width:n,height:i}=e,{maxDim:a}=b(this,tp);let s=n,o=i;if(n>a||i>a){let f=n,d=i,p=Math.log2(Math.max(n,i)/a);const v=Math.floor(p);p=p===v?v-1:v;for(let m=0;m<p;m++){s=Math.ceil(f/2),o=Math.ceil(d/2);const x=new OffscreenCanvas(s,o);x.getContext("2d").drawImage(e,0,0,f,d,0,0,s,o),f=s,d=o,e!==t&&e.close(),e=x.transferToImageBitmap()}const g=Math.min(a/s,a/o);s=Math.round(s*g),o=Math.round(o*g)}const u=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,s,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,s,o);const c=u.getImageData(0,0,s,o).data;return[B(this,ir,uL).call(this,c),s,o]},R(Du,ir),R(Du,tp,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),R(Du,no,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class KO extends Ej{constructor(){super(),super.updateProperties({fill:yr._defaultLineColor,"stroke-width":0})}clone(){const e=new KO;return e.updateAll(this),e}}class jO extends N2{constructor(e){super(e),super.updateProperties({stroke:yr._defaultLineColor,"stroke-width":1})}clone(){const e=new jO(this._viewParameters);return e.updateAll(this),e}}var lh,il,uh,rp;const Sa=class Sa extends sA{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});R(this,lh,!1);R(this,il,null);R(this,uh,null);R(this,rp,null);this._willKeepAspectRatio=!0,M(this,uh,t.signatureData||null),M(this,il,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){yr.initialize(t,n),this._defaultDrawingOptions=new KO,this._defaultDrawnSignatureOptions=new jO(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Pt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!b(this,il)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(b(this,uh)){const{lines:a,mustSmooth:s,areContours:o,description:l,uuid:u,heightInPage:c}=b(this,uh),{rawDims:{pageWidth:h,pageHeight:f},rotation:d}=this.parent.viewport,p=Du.processDrawnLines({lines:a,pageWidth:h,pageHeight:f,rotation:d,innerMargin:Sa._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(p,c,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:b(this,il)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){M(this,rp,t),this.addEditToolbar()}getUuid(){return b(this,rp)}get description(){return b(this,il)}set description(t){M(this,il,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:a,height:s}=b(this,uh),o=Math.max(a,s),l=Du.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:a,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,a){const{x:s,y:o}=this,{outline:l}=M(this,uh,t);M(this,lh,l instanceof sL),this.description=i;let u;b(this,lh)?u=Sa.getDefaultDrawingOptions():(u=Sa._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[c,h]=this.parentDimensions,[,f]=this.pageDimensions;let d=n/f;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(c*this.width,h*this.height),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Du.process(t,n,i,a,Sa._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:a},rotation:s}=this.parent.viewport;return Du.extractContoursFromText(t,n,i,a,s,Sa._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Du.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:Sa._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Sa.getDefaultDrawingOptions():(this._drawingOptions=Sa._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i,rect:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o={annotationType:mt.SIGNATURE,isSignature:!0,areContours:b(this,lh),color:[0,0,0],thickness:b(this,lh)?0:s,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),t?(o.paths={lines:n,points:i},o.uuid=b(this,rp),o.isCopy=!0):o.lines=n,b(this,il)&&(o.accessibilityData={type:"Figure",alt:b(this,il)}),o}static deserializeDraw(t,n,i,a,s,o){return o.areContours?sL.deserialize(t,n,i,a,s,o):i_.deserialize(t,n,i,a,s,o)}static async deserialize(t,n,i){var s;const a=await super.deserialize(t,n,i);return M(a,lh,t.areContours),a.description=((s=t.accessibilityData)==null?void 0:s.alt)||"",M(a,rp,t.uuid),a}};lh=new WeakMap,il=new WeakMap,uh=new WeakMap,rp=new WeakMap,Ce(Sa,"_type","signature"),Ce(Sa,"_editorType",mt.SIGNATURE),Ce(Sa,"_defaultDrawingOptions",null);let hL=Sa;var Mr,Bn,ch,Tu,hh,lg,Au,np,al,Na,ug,jt,gy,my,MS,IS,LS,dL,PS,zj;class fL extends yr{constructor(t){super({...t,name:"stampEditor"});R(this,jt);R(this,Mr,null);R(this,Bn,null);R(this,ch,null);R(this,Tu,null);R(this,hh,null);R(this,lg,"");R(this,Au,null);R(this,np,!1);R(this,al,null);R(this,Na,!1);R(this,ug,!1);M(this,Tu,t.bitmapUrl),M(this,hh,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){yr.initialize(t,n)}static isHandlingMimeForPasting(t){return aI.includes(t)}static paste(t,n){n.pasteEditor({mode:mt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;b(this,Bn)&&(M(this,Mr,null),this._uiManager.imageManager.deleteId(b(this,Bn)),(t=b(this,Au))==null||t.remove(),M(this,Au,null),b(this,al)&&(clearTimeout(b(this,al)),M(this,al,null))),super.remove()}rebuild(){if(!this.parent){b(this,Bn)&&B(this,jt,MS).call(this);return}super.rebuild(),this.div!==null&&(b(this,Bn)&&b(this,Au)===null&&B(this,jt,MS).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(b(this,ch)||b(this,Mr)||b(this,Tu)||b(this,hh)||b(this,Bn)||b(this,np))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),b(this,np)||(b(this,Mr)?B(this,jt,IS).call(this):B(this,jt,MS).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(M(this,Bn,i),a&&M(this,Mr,a),M(this,np,!1),B(this,jt,IS).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;b(this,al)!==null&&clearTimeout(b(this,al)),M(this,al,setTimeout(()=>{M(this,al,null),B(this,jt,dL).call(this)},200))}copyCanvas(t,n,i=!1){var d;t||(t=224);const{width:a,height:s}=b(this,Mr),o=new Cl;let l=b(this,Mr),u=a,c=s,h=null;if(n){if(a>n||s>n){const A=Math.min(n/a,n/s);u=Math.floor(a*A),c=Math.floor(s*A)}h=document.createElement("canvas");const p=h.width=Math.ceil(u*o.sx),v=h.height=Math.ceil(c*o.sy);b(this,Na)||(l=B(this,jt,LS).call(this,p,v));const g=h.getContext("2d");g.filter=this._uiManager.hcmFilter;let m="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(d=window.matchMedia)!=null&&d.call(window,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",x="#42414d");const y=15,_=y*o.sx,S=y*o.sy,w=new OffscreenCanvas(_*2,S*2),T=w.getContext("2d");T.fillStyle=m,T.fillRect(0,0,_*2,S*2),T.fillStyle=x,T.fillRect(0,0,_,S),T.fillRect(_,S,_,S),g.fillStyle=g.createPattern(w,"repeat"),g.fillRect(0,0,p,v),g.drawImage(l,0,0,l.width,l.height,0,0,p,v)}let f=null;if(i){let p,v;if(o.symmetric&&l.width<t&&l.height<t)p=l.width,v=l.height;else if(l=b(this,Mr),a>t||s>t){const x=Math.min(t/a,t/s);p=Math.floor(a*x),v=Math.floor(s*x),b(this,Na)||(l=B(this,jt,LS).call(this,p,v))}const m=new OffscreenCanvas(p,v).getContext("2d",{willReadFrequently:!0});m.drawImage(l,0,0,l.width,l.height,0,0,p,v),f={width:p,height:v,data:m.getImageData(0,0,p,v).data}}return{canvas:h,width:u,height:c,imageData:f}}static async deserialize(t,n,i){var g;let a=null,s=!1;if(t instanceof rj){const{data:{rect:m,rotation:x,id:y,structParent:_,popupRef:S,contentsObj:w},container:T,parent:{page:{pageNumber:A}},canvas:C}=t;let k,E;C?(delete t.canvas,{id:k,bitmap:E}=i.imageManager.getFromCanvas(T.id,C),C.remove()):(s=!0,t._hasNoCanvas=!0);const D=((g=await n._structTree.getAriaAttributes(`${zO}${y}`))==null?void 0:g.get("aria-label"))||"";a=t={annotationType:mt.STAMP,bitmapId:k,bitmap:E,pageIndex:A-1,rect:m.slice(0),rotation:x,annotationElementId:y,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:_,popupRef:S,comment:(w==null?void 0:w.str)||null}}const o=await super.deserialize(t,n,i),{rect:l,bitmap:u,bitmapUrl:c,bitmapId:h,isSvg:f,accessibilityData:d}=t;s?(i.addMissingCanvas(t.id,o),M(o,np,!0)):h&&i.imageManager.isValidId(h)?(M(o,Bn,h),u&&M(o,Mr,u)):M(o,Tu,c),M(o,Na,f);const[p,v]=o.pageDimensions;return o.width=(l[2]-l[0])/p,o.height=(l[3]-l[1])/v,d&&(o.altTextData=d),o._initialData=a,t.comment&&o.setCommentData(t.comment),M(o,ug,!!a),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:mt.STAMP,bitmapId:b(this,Bn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:b(this,Na),structTreeParentId:this._structTreeParentId};if(this.addComment(i),t)return i.bitmapUrl=B(this,jt,PS).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=B(this,jt,zj).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=b(this,Na)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(b(this,Bn)))n.stamps.set(b(this,Bn),{area:o,serialized:i}),i.bitmap=B(this,jt,PS).call(this,!1);else if(b(this,Na)){const l=n.stamps.get(b(this,Bn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=B(this,jt,PS).call(this,!1))}return i}renderAnnotationElement(t){const n={rect:this.getRect(0,0)};return this.hasEditedComment&&(n.popup=this.comment),t.updateEdited(n),null}}Mr=new WeakMap,Bn=new WeakMap,ch=new WeakMap,Tu=new WeakMap,hh=new WeakMap,lg=new WeakMap,Au=new WeakMap,np=new WeakMap,al=new WeakMap,Na=new WeakMap,ug=new WeakMap,jt=new WeakSet,gy=function(t,n=!1){if(!t){this.remove();return}M(this,Mr,t.bitmap),n||(M(this,Bn,t.id),M(this,Na,t.isSvg)),t.file&&M(this,lg,t.file.name),B(this,jt,IS).call(this)},my=function(){if(M(this,ch,null),this._uiManager.enableWaiting(!1),!!b(this,Au)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&b(this,Mr)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&b(this,Mr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},MS=function(){if(b(this,Bn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(b(this,Bn)).then(i=>B(this,jt,gy).call(this,i,!0)).finally(()=>B(this,jt,my).call(this));return}if(b(this,Tu)){const i=b(this,Tu);M(this,Tu,null),this._uiManager.enableWaiting(!0),M(this,ch,this._uiManager.imageManager.getFromUrl(i).then(a=>B(this,jt,gy).call(this,a)).finally(()=>B(this,jt,my).call(this)));return}if(b(this,hh)){const i=b(this,hh);M(this,hh,null),this._uiManager.enableWaiting(!0),M(this,ch,this._uiManager.imageManager.getFromFile(i).then(a=>B(this,jt,gy).call(this,a)).finally(()=>B(this,jt,my).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=aI.join(",");const n=this._uiManager._signal;M(this,ch,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),B(this,jt,gy).call(this,a)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>B(this,jt,my).call(this))),t.click()},IS=function(){var h;const{div:t}=this;let{width:n,height:i}=b(this,Mr);const[a,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*a,i=this.height*s;else if(n>o*a||i>o*s){const f=Math.min(o*a/n,o*s/i);n*=f,i*=f}const[l,u]=this.parentDimensions;this.setDims(n*l/a,i*u/s),this._uiManager.enableWaiting(!1);const c=M(this,Au,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/a,this.height=i/s,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),B(this,jt,dL).call(this),b(this,ug)||(this.parent.addUndoableEditor(this),M(this,ug,!0)),this._reportTelemetry({action:"inserted_image"}),b(this,lg)&&this.div.setAttribute("aria-description",b(this,lg)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},LS=function(t,n){const{width:i,height:a}=b(this,Mr);let s=i,o=a,l=b(this,Mr);for(;s>2*t||o>2*n;){const u=s,c=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(s,o);h.getContext("2d").drawImage(l,0,0,u,c,0,0,s,o),l=h.transferToImageBitmap()}return l},dL=function(){const[t,n]=this.parentDimensions,{width:i,height:a}=this,s=new Cl,o=Math.ceil(i*t*s.sx),l=Math.ceil(a*n*s.sy),u=b(this,Au);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const c=b(this,Na)?b(this,Mr):B(this,jt,LS).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(c,0,0,c.width,c.height,0,0,o,l)},PS=function(t){if(t){if(b(this,Na)){const a=this._uiManager.imageManager.getSvgUrl(b(this,Bn));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=b(this,Mr),n.getContext("2d").drawImage(b(this,Mr),0,0),n.toDataURL()}if(b(this,Na)){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*Xh.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Xh.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(b(this,Mr),0,0,b(this,Mr).width,b(this,Mr).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(b(this,Mr))},zj=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,s=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}},Ce(fL,"_type","stamp"),Ce(fL,"_editorType",mt.STAMP);var ip,cg,sl,fh,Cu,Ba,dh,hg,ap,io,ku,Vn,Eu,ph,fg,qe,vh,Pr,Hj,Vo,vL,gL,RS;const Xs=class Xs{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:u,l10n:c}){R(this,Pr);R(this,ip);R(this,cg,!1);R(this,sl,null);R(this,fh,null);R(this,Cu,null);R(this,Ba,new Map);R(this,dh,!1);R(this,hg,!1);R(this,ap,!1);R(this,io,null);R(this,ku,null);R(this,Vn,null);R(this,Eu,null);R(this,ph,null);R(this,fg,-1);R(this,qe);const h=[...b(Xs,vh).values()];if(!Xs._initialized){Xs._initialized=!0;for(const f of h)f.initialize(c,e)}e.registerEditorTypes(h),M(this,qe,e),this.pageIndex=t,this.div=n,M(this,ip,a),M(this,sl,s),this.viewport=u,M(this,Vn,l),this.drawLayer=o,this._structTree=i,b(this,qe).addLayer(this)}get isEmpty(){return b(this,Ba).size===0}get isInvisible(){return this.isEmpty&&b(this,qe).getMode()===mt.NONE}updateToolbar(e){b(this,qe).updateToolbar(e)}updateMode(e=b(this,qe).getMode()){switch(B(this,Pr,RS).call(this),e){case mt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case mt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case mt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of b(Xs,vh).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=b(this,Vn))==null?void 0:t.div)}setEditingState(e){b(this,qe).setEditingState(e)}addCommands(e){b(this,qe).addCommands(e)}cleanUndoStack(e){b(this,qe).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=b(this,sl))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;M(this,ap,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=b(this,ph))==null||n.abort(),M(this,ph,null);const e=new Set;for(const i of b(this,Ba).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(b(this,qe).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!b(this,sl)){M(this,ap,!1);return}const t=b(this,sl).getEditableAnnotations();for(const i of t){if(i.hide(),b(this,qe).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}M(this,ap,!1)}disable(){var i;if(M(this,hg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),b(this,Vn)&&!b(this,ph)){M(this,ph,new AbortController);const a=b(this,qe).combinedSignal(b(this,ph));b(this,Vn).div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:u,timeStamp:c}=s,h=b(this,fg);if(c-h>500){M(this,fg,c);return}M(this,fg,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const d=document.elementsFromPoint(l,u);if(f.toggle("getElements",!1),!this.div.contains(d[0]))return;let p;const v=new RegExp(`^${OX}[0-9]+$`);for(const m of d)if(v.test(m.id)){p=m.id;break}if(!p)return;const g=b(this,Ba).get(p);(g==null?void 0:g.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),g.dblclick())},{signal:a,capture:!0})}const e=new Map,t=new Map;for(const a of b(this,Ba).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else t.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}if(b(this,sl)){const a=b(this,sl).getEditableAnnotations();for(const s of a){const{id:o}=s.data;if(b(this,qe).isDeletedAnnotationElement(o)){s.updateEdited({deleted:!0});continue}let l=t.get(o);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(o),l&&(b(this,qe).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}B(this,Pr,RS).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of b(Xs,vh).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),M(this,hg,!1)}getEditableAnnotation(e){var t;return((t=b(this,sl))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){b(this,qe).getActive()!==e&&b(this,qe).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=b(this,Vn))!=null&&e.div&&!b(this,Eu)){M(this,Eu,new AbortController);const t=b(this,qe).combinedSignal(b(this,Eu));b(this,Vn).div.addEventListener("pointerdown",B(this,Pr,Hj).bind(this),{signal:t}),b(this,Vn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=b(this,Vn))!=null&&e.div&&b(this,Eu)&&(b(this,Eu).abort(),M(this,Eu,null),b(this,Vn).div.classList.remove("highlighting"))}enableClick(){if(b(this,fh))return;M(this,fh,new AbortController);const e=b(this,qe).combinedSignal(b(this,fh));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=b(this,fh))==null||e.abort(),M(this,fh,null)}attach(e){b(this,Ba).set(e.id,e);const{annotationElementId:t}=e;t&&b(this,qe).isDeletedAnnotationElement(t)&&b(this,qe).removeDeletedAnnotationElement(e)}detach(e){var t;b(this,Ba).delete(e.id),(t=b(this,ip))==null||t.removePointerInTextLayer(e.contentDiv),!b(this,hg)&&e.annotationElementId&&b(this,qe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),b(this,qe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(b(this,qe).addDeletedAnnotationElement(e.annotationElementId),yr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),b(this,qe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!b(this,ap)),b(this,qe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!b(this,Cu)&&(e._focusEventsAllowed=!1,M(this,Cu,setTimeout(()=>{M(this,Cu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:b(this,qe)._signal}),t.focus())},0))),e._structTreeParentId=(n=b(this,ip))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return b(this,qe).getId()}combinedSignal(e){return b(this,qe).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=b(this,Pr,Vo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await b(this,qe).updateMode(e.mode);const{offsetX:n,offsetY:i}=B(this,Pr,gL).call(this),a=this.getNextId(),s=B(this,Pr,vL).call(this,{parent:this,id:a,x:n,y:i,uiManager:b(this,qe),isCentered:!0,...t});s&&this.add(s)}async deserialize(e){var t;return await((t=b(Xs,vh).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,b(this,qe)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),a=B(this,Pr,vL).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:b(this,qe),isCentered:t,...n});return a&&this.add(a),a}addNewEditor(e={}){this.createAndAddNewEditor(B(this,Pr,gL).call(this),!0,e)}setSelected(e){b(this,qe).setSelected(e)}toggleSelected(e){b(this,qe).toggleSelected(e)}unselect(e){b(this,qe).unselect(e)}pointerup(e){var i;const{isMac:t}=li.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!b(this,dh)||(M(this,dh,!1),(i=b(this,Pr,Vo))!=null&&i.isDrawer&&b(this,Pr,Vo).supportMultipleDrawings))return;if(!b(this,cg)){M(this,cg,!0);return}const n=b(this,qe).getMode();if(n===mt.STAMP||n===mt.SIGNATURE){b(this,qe).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(b(this,qe).getMode()===mt.HIGHLIGHT&&this.enableTextSelection(),b(this,dh)){M(this,dh,!1);return}const{isMac:t}=li.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(M(this,dh,!0),(i=b(this,Pr,Vo))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=b(this,qe).getActive();M(this,cg,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),b(this,io)){b(this,Pr,Vo).startDrawing(this,b(this,qe),!1,e);return}b(this,qe).setCurrentDrawingSession(this),M(this,io,new AbortController);const t=b(this,qe).combinedSignal(b(this,io));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(M(this,ku,null),this.commitOrRemove())},{signal:t}),b(this,Pr,Vo).startDrawing(this,b(this,qe),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&M(this,ku,t);return}b(this,ku)&&setTimeout(()=>{var t;(t=b(this,ku))==null||t.focus(),M(this,ku,null)},0)}endDrawingSession(e=!1){return b(this,io)?(b(this,qe).setCurrentDrawingSession(null),b(this,io).abort(),M(this,io,null),M(this,ku,null),b(this,Pr,Vo).endDrawing(e)):null}findNewParent(e,t,n){const i=b(this,qe).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return b(this,io)?(this.endDrawingSession(),!0):!1}onScaleChanging(){b(this,io)&&b(this,Pr,Vo).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=b(this,qe).getActive())==null?void 0:e.parent)===this&&(b(this,qe).commitOrRemove(),b(this,qe).setActiveEditor(null)),b(this,Cu)&&(clearTimeout(b(this,Cu)),M(this,Cu,null));for(const n of b(this,Ba).values())(t=b(this,ip))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,b(this,Ba).clear(),b(this,qe).removeLayer(this)}render({viewport:e}){this.viewport=e,Dp(this.div,e);for(const t of b(this,qe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){b(this,qe).commitOrRemove(),B(this,Pr,RS).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Dp(this.div,{rotation:n}),t!==n)for(const i of b(this,Ba).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return b(this,qe).viewParameters.realScale}};ip=new WeakMap,cg=new WeakMap,sl=new WeakMap,fh=new WeakMap,Cu=new WeakMap,Ba=new WeakMap,dh=new WeakMap,hg=new WeakMap,ap=new WeakMap,io=new WeakMap,ku=new WeakMap,Vn=new WeakMap,Eu=new WeakMap,ph=new WeakMap,fg=new WeakMap,qe=new WeakMap,vh=new WeakMap,Pr=new WeakSet,Hj=function(e){b(this,qe).unselectAll();const{target:t}=e;if(t===b(this,Vn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&b(this,Vn).div.contains(t)){const{isMac:n}=li.platform;if(e.button!==0||e.ctrlKey&&n)return;b(this,qe).showAllEditors("highlight",!0,!0),b(this,Vn).div.classList.add("free"),this.toggleDrawing(),aA.startHighlighting(this,b(this,qe).direction==="ltr",{target:b(this,Vn).div,x:e.x,y:e.y}),b(this,Vn).div.addEventListener("pointerup",()=>{b(this,Vn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:b(this,qe)._signal}),e.preventDefault()}},Vo=function(){return b(Xs,vh).get(b(this,qe).getMode())},vL=function(e){const t=b(this,Pr,Vo);return t?new t.prototype.constructor(e):null},gL=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),u=(a+o)/2-e,c=(s+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:h,offsetY:f}},RS=function(){for(const e of b(this,Ba).values())e.isEmpty()&&e.remove()},Ce(Xs,"_initialized",!1),R(Xs,vh,new Map([jI,aL,fL,aA,hL].map(e=>[e._editorType,e])));let pL=Xs;var ao,Bi,sp,mb,AA,Gj,El,yL,$j,xL;const yn=class yn{constructor({pageIndex:e}){R(this,El);R(this,ao,null);R(this,Bi,new Map);R(this,sp,new Map);this.pageIndex=e}setParent(e){if(!b(this,ao)){M(this,ao,e);return}if(b(this,ao)!==e){if(b(this,Bi).size>0)for(const t of b(this,Bi).values())t.remove(),e.append(t);M(this,ao,e)}}static get _svgFactory(){return Pt(this,"_svgFactory",new nA)}draw(e,t=!1,n=!1){const i=Ii(yn,mb)._++,a=B(this,El,yL).call(this),s=yn._svgFactory.createElement("defs");a.append(s);const o=yn._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&b(this,sp).set(i,o);const u=n?B(this,El,$j).call(this,s,l):null,c=yn._svgFactory.createElement("use");return a.append(c),c.setAttribute("href",`#${l}`),this.updateProperties(a,e),b(this,Bi).set(i,a),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=Ii(yn,mb)._++,i=B(this,El,yL).call(this),a=yn._svgFactory.createElement("defs");i.append(a);const s=yn._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=yn._svgFactory.createElement("mask");a.append(h),l=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=yn._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const d=yn._svgFactory.createElement("use");h.append(d),d.setAttribute("href",`#${o}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const u=yn._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const c=u.cloneNode();return i.append(c),u.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(i,e),b(this,Bi).set(n,i),n}finalizeDraw(e,t){b(this,sp).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:n,bbox:i,rootClass:a,path:s}=t,o=typeof e=="number"?b(this,Bi).get(e):e;if(o){if(n&&B(this,El,xL).call(this,o,n),i&&B(l=yn,AA,Gj).call(l,o,i),a){const{classList:u}=o;for(const[c,h]of Object.entries(a))u.toggle(c,h)}if(s){const c=o.firstChild.firstChild;B(this,El,xL).call(this,c,s)}}}updateParent(e,t){if(t===this)return;const n=b(this,Bi).get(e);n&&(b(t,ao).append(n),b(this,Bi).delete(e),b(t,Bi).set(e,n))}remove(e){b(this,sp).delete(e),b(this,ao)!==null&&(b(this,Bi).get(e).remove(),b(this,Bi).delete(e))}destroy(){M(this,ao,null);for(const e of b(this,Bi).values())e.remove();b(this,Bi).clear(),b(this,sp).clear()}};ao=new WeakMap,Bi=new WeakMap,sp=new WeakMap,mb=new WeakMap,AA=new WeakSet,Gj=function(e,[t,n,i,a]){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*t}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},El=new WeakSet,yL=function(){const e=yn._svgFactory.create(1,1,!0);return b(this,ao).append(e),e.setAttribute("aria-hidden",!0),e},$j=function(e,t){const n=yn._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=yn._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),i},xL=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},R(yn,AA),R(yn,mb,0);let mL=yn;globalThis._pdfjsTestingUtils={HighlightOutliner:ZI};globalThis.pdfjsLib={AbortException:Yh,AnnotationEditorLayer:pL,AnnotationEditorParamsType:Vt,AnnotationEditorType:mt,AnnotationEditorUIManager:Mp,AnnotationLayer:YI,AnnotationMode:kc,AnnotationType:on,build:OLe,ColorPicker:tA,createValidAbsoluteUrl:FX,DOMSVGFactory:nA,DrawLayer:mL,FeatureTest:li,fetchData:e_,getDocument:zK,getFilenameFromUrl:kIe,getPdfFilenameFromUrl:EIe,getRGB:O2,getUuid:VX,getXfaPageViewport:MIe,GlobalWorkerOptions:cl,ImageKind:iS,InvalidPDFException:nI,isDataScheme:R2,isPdfFile:GO,isValidExplicitDest:HIe,MathClamp:Hi,noContextMenu:Ps,normalizeUnicode:TIe,OPS:qT,OutputScale:Cl,PasswordResponses:vIe,PDFDataRangeTransport:HK,PDFDateString:JT,PDFWorker:H1,PermissionFlag:pIe,PixelsPerInch:Xh,RenderingCancelledException:HO,ResponseException:ZT,setLayerDimensions:Dp,shadow:Pt,SignatureExtractor:Du,stopEvent:cn,SupportedImageMimeTypes:aI,TextLayer:V1,TouchManager:eA,updateUrlHash:NX,Util:et,VerbosityLevel:I2,version:RLe,XfaLayer:WK};const iPe="/assets/pdf.worker-DcN26wb1.mjs";cl.workerSrc=iPe;function aPe(r){const e=r.replace(/^data:application\/pdf;base64,/,""),t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}async function sPe(r){return(await r.getTextContent()).items.map(t=>t.str).join(" ")}function oPe(r){let e=0;for(let t=0;t<r.length;t++)e=(e<<5)-e+r.charCodeAt(t),e|=0;return e.toString()}const lPe=()=>{const r=new Map;return{extractText:async t=>{const n=oPe(t);if(r.has(n))return r.get(n);const i=(async()=>{try{const a=aPe(t),s=await zK({data:a}).promise,o=s.numPages,l=[];for(let u=1;u<=o;u++){const c=await s.getPage(u),h=await sPe(c);l.push(h)}return l.join(" ").trim()}catch(a){throw r.delete(n),new Error(`PDF parsing failed: ${a.message||a}`)}})();return r.set(n,i),i}}},ZV=dIe(),{compressImageToBase64:uPe}=sSe(),cPe=()=>{const r=_t([]);let e=null;const t=s=>{e=s};let n=null;return{pastedFiles:r,handle:s=>{var l;const o=(l=s.clipboardData)==null?void 0:l.items;if(o){for(const u of o)if(u.type.includes("image")){const c=u.getAsFile();if(!c)return;uPe(c,{maxWidth:1280,quality:.9}).then(h=>{const f={type:"image",data:h,extension:"jpg",name:c.name};r.value.push(f),n==null||n(f)}).catch(h=>{e==null||e(h)}),s.preventDefault()}else if(u.type.includes("application/pdf")){const c=u.getAsFile();if(!c)return;const h=new FileReader;h.onerror=()=>{e==null||e(new Error("Failed to read pasted PDF."))},h.onload=async()=>{const f=h.result;try{const p={type:"pdf",data:await lPe().extractText(f),extension:null,name:c.name};r.value.push(p),n==null||n(p)}catch{}},h.readAsDataURL(c),s.preventDefault()}else if(u.type.includes("application/vnd.ms-excel")){const c=u.getAsFile();if(!c)return;const h=new FileReader;h.onerror=()=>{e==null||e(new Error("Failed to read pasted Excel file."))},h.onload=async()=>{const f=h.result;try{const{rows:d,ext:p,markdown:v}=await ZV.parseBase64(f,c.name),g={type:"excel",data:d,markdown:v,extension:p,name:c.name};r.value.push(g),n==null||n(g)}catch{e==null||e(new Error("Could not parse Excel file."))}},h.readAsDataURL(c),s.preventDefault()}else if(u.type.includes("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")){const c=u.getAsFile();if(!c)return;const h=new FileReader;h.onerror=()=>{e==null||e(new Error("Failed to read pasted Excel file."))},h.onload=async()=>{const f=h.result;try{const{rows:d,ext:p,markdown:v}=await ZV.parseBase64(f,c.name),g={type:"excel",data:d,markdown:v,extension:p,name:c.name};r.value.push(g),n==null||n(g)}catch{e==null||e(new Error("Could not parse Excel file."))}},h.readAsDataURL(c),s.preventDefault()}}},setOnPasteError:t,setOnFilePasted:s=>{n=s}}},kl=Object.create(null);kl.open="0";kl.close="1";kl.ping="2";kl.pong="3";kl.message="4";kl.upgrade="5";kl.noop="6";const OS=Object.create(null);Object.keys(kl).forEach(r=>{OS[kl[r]]=r});const bL={type:"error",data:"parser error"},Uj=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wj=typeof ArrayBuffer=="function",Yj=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,qO=({type:r,data:e},t,n)=>Uj&&e instanceof Blob?t?n(e):JV(e,n):Wj&&(e instanceof ArrayBuffer||Yj(e))?t?n(e):JV(new Blob([e]),n):n(kl[r]+(e||"")),JV=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function QV(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let FE;function hPe(r,e){if(Uj&&r.data instanceof Blob)return r.data.arrayBuffer().then(QV).then(e);if(Wj&&(r.data instanceof ArrayBuffer||Yj(r.data)))return e(QV(r.data));qO(r,!1,t=>{FE||(FE=new TextEncoder),e(FE.encode(t))})}const ez="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yy=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<ez.length;r++)yy[ez.charCodeAt(r)]=r;const fPe=r=>{let e=r.length*.75,t=r.length,n,i=0,a,s,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const u=new ArrayBuffer(e),c=new Uint8Array(u);for(n=0;n<t;n+=4)a=yy[r.charCodeAt(n)],s=yy[r.charCodeAt(n+1)],o=yy[r.charCodeAt(n+2)],l=yy[r.charCodeAt(n+3)],c[i++]=a<<2|s>>4,c[i++]=(s&15)<<4|o>>2,c[i++]=(o&3)<<6|l&63;return u},dPe=typeof ArrayBuffer=="function",ZO=(r,e)=>{if(typeof r!="string")return{type:"message",data:Xj(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:pPe(r.substring(1),e)}:OS[t]?r.length>1?{type:OS[t],data:r.substring(1)}:{type:OS[t]}:bL},pPe=(r,e)=>{if(dPe){const t=fPe(r);return Xj(t,e)}else return{base64:!0,data:r}},Xj=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},Kj="",vPe=(r,e)=>{const t=r.length,n=new Array(t);let i=0;r.forEach((a,s)=>{qO(a,!1,o=>{n[s]=o,++i===t&&e(n.join(Kj))})})},gPe=(r,e)=>{const t=r.split(Kj),n=[];for(let i=0;i<t.length;i++){const a=ZO(t[i],e);if(n.push(a),a.type==="error")break}return n};function mPe(){return new TransformStream({transform(r,e){hPe(r,t=>{const n=t.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let NE;function Dw(r){return r.reduce((e,t)=>e+t.length,0)}function Mw(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)t[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function yPe(r,e){NE||(NE=new TextDecoder);const t=[];let n=0,i=-1,a=!1;return new TransformStream({transform(s,o){for(t.push(s);;){if(n===0){if(Dw(t)<1)break;const l=Mw(t,1);a=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Dw(t)<2)break;const l=Mw(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(Dw(t)<8)break;const l=Mw(t,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){o.enqueue(bL);break}i=c*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Dw(t)<i)break;const l=Mw(t,i);o.enqueue(ZO(a?l:NE.decode(l),e)),n=0}if(i===0||i>r){o.enqueue(bL);break}}}})}const jj=4;function dn(r){if(r)return xPe(r)}function xPe(r){for(var e in dn.prototype)r[e]=dn.prototype[e];return r}dn.prototype.on=dn.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};dn.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};dn.prototype.off=dn.prototype.removeListener=dn.prototype.removeAllListeners=dn.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+r],this};dn.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};dn.prototype.emitReserved=dn.prototype.emit;dn.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};dn.prototype.hasListeners=function(r){return!!this.listeners(r).length};const B2=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ss=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),bPe="arraybuffer";function qj(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const _Pe=Ss.setTimeout,wPe=Ss.clearTimeout;function V2(r,e){e.useNativeTimers?(r.setTimeoutFn=_Pe.bind(Ss),r.clearTimeoutFn=wPe.bind(Ss)):(r.setTimeoutFn=Ss.setTimeout.bind(Ss),r.clearTimeoutFn=Ss.clearTimeout.bind(Ss))}const SPe=1.33;function TPe(r){return typeof r=="string"?APe(r):Math.ceil((r.byteLength||r.size)*SPe)}function APe(r){let e=0,t=0;for(let n=0,i=r.length;n<i;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function Zj(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function CPe(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function kPe(r){let e={},t=r.split("&");for(let n=0,i=t.length;n<i;n++){let a=t[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class EPe extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class JO extends dn{constructor(e){super(),this.writable=!1,V2(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new EPe(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ZO(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=CPe(e);return t.length?"?"+t:""}}class DPe extends JO{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};gPe(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,vPe(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Zj()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Jj=!1;try{Jj=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const MPe=Jj;function IPe(){}class LPe extends DPe{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}class yl extends dn{constructor(e,t,n){super(),this.createRequest=e,V2(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=qj(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=yl.requestsCount++,yl.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=IPe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete yl.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}yl.requestsCount=0;yl.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tz);else if(typeof addEventListener=="function"){const r="onpagehide"in Ss?"pagehide":"unload";addEventListener(r,tz,!1)}}function tz(){for(let r in yl.requests)yl.requests.hasOwnProperty(r)&&yl.requests[r].abort()}const PPe=function(){const r=Qj({xdomain:!1});return r&&r.responseType!==null}();class RPe extends LPe{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=PPe&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new yl(Qj,this.uri(),e)}}function Qj(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||MPe))return new XMLHttpRequest}catch{}if(!e)try{return new Ss[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const eq=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class OPe extends JO{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=eq?{}:qj(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;qO(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&B2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Zj()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const BE=Ss.WebSocket||Ss.MozWebSocket;class FPe extends OPe{createSocket(e,t,n){return eq?new BE(e,t,n):t?new BE(e,t):new BE(e)}doWrite(e,t){this.ws.send(t)}}class NPe extends JO{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=yPe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=mPe();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:o,value:l})=>{o||(this.onPacket(l),a())}).catch(o=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this._writer.write(n).then(()=>{i&&B2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const BPe={websocket:FPe,webtransport:NPe,polling:RPe},VPe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zPe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _L(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let i=VPe.exec(r||""),a={},s=14;for(;s--;)a[zPe[s]]=i[s]||"";return t!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=HPe(a,a.path),a.queryKey=GPe(a,a.query),a}function HPe(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function GPe(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(t[i]=a)}),t}const wL=typeof addEventListener=="function"&&typeof removeEventListener=="function",FS=[];wL&&addEventListener("offline",()=>{FS.forEach(r=>r())},!1);class Oh extends dn{constructor(e,t){if(super(),this.binaryType=bPe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=_L(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=_L(t.host).host);V2(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kPe(this.opts.query)),wL&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},FS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=jj,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Oh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Oh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(t+=TPe(i)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,B2(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,i){if(typeof t=="function"&&(i=t,t=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Oh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),wL&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=FS.indexOf(this._offlineEventListener);n!==-1&&FS.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Oh.protocol=jj;class $Pe extends Oh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Oh.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Oh.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,c(),t.close(),t=null)}const s=h=>{const f=new Error("probe error: "+h);f.transport=t.name,a(),this.emitReserved("upgradeError",f)};function o(){s("transport closed")}function l(){s("socket closed")}function u(h){t&&h.name!==t.name&&a()}const c=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",o),this.off("close",l),this.off("upgrading",u)};t.once("open",i),t.once("error",s),t.once("close",o),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let UPe=class extends $Pe{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>BPe[i]).filter(i=>!!i)),super(e,n)}};function WPe(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=_L(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(t&&t.port===n.port?"":":"+n.port),n}const YPe=typeof ArrayBuffer=="function",XPe=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,tq=Object.prototype.toString,KPe=typeof Blob=="function"||typeof Blob<"u"&&tq.call(Blob)==="[object BlobConstructor]",jPe=typeof File=="function"||typeof File<"u"&&tq.call(File)==="[object FileConstructor]";function QO(r){return YPe&&(r instanceof ArrayBuffer||XPe(r))||KPe&&r instanceof Blob||jPe&&r instanceof File}function NS(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(NS(r[t]))return!0;return!1}if(QO(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return NS(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&NS(r[t]))return!0;return!1}function qPe(r){const e=[],t=r.data,n=r;return n.data=SL(t,e),n.attachments=e.length,{packet:n,buffers:e}}function SL(r,e){if(!r)return r;if(QO(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=SL(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=SL(r[n],e));return t}return r}function ZPe(r,e){return r.data=TL(r.data,e),delete r.attachments,r}function TL(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=TL(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=TL(r[t],e));return r}const JPe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],QPe=5;var Nt;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Nt||(Nt={}));class eRe{constructor(e){this.replacer=e}encode(e){return(e.type===Nt.EVENT||e.type===Nt.ACK)&&NS(e)?this.encodeAsBinary({type:e.type===Nt.EVENT?Nt.BINARY_EVENT:Nt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Nt.BINARY_EVENT||e.type===Nt.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=qPe(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function rz(r){return Object.prototype.toString.call(r)==="[object Object]"}class eF extends dn{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Nt.BINARY_EVENT;n||t.type===Nt.BINARY_ACK?(t.type=n?Nt.EVENT:Nt.ACK,this.reconstructor=new tRe(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(QO(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(Nt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Nt.BINARY_EVENT||n.type===Nt.BINARY_ACK){const a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const s=e.substring(a,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(a,t)}else n.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const a=t+1;for(;++t;){const s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(eF.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Nt.CONNECT:return rz(t);case Nt.DISCONNECT:return t===void 0;case Nt.CONNECT_ERROR:return typeof t=="string"||rz(t);case Nt.EVENT:case Nt.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&JPe.indexOf(t[0])===-1);case Nt.ACK:case Nt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tRe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=ZPe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const rRe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:eF,Encoder:eRe,get PacketType(){return Nt},protocol:QPe},Symbol.toStringTag,{value:"Module"}));function so(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const nRe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class rq extends dn{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[so(e,"open",this.onopen.bind(this)),so(e,"packet",this.onpacket.bind(this)),so(e,"error",this.onerror.bind(this)),so(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,i,a;if(nRe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const s={type:Nt.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const c=this.ids++,h=t.pop();this._registerAckCallback(c,h),s.id=c}const o=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!o||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},i),s=(...o)=>{this.io.clearTimeoutFn(a),t.apply(this,o)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((n,i)=>{const a=(s,o)=>s?i(s):n(o);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Nt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nt.EVENT:case Nt.BINARY_EVENT:this.onevent(e);break;case Nt.ACK:case Nt.BINARY_ACK:this.onack(e);break;case Nt.DISCONNECT:this.ondisconnect();break;case Nt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,t.packet({type:Nt.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Kg(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Kg.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+t:r-t}return Math.min(r,this.max)|0};Kg.prototype.reset=function(){this.attempts=0};Kg.prototype.setMin=function(r){this.ms=r};Kg.prototype.setMax=function(r){this.max=r};Kg.prototype.setJitter=function(r){this.jitter=r};class AL extends dn{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,V2(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Kg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||rRe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new UPe(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=so(t,"open",function(){n.onopen(),e&&e()}),a=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},s=so(t,"error",a);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),t.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(so(e,"ping",this.onping.bind(this)),so(e,"data",this.ondata.bind(this)),so(e,"error",this.onerror.bind(this)),so(e,"close",this.onclose.bind(this)),so(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){B2(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new rq(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Om={};function BS(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=WPe(r,e.path||"/socket.io"),n=t.source,i=t.id,a=t.path,s=Om[i]&&a in Om[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let l;return o?l=new AL(n,e):(Om[i]||(Om[i]=new AL(n,e)),l=Om[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(BS,{Manager:AL,Socket:rq,io:BS,connect:BS});const VE={socketURL:"http://localhost",socketPort:3e3,socketPath:"/socket.io"};var nq=(r=>(r.SYSTEM="system",r.USER="user",r.ASSISTANT="assistant",r))(nq||{});const iRe=()=>{const r=_t(null),e=_t(!1),t=_t(null),n=_t(!1),i=_t([]),a=_t(""),s=_t([{name:"4.1 (Flagship)",value:"gpt-4.1-2025-04-14"},{name:"4.1 Mini (Cost-efficient - Flagship)",value:"gpt-4.1-mini-2025-04-14"},{name:"4.1 Nano",value:"gpt-4.1-nano-2025-04-14"}]),o=_t([{name:"Indonesia",value:"id"},{name:"English",value:"en"}]),l=_t({name:"AI Assistant",prompt:"kamu adalah professional di hulu migas, menguasai data kualitas crude oil (BS&W), SC, lakukan analisa saran dan rekomendasi dan faktor penyebab nilai BS&W tersebut terjadi ",temperature:.7,language:o.value[0].value,model:s.value[0].value,memory:10});let u=null;const c=W=>{u=W};let h=null;const f=W=>{h=W};let d=null;const p=W=>{d=W};let v=null;const g=W=>{v=W};let m=null;const x=W=>{m=W};let y=null;const _=W=>{y=W};let S=null;const w=W=>{S=W},T=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(W){const K=Math.random()*16|0;return(W==="x"?K:K&3|8).toString(16)}),A=(W,K,ne=!1)=>{const fe={id:T(),role:W,message:K.text||"",media:K.media||null,isErrorResponse:!1};i.value.push(fe),ne||C(),n.value=!0,h==null||h()},C=()=>{if(r.value&&e.value){if(i.value.length===0){v==null||v({message:"No conversations to send."});return}const W=i.value.filter(K=>K.role!=="system").filter(K=>K.isErrorResponse!==!0);if(W.length===0){v==null||v({message:"No valid conversations to send."});return}r.value.emit("chatbot:client_chat",{assistant_options:l.value,conversation:W})}},k=W=>{a.value=W},E=W=>{i.value=W},D=()=>l.value,I=W=>{l.value=W},P=()=>s.value,F=()=>o.value,V=()=>new Promise((W,K)=>{try{r.value&&(r.value.off(),r.value.disconnect()),r.value=BS(VE.socketURL+":"+VE.socketPort,{path:VE.socketPath,auth:{token:localStorage.getItem("authToken")||""}}),r.value.on("connect",()=>{W(r.value)})}catch(ne){v==null||v({message:ne.message||"Failed to connect to the assistant."}),K(ne)}}),z=()=>r.value,G=()=>{r.value&&(r.value.off(),r.value.disconnect(),d==null||d(),e.value=!1,r.value=null)},O=W=>{t.value=W},ee=()=>{var W,K,ne,fe,ae,re;(W=r.value)==null||W.on("connect",()=>{e.value=!0,u==null||u(r.value)}),(K=r.value)==null||K.on("disconnect",()=>{d==null||d(),e.value=!1}),(ne=r.value)==null||ne.on("chatbot:completion_respond",ie=>{n.value=!1,Iw(()=>{if(ie.error){v==null||v({message:ie.message});const U=i.value.findLastIndex(Oe=>Oe.role==="assistant");i.value[U].message="Error: "+ie.message,i.value[U].isErrorResponse=!0;return}const se=i.value.findLastIndex(U=>U.role==="assistant");se!==-1&&(i.value[se].message+=ie.data.content,i.value[se].isErrorResponse=!1),m==null||m(ie)})}),(fe=r.value)==null||fe.on("chatbot:completion_new_respond",ie=>{A("assistant",{text:ie.data.content,media:null},!0),n.value=!1,m==null||m(ie)}),(ae=r.value)==null||ae.on("chatbot:completion_respond_end",ie=>{if(ie.error){v==null||v({message:ie.message});const se=i.value.findLastIndex(U=>U.role==="assistant");i.value[se].message="Error: "+ie.message,i.value[se].isErrorResponse=!0,y==null||y(ie);return}}),(re=r.value)==null||re.on("wab:onqr",ie=>{S==null||S(ie)})};Pi(()=>n.value,W=>{W||i.value.push({id:T(),role:"assistant",message:"",media:null,isErrorResponse:!1})});const Q=()=>{r.value&&(r.value.off(),r.value.disconnect(),e.value=!1,r.value=null),u=null,h=null,d=null,v=null,i.value=[],a.value=""},N=W=>(W=Y(W),W.replace(/^(#{1,6})\s+(.*)$/gm,(K,ne,fe)=>{const ae=ne.length;return`<h${ae} style="color:orange">${fe}</h${ae}>`}).replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/_(.*?)_/g,"<i>$1</i>").replace(/~~(.*?)~~/g,"<del>$1</del>").replace(/\n/g,"<br>").replace(/!\[([^\]]+)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" style="max-width:100%;height:auto;"/>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank">$1</a>')),Y=W=>W.replace(/```(\w+)?\n([\s\S]*?)```/g,(K,ne,fe)=>{const ae=ne||"plaintext",re=fe.replace(/</g,"&lt;").replace(/>/g,"&gt;");return`<div style="margin-top:0.5rem;padding:15px;border-radius:5px;overflow-y:auto;background:rgb(10,10,10);color:rgb(255,255,255);"><span style='color:orange;text-transform:uppercase;font-weight:bold;font-size:12px;'>${ae}</span><hr><pre class="language-${ae}"><code>${re}</code></pre></div>`});return ML(()=>{V().then(()=>{u==null||u(r.value),e.value=!0,ee()}).catch(W=>{v==null||v({message:W.message||"Failed to connect to the assistant."})})}),IL(()=>{Q()}),{addConversation:A,assistantOptions:l,chatBodyContainer:t,ConversationRole:nq,conversationContext:a,conversations:i,disconnectSocket:G,formatResult:N,getAssistantLanguages:F,getAssistantModels:P,getAssistantOptions:D,getSocketInstance:z,isSocketConnected:e,setAssistantOptions:I,setChatBodyContainer:O,setConversations:E,setConversationContext:k,setOnAddConversationListener:f,setOnAnyErrorListener:g,setOnSocketConnectListener:c,setOnSocketDisconnectListener:p,setOnStreamingEndListener:_,setOnStreamingListener:x,setOnWabQrReadyListener:w}},aRe={key:0,class:"chatbot-window"},sRe={style:{margin:"0"}},oRe={style:{margin:"0","margin-bottom":"1rem",display:"flex","flex-flow":"row nowrap","align-items":"center",gap:"0.5rem"}},lRe={key:0,style:{color:"#fff","font-size":"11px",padding:"2px","border-radius":"100px","background-color":"green","padding-left":"10px","padding-right":"10px"}},uRe={key:1,style:{color:"#fff","font-size":"11px",padding:"2px","border-radius":"100px","background-color":"#aaa","padding-left":"10px","padding-right":"10px"}},cRe={key:0,class:"chatbot-assistant-message"},hRe={key:1,class:"chatbot-user-message"},fRe=["innerHTML"],dRe={key:0,class:"chatbot-user-media"},pRe=["src"],vRe={key:1,style:{color:"#fff",position:"absolute",bottom:"5px",left:"5px"}},gRe={key:2,style:{color:"#fff",position:"absolute",bottom:"5px",left:"5px"}},mRe={style:{color:"#fff",position:"absolute",top:"5px",left:"5px","font-size":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"100%"}},yRe={key:2,class:"chatbot-user-assistant"},xRe={key:0,style:{display:"flex",gap:"0.4rem","flex-flow":"row nowrap","align-items":"center"}},bRe=["innerHTML"],_Re={key:1},wRe=["innerHTML"],SRe={style:{"border-radius":"15px","margin-top":"1rem",display:"flex","flex-flow":"column"}},TRe={key:0,style:{display:"flex","flex-flow":"row nowrap","overflow-x":"auto",width:"100%","padding-bottom":"10px",gap:"5px","scroll-behavior":"smooth"}},ARe=["onClick"],CRe=["src"],kRe={key:1,style:{color:"#fff",position:"absolute",bottom:"5px",left:"5px"}},ERe={key:2,style:{color:"#fff",position:"absolute",bottom:"5px",left:"5px"}},DRe={style:{color:"#fff",position:"absolute",top:"5px",left:"5px","font-size":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"100%"}},MRe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center",gap:"0.5rem"}},IRe={style:{display:"flex","flex-flow":"column","justify-content":"center",gap:"1rem","align-items":"center"}},LRe=["src"],PRe={style:{display:"flex","flex-flow":"row nowrap",gap:"0.5rem"}},RRe=CA({__name:"ChatBot",setup(r){const e=cPe(),t=iRe(),n=_t(!0),i=_t(null),a=_t(null),s=Hq(),o=_t(!1),l=_t(""),u=()=>{n.value=!0},c=()=>{n.value=!1},h=()=>{const y=a.value;if(y){y.style.height="auto",y.style.overflowY="hidden";const S=y.scrollHeight;S<=200?y.style.height=`${S}px`:(y.style.height="200px",y.style.overflowY="auto")}},f=_t(),d=y=>{var S,w;const _=y.target.tagName;if(_==="BUTTON"){const T=((S=i.value)==null?void 0:S.trim())||"";if(!T||T.length==0){i.value="",y.target.focus();return}t.addConversation(t.ConversationRole.USER,{text:T,media:v.value}),i.value="",Iw(()=>{h(),p(),a.value.focus()}),console.log("!"),v.value=[]}else if(_==="TEXTAREA"){const T=((w=i.value)==null?void 0:w.trim())||"";if(!T||T.length==0){i.value="",y.target.focus();return}y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),T.length>0&&(t.addConversation(t.ConversationRole.USER,{text:T,media:v.value}),i.value="",y.target.focus()),Iw(()=>{h(),p()}),console.log("!"),v.value=[])}},p=()=>{Iw(()=>{f.value&&(f.value.scrollTop=f.value.scrollHeight)})},v=_t([]);e.setOnFilePasted(y=>{v.value.push(y)});const g=()=>{t.addConversation(t.ConversationRole.SYSTEM,{text:"Selamat Datang di Chatbot Assistant. Ajukan pertanyaan Anda!"}),t.setChatBodyContainer(f),h(),t.setOnSocketConnectListener(()=>{console.log("Socket connected")}),t.setOnAnyErrorListener(y=>{s.add({severity:"error",summary:"Error",detail:y.message,life:3e3})}),t.setOnStreamingListener(y=>{p()}),t.setOnWabQrReadyListener(y=>{o.value=!0,l.value=y.payload.qr||""})},m=()=>{e.setOnPasteError(y=>{s.add({severity:"error",summary:"Paste Error",detail:y.message,life:3e3})})},x=()=>{l.value="",o.value=!1,t.addConversation(t.ConversationRole.USER,{text:"Stop WhatsApp Bot"})};return ML(()=>{setTimeout(()=>{var y;(y=a.value)==null||y.addEventListener("paste",_=>{e.handle(_)}),g(),m(),a.value.focus(),h()},1e3)}),IL(()=>{var y;t.disconnectSocket(),(y=a.value)==null||y.removeEventListener("paste",_=>{e.handle(_)})}),(y,_)=>{const S=ei("fasicon"),w=ei("center");return pe(),xe(zr,null,[Ze(kA,{name:"fade"},{default:Bt(()=>[n.value?(pe(),xe("div",aRe,[me("button",{type:"button",onClick:c,class:"chatbot-dismiss"},[Ze(S,{icon:"times"})]),me("h2",sRe,ct(Yt(GE).appFullName),1),me("p",oRe,[$n(ct(Yt(t).assistantOptions.value.name)+" ",1),Yt(t).isSocketConnected.value?(pe(),xe("span",lRe,"Online")):(pe(),xe("span",uRe,"Offline"))]),me("div",{ref_key:"chatBodyContainer",ref:f,class:"chatbot-conversations-wrapper"},[(pe(!0),xe(zr,null,xs(Yt(t).conversations.value,(T,A)=>(pe(),xe("div",{key:A,class:$a(["chatbot-conversation",[`${T.role=="user"?"chatbot-user":"chatbot-assistant"}`]])},[T.role==="system"?(pe(),xe("div",cRe,[Ze(S,{icon:"info-circle"}),$n(" "+ct(T.message),1)])):T.role===Yt(t).ConversationRole.USER?(pe(),xe("div",hRe,[me("div",{innerHTML:T.message},null,8,fRe),T.media&&T.media.length>0?(pe(),xe("div",dRe,[(pe(!0),xe(zr,null,xs(T.media,(C,k)=>(pe(),xe("div",{key:k,class:"chatbot-user-file"},[C.type==="image"?(pe(),xe("img",{key:0,src:C.data,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,pRe)):C.type==="pdf"?(pe(),xe("span",vRe,"PDF")):C.type==="excel"?(pe(),xe("span",gRe,"Excel")):it("",!0),me("span",mRe,ct(C.name),1)]))),128))])):it("",!0)])):T.role===Yt(t).ConversationRole.ASSISTANT?(pe(),xe("div",yRe,[T.isErrorResponse?(pe(),xe("div",xRe,[Ze(S,{icon:"exclamation-triangle"}),_[5]||(_[5]=$n()),me("div",{innerHTML:T.message},null,8,bRe)])):(pe(),xe("div",_Re,[me("div",{innerHTML:Yt(t).formatResult(T.message)},null,8,wRe)]))])):it("",!0)],2))),128))],512),me("div",SRe,[v.value.length>0?(pe(),xe("div",TRe,[(pe(!0),xe(zr,null,xs(v.value,(T,A)=>(pe(),xe("div",{key:A,class:"chatbot-pasted-file",onClick:C=>v.value.splice(A,1),style:{flex:"0 0 auto",width:"50px",height:"65px",position:"relative",background:"#aaa","border-radius":"5px",cursor:"pointer",overflow:"hidden"}},[T.type==="image"?(pe(),xe("img",{key:0,src:T.data,style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","object-fit":"cover",border:"1px solid #ccc"}},null,8,CRe)):T.type==="pdf"?(pe(),xe("span",kRe,"PDF")):T.type==="excel"?(pe(),xe("span",ERe,"Excel")):it("",!0),me("span",DRe,ct(T.name),1)],8,ARe))),128))])):it("",!0),me("div",MRe,[Ts(me("textarea",{ref_key:"promptRef",ref:a,onInput:h,onKeypress:_[0]||(_[0]=T=>d(T)),"onUpdate:modelValue":_[1]||(_[1]=T=>i.value=T),class:"chatbot-prompt",placeholder:"Masukan pesan Anda..."},null,544),[[Gq,i.value]]),i.value!=null&&i.value.trim()!==""?(pe(),xe("button",{key:0,onClick:_[2]||(_[2]=T=>d(T)),class:"prompt-send"},[Ze(S,{icon:"paper-plane"})])):it("",!0)])])])):it("",!0)]),_:1}),n.value?it("",!0):(pe(),xe("button",{key:0,class:"chatbot-open",onClick:u},[Ze(S,{icon:"wand-sparkles"})])),Ze(Yt(oz),{visible:o.value,"onUpdate:visible":_[4]||(_[4]=T=>o.value=T),maximizable:"",modal:"",header:"WhatsApp Bot",style:{width:"50rem"}},{default:Bt(()=>[me("div",IRe,[_[8]||(_[8]=me("h3",{style:{margin:"0"}},"Scan QR Code",-1)),_[9]||(_[9]=me("p",{style:{margin:"0"}},"Please scan the QR code with your WhatsApp app to connect.",-1)),Ze(w,null,{default:Bt(()=>[me("img",{src:l.value,alt:"WhatsApp QR Code",style:{width:"300px"}},null,8,LRe)]),_:1}),me("div",PRe,[Ze(Yt(zS),{onClick:_[3]||(_[3]=T=>o.value=!1),style:{width:"150px"}},{default:Bt(()=>_[6]||(_[6]=[$n("Close")])),_:1}),Ze(Yt(zS),{class:"p-button-outlined",onClick:x,style:{width:"150px"}},{default:Bt(()=>_[7]||(_[7]=[$n("Stop Bot")])),_:1})])])]),_:1},8,["visible"])],64)}}}),ORe=iz(RRe,[["__scopeId","data-v-4bcd29b6"]]),FRe={style:{width:"100%","box-sizing":"border-box",position:"relative",border:"1px solid #ccc","border-radius":"5px","padding-top":"2rem","padding-left":"1rem","padding-right":"1rem","padding-bottom":"1rem"}},NRe={style:{display:"flex","flex-flow":"row wrap","margin-bottom":"1rem",gap:"0.3rem","justify-content":"space-between"}},BRe={style:{display:"flex","flex-flow":"row wrap",gap:"0.5rem"}},VRe={style:{display:"flex","flex-flow":"row wrap",gap:"1rem","align-items":"center"}},zRe={key:0,style:{display:"flex","flex-flow":"row nowrap",gap:"0.5rem","align-items":"center"}},HRe={style:{display:"flex","flex-flow":"column",gap:"1rem"}},GRe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},$Re={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},URe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},WRe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},YRe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},XRe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},KRe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},jRe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},qRe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},ZRe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},JRe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},QRe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},eOe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},tOe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},rOe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},nOe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},iOe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},aOe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},sOe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},oOe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},lOe={style:{display:"flex","flex-flow":"column",gap:"0.1rem","font-size":"12px","font-weight":"bold"}},uOe={style:{display:"flex","flex-flow":"row nowrap","justify-content":"space-between","align-items":"center"}},cOe=CA({__name:"CombinedChart",props:{idSpot:{type:String,required:!0},idSpot2:{type:String,default:""},title:{type:String,default:"Flow Rate"},timeFilter:{type:String,required:!0}},setup(r){const e=_t(!1),t=_t(!1),n=_t("avg"),i=r,a=_t(null),s=_t(null),o=$q({title:{text:i.title,textStyle:{color:"#000"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:[{name:"Time",nameLocation:"middle",nameGap:45,nameTextStyle:{color:"#000"},type:"category",axisLabel:{rotate:45},splitLine:{show:!0},axisTick:{show:!0},minorTick:{show:!0},axisLine:{lineStyle:{color:"#000",width:1}},data:[]},{name:"Time",nameLocation:"middle",nameGap:45,nameTextStyle:{color:"#000"},type:"category",axisLabel:{rotate:45},splitLine:{show:!0},axisTick:{show:!0},minorTick:{show:!0},axisLine:{lineStyle:{color:"#000",width:1}},data:[]}],yAxis:[{name:"Rate",nameLocation:"middle",nameGap:45,nameTextStyle:{color:"#787878"},type:"value",interval:50,axisLabel:{formatter:"{value}",color:"#787878"},splitLine:{show:!1},axisTick:{show:!0},minorTick:{show:!0},min:0,max:450,axisLine:{lineStyle:{color:"#787878",width:1}}},{name:"BS&W",nameLocation:"middle",nameGap:45,nameTextStyle:{color:"#000"},type:"value",interval:.1,axisLabel:{formatter:"{value}",color:"#ffaa00"},axisTick:{show:!0},minorTick:{show:!0},min:0,max:1,axisLine:{lineStyle:{color:"#ffaa00",width:1}}}],series:[{name:"Flow",type:"line",data:[],showSymbol:!1,smooth:!1,yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"#787878",width:1}},{name:"BS&W",type:"line",yAxisIndex:1,xAxisIndex:1,data:[],showSymbol:!1,smooth:!1,lineStyle:{color:"#ffaa00",width:1}}]}),l=_t([]),u=_t([]),c=_t([]),h=_t([{name:"LTTB Algo",code:"lttb"},{name:"Average",code:"average"},{name:"Min",code:"min"},{name:"Max",code:"max"},{name:"Minmax",code:"minmax"},{name:"Sum",code:"sum"}]),f=_t(1),d=_t(50),p=_t(450),v=_t(!0),g=_t(!0),m=_t(!1),x=_t("#000"),y=_t(!1),_=_t(.01),S=_t(2),w=_t({flowrate:"787878",bsnw:"ffaa00"}),T=_t(!1),A=_t(null);ML(()=>{s.value=Cie(a.value),s.value.setOption(o),k(),I(),C()});const C=()=>{A.value=setInterval(()=>{k(),I()},1e4)},k=async()=>{T.value=!0;const z={spot_id:i.idSpot,date:Ne(i.timeFilter).format("YYYY-MM-DD")};await p8().httpPost("/Flow/getFlowData",z).then(G=>{l.value=G.data.map(O=>Ne(O.timestamp).format("HH:mm")),u.value=G.data.map(O=>O.flowRate),o.xAxis[0].data=l.value,o.series[0].data=u.value,s.value.setOption(o),T.value=!1}).catch(G=>{console.error("Error fetching data:",G),T.value=!1})},E=_t(),D=_t(),I=()=>{T.value=!0;const z={date:Ne(i.timeFilter).format("YYYY-MM-DD")};p8().httpPost("/Flow/getBsnwData",z).then(G=>{const O=G.data;E.value=O.spot3,D.value=O.spot2,P(),T.value=!1}).catch(G=>{T.value=!1})},P=()=>{c.value=[],o.series[1].data=[],s.value.setOption(o),u.value=[],l.value=[];const z=F(E.value),G=F(D.value),O=V(z),ee=V(G);for(let Q=0;Q<O.length;Q++){const N=Ne(O[Q].timeGroup).format("HH:mm");l.value.push(N);const Y=O[Q].averageFlowRate,W=ee[Q].averageFlowRate,ne=.130869-52e-5*(Y-W);c.value.push(ne)}o.series[1].data=c.value,s.value.setOption(o)},F=z=>{const G={};return z.forEach(O=>{const ee=new Date(O.timestamp),Q=Math.floor(ee.getMinutes()/f.value)*f.value,N=new Date(ee);N.setMinutes(Q),N.setSeconds(0),N.setMilliseconds(0);const Y=N+"";G[Y]||(G[Y]=[]),G[Y].push(O.flowRate)}),G},V=z=>Object.entries(z).map(([G,O])=>{const ee=O.reduce((Q,N)=>Q+N,0)/O.length;return{timeGroup:G,averageFlowRate:ee}});return IL(()=>{s.value&&s.value.dispose(),A.value&&clearInterval(A.value)}),Pi(()=>i.timeFilter,()=>{l.value=[],u.value=[],c.value=[],o.xAxis[0].data=l.value,o.series[0].data=u.value,o.series[1].data=c.value,s.value.setOption(o),k(),I()}),Pi(()=>[t.value],()=>{t.value?(o.series[0].sampling=n.value,o.series[1].sampling=n.value,s.value.setOption(o)):(delete o.series[0].sampling,delete o.series[1].sampling,s.value.clear(),setTimeout(()=>{o.series[0].data=u.value,o.series[1].data=c.value,o.xAxis.data=l.value,s.value.setOption(o)},500))}),Pi(()=>n.value,()=>{t.value&&(o.series[0].sampling=n.value,o.series[1].sampling=n.value,s.value.setOption(o))}),Pi(()=>d.value,()=>{o.yAxis[0].interval=d.value,s.value.setOption(o)}),Pi(()=>p.value,()=>{o.yAxis[0].max=p.value,s.value.setOption(o)}),Pi(()=>v.value,()=>{o.yAxis[0].minorTick.show=v.value,o.xAxis[1].minorTick.show=v.value,s.value.setOption(o)}),Pi(()=>g.value,()=>{o.xAxis[0].splitLine.show=g.value,o.xAxis[1].splitLine.show=g.value,s.value.setOption(o)}),Pi(()=>S.value,()=>{o.series[0].lineStyle.width=S.value,o.series[1].lineStyle.width=S.value,s.value.setOption(o)}),Pi(()=>_.value,()=>{o.series[0].smooth=_.value,o.series[1].smooth=_.value,s.value.setOption(o)}),Pi(()=>y.value,()=>{o.series[0].showSymbol=y.value,o.series[1].showSymbol=y.value,s.value.setOption(o)}),Pi(()=>g.value,()=>{o.xAxis[0].splitLine.show=g.value,s.value.setOption(o)}),Pi(()=>m.value,()=>{m.value&&(s.value.clear(),setTimeout(()=>{s.value.setOption(o),m.value=!1},2e3))}),Pi(()=>w.value,()=>{o.series[0].lineStyle.color="#"+w.value.flowrate,o.series[1].lineStyle.color="#"+w.value.bsnw,o.yAxis[0].axisLine.lineStyle.color="#"+w.value.flowrate,o.yAxis[1].axisLine.lineStyle.color="#"+w.value.bsnw,o.yAxis[0].axisLabel.color="#"+w.value.flowrate,o.yAxis[1].axisLabel.color="#"+w.value.bsnw,s.value.setOption(o)},{deep:!0}),Pi(()=>x.value,()=>{o.yAxis[0].nameTextStyle.color="#"+x.value,o.yAxis[1].nameTextStyle.color="#"+x.value,o.xAxis[0].nameTextStyle.color="#"+x.value,o.xAxis[1].nameTextStyle.color="#"+x.value,o.title.textStyle.color="#"+x.value,s.value.setOption(o)}),(z,G)=>(pe(),xe(zr,null,[me("div",FRe,[me("div",NRe,[me("div",BRe,[Ze(Yt(QU),{modelValue:t.value,"onUpdate:modelValue":G[0]||(G[0]=O=>t.value=O),onLabel:"Sampling On",offLabel:"Sampling Off"},null,8,["modelValue"]),Ze(Yt(Awe),{modelValue:n.value,"onUpdate:modelValue":G[1]||(G[1]=O=>n.value=O),optionLabel:"name",optionValue:"code",options:h.value,placeholder:"Select Sampling"},null,8,["modelValue","options"])]),me("div",VRe,[T.value?(pe(),xe("div",zRe,[Ze(Yt(QW),{style:{width:"20px",height:"20px"},strokeWidth:"4",fill:"transparent",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),G[15]||(G[15]=me("span",{style:{"font-size":"12px"}},"Updating...",-1))])):it("",!0),Ze(Yt(zS),{onClick:G[2]||(G[2]=O=>e.value=!0),icon:"pi pi-cog",rounded:"","aria-label":"Filter"})])]),me("div",{ref_key:"chartRef",ref:a,style:{width:"100%",height:"500px","box-sizing":"border-box"}},null,512)]),Ze(Yt(oz),{visible:e.value,"onUpdate:visible":G[14]||(G[14]=O=>e.value=O),maximizable:"",modal:"",header:"Chart Settings",style:{width:"25rem"}},{default:Bt(()=>[me("div",HRe,[me("div",GRe,[G[16]||(G[16]=me("span",null,"Flow Rate: Max",-1)),me("div",$Re,[Ze(Yt(Km),{modelValue:p.value,"onUpdate:modelValue":G[3]||(G[3]=O=>p.value=O),step:10,class:"w-56",max:1e3,style:{width:"85%"}},null,8,["modelValue"]),me("span",null,ct(p.value),1)])]),me("div",URe,[G[17]||(G[17]=me("span",null,"Flow Rate: Interval",-1)),me("div",WRe,[Ze(Yt(Km),{modelValue:d.value,"onUpdate:modelValue":G[4]||(G[4]=O=>d.value=O),step:5,class:"w-56",max:100,style:{width:"85%"}},null,8,["modelValue"]),me("span",null,ct(d.value),1)])]),me("div",YRe,[G[18]||(G[18]=me("span",null,"Series Line Width",-1)),me("div",XRe,[Ze(Yt(Km),{modelValue:S.value,"onUpdate:modelValue":G[5]||(G[5]=O=>S.value=O),min:.1,step:.1,class:"w-56",max:5,style:{width:"85%"}},null,8,["modelValue"]),me("span",null,ct(S.value),1)])]),me("div",KRe,[G[19]||(G[19]=me("span",null,"Smoothing",-1)),me("div",jRe,[Ze(Yt(Km),{modelValue:_.value,"onUpdate:modelValue":G[6]||(G[6]=O=>_.value=O),min:0,step:.01,class:"w-56",max:1,style:{width:"85%"}},null,8,["modelValue"]),me("span",null,ct(_.value),1)])]),me("div",qRe,[G[20]||(G[20]=me("span",null,"Minors",-1)),me("div",ZRe,[Ze(Yt(o_),{modelValue:v.value,"onUpdate:modelValue":G[7]||(G[7]=O=>v.value=O)},null,8,["modelValue"]),me("span",null,ct(v.value?"Shown":"Hidden"),1)])]),me("div",JRe,[G[21]||(G[21]=me("span",null,"Splitlines",-1)),me("div",QRe,[Ze(Yt(o_),{modelValue:g.value,"onUpdate:modelValue":G[8]||(G[8]=O=>g.value=O)},null,8,["modelValue"]),me("span",null,ct(g.value?"Shown":"Hidden"),1)])]),me("div",eOe,[G[22]||(G[22]=me("span",null,"Series Symbol",-1)),me("div",tOe,[Ze(Yt(o_),{modelValue:y.value,"onUpdate:modelValue":G[9]||(G[9]=O=>y.value=O)},null,8,["modelValue"]),me("span",null,ct(y.value?"Shown":"Hidden"),1)])]),me("div",rOe,[G[23]||(G[23]=me("span",null,"Redraw Chart",-1)),me("div",nOe,[Ze(Yt(o_),{modelValue:m.value,"onUpdate:modelValue":G[10]||(G[10]=O=>m.value=O)},null,8,["modelValue"]),me("span",null,ct(m.value?"Hold a sec...":""),1)])]),me("div",iOe,[G[25]||(G[25]=me("span",null,"Chart Color",-1)),me("div",aOe,[Ze(Yt(nS),{modelValue:x.value,"onUpdate:modelValue":G[11]||(G[11]=O=>x.value=O)},null,8,["modelValue"]),me("span",null,[G[24]||(G[24]=$n("Base Color: ")),me("b",null,ct(x.value),1)])])]),me("div",sOe,[me("div",oOe,[Ze(Yt(nS),{modelValue:w.value.flowrate,"onUpdate:modelValue":G[12]||(G[12]=O=>w.value.flowrate=O)},null,8,["modelValue"]),me("span",null,[G[26]||(G[26]=$n("Flow Rate Color: ")),me("b",null,ct(w.value.flowrate),1)])])]),me("div",lOe,[me("div",uOe,[Ze(Yt(nS),{modelValue:w.value.bsnw,"onUpdate:modelValue":G[13]||(G[13]=O=>w.value.bsnw=O)},null,8,["modelValue"]),me("span",null,[G[27]||(G[27]=$n("BSNW Color: ")),me("b",null,ct(w.value.bsnw),1)])])])])]),_:1},8,["visible"]),Ze(ORe)],64))}});var hOe=({dt:r})=>`
.p-tabs {
    display: flex;
    flex-direction: column;
}

.p-tablist {
    display: flex;
    position: relative;
}

.p-tabs-scrollable > .p-tablist {
    overflow: hidden;
}

.p-tablist-viewport {
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scrollbar-width: none;
    overscroll-behavior: contain auto;
}

.p-tablist-viewport::-webkit-scrollbar {
    display: none;
}

.p-tablist-tab-list {
    position: relative;
    display: flex;
    background: ${r("tabs.tablist.background")};
    border-style: solid;
    border-color: ${r("tabs.tablist.border.color")};
    border-width: ${r("tabs.tablist.border.width")};
}

.p-tablist-content {
    flex-grow: 1;
}

.p-tablist-nav-button {
    all: unset;
    position: absolute !important;
    flex-shrink: 0;
    inset-block-start: 0;
    z-index: 2;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: ${r("tabs.nav.button.background")};
    color: ${r("tabs.nav.button.color")};
    width: ${r("tabs.nav.button.width")};
    transition: color ${r("tabs.transition.duration")}, outline-color ${r("tabs.transition.duration")}, box-shadow ${r("tabs.transition.duration")};
    box-shadow: ${r("tabs.nav.button.shadow")};
    outline-color: transparent;
    cursor: pointer;
}

.p-tablist-nav-button:focus-visible {
    z-index: 1;
    box-shadow: ${r("tabs.nav.button.focus.ring.shadow")};
    outline: ${r("tabs.nav.button.focus.ring.width")} ${r("tabs.nav.button.focus.ring.style")} ${r("tabs.nav.button.focus.ring.color")};
    outline-offset: ${r("tabs.nav.button.focus.ring.offset")};
}

.p-tablist-nav-button:hover {
    color: ${r("tabs.nav.button.hover.color")};
}

.p-tablist-prev-button {
    inset-inline-start: 0;
}

.p-tablist-next-button {
    inset-inline-end: 0;
}

.p-tablist-prev-button:dir(rtl),
.p-tablist-next-button:dir(rtl) {
    transform: rotate(180deg);
}


.p-tab {
    flex-shrink: 0;
    cursor: pointer;
    user-select: none;
    position: relative;
    border-style: solid;
    white-space: nowrap;
    background: ${r("tabs.tab.background")};
    border-width: ${r("tabs.tab.border.width")};
    border-color: ${r("tabs.tab.border.color")};
    color: ${r("tabs.tab.color")};
    padding: ${r("tabs.tab.padding")};
    font-weight: ${r("tabs.tab.font.weight")};
    transition: background ${r("tabs.transition.duration")}, border-color ${r("tabs.transition.duration")}, color ${r("tabs.transition.duration")}, outline-color ${r("tabs.transition.duration")}, box-shadow ${r("tabs.transition.duration")};
    margin: ${r("tabs.tab.margin")};
    outline-color: transparent;
}

.p-tab:not(.p-disabled):focus-visible {
    z-index: 1;
    box-shadow: ${r("tabs.tab.focus.ring.shadow")};
    outline: ${r("tabs.tab.focus.ring.width")} ${r("tabs.tab.focus.ring.style")} ${r("tabs.tab.focus.ring.color")};
    outline-offset: ${r("tabs.tab.focus.ring.offset")};
}

.p-tab:not(.p-tab-active):not(.p-disabled):hover {
    background: ${r("tabs.tab.hover.background")};
    border-color: ${r("tabs.tab.hover.border.color")};
    color: ${r("tabs.tab.hover.color")};
}

.p-tab-active {
    background: ${r("tabs.tab.active.background")};
    border-color: ${r("tabs.tab.active.border.color")};
    color: ${r("tabs.tab.active.color")};
}

.p-tabpanels {
    background: ${r("tabs.tabpanel.background")};
    color: ${r("tabs.tabpanel.color")};
    padding: ${r("tabs.tabpanel.padding")};
    outline: 0 none;
}

.p-tabpanel:focus-visible {
    box-shadow: ${r("tabs.tabpanel.focus.ring.shadow")};
    outline: ${r("tabs.tabpanel.focus.ring.width")} ${r("tabs.tabpanel.focus.ring.style")} ${r("tabs.tabpanel.focus.ring.color")};
    outline-offset: ${r("tabs.tabpanel.focus.ring.offset")};
}

.p-tablist-active-bar {
    z-index: 1;
    display: block;
    position: absolute;
    inset-block-end: ${r("tabs.active.bar.bottom")};
    height: ${r("tabs.active.bar.height")};
    background: ${r("tabs.active.bar.background")};
    transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
}
`,fOe={root:function(e){var t=e.props;return["p-tabs p-component",{"p-tabs-scrollable":t.scrollable}]}},dOe=ia.extend({name:"tabs",style:hOe,classes:fOe}),pOe={name:"BaseTabs",extends:Dl,props:{value:{type:[String,Number],default:void 0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showNavigators:{type:Boolean,default:!0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:dOe,provide:function(){return{$pcTabs:this,$parentInstance:this}}},iq={name:"Tabs",extends:pOe,inheritAttrs:!1,emits:["update:value"],data:function(){return{d_value:this.value}},watch:{value:function(e){this.d_value=e}},methods:{updateValue:function(e){this.d_value!==e&&(this.d_value=e,this.$emit("update:value",e))},isVertical:function(){return this.orientation==="vertical"}}};function vOe(r,e,t,n,i,a){return pe(),xe("div",le({class:r.cx("root")},r.ptmi("root")),[ot(r.$slots,"default")],16)}iq.render=vOe;var gOe={root:"p-tablist",content:function(e){var t=e.instance;return["p-tablist-content",{"p-tablist-viewport":t.$pcTabs.scrollable}]},tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},mOe=ia.extend({name:"tablist",classes:gOe}),yOe={name:"BaseTabList",extends:Dl,props:{},style:mOe,provide:function(){return{$pcTabList:this,$parentInstance:this}}},aq={name:"TabList",extends:yOe,inheritAttrs:!1,inject:["$pcTabs"],data:function(){return{isPrevButtonEnabled:!1,isNextButtonEnabled:!0}},resizeObserver:void 0,watch:{showNavigators:function(e){e?this.bindResizeObserver():this.unbindResizeObserver()},activeValue:{flush:"post",handler:function(){this.updateInkBar()}}},mounted:function(){var e=this;setTimeout(function(){e.updateInkBar()},150),this.showNavigators&&(this.updateButtonState(),this.bindResizeObserver())},updated:function(){this.showNavigators&&this.updateButtonState()},beforeUnmount:function(){this.unbindResizeObserver()},methods:{onScroll:function(e){this.showNavigators&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,t=this.getVisibleButtonWidths(),n=Ac(e)-t,i=Math.abs(e.scrollLeft),a=n*.8,s=i-a,o=Math.max(s,0);e.scrollLeft=$E(e)?-1*o:o},onNextButtonClick:function(){var e=this.$refs.content,t=this.getVisibleButtonWidths(),n=Ac(e)-t,i=Math.abs(e.scrollLeft),a=n*.8,s=i+a,o=e.scrollWidth-n,l=Math.min(s,o);e.scrollLeft=$E(e)?-1*l:l},bindResizeObserver:function(){var e=this;this.resizeObserver=new ResizeObserver(function(){return e.updateButtonState()}),this.resizeObserver.observe(this.$refs.list)},unbindResizeObserver:function(){var e;(e=this.resizeObserver)===null||e===void 0||e.unobserve(this.$refs.list),this.resizeObserver=void 0},updateInkBar:function(){var e=this.$refs,t=e.content,n=e.inkbar,i=e.tabs,a=va(t,'[data-pc-name="tab"][data-p-active="true"]');this.$pcTabs.isVertical()?(n.style.height=Uq(a)+"px",n.style.top=s_(a).top-s_(i).top+"px"):(n.style.width=xy(a)+"px",n.style.left=s_(a).left-s_(i).left+"px")},updateButtonState:function(){var e=this.$refs,t=e.list,n=e.content,i=n.scrollTop,a=n.scrollWidth,s=n.scrollHeight,o=n.offsetWidth,l=n.offsetHeight,u=Math.abs(n.scrollLeft),c=[Ac(n),_v(n)],h=c[0],f=c[1];this.$pcTabs.isVertical()?(this.isPrevButtonEnabled=i!==0,this.isNextButtonEnabled=t.offsetHeight>=l&&parseInt(i)!==s-f):(this.isPrevButtonEnabled=u!==0,this.isNextButtonEnabled=t.offsetWidth>=o&&parseInt(u)!==a-h)},getVisibleButtonWidths:function(){var e=this.$refs,t=e.prevButton,n=e.nextButton,i=0;return this.showNavigators&&(i=((t==null?void 0:t.offsetWidth)||0)+((n==null?void 0:n.offsetWidth)||0)),i}},computed:{templates:function(){return this.$pcTabs.$slots},activeValue:function(){return this.$pcTabs.d_value},showNavigators:function(){return this.$pcTabs.scrollable&&this.$pcTabs.showNavigators},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0},dataP:function(){return EA({scrollable:this.$pcTabs.scrollable})}},components:{ChevronLeftIcon:OL,ChevronRightIcon:uz},directives:{ripple:bb}},xOe=["data-p"],bOe=["aria-label","tabindex"],_Oe=["data-p"],wOe=["aria-orientation"],SOe=["aria-label","tabindex"];function TOe(r,e,t,n,i,a){var s=yb("ripple");return pe(),xe("div",le({ref:"list",class:r.cx("root"),"data-p":a.dataP},r.ptmi("root")),[a.showNavigators&&i.isPrevButtonEnabled?Ts((pe(),xe("button",le({key:0,ref:"prevButton",type:"button",class:r.cx("prevButton"),"aria-label":a.prevButtonAriaLabel,tabindex:a.$pcTabs.tabindex,onClick:e[0]||(e[0]=function(){return a.onPrevButtonClick&&a.onPrevButtonClick.apply(a,arguments)})},r.ptm("prevButton"),{"data-pc-group-section":"navigator"}),[(pe(),Ir(zn(a.templates.previcon||"ChevronLeftIcon"),le({"aria-hidden":"true"},r.ptm("prevIcon")),null,16))],16,bOe)),[[s]]):it("",!0),me("div",le({ref:"content",class:r.cx("content"),onScroll:e[1]||(e[1]=function(){return a.onScroll&&a.onScroll.apply(a,arguments)}),"data-p":a.dataP},r.ptm("content")),[me("div",le({ref:"tabs",class:r.cx("tabList"),role:"tablist","aria-orientation":a.$pcTabs.orientation||"horizontal"},r.ptm("tabList")),[ot(r.$slots,"default"),me("span",le({ref:"inkbar",class:r.cx("activeBar"),role:"presentation","aria-hidden":"true"},r.ptm("activeBar")),null,16)],16,wOe)],16,_Oe),a.showNavigators&&i.isNextButtonEnabled?Ts((pe(),xe("button",le({key:1,ref:"nextButton",type:"button",class:r.cx("nextButton"),"aria-label":a.nextButtonAriaLabel,tabindex:a.$pcTabs.tabindex,onClick:e[2]||(e[2]=function(){return a.onNextButtonClick&&a.onNextButtonClick.apply(a,arguments)})},r.ptm("nextButton"),{"data-pc-group-section":"navigator"}),[(pe(),Ir(zn(a.templates.nexticon||"ChevronRightIcon"),le({"aria-hidden":"true"},r.ptm("nextIcon")),null,16))],16,SOe)),[[s]]):it("",!0)],16,xOe)}aq.render=TOe;var AOe={root:function(e){var t=e.instance,n=e.props;return["p-tab",{"p-tab-active":t.active,"p-disabled":n.disabled}]}},COe=ia.extend({name:"tab",classes:AOe}),kOe={name:"BaseTab",extends:Dl,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:COe,provide:function(){return{$pcTab:this,$parentInstance:this}}},sq={name:"Tab",extends:kOe,inheritAttrs:!1,inject:["$pcTabs","$pcTabList"],methods:{onFocus:function(){this.$pcTabs.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(e){switch(e.code){case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break}},onArrowRightKey:function(e){var t=this.findNextTab(e.currentTarget);t?this.changeFocusedTab(e,t):this.onHomeKey(e),e.preventDefault()},onArrowLeftKey:function(e){var t=this.findPrevTab(e.currentTarget);t?this.changeFocusedTab(e,t):this.onEndKey(e),e.preventDefault()},onHomeKey:function(e){var t=this.findFirstTab();this.changeFocusedTab(e,t),e.preventDefault()},onEndKey:function(e){var t=this.findLastTab();this.changeFocusedTab(e,t),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.findLastTab()),e.preventDefault()},onPageUpKey:function(e){this.scrollInView(this.findFirstTab()),e.preventDefault()},onEnterKey:function(e){this.changeActiveValue(),e.preventDefault()},findNextTab:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t?e:e.nextElementSibling;return n?oo(n,"data-p-disabled")||oo(n,"data-pc-section")==="inkbar"?this.findNextTab(n):va(n,'[data-pc-name="tab"]'):null},findPrevTab:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t?e:e.previousElementSibling;return n?oo(n,"data-p-disabled")||oo(n,"data-pc-section")==="inkbar"?this.findPrevTab(n):va(n,'[data-pc-name="tab"]'):null},findFirstTab:function(){return this.findNextTab(this.$pcTabList.$refs.content.firstElementChild,!0)},findLastTab:function(){return this.findPrevTab(this.$pcTabList.$refs.content.lastElementChild,!0)},changeActiveValue:function(){this.$pcTabs.updateValue(this.value)},changeFocusedTab:function(e,t){Gl(t),this.scrollInView(t)},scrollInView:function(e){var t;e==null||(t=e.scrollIntoView)===null||t===void 0||t.call(e,{block:"nearest"})}},computed:{active:function(){var e;return DL((e=this.$pcTabs)===null||e===void 0?void 0:e.d_value,this.value)},id:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.$id,"_tab_").concat(this.value)},ariaControls:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.$id,"_tabpanel_").concat(this.value)},attrs:function(){return le(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.active?this.$pcTabs.tabindex:-1,role:"tab","aria-selected":this.active,"aria-controls":this.ariaControls,"data-pc-name":"tab","data-p-disabled":this.disabled,"data-p-active":this.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.active}}},dataP:function(){return EA({active:this.active})}},directives:{ripple:bb}};function EOe(r,e,t,n,i,a){var s=yb("ripple");return r.asChild?ot(r.$slots,"default",{key:1,dataP:a.dataP,class:$a(r.cx("root")),active:a.active,a11yAttrs:a.a11yAttrs,onClick:a.onClick}):Ts((pe(),Ir(zn(r.as),le({key:0,class:r.cx("root"),"data-p":a.dataP,onClick:a.onClick},a.attrs),{default:Bt(function(){return[ot(r.$slots,"default")]}),_:3},16,["class","data-p","onClick"])),[[s]])}sq.render=EOe;var DOe={root:"p-tabpanels"},MOe=ia.extend({name:"tabpanels",classes:DOe}),IOe={name:"BaseTabPanels",extends:Dl,props:{},style:MOe,provide:function(){return{$pcTabPanels:this,$parentInstance:this}}},oq={name:"TabPanels",extends:IOe,inheritAttrs:!1};function LOe(r,e,t,n,i,a){return pe(),xe("div",le({class:r.cx("root"),role:"presentation"},r.ptmi("root")),[ot(r.$slots,"default")],16)}oq.render=LOe;var POe={root:function(e){var t=e.instance;return["p-tabpanel",{"p-tabpanel-active":t.active}]}},ROe=ia.extend({name:"tabpanel",classes:POe}),OOe={name:"BaseTabPanel",extends:Dl,props:{value:{type:[String,Number],default:void 0},as:{type:[String,Object],default:"DIV"},asChild:{type:Boolean,default:!1},header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:ROe,provide:function(){return{$pcTabPanel:this,$parentInstance:this}}},lq={name:"TabPanel",extends:OOe,inheritAttrs:!1,inject:["$pcTabs"],computed:{active:function(){var e;return DL((e=this.$pcTabs)===null||e===void 0?void 0:e.d_value,this.value)},id:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.id,"_tabpanel_").concat(this.value)},ariaLabelledby:function(){var e;return"".concat((e=this.$pcTabs)===null||e===void 0?void 0:e.id,"_tab_").concat(this.value)},attrs:function(){return le(this.a11yAttrs,this.ptmi("root",this.ptParams))},a11yAttrs:function(){var e;return{id:this.id,tabindex:(e=this.$pcTabs)===null||e===void 0?void 0:e.tabindex,role:"tabpanel","aria-labelledby":this.ariaLabelledby,"data-pc-name":"tabpanel","data-p-active":this.active}},ptParams:function(){return{context:{active:this.active}}}}};function FOe(r,e,t,n,i,a){var s,o;return a.$pcTabs?(pe(),xe(zr,{key:1},[r.asChild?ot(r.$slots,"default",{key:1,class:$a(r.cx("root")),active:a.active,a11yAttrs:a.a11yAttrs}):(pe(),xe(zr,{key:0},[!((s=a.$pcTabs)!==null&&s!==void 0&&s.lazy)||a.active?Ts((pe(),Ir(zn(r.as),le({key:0,class:r.cx("root")},a.attrs),{default:Bt(function(){return[ot(r.$slots,"default")]}),_:3},16,["class"])),[[HE,(o=a.$pcTabs)!==null&&o!==void 0&&o.lazy?!0:a.active]]):it("",!0)],64))],64)):ot(r.$slots,"default",{key:0})}lq.render=FOe;const NOe={style:{display:"flex","flex-flow":"column",gap:"1rem"}},WOe=CA({__name:"Home",setup(r){const e=_t(),t=_t(Ne().format("MM/DD/YYYY")),n=i=>{i==="0"?e.value=!1:e.value=!0,console.log(e.value)};return(i,a)=>(pe(),Ir(Qq,{contentTitle:"Welcome","hint-icon":"star","content-hint":"Sonic Echo Modulation Analytics Basic Sediment and Water"},{default:Bt(()=>[Ze(Yt(fz),{variant:"in",style:{"margin-bottom":"1rem"}},{default:Bt(()=>[Ze(Yt(gz),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value=s),inputId:"in_label",showIcon:"",iconDisplay:"input",variant:"filled"},null,8,["modelValue"]),a[1]||(a[1]=me("label",{for:"in_label"},"Select Date",-1))]),_:1}),me("div",NOe,[Ze(Yt(iq),{"onUpdate:value":n,value:"0"},{default:Bt(()=>[Ze(Yt(aq),null,{default:Bt(()=>[Ze(Yt(sq),{value:"0"},{default:Bt(()=>a[2]||(a[2]=[$n("Flow Rate")])),_:1})]),_:1}),Ze(Yt(oq),null,{default:Bt(()=>[Ze(Yt(lq),{value:"0"},{default:Bt(()=>[Ze(cOe,{idSpot:"kas",idSpot2:"kas2","time-filter":t.value,title:"Flow Rate & BS&W"},null,8,["time-filter"])]),_:1})]),_:1})]),_:1})])]),_:1}))}});export{WOe as default};
